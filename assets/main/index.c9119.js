System.register("chunks:///_virtual/AccessoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var e,r,i,n,c,o,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,c=t.createClass},function(t){o=t.cclegacy,s=t._decorator,a=t.Component},function(t){u=t.ACCESSORY_ITEMS}],execute:function(){var l,p,f;o._RF.push({},"f306fBQXZ1I/rIGEMRaTc2M","AccessoryItem",void 0);var y=s.ccclass,d=s.property;t("AccessoryItem",y("AccessoryItem")((f=e((p=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c))||this,i(e,"id",f,n(e)),e._data=null,e}return r(e,t),e.prototype.initData=function(){this._data=u[this.id]},c(e,[{key:"data",get:function(){return this._data}}]),e}(a)).prototype,"id",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/AccessoryItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainmenuAccessory.ts","./MainMenuShop.ts","./SoundManager.ts","./UserDataManager.ts","./DailyMissionManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts"],(function(t){"use strict";var e,n,s,i,c,a,r,o,u,h,l,p,d,I,y,v,f,b,m,g,A,D,_,E,w,q,S,N,B,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator,u=t.Sprite,h=t.Label,l=t.Node,p=t.Button,d=t.resources,I=t.SpriteFrame,y=t.Component},function(t){v=t.language},function(t){f=t.UnlockType,b=t.AudioSrc,m=t.ACCESSORY_ITEMS,g=t.AchievementId,A=t.MISSION_ID,D=t.SaveDataNames},function(t){_=t.MainmenuAccessory},function(t){E=t.MainMenuShop},function(t){w=t.SoundManager},function(t){q=t.UserDataManager},function(t){S=t.DailyMissionManager},function(t){N=t.default},function(t){B=t.GameScreen},function(t){U=t.Loading}],execute:function(){var C,k,M,O,P,F,L,T,z,R,W,Y,x,H,G,Q,J,j,K,Z,V;r._RF.push({},"4a2fbO7KwhLQYqIjHvZnUTc","AccessoryItemList",void 0);var X=o.ccclass,$=o.property;t("AccessoryData",(function(){this.isOwned=!1,this.isNew=!1})),t("AccessoryItemList",(C=X("AccessoryItemList"),k=$(u),M=$(h),O=$(l),P=$(p),F=$(p),L=$(h),T=$(h),z=$(l),R=$(l),C((x=e((Y=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return e=t.call.apply(t,[this].concat(c))||this,s(e,"icon",x,i(e)),s(e,"lblUnlock",H,i(e)),s(e,"tickIcon",G,i(e)),s(e,"btnBuy",Q,i(e)),s(e,"btnEquip",J,i(e)),s(e,"lblEquip",j,i(e)),s(e,"lblPrice",K,i(e)),s(e,"notiIndicator",Z,i(e)),s(e,"equipFrame",V,i(e)),e.currentData=void 0,e.accessoryId=void 0,e.isEquipped=!1,e.currentSaveData=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){},r.init=function(t,e){var n=this;this.btnBuy.node.active=!1,this.btnEquip.node.active=!1,this.tickIcon.active=!1,this.lblUnlock.node.active=!1,this.equipFrame.active=!1,this.node.active=!0,this.currentData=t,this.accessoryId=e,this.updateItemStatus(),this.getAvatar(this.currentData.spriteName).then((function(t){n.icon.spriteFrame=t,n.icon.node.active=!0})),this.updateNotiIndicator()},r.updateItemStatus=function(){if(q.Instance.isOwnedAccessory(this.accessoryId)){this.btnBuy.node.active=!1,this.btnEquip.node.active=!0,this.lblUnlock.node.active=!1;var t=q.Instance.accessoryData.wornAccessory.milky,e=q.Instance.accessoryData.wornAccessory.schoki;t.head==this.accessoryId||t.body==this.accessoryId||t.leg==this.accessoryId||e.head==this.accessoryId||e.body==this.accessoryId||e.leg==this.accessoryId?this.isEquipped=!0:this.isEquipped=!1}else this.currentData.store?(this.btnBuy.node.active=!0,this.btnEquip.node.active=!1,this.lblUnlock.node.active=!1):(this.btnBuy.node.active=!1,this.btnEquip.node.active=!1,this.lblUnlock.node.active=!0,this.lblUnlock.string="",this.currentData.unlock==f.QR_SCAN?this.lblUnlock.string=v.t("str_shop_qr"):this.currentData.unlock==f.DAILY_REWARD&&(this.lblUnlock.string=v.t("str_shop_daily")));this.lblPrice.string=0==this.currentData.price?v.t("str_shop_free"):""+this.currentData.price,this.updateEquipFrame(),this.updateBtnEquip(),this.updateButtonBuy()},r.updateTutorialFreePrice=function(t){this.lblPrice.string=t?v.t("str_shop_free"):""+this.currentData.price},r.onClick=function(){this.isEquipped||(w.Instance.playOneShot(b.UI_EQUIP),this.accessoryId==_.Instance._lastAccessory?_.Instance.resetAccessory(this.currentData.type,this.currentData.character):(_.Instance.useAccessory(this.accessoryId),_.Instance._lastAccessory=this.accessoryId),q.Instance.isOwnedAccessory(this.accessoryId)&&q.Instance.isNewAccessory(this.accessoryId)&&q.Instance.updateNewAccessory(this.accessoryId),this.updateNotiIndicator())},r.onEquip=function(){w.Instance.playOneShot(b.UI_EQUIP),this.accessoryId,_.Instance._lastAccessory,this.isEquipped?(this.isEquipped=!1,_.Instance.saveAccessory("",this.currentData.type,this.currentData.character),_.Instance.unUseAccessory(this.accessoryId),_.Instance._lastAccessory=""):(this.isEquipped=!0,_.Instance.saveAccessory(this.accessoryId,this.currentData.type,this.currentData.character),_.Instance.useAccessory(this.accessoryId),_.Instance._lastAccessory=this.accessoryId),this.updateBtnEquip(),E.Instance.updateAccessoryOnEquip(this.accessoryId),q.Instance.isOwnedAccessory(this.accessoryId)&&q.Instance.isNewAccessory(this.accessoryId)&&q.Instance.updateNewAccessory(this.accessoryId),this.updateNotiIndicator()},r.onTutorialBuy=function(){for(var t in w.Instance.playOneShot(b.UI_BUY),E.Instance.updateShopItem(),m){var e=m[t];e&&this.currentData.character==e.character&&this.currentData.type==e.type&&this.currentData.id==e.id&&(this.btnBuy.node.active=!1,this.btnEquip.node.active=!0,this.lblUnlock.node.active=!1,q.Instance.ownAccessory(t),q.Instance.saveAccessoryData())}for(var n=g.achievement_acc_1;n<=g.achievement_acc_3;n++){var s=q.Instance.getAchievement(n);s.isCompleted||(s.counter++,q.Instance.updateAchievementProgress(s))}q.Instance.saveAchievementData();var i=S.Instance.getActiveMissionIndex(A.buy_accessories);null!=i&&-1!=i&&S.Instance.updateMission(i),q.Instance.saveMissionData(),N.Send_CURRENCY_SPENT(1,this.currentData.trackingId,B.SHOP,0,q.Instance.coinWallet),q.Instance.isOwnedAccessory(this.accessoryId)&&q.Instance.isNewAccessory(this.accessoryId)&&q.Instance.updateNewAccessory(this.accessoryId),this.updateNotiIndicator()},r.onBuy=function(){var t=this.currentData.price;q.Instance.coinWallet>t&&this.currentData.store?(w.Instance.playOneShot(b.UI_CLICK),E.Instance.showPopupConfirm(this)):(w.Instance.playOneShot(b.UI_INSUFFICIENT_FUNDS),E.Instance.showError("str_store_insufficient"))},r.onItemBought=function(){var t=c(a().mark((function t(){var e,n,s,i,c,r,o,u,h,l,p,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in e={},n=this.currentData.price,q.Instance.updateCoinAmount(q.Instance.coinWallet-n,!1),e[D.CoinData]=JSON.stringify(q.Instance.coinWallet),s="",m)(c=m[i])&&this.currentData.character==c.character&&this.currentData.type==c.type&&this.currentData.id==c.id&&(q.Instance.ownAccessory(i),s=i);for(r=[],o=g.achievement_acc_1;o<=g.achievement_acc_3;o++)(u=q.Instance.getAchievement(o)).isCompleted||(u.counter++,q.Instance.updateAchievementProgress(u,!1),r.push(u));return e[D.AchievementData]=JSON.stringify(q.Instance.achievementData),q.Instance.a2hData.shopBuyCount++,e[D.AddToHomeScreen]=JSON.stringify(q.Instance.a2hData),U.Instance.show(),t.next=14,q.Instance.saveMultipleInventories(e);case 14:if(h=t.sent,U.Instance.hide(),h){if(this.btnBuy.node.active=!0,this.btnEquip.node.active=!1,this.lblUnlock.node.active=!0,r.length>0)for(l=0;l<r.length;l++)(p=r[l]).counter--,p.isCompleted=!1;q.Instance.updateCoinAmount(q.Instance.coinWallet+n,!1),""!=s&&q.Instance.ownAccessory(s,!1),q.Instance.a2hData.shopBuyCount--,E.Instance.showError("Purchase error. Please try again.")}else this.btnBuy.node.active=!1,this.btnEquip.node.active=!0,this.lblUnlock.node.active=!1,E.Instance.updateCoinNumber(),E.Instance.updateShopItem(),null!=(d=S.Instance.getActiveMissionIndex(A.buy_accessories))&&-1!=d&&S.Instance.updateMission(d),q.Instance.saveMissionData(),N.Send_CURRENCY_SPENT(1,this.currentData.trackingId,B.SHOP,this.currentData.price,q.Instance.coinWallet),q.Instance.isOwnedAccessory(this.accessoryId)&&q.Instance.isNewAccessory(this.accessoryId)&&q.Instance.updateNewAccessory(this.accessoryId),this.updateNotiIndicator();case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onBuyConfirm=function(){},r.updateEquipFrame=function(){this.equipFrame.active=!!this.isEquipped},r.updateBtnEquip=function(){this.lblEquip.string=this.isEquipped?v.t("str_store_unequip"):v.t("str_store_equip"),this.lblEquip.string=this.lblEquip.string.toUpperCase()},r.updateButtonBuy=function(){var t=this.currentData.price;q.Instance.coinWallet>=t&&this.currentData.store?this.btnBuy.node.getChildByName("BG").getComponent(u).grayscale=!1:this.btnBuy.node.getChildByName("BG").getComponent(u).grayscale=!0},r.getAvatar=function(t){var e="/accessories/"+t+"/spriteFrame";return new Promise((function(t,n){d.load(e,I,(function(e,n){t(n)}))}))},r.updateNotiIndicator=function(){var t=q.Instance.isOwnedAccessory(this.accessoryId),e=q.Instance.isNewAccessory(this.accessoryId);this.notiIndicator.active=!!t&&!!e},e}(y)).prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(Y.prototype,"lblUnlock",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(Y.prototype,"tickIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(Y.prototype,"btnBuy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Y.prototype,"btnEquip",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(Y.prototype,"lblEquip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(Y.prototype,"lblPrice",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(Y.prototype,"notiIndicator",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(Y.prototype,"equipFrame",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=Y))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementItemlist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameHelper.ts","./MainMenuAchievement.ts","./SoundManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts"],(function(e){"use strict";var t,i,n,r,a,s,c,o,l,u,d,h,p,m,f,b,I,g,C,v,y,w,S,D,O,A,N,R,B,T,z,E,G,M,k,x,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,o=e._decorator,l=e.Sprite,u=e.RichText,d=e.Label,h=e.UIOpacity,p=e.Node,m=e.Button,f=e.UITransform,b=e.ProgressBar,I=e.Size,g=e.resources,C=e.SpriteFrame,v=e.Component},function(e){y=e.language},function(e){w=e.AchievementDefine,S=e.RewardType,D=e.BoosterId,O=e.SaveDataNames,A=e.BoosterDefine,N=e.AudioSrc},function(e){R=e.GameHelper},function(e){B=e.MainMenuAchievement,T=e.REWARD_BOOSTER_ICON,z=e.REWARD_COIN_ICON},function(e){E=e.SoundManager},function(e){G=e.UserDataManager},function(e){M=e.default},function(e){k=e.GameScreen,x=e.ItemName},function(e){_=e.Loading}],execute:function(){var L,U,F,W,P,H,V,J,j,q,Y,K,Q,Z,X,$,ee,te,ie,ne,re,ae,se,ce,oe,le,ue;c._RF.push({},"b9df1Q30O1FlZRLSIKy9xhI","AchievementItemlist",void 0);var de=o.ccclass,he=o.property;e("AchievementData",(function(){this.id=0,this.counter=0,this.isClaimed=!1,this.isCompleted=!1})),e("AchievementItemlist",(L=de("AchievementItemlist"),U=he(l),F=he(u),W=he(d),P=he(l),H=he(d),V=he(h),J=he(p),j=he(m),q=he(f),Y=he(b),K=he(p),Q=he(p),L(($=t((X=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"icon",$,r(t)),n(t,"desc",ee,r(t)),n(t,"counter",te,r(t)),n(t,"rewardIcon",ie,r(t)),n(t,"rewardText",ne,r(t)),n(t,"rewardOpacity",re,r(t)),n(t,"randomIndicator",ae,r(t)),n(t,"btnClaim",se,r(t)),n(t,"BG",ce,r(t)),n(t,"progressBG",oe,r(t)),n(t,"completeBG",le,r(t)),n(t,"difficultyStar",ue,r(t)),t.id=0,t.currentData=null,t.currentDefine=null,t.isCompleted=!1,t.isClaimed=!1,t._baseRichTextSize=new I(0,0),t}i(t,e);var c=t.prototype;return c.onLoad=function(){},c.resizeText=function(){var e=this.desc.getComponent(f).contentSize.width,t=this._baseRichTextSize.width/e;t=Math.min(1,t),this.desc.node.setScale(t,t)},c.init=function(e){var t=this;this.id=e.id,this.isCompleted=!1,this.isClaimed=!1,this.btnClaim.node.active=!1,this.completeBG.active=!1,this.progressBG.progress=0;for(var i=Object.keys(w).length,n=0;n<i;n++)if(e.id==Number(Object.keys(w)[n])){this.currentData=e,this.currentDefine=w[e.id],this.isClaimed=e.isClaimed,this.isCompleted=e.isCompleted;break}if(this.currentDefine){switch(this.getAvatar(this.currentDefine.spriteName).then((function(e){t.icon.spriteFrame=e,t.icon.node.active=!0})),this.desc.string=y.t(this.currentDefine.name),this.currentDefine.rewardType){case S.COINS:this.rewardIcon.spriteFrame=B.Instance.rewardSprite[z],this.rewardText.string="x"+this.currentDefine.rewardValue,this.rewardOpacity.opacity=255,this.randomIndicator.active=!1;break;case S.BOOSTERS:this.rewardIcon.spriteFrame=B.Instance.rewardSprite[T],this.rewardText.string="x1",this.rewardOpacity.opacity=140,this.randomIndicator.active=!0}for(var r,a=0,s=this.currentDefine.diff,c=0;c<this.difficultyStar.length;c++)this.difficultyStar[c].active=c<=s;a=e.counter,r=this.currentDefine.value,this.desc.string=this.desc.string.replace("{number}",""+r),this.desc.string=this.desc.string.replace("{number }",""+r),this.isCompleted?this.isClaimed?(this.btnClaim.node.active=!1,this.completeBG.active=!0):(this.btnClaim.node.active=!0,this.completeBG.active=!1):(this.btnClaim.node.active=!1,this.completeBG.active=!1),a=a>r?r:a,this.counter.string=a+"/"+r;var o=a/r;o=o>1?1:o,this.progressBG.progress=o}},c.onButtonClaimClick=function(){var e=a(s().mark((function e(){var t,i,n,r,a,c,o,l,u,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClaimed){e.next=2;break}return e.abrupt("return");case 2:this.btnClaim.interactable=!1,E.Instance.playOneShot(N.UI_CLAIM_REWARD),t={},G.Instance.setAchievementClaimed(this.id),t[O.AchievementData]=JSON.stringify(G.Instance.achievementData),G.Instance.a2hData.claimAchievementCount++,t[O.AddToHomeScreen]=JSON.stringify(G.Instance.a2hData),i=S.COINS,n=0,r=0,a=x.COINS,c=0,o=0,l=-1,u=!1,e.t0=this.currentDefine.rewardType,e.next=e.t0===S.COINS?20:e.t0===S.BOOSTERS?29:39;break;case 20:return u=!0,c=this.currentDefine.rewardValue,G.Instance.updateCoinAmount(G.Instance.coinWallet+c,!1),t[O.CoinData]=JSON.stringify(G.Instance.coinWallet),i=S.COINS,n=c,r=c,a=x.COINS,e.abrupt("break",39);case 29:return u=!1,o=1,l=R.getRndIntegerInclusive(0,D.REVIVAL),G.Instance.boosterData.boosterList[l].quantity+=o,t[O.BoosterData]=JSON.stringify(G.Instance.boosterData),i=S.BOOSTERS,n=l,r=1,a=A[l].trackingName,e.abrupt("break",39);case 39:return _.Instance.show(),e.next=42,G.Instance.saveMultipleInventories(t);case 42:d=e.sent,_.Instance.hide(),d?(this.btnClaim.interactable=!0,G.Instance.setAchievementClaimed(this.id,!1),G.Instance.a2hData.claimAchievementCount--,u?G.Instance.updateCoinAmount(G.Instance.coinWallet-c,!1):G.Instance.boosterData.boosterList[l].quantity-=o,"Update fail. Please try again",B.Instance.showPopupInfo("Update fail. Please try again")):(this.isClaimed=!0,this.btnClaim.node.active=!1,this.completeBG.active=!0,u?(M.Send_CURRENCY_INCOMES(this.currentDefine.trackingId,r,a,k.ACHIEVEMENT,r,G.Instance.coinWallet),B.Instance.updateCoinNumber()):M.Send_CURRENCY_INCOMES(this.currentDefine.trackingId,r,a,k.ACHIEVEMENT,0,G.Instance.coinWallet)),B.Instance.onRewardReceived(i,n);case 46:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.getAvatar=function(e){var t="/rewardIcons/"+e+"/spriteFrame";return new Promise((function(e,i){g.load(t,C,(function(t,i){e(i)}))}))},t}(v)).prototype,"icon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"desc",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"counter",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(X.prototype,"rewardIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"rewardText",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(X.prototype,"rewardOpacity",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"randomIndicator",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(X.prototype,"btnClaim",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(X.prototype,"BG",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(X.prototype,"progressBG",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(X.prototype,"completeBG",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(X.prototype,"difficultyStar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=X))||Z));c._RF.pop()}}}));

System.register("chunks:///_virtual/AI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts","./RunningGameManager.ts","./SoundManager.ts","./Collectible.ts","./Obstacle.ts","./Player.ts","./PlayerManager.ts"],(function(e){"use strict";var t,n,o,a,s,c,i,r,l,p,u,I,d,A,C;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator},function(e){s=e.ItemType,c=e.AudioSrc,i=e.GameActions,r=e.VFX_CHARACTER},function(e){l=e.MainMenuDebug},function(e){p=e.RunningGameManager},function(e){u=e.SoundManager},function(e){I=e.Collectible},function(e){d=e.Obstacle},function(e){A=e.Player},function(e){C=e.PlayerManager}],execute:function(){var P;o._RF.push({},"5f056ULaQ9AcJpYgO2PIE/g","AI",void 0);var h=a.ccclass;a.property,e("AI",h("AI")(P=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this)._passRate=0,t}t(o,e);var a=o.prototype;return a.update=function(t){p.IsPause||e.prototype.update.call(this,t)},a.onTriggerEnter=function(e){if(!p.IsPause&&!p.Instance.isHeadStartActive)switch(e.otherCollider.getGroup()){case s.COLLECTIBLE:var t=e.otherCollider.node.getComponent(I).amount;u.Instance.playCollectSound(),e.otherCollider.node.active=!1,p.Instance.sendAction({action:i.CollectCoin,backpack:!1,amount:t}),e.otherCollider.node.getComponent(I).playCollectVFX();break;case s.SMALL_OBSTACLE:if(!(C.Instance._passObstacle||this.isInvisible||C.Instance.isMegaHopActive||l.GodMode))if(C.Instance.isShieldActive)C.Instance.shieldTimer=0,u.Instance.playOneShot(c.SHIELD_DISAPPEAR);else{var n=e.otherCollider.getComponent(d);n&&n.onHit(),p.Instance.sendAction({action:i.Collision,group:s.SMALL_OBSTACLE,player:!1}),u.Instance.playOneShot(c.HIT_OBSTACLE),p.Instance.milkyFootstepSFX.stop(),p.Instance.schokiFootstepSFX.stop(),u.Instance.playDizzySound(),this.vfxCtrl.playVFX(r.HIT,!0,!1)}break;case s.INVISIBLE:e.otherCollider.node.active=!1,u.Instance.playOneShot(c.POWERUP_SHIELD),p.Instance.sendAction({action:i.PowerUp,type:s.INVISIBLE,isHost:!1});break;case s.MAGNET:e.otherCollider.node.active=!1,u.Instance.playOneShot(c.POWERUP_MAGNET),p.Instance.sendAction({action:i.PowerUp,type:s.MAGNET,isHost:!1});break;case s.STAMPER:e.otherCollider.node.active=!1,u.Instance.playOneShot(c.POWERUP_STAMPER),p.Instance.sendAction({action:i.PowerUp,type:s.STAMPER,isHost:!1});break;case s.COIN_DUPER:e.otherCollider.node.active=!1,u.Instance.playOneShot(c.POWERUP_COIN_DUPER),p.Instance.sendAction({action:i.PowerUp,type:s.COIN_DUPER,isHost:!1});break;case s.MEGA_HOP:e.otherCollider.node.active=!1,u.Instance.playOneShot(c.POWERUP_MEGA_HOP),p.Instance.sendAction({action:i.PowerUp,type:s.MEGA_HOP,isHost:!1});break;case s.QTE:this.onCollectQTE(e.otherCollider.node)}},n(o,[{key:"passRate",get:function(){return this._passRate}}]),o}(A))||P);o._RF.pop()}}}));

System.register("chunks:///_virtual/AIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./PopupQTE.ts","./UIManager.ts"],(function(e){"use strict";var t,n,a,i,s,r,o,c,u,p,l,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,o=e._decorator,c=e.Component},function(e){u=e.SessionInfo},function(e){p=e.RunningGameManager},function(e){l=e.PopupQTE},function(e){m=e.UIManager}],execute:function(){var h,f,_,g,R,b,T,I,d;r._RF.push({},"eca37iwEYNEN67X8/T9JMf/","AIManager",void 0);var y=o.ccclass,w=o.property;e("AIManager",y("AIManager")(((d=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"m_anticipatingDistance",_,i(t)),a(t,"m_passRateDecreaseAmount",g,i(t)),a(t,"m_fixedLowestPassRate",R,i(t)),a(t,"m_threshHold",b,i(t)),a(t,"m_minThinkingTime",T,i(t)),a(t,"m_maxThinkingTime",I,i(t)),t._passRate=0,t._passRateTimer=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t.Instance=this},r.start=function(){this.reset()},r.reset=function(){this._passRate=1,m.Instance.updateUILabel(u.PASSRATE,this._passRate),this._passRateTimer=this.m_threshHold},r.update=function(e){!p.IsPause&&l.Instance&&(!p.Instance.isInTutorial&&l.Instance.canShowQTE()?(this._passRateTimer-=e,this._passRateTimer<0&&(this._passRate-=this.m_passRateDecreaseAmount,this._passRate<this.m_fixedLowestPassRate&&(this._passRate=this.m_fixedLowestPassRate),this._passRateTimer=this.m_threshHold)):this._passRate=1,m.Instance.updateUILabel(u.PASSRATE,this._passRate))},s(t,[{key:"anticipatingDistance",get:function(){return this.m_anticipatingDistance}},{key:"passRate",get:function(){return this._passRate}}]),t}(c)).Instance=null,_=t((f=d).prototype,"m_anticipatingDistance",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=t(f.prototype,"m_passRateDecreaseAmount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),R=t(f.prototype,"m_fixedLowestPassRate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),b=t(f.prototype,"m_threshHold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=t(f.prototype,"m_minThinkingTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),I=t(f.prototype,"m_maxThinkingTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),h=f))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t,o,a,e;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.Animation,e=n.Component}],execute:function(){var c;t._RF.push({},"93331apdexGmap4c6BD5JyE","AnimationPopup",void 0);var u=o.ccclass;o.property,n("AnimationPopup",u("AnimationPopup")(c=function(n){function t(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(i=n.call.apply(n,[this].concat(o))||this)._animation=null,i._isHiding=!1,i}i(t,n);var o=t.prototype;return o.onLoad=function(){this._animation=this.getComponent(a),this.node.active=!1},o.show=function(n){var i=this;return void 0===n&&(n=!0),new Promise((function(t){if(t(null),i._animation){var o=i._animation.clips[0],a=i._animation.clips[1];n?(i.node.active=!0,i.scheduleOnce((function(){t(null)}),a.duration),t(null)):(i._isHiding=!0,i.scheduleOnce((function(){i.node.active=!1,i._isHiding=!1,t(null)}),a.duration)),i._animation.play(n?o.name:a.name)}}))},t}(e))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationSocketCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,r,c,a,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Enum,u=t.Node,s=t.Component}],execute:function(){var l,p,f,d,N,y,h,k,A,m,b,g;t("ANIMATION_SOCKET",void 0),r._RF.push({},"9a0aakIghpG07U0T42ghFWE","AnimationSocketCtrl",void 0);var I,S=c.ccclass,T=c.property;!function(t){t[t.RIGHT_HAND=0]="RIGHT_HAND"}(I||(I=t("ANIMATION_SOCKET",{})));var _=(l=S("AnimationSocketNode"),p=T({type:a(I)}),f=T(u),l((y=e((N=function(){o(this,"type",y,this),o(this,"socketNode",h,this)}).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.RIGHT_HAND}}),h=e(N.prototype,"socketNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=N))||d);t("AnimationSocketCtrl",(k=S("AnimationSocketCtrl"),A=T([_]),k((g=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,o(e,"socketNodes",g,n(e)),e}return i(e,t),e.prototype.getSocketNode=function(t){return this.socketNodes.find((function(e){return e.type==t})).socketNode},e}(s)).prototype,"socketNodes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationTextureRandom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var e,n,r,a,o,i,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,a=t.MeshRenderer,o=t.randomRangeInt,i=t.v2,s=t.Component},function(t){u=t.default}],execute:function(){var c;n._RF.push({},"cae63VkSvFNTIHCNbBvtCBo","AnimationTextureRandom",void 0);var m=r.ccclass;r.property,t("AnimationTextureRandom",m("AnimationTextureRandom")(c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).m_Mesh=null,e}e(n,t);var r=n.prototype;return r.onLoad=function(){this.m_Mesh||(this.m_Mesh=this.getComponent(a)),u.CHEAT_RANDOM_FRAME&&this.updateStartFrame(o(0,8),o(0,8))},r.start=function(){},r.updateStartFrame=function(t,e){if(u.CHEAT_RANDOM_FRAME&&this.m_Mesh)for(var n=0;;n++){if(!this.m_Mesh.getMaterial(n))break;this.m_Mesh.getMaterial(n).setProperty("startFrameOffset",i(t,e))}},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationTriggerCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CharacterAnimCtrlMainMenu.ts","./QTE1Manager.ts","./QTE3Manager.ts","./CharacterVFX.ts"],(function(t){"use strict";var n,e,a,i,r,o,c,s,l,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.v3,r=t.Component},function(t){o=t.VFX_CHARACTER},function(t){c=t.CharacterAnimCtrlMainMenu},function(t){s=t.QTE1Manager},function(t){l=t.QTE3Manager},function(t){f=t.CharacterVFX}],execute:function(){var u;e._RF.push({},"2b062j3eLpPr7mck3Do/PDu","AnimationTriggerCtrl",void 0);var h=a.ccclass;a.property,t("AnimationTriggerCtrl",h("AnimationTriggerCtrl")(u=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).vfxCtrl=null,n.animCtrlMainMenu=null,n}n(e,t);var a=e.prototype;return a.onLoad=function(){this.vfxCtrl=this.node.parent.getComponent(f),this.animCtrlMainMenu=this.node.getComponent(c)},a.onTriggered=function(t){switch(t){case"VFXLeftFoot":this.playVFXEffect(o.LEFT_FOOT,!0,!1),this.playVFXEffect(o.SAND_DUST,!0,!1);break;case"VFXRightFoot":this.playVFXEffect(o.RIGHT_FOOT,!0,!1),this.playVFXEffect(o.SAND_DUST,!0,!1);break;case"VFXStun":this.playVFXEffect(o.STUN,!0,!1);break;case"QTE1Service":s.Instance.onServiceDone();var n=s.Instance.getServiceVFX();n!=o.NONE&&this.playVFXEffect(n,!0,!0);break;case"QTE1Pass":s.Instance.onSwingDone();break;case"QTE1HitPerfect":var e=s.Instance.getSwingVFX();e!=o.NONE&&this.playVFXEffect(e,!0,!0);break;case"QTE3Throw":l.Instance.onThrowAnimDone();break;case"MilkyQTE3Take":l.Instance.hat&&(l.Instance.hat.setFollowObject(null),l.Instance.hat.node.setPosition(l.Instance.milkyHand.getPosition()),l.Instance.hat.node.setRotationFromEuler(i(0,0,0)))}},a.playVFXEffect=function(t,n,e){this.vfxCtrl&&this.vfxCtrl.playVFX(t,n,e)},a.playAnimInMainMenu=function(t){this.animCtrlMainMenu&&this.animCtrlMainMenu.PlayAnim(t)},e}(r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts"],(function(n){"use strict";var t,i,a,e,s,o;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,a=n._decorator,e=n.Animation,s=n.Component},function(n){o=n.RunningGameManager}],execute:function(){var u;i._RF.push({},"ccfe3u5LdxCC6NxEQT0nw5D","AnimationUpdate",void 0);var r=a.ccclass;a.property,n("AnimationUpdate",r("AnimationUpdate")(u=function(n){function i(){for(var t,i=arguments.length,a=new Array(i),e=0;e<i;e++)a[e]=arguments[e];return(t=n.call.apply(n,[this].concat(a))||this)._animation=null,t._isPause=!0,t}t(i,n);var a=i.prototype;return a.start=function(){this._animation=this.getComponent(e)},a.update=function(n){!this._isPause&&o.IsPause?(this._animation.pause(),this._isPause=!0):!o.IsPause&&this._isPause&&(this._animation.resume(),this._isPause=!1)},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ar.ts",["cc"],(function(o){"use strict";var r;return{setters:[function(o){r=o.cclegacy}],execute:function(){r._RF.push({},"23a27vcRH9KDr/3XlF0qalh","ar",void 0);o("ar",{str_logo:"رحلة ميلكي وشوكي",str_mm_start:"العب الآن",str_mm_daily_reward:"الجوائز اليومية",str_mm_achievements:"الإنجازات",str_mm_qr_code:"مسح رمز QR ضوئيًا",str_mm_daily_mission:"المهام اليومية",str_mm_store:"المتجر",str_mm_leaderboard:"قائمة المتصدرين",str_mm_settings:"الإعدادات",str_dr_day:"يوم {day}",str_claim_btn:"استلام",str_dr_claimed:"تم الاستلام",str_mission_refresh:"التحديث خلال",str_go_button:"انطلق",str_accept:"قبول",str_submit:"إرسال",str_continue:"متابعة",str_confirm:"تأكيد",str_revive:"إنعاش",str_collect:"جمع",str_store_powerups:"عناصر زيادة القوة",str_store_boosters:"المعززات",str_store_accessories:"الإكسسوارات",str_store_chacter:"اختر شخصية:",str_store_head:"رأس",str_store_tops:"الأجزاء العلوية",str_store_bottoms:"الأجزاء السفلية",str_store_max:"المستوى الأقصى",str_store_insufficient:"ليس لديك عملات كافية",str_store_full:"لا يمكنك الحصول على المزيد من هذا المعزز.",str_store_duration:"المدة: %{duration} من الثواني",str_parental_consent:"لكي تتمكن من لعب هذه اللعبة، يجب أن تقرأ الآتي وتوافق عليه وأن تؤكد أنك تجاوزت الحد الأدنى للعمر المقبول في بلد إقامتك:",str_store_equip:"تجهيز",str_store_unequip:"إلغاء التجهيز",str_store_equipped:"مُجهز",str_mm_selected:"تم التحديد",str_mm_ready:"مستعد",str_mm_run:"اركض",str_qte_time_up:"انتهى الوقت!",str_qte_go:"اذهب",str_qte_success:"نجاح",str_qte_tap:"انقر",str_qte_swipe:"مرر",str_mm_public_name:"العب أونلاين",str_mm_public_descr:"العب مع الأصدقاء حول العالم",str_mm_private_name:"العب مع صديق",str_mm_private_descr:"العب مع صديقك",str_mm_invite_name:"دعوة",str_mm_invite_invitation:"لنسافر معًا في رحلة ميلكي وسبوكي! انضم إلي هنا: {code}",str_mm_join_name:"انضمام",str_mm_join_descr:"أدخل رمز غرفة صديقك:",str_mm_join_wrong:"الرمز غير صالح!",str_mm_join_conflict:"المضيف اختار {character name}. هل تريد المتابعة باسم {other character name}؟",str_mm_join_return:"لا يمكن الانضمام إلى الغرفة لأن الشخصية مكررة.",str_qr_code_get:"حصلت على",str_qr_code_scanmore:"امسح رمز استجابة سريع آخر لتحصل على:",str_qr_code_out:"عذرًا! وصلت إلى الحد اليومي. يُرجى إعادة المحاولة غدًا.",str_ap_unlocked:"مفتوح قفله",str_settings_music:"موسيقى",str_settings_sfx:"التأثيرات الصوتية",str_settings_languages:"اللغات",str_settings_login:"تسجيل الدخول",str_settings_method:"حدد طريقة تسجيل دخولك:",str_settings_guest:"ضيف",str_settings_term:"شروط الاستخدام",str_settings_privacy:"سياسة الخصوصية",str_settings_credits:"فريق العمل",str_map_tropical:"جزيرة استوائية",str_map_urban:"مدينة حضرية",str_map_snow:"جبل ثلجي",str_congrats:"تهانينا!",str_select_name:"حدد اسمك المستعار",str_select_name_desc:"سيرى اللاعبون الآخرون اسمك المستعار خلال اللعب على الإنترنت.",str_select_name_error1:"لا يمكن أن يحتوي اسمك المستعار إلا على حروف (Aa-Zz) وأرقام (0-9) ونقاط (.) وشرطات سفلية (_).",str_select_name_error2:"يتضمن اسمك المستعار كلمات غير مسموح بها.",str_language_en:"English",str_language_fr:"Français",str_language_de:"Deutsch",str_language_ru:"Русский",str_language_ab:"العربية",str_connection_timeout:"انتهت مهلة الطلب. تحقق من اتصالك بالإنترنت ثم حاول مرة أخرى.",str_connection_lost:"تعذر الاتصال بخادم اللعبة. تحقق من اتصالك بالإنترنت ثم حاول مرة أخرى.",str_ok:"موافق",str_cancel:"إلغاء",str_login_conflict_title:"تعارض الحفظ على السحابة",str_login_conflict_descr:"الحفظ على السحابة لا يتوافق مع البيانات المحفوظة على جهازك.",str_login_conflict_env:"الوِجهة التي تم فتح قفلها: {}",str_login_conflict_highscore:"أعلى نتيجة: {}",str_login_conflict_accessories:"الإكسسوارات التي تم فتح قفلها: {}",str_login_conflict_coins:"العملات: {}",str_login_conflict_cloud:"الحفظ على السحابة",str_login_conflict_cloudreplace:"سيحل الحفظ على السحابة محل البيانات المحلية",str_login_conflict_local:"البيانات المحلية",str_login_conflict_localreplace:"ستحل البيانات المحلية محل الحفظ على السحابة",str_login_conflict_usecloud:"استخدام",str_login_conflict_uselocal:"استخدام الحفظ المحلي",str_transfer_confirm:"سيتم استبدال بياناتك المحلية بالبيانات الجديدة المستلمة. هل ترغب في المتابعة؟",str_transfer_success:"تم نقل ملفك التعريفي بنجاح.",str_transfer_fail:"معذرة، لقد وقع خطأ ما. يُرجى إعادة المحاولة في وقتٍ لاحق.",str_contact_us:"اتصل بنا",str_contact_desc:"إذا واجهت أية مشكلة أثناء تشغيل اللعبة، يُرجى التواصل معنا:",str_faq:"الأسئلة المتكررة",str_ban_title:"تنبيه",str_ban_descr:"لقد تم حظر حسابك. سينتهي الحظر في {time}.",str_loading:"جارٍ التحميل...",str_waiting:"في انتظار شريكك...",str_mm_matching:"جارٍ المطابقة...",str_mm_matchfound:"تم العثور على تطابق",str_mm_joining:"جارٍ الانضمام...",str_mm_gamejoining:"جارٍ انضمام {name}...",str_mm_send:"إرسال الرمز",str_mm_booster:"تحديد معزز",str_private_friendcode:"رمز صديقك",str_private_roomcode:"رمز غرفتك",str_private_host:"المضيف",str_private_join:"انضمام",str_settings_account:"الحساب",str_mm_mapunlock:"قم بالوصول إلى {distance} لفتح قفل {environment name}",str_qr_instruction:"قم بتوجيه الكاميرا نحو رمز QR لمسحه",str_qr_or:"أو",str_qr_and:"و",str_qr_coin:"{number} من العملات",str_qr_booster:"معزز",str_qr_outfit:"زي",str_qr_reward:"جائزة",str_select_name_rule:"يمكن أن يحتوي اسمك المستعار فقط على:\r\n    - حروف (Aa-Zz) \r\n    - أرقام (0-9) (لا تزيد عن 7 أرقام)\r\n    - نقاط (.)\r\n    - شرطات سفلية (_)\r\n    - الطول: بين 4 و",str_select_name_error3:"يحتوي اسمك المستعار على أكثر من 7 أرقام.",str_select_name_error4:"يجب أن يكون اسمك المستعار 4-12 حرفًا",str_select_name_error5:"اسمك المستعار طويل للغاية.",str_select_name_count:"عدد الحروف: {number}",str_settings_offf:"إيقاف",str_settings_on:"تشغيل",str_settings_logout:"تسجيل الخروج",str_qr_pc:"يُرجى السماح بإذن الكاميرا في المتصفح لديك للاستمرار.",str_loading_add:"جارٍ تحميل البيانات الإضافية...",str_endscreen:"مسافتك",str_QTE_start:"بدء",str_QTE_perfect:"ممتاز",str_QTE_miss:"آنسة",str_selfie_sticker:"الملصق",str_settings_logout_warning:"إذا سجلت الخروج، فستفقد تقدمك.",str_login_guest:"أو يمكنك تسجيل الدخول باسم:",str_new_env_popup1:"وِجهة جديدة!",str_new_env_popup2:"تعزيز جديد!",str_new_env_popup3:"غرض إنعاش جديد!",str_private_create:"إنشاء",str_private_creating:"جارٍ إنشاء غرفة...",str_private_taking_off:"جارٍ الإقلاع...",str_mm_map:"الوِجهة",str_shop_qr:"فتح قفل رمز QR",str_shop_daily:"فتح القفل في الجوائز اليومية",str_shop_free:"مجانًا",str_ap_you:"أنت",str_booster_none:"لم تفتح قفل أي تعزيزات.",str_share_caption:"انضم إلينا\\n وحطّم الأرقام القياسية!",str_exit_pop_up:"هل ترغب في الخروج؟",str_friend_quit:"لقد غادر صديقك",str_friend_replay:"يرغب صديقك في اللعب مجددًا.",str_selfie_download:"انقر مع الاستمرار لتنزيل الصورة",str_account_another_device:"تم تسجيل الدخول إلى الحساب على جهاز آخر.",str_shop_confirm:"هل أنت متأكد من أنك تريد شراء هذا الغرض؟",str_disconnection:"تحقق من اتصالك بالإنترنت ثم حاول مرة أخرى.",str_booster_not_select:"لم يتم اختيار أي تعزيز",str_login_facebook:"فيسبوك",str_login_google:"غوغل",str_QR_open:"المس للفتح",str_new_env_popup4:"إضافات قوة جديدة!",str_new_env_popup5:"إضافة قوة جديد",str_qr_mobile_only:"تتوفر هذه الميزة على الهواتف الذكية فقط.",str_homescreen_ios:'كل ما عليك هو لمس {icon} ثم\\n "إضافة إلى الشاشة الرئيسية".',str_homescreen_title:"هل تستمتع باللعبة؟",str_homescreen_des:"هل تريد إضافة هذه اللعبة إلى شاشتك الرئيسية لسرعة الوصول إليها؟",str_homescreen_add:"إضافة",str_qr_milky:"من أجل ميلكي",str_qr_schoki:"من أجل شوكي",str_landscape:"تدعم هذه اللعبة المصغرة الوضع الرأسي فقط.",str_daily_mission_finished:"تهانينا! لقد أكملت كل المهام اليومية لليوم.\\n عاود زيارتنا غدًا للعب المزيد.",str_qr_milky_schoki:"من أجل ميلكي وشوكي",tutorials_AP_1:"مرحبًا!",tutorials_AP_2:"كنا نتوقع زيارتك! أنا شوكي وسأكون دليلك اليوم.",tutorials_AP_3:"هناك رحلة طويلة ومدهشة في انتظارك.",tutorials_AP_4:"ستسافر أنت وشريكك لاستكشاف العالم معًا!",tutorials_AP_5:"أعرف أنك متحمس! لكن أولاً، ينبغي أن تتعلم التحركات.",tutorials_AP_6:"لا يمكنك القفز مع حقيبة الظهر.",tutorials_AP_7:"مرر في اتجاه شريكك.",tutorials_AP_8:"مرر إلى الأعلى.",tutorials_AP_9:"سيتحكم شريكك في الشخصية الأخرى.",tutorials_AP_10:"تحتاج إلى حقيبة الظهر للانزلاق.",tutorials_AP_11:"مرر شريكك حقيبة الظهر إليك.",tutorials_AP_12:"مرر إلى الأسفل.",tutorials_AP_13:"يحتاج شريكك إلى حقيبة الظهر للانزلاق.",tutorials_AP_14:"مرر إلى الأعلى مجددًا.",tutorials_AP_15:"مرر إلى الأسفل وأنت في الهواء.",tutorials_AP_16:"جمعت غرض إنعاش. يمكنك حمل 3 أغراض بحد أقصى.",tutorials_AP_17:"أوه لا، لقد تعرضت لإصابة. لا تيأس!",tutorials_AP_18:"استخدم هذا الغرض الذي حصلت عليه الآن لتغتنم فرصة أخرى!",tutorials_AP_20:"تهانينا! تمت إعادة تعبئة طاقتك!",tutorials_dr_1:"أوه! لا تزال جائزتك اليومية في الانتظار. لا تنسَ المطالبة بها!",tutorials_dr_2:"حصلنا على بعض العملات! لنشترِ شيئًا جديدًا لارتدائه!",tutorials_store_1:"لنذهب للتسوّق! على حسابي!",tutorials_store_2:"يبدو رائعًا عليك! انقر فوق الأيقونة لشرائه.",tutorials_store_3:"انقر لتجهيزه الآن.",tutorials_lobby_1:"يمكنك الاختيار من بين شخصيتين.",tutorials_lobby_2:'اختر "العب أونلاين" لتنطلق مع الأصدقاء حول العالم.',tutorials_lobby_3:"شريكك مستعد. انقر فوق أيقونة البدء لتبدأ الرحلة!",tutorials_mission_1:"مدهش! أنهيت مهمة يومية! هيا استلم جائزتك.",tutorials_mission_2:"استمر وأكمل المزيد من المهام اليومية.",tutorials_mission_3:"حسنًا، لا يمكنني أن أرشدك أكثر من ذلك. ستكتب رحلتك الخاصة من الآن فصاعدًا.",tutorials_mission_4:"إلى اللقاء وأراك لاحقًا!",tutorials_qte_1:"انقر عندما يكون الطائر مضيئًا.",tutorials_qte_2:"<color=#412A46>اضرب الطائر <color=#02A9E7>${target} من المرات</color> لإنعاشه!</color>",tutorials_qte_3:"ينبغي على<color=#02A9E7>كلا اللاعبين</color> <color=#412A46>النقر فوق\r\nورقة النقود نفسها عندما تكون في دائرة.</color>",tutorials_qte_4:"<color=#412A46>اضرب الأوراق النقدية <color=#02A9E7>${target} من المرات</color> للإنعاش!</color>",tutorials_qte_5:"مرر لتعطي القبعة إلى شريكك.",tutorials_qte_6:"<color=#412A46>أمسك <color=#02A9E7>${target} من الأغراض</color> للإنعاش!</color>",tutorials_qte_7:"املأ الشريط مع كل عملية إمساك ناجحة لتكمل رحلتك!",tutorials_quick_1:"اسحب لأعلى للقفز عندما لا تحمل حقيبة الظهر.",tutorials_quick_2:"اسحب لأعلى مرتين للقفز المزدوج عند عدم حمل حقيبة الظهر.",tutorials_quick_3:"مرر لأسفل عند القفز للهبوط بشكل أسرع.",tutorials_quick_4:"مرر لأسفل للانزلاق عند حمل حقيبة ظهر.",tutorials_quick_5:"مرر لشريكك لتمرير حقيبة الظهر.",tutorials_quick_6:"مرر نحوك لتطلب حقيبة الظهر.",tutorials_store_4:"هنا يمكنك ترقية عنصر التقوية.",tutorials_store_5:"لنرَ ما يمكننا عمله في المتجر!",tutorials_store_6:"هنا يمكنك شراء التعزيزات لاستخدامها في بداية الرحلة.",tutorials_store_7:"انقر لعرض التفاصيل",tutorials_store_8:"انقر من جديد لإخفاء التفاصيل",tutorials_store_9:"لنشتري هذا! انقر للشراء.",tutorials_store_10:"المس لاختيار الشخصية التي ترغب في شراء الملحقات من أجلها.",tutorials_store_11:"انقر فوق الغرض لمراجعته.",tutorials_store_12:"لنجهز التعزيز التي اشتريناها.",tutorials_private_1:'انقر على "إنشاء" لاستضافة غرفتك.',tutorials_private_2:"أظهر كود الغرفة لصديقك.",tutorials_private_3:'أو انقر على "دعوة" لإرسال الرابط إليه لكي ينضم إلى الغرفة.',tutorials_private_4:"للانضمام، يمكنك إدخال كود الغرفة هنا.",tutorials_private_5:'ثم انقر على "انضمام".',tutorials_private_6:"أو يمكنك النقر على الرابط الذي أرسله لك المضيف.",tutorials_swipe_1:"اسحب لإلقاء نظرة حول المطار!",tutorials_map_1:"تهانينا! لقد فتحت قفل وجهة جديدة!",tutorials_map_2:"المس السهم لتغيّر وجهتك.",tutorials_selfie_1:"يمكنك التقاط صورة سيلفي مع ميلكي أو شوكي هنا.",tutorials_booster_1:"المس التعزيز الذي ترغب في اختياره.",tutorials_booster_2:"المس موافق لتؤكد اختيارك.",tutorials_ap_1:"تهانينا! لقد أكملت فقرة الإرشادات الأساسية.",tutorials_ap_2:"واصل استكشاف اللعبة لتفتح قفل المزيد من الميزات.",fact_0:"يمكنك جمع الأغراض في الطريق الأوسط من خلال رمي حقيبة الظهر في الوقت المناسب.",fact_1:"يمكنك المطالبة بحقيبة الظهر من خلال التمرير في اتجاه شخصيتك.",fact_2:"جرب تحديد عنصر التعزيز نفسه مثل شريكك. هناك مفاجأة في انتظارك.",fact_3:"سيتم تحديث المهام اليومية كل يوم. تأكد من إنهائها قبل انتهاء الوقت!",fact_4:"امسح رمز QR جديد للحصول على جائزة خاصة.",fact_5:"يمكنك الحصول على 9 عناصر تعزيز فقط من النوع نفسه. التخزين ليس جيدًا لصحتك.",fact_6:"يمكن لحقيبتك حمل 3 عناصر إنعاش فقط كحد أقصى. من الأفضل أن تتنقل بخفة!",fact_7:"قم بترقية التعزيزات في المتجر لتدوم لفترة أطول خلال الجولة. إنه استثمار جيد!",fact_8:"يمكنك شراء عناصر التعزيز في المتجر، ما سيساعدك كثيرًا خلال الجولة.",fact_9:"عنصر تقوية الدرع سيحميك من عائق واحد، في حالة انزلاقك.",fact_10:"سيجمع عنصر تقوية المغناطيس العملات والمقتنيات كلها في طريقك. المشاركة هي الاهتمام في النهاية.",fact_11:"ما الأفضل من عملة واحدة؟ عملتان. سيحول عنصر تقوية خداع العملات كلها إلى عملتين.",fact_12:"هل تريد تحطيم كل ما في طريقك؟ عنصر التقوية الساحق سيحول العوائق كلها إلى عملات.",fact_13:"سيدفعكما عنصر تقوية القفزة الكبرى إلى الأمام بسرعة فائقة. يالك من محظوظ!",fact_14:"هذه نصيحة.",fact_15:"لا يمكنك أنت وصديقك اختيار الشخصية نفسها عند الانضمام إلى غرفة.",fact_16:"ستجعلك الإكسسوارات تبدو أروع. يمكنك شرائها وتجهيزها في المتجر.",fact_17:"سيتم فتح قفل بيئة جديدة عندما تركض مسافة إجمالية معينة.",fact_18:"يمكن إكمال الإنجازات فقط من خلال لعب اللعبة.",fact_19:"راقب الطائر. إذا طار، فانطلق. وإذا هبط، فاقفز.",fact_20:"سيتم فتح قفل المزيد من العوائق وعناصر التقوية وأغراض الإنعاش في بيئات لاحقة.",fact_21:"كلما زاد عدد رموز الاستجابة السريعة التي تمسحها ضوئيًا في يوم واحد، زادت المكافآت التي ستحصل عليها.",fact_22:"سيتم استهلاك المعزز عند استخدامه.","fact-tip":"نصيحة:",powerup_shield_name:"الدرع",powerup_shield_desc:"يحمي اللاعب من عائق واحد.",powerup_magnet_name:"المغناطيس",powerup_magnet_desc:"يجمع العملات والمقتنيات تلقائيًا.",powerup_stamper_name:"الساحق",powerup_stampler_descr:"حوّل العوائق كلها إلى مجموعة من العملات!",powerup_coinduper_name:"خداع العملات",powerup_coinduper_descr:"حوّل العملات كلها إلى عملتين.",powerup_megahop_name:"القفزة العظيمة",powerup_megahop_descr:"ادفع لاعبَين بسرعة كبيرة.",booster_headstart1_name:"بداية سريعة",booster_headstart1_descr:"تدفع الشخصيتين بسرعة فائقة إلى الأمام لمسافة %{number} م في بداية الجولة.",booster_headstart2_name:"بداية سريعة فائقة",booster_headstart2_descr:"تدفع الشخصيتين بسرعة فائقة إلى الأمام لمسافة %{number} م في بداية الجولة.",booster_headstart3_name:"بداية سريعة ضخمة",booster_headstart3_descr:"تدفع الشخصيتين بسرعة فائقة إلى الأمام لمسافة %{number} م في بداية الجولة.",booster_coinboost1_name:"+{number}% من العملات",booster_coinboost1_descr:"احصل على أكثر من {number}% من العملات الإضافية في نهاية الجولة.",booster_coinboost2_name:"+100% من العملات",booster_coinboost2_descr:"احصل على أكثر من 100% من العملات الإضافية في نهاية الجولة.",booster_coinboost3_name:"+150% من العملات",booster_coinboost3_descr:"احصل على أكثر من 150% من العملات الإضافية في نهاية الجولة.",booster_qte1_name:"رياضة جيدة",booster_qte1_descr:"ابدأ الجولة مع {number} غرض إنعاش عشوائي.",booster_qte2_name:"روح الرياضيين",booster_qte2_descr:"ابدأ الجولة مع {number} من أغراض الإنعاش.",booster_revival_name:"فرصة ثانية",booster_revival_descr:"تحمي اللاعب من أول عائق يقابله.",play_mul:"<color=#FFFFFF>العب في الوضع العام <color=#01FFFF>{number} من المرات.</color></color>",run_distance:"<color=#FFFFFF>اركض لمسافة <color=#01FFFF>{number} متر</color> إجمالاً في أي وضع.</color>",double_jump:"<color=#FFFFFF>اقفز قفزات مزدوجة <color=#01FFFF>{number} من المرات</color> في أي وضع.</color>",collect_coins:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من العملات إجمالاً.</color></color>",dash:"<color=#FFFFFF>انزلق لتتجنب العوائق <color=#01FFFF>{number} من المرات</color> إجمالاً.</color>",request_backpack:"<color=#FFFFFF>اطلب حقيبة ظهر <color=#01FFFF>{number} من المرات</color> in إجمالاً.</color>",pass_backpack:"<color=#FFFFFF>مرر حقيبة الظهر إلى زميلك <color=#01FFFF>{number} من المرات</color> in إجمالاً.</color>",power_up:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من أغراض زيادة القوة إجمالاً.</color></color>",extra_life:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من أغراض الإنعاش إجمالاً.</color></color>",suc_QTE:"<color=#FFFFFF>قم بإنعاش ناجح <color=#01FFFF>{number} من المرات </color>إجمالاً.</color>",double_jump_one_run:"<color=#FFFFFF>اقفز قفزة مزدوجة <color=#01FFFF>{number} من المرات</color> في جولة واحدة.</color>",run_distance_one_run:"<color=#FFFFFF>ابلغ <color=#01FFFF>{number} مترًا</color> في جولة واحدة.</color>",Upgrade_power_up:"<color=#FFFFFF>قم بترقية<color=#01FFFF>{number} من عناصر زيادة القوة</color>.",booster_active:"<color=#FFFFFF>استخدم <color=#01FFFF>{number} من التعزيزات إجمالاً.</color></color>",collect_coins_one_run:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من العملات</color> في جولة واحدة.</color>",dash_one_run:"<color=#FFFFFF>انزلق لتتجنب العوائق <color=#01FFFF>{number} من المرات</color> في جولة واحدة.</color>",mid_coin:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من العملات الكبيرة</color> في جولة واحدة.</color>",booster_buy:"<color=#FFFFFF>اشترِ <color=#01FFFF>{number} من التعزيزات.</color></color>",accessory_run:"<color=#FFFFFF>اركض مسافة <color=#01FFFF>{number} أمتار</color> أثناء ارتداء <color=#01FFFF>2 من الإكسسوارات.</color> </color>",pass_backpack_one_run:"<color=#FFFFFF>مرر حقيبة الظهر إلى زميلك <color=#01FFFF>{number} من المرات</color> in في جولة واحدة.</color>",buy_acessories:"<color=#FFFFFF>اشترِ <color=#01FFFF>أي من الملحقات.</color></color>",tropical_island:"<color=#FFFFFF>اركض <color=#01FFFF>{number} مترًا</color> في الجزيرة الاستوائية.</color>",urban_city:"<color=#FFFFFF>اركض <color=#01FFFF>{number} مترًا</color> في المدينة الحضرية.</color>",snow_mountain:"<color=#FFFFFF>اركض <color=#01FFFF>{number} مترًا</color> في الجبل الثلجي.</color>",accessory_run_easy:"<color=#FFFFFF>اركض مسافة <color=#01FFFF>{number} أمتار</color> أثناء ارتداء <color=#01FFFF>1 أحد الإكسسوارات.</color> </color>",accessory_run_hard:"<color=#FFFFFF>اركض مسافة <color=#01FFFF>{number} أمتار</color> أثناء ارتداء <color=#01FFFF>3 من الإكسسوارات.</color> </color>",share:"<color=#01FFFF>شارك مجموع نقاطك</color><color=#FFFFFF> من شاشة النتيجة مرة واحدة.</color>",achievement_acc_1:"<color=#FFFFFF>اشترِ <color=#01FFFF>{number} من الملحقات.</color></color>",achievement_play_1:"<color=#FFFFFF>سافر <color=#01FFFF>{number} من المرات.</color></color>",achievement_power_1:"<color=#FFFFFF>اجمع <color=#01FFFF>{number} من عناصر زيادة القوة.</color></color>",achievement_pass_1:"<color=#FFFFFF>استخدم <color=#01FFFF>{number} من التعزيزات.</color></color>",achievement_ap_1:"<color=#FFFFFF>قم بإنعاش زميلك <color=#01FFFF>{number} من المرات.</color></color>",achievement_dl_1:"<color=#FFFFFF>أكمل <color=#01FFFF>{number} من المهام اليومية.</color></color>",achievement_sf_1:"<color=#FFFFFF>التقط صور سيلفي في <color=#01FFFF>{number} وضعية مختلفة.</color></color>",achievement_milky_1:"<color=#FFFFFF>اركض <color=#01FFFF>{number }من الأمتار</color> إجمالاً بشخصية ميلكي.</color>",achievement_schoky_1:"<color=#FFFFFF>اركض <color=#01FFFF>{number }من الأمتار</color> إجمالاً بشخصية شوكي.</color>",achivement_beach_1:"<color=#FFFFFF>اركض في الجزيرة الاستوائية <color=#01FFFF>{number} مرة.</color></color>",achivement_beach_2:"<color=#FFFFFF>ابلغ المنطقة الثانية في الجزيرة الاستوائية <color=#01FFFF>{number} مرة.</color></color>",achivement_beach_3:"<color=#FFFFFF>ابلغ المنطقة الثالثة في الجزيرة الاستوائية <color=#01FFFF>{number} مرة.</color></color>",achivement_city_1:"<color=#FFFFFF>اركض في المدينة الحضرية <color=#01FFFF>{number} مرة.</color></color>",achivement_city_2:"<color=#FFFFFF>ابلغ المنطقة الثانية في المدينة الحضرية <color=#01FFFF>{number} مرة.</color></color>",achivement_city_3:"<color=#FFFFFF>ابلغ المنطقة الثالثة في المدينة الحضرية <color=#01FFFF>{number} مرة.</color></color>",achievement_mountain_1:"<color=#FFFFFF>اركض في الجبل الثلجي <color=#01FFFF>{number} مرة.</color></color>",achievement_mountain_2:"<color=#FFFFFF>ابلغ المنطقة الثانية في الجبل الثلجي <color=#01FFFF>{number} مرة.</color></color>",achievement_mountain_3:"<color=#FFFFFF>ابلغ المنطقة الثالثة في الجبل الثلجي <color=#01FFFF>{number} مرة.</color></color>",headwear_01:"يوم الشباب",headwear_02:"أميرة الطبيعة",headwear_03:"الملكة ميلكي",headwear_04:"مستكشف",headwear_05:"يبدو رائعًا",headwear_06:"عاشق الموسيقى",headwear_07:"روح الحفلات",headwear_08:"قبعة زرقاء",headwear_09:"قبعة حمراء",Scarf_01:"قلب دافئ",Scarf_02:"دافئ ومريح",Scarf_03:"رقصة الزهور",Scarf_04:"العمل المكتبي",Scarf_05:"النبيل",Scarf_06:"ارتداء الملابس",Scarf_07:"موسيقى استوائية",Scarf_08:"سماء ليلية",Scarf_09:"الشفق القطبي",Footwear_01:"حذاء أحمر",Footwear_02:"كلاسيكي",Footwear_03:"على الجليد",Footwear_04:"في الفضاء",Footwear_05:"فتاة الأزياء",Footwear_06:"نشط",Pant_01:"مخطط",Pant_02:"منقط",Pant_03:"سروال مطبوع بصور أناناس",Pant_04:"التمرن",Pant_05:"نجم الأكشن",Pant_06:"جلسة تصوير على شاطئ البحر",bot_1:"ماكماهون",bot_2:"هِس",bot_3:"كوين",bot_4:"كومبتون",bot_5:"هندريكس",bot_6:"ريتش",bot_7:"ماكجي",bot_8:"لامبرت",bot_9:"ماكدونيل",bot_10:"ألفارو",bot_11:"برايس",bot_12:"كريستنسن",bot_13:"هيلز",bot_14:"هاف",bot_15:"سينيور",bot_16:"فينتون",bot_17:"مولينز",bot_18:"بلاك",bot_19:"أوري",bot_20:"جراي",bot_21:"ديكر",bot_22:"مورين",bot_23:"بومان",bot_24:"رايلي",bot_25:"ديفيز",bot_26:"أوليفر",bot_27:"هاريس",bot_28:"هاول",bot_29:"بارو",bot_30:"لين",bot_31:"نيفيل",bot_32:"كورنِش",bot_33:"كومار",bot_34:"فولوس",bot_35:"ماكنايت",bot_36:"تشابمان",bot_37:"ماكنيل",bot_38:"بالدوين",bot_39:"جريج",bot_40:"ويبستر",bot_41:"كوما",bot_42:"هوبر",bot_43:"تريجو",bot_44:"بوب",bot_45:"أفيلا",bot_46:"كليفورد",bot_47:"ماكارتني",bot_48:"بين",bot_49:"جوزمان",bot_50:"ميلينديز",bot_51:"ستيل",bot_52:"بيتس",bot_53:"هارت",bot_54:"مكالوم",bot_55:"كالفيرت",bot_56:"تشامبرلين",bot_57:"بيتمان",bot_58:"وايتلي",bot_59:"روزا",bot_60:"دودلي",bot_61:"سبينس",bot_62:"بيرسون",bot_63:"سباركس",bot_64:"نيفيس",bot_65:"بار",bot_66:"روتليدج",bot_67:"بينيدا",bot_68:"دونالد",bot_69:"ريجبي",bot_70:"كور",bot_71:"فيني",bot_72:"وين",bot_73:"وولف",bot_74:"سوان",bot_75:"كومبس",bot_76:"رولينز",bot_77:"لانج",bot_78:"لين",bot_79:"بيل",bot_80:"أودوم",bot_81:"تران",bot_82:"وايتل",bot_83:"كيسي",bot_84:"باربر",bot_85:"ماتيس",bot_86:"تايسون",bot_87:"كوستا",bot_88:"براي",bot_89:"كاستانيدا",bot_90:"منديز",bot_91:"أنتوني",bot_92:"كيلي",bot_93:"ويتفيلد",bot_94:"نيكولسون",bot_95:"ماجانا",bot_96:"روسو",bot_97:"باتل",bot_98:"باري",bot_99:"دورسي",bot_100:"جلين",game_version:"الإصدار %{0} \\n",str_about_00:"<color=#F35B81>GAMELOFT FOR BRANDS</color> \\n",str_about_01:"<color=#F35B81>رئيس الاستوديو</color>",str_about_02:"Thierry Lecat \\n",str_about_03:"<color=#F35B81>المُنتِج</color>",str_about_04:"Ly Vi Hue \\n",str_about_05:"<color=#F35B81>المدير الإبداعي</color>",str_about_06:"Cedric Ratajczak \\n",str_about_07:"<color=#F35B81>الرئيس التنفيذي للتكنولوجيا بفيتنام</color>",str_about_08:"Laurent Le \\n",str_about_09:"<color=#F35B81>رئيس المبرمجين</color>",str_about_10:"Vo Minh Tam \\n",str_about_11:"<color=#F35B81>المبرمجون</color>",str_about_12:"Tran Binh Hoa \\nHoang Quoc Khanh \\n",str_about_13:"<color=#F35B81>رئيس مصمّمي الألعاب</color>",str_about_14:"Nguyen Phu Hong Phuc \\n",str_about_15:"<color=#F35B81>مصمّم اللعبة</color>",str_about_16:"Truong Gia Huy \\n",str_about_17:"<color=#F35B81>المدير الفني</color>",str_about_18:"Leandro Banak \\n",str_about_19:"<color=#F35B81>فنان واجهة المستخدم/تجربة المستخدم</color>",str_about_20:"Tran Thi Mai Trang \\n",str_about_21:"<color=#F35B81>رئيس فناني الرسومات ثنائية الأبعاد</color>",str_about_22:"Le Ngoc Trinh \\n",str_about_23:"<color=#F35B81>فنانو الرسومات ثنائية الأبعاد</color>",str_about_24:"John Tenoria \\nLe Thanh Hang",str_about_25:"<color=#F35B81>رئيس فناني الرسومات ثلاثية الأبعاد</color>",str_about_26:"Vo Binh Quan \\n",str_about_27:"<color=#F35B81>فنانو الرسومات ثلاثية الأبعاد</color>",str_about_28:"Nguyen Huu Toan \\nTruong Huynh Thao \\n",str_about_29:"<color=#F35B81>رئيس فناني تحريك الرسومات ثلاثية الأبعاد</color>",str_about_30:"Siva Gonti \\n",str_about_31:"<color=#F35B81>فنان تحريك الرسومات ثلاثية الأبعاد</color>",str_about_32:"Durga Prasad Kamisetti \\n",str_about_33:"<color=#F35B81>رئيس فناني المؤثرات البصرية</color>",str_about_34:"Christopher Pringle \\n",str_about_35:"<color=#F35B81>فنانو المؤثرات البصرية</color>",str_about_36:"Christopher Pringle \\nYohan Pradeloux \\n",str_about_37:"<color=#F35B81>الترجمة</color>",str_about_38:"<color=#F35B81>مدير الترجمة</color>",str_about_39:"Alexis Green-Painchaud \\n",str_about_40:"<color=#F35B81>منسّقو الترجمة</color>",str_about_41:"Catherine Boudreault \\nEric Millette \\nFrederic Moreau \\nAriane Beauparlant \\n",str_about_42:"<color=#F35B81>منسّق تقنية الترجمة</color>",str_about_43:"Frank Schneidawind",str_about_44:"<color=#F35B81>أخصائي تقنية الترجمة</color>",str_about_45:"Yannick Denis",str_about_46:"<color=#F35B81>الترجمة</color>",str_about_47:"Ahmad Baraka \\nAhmed Elbasheer \\nAmr Ezz \\nAttia Atef",str_about_48:"<color=#F35B81>متخصصو الأخطاء البرمجية بالترجمة</color>",str_about_49:"Juan Carlos Ardila \\nPham Diep Van Nhi \\nJaime Silva-Valencia",str_about_50:"<color=#F35B81>ضمان الجودة</color>",str_about_51:"<color=#F35B81>مدير ضمان الجودة بالاستوديو</color>",str_about_52:"Madek Widodo \\n",str_about_53:"<color=#F35B81>مدير قسم ضمان الجودة</color>",str_about_54:"Le Phung Thanh Son \\n",str_about_55:"<color=#F35B81>مدير مشروعات ضمان الجودة</color>",str_about_56:"Ratna Kusumaningtyas \\n",str_about_57:"<color=#F35B81>قادة فريق ضمان الجودة</color>",str_about_58:"Maulana Ibrahim \\nImam Masrufi \\n",str_about_59:"<color=#F35B81>مختبرو ضمان الجودة</color>",str_about_60:"Andri Bagastomo \\nGinanjar Sidik \\nAnggit Sukamto \\nAziz Muzzamil \\nAri Wirawan \\nAmri Arfian \\nKelvin Dennyswara \\nDwi Kustiarno \\nRizky Lambang \\nAdik Nupantoro \\nYordan Ridhanto \\nErdhika Firmana \\nNungki Nugroho \\nHudam Nugraha \\nYudhistira \\nOnny Hermawan \\nEgrit Wijatsongko \\nHerbowo Putro \\nImakulata Kristanti \\nAlba Millentry",str_about_61:"<color=#F35B81>مدير الصوت</color>",str_about_62:"Zabi Khan \\n",str_about_63:"<color=#F35B81>مصمّم الصوتيات</color>",str_about_64:"Stefani Leoni \\n",str_about_65:"<color=#F35B81>مديرو المنتجات التسويقية</color>",str_about_66:"Baptiste Tauzin\\nChloe Roddier\\nLy Ba Tho \\n",str_about_67:"<color=#F35B81>الشؤون القانونية</color>",str_about_68:"<color=#F35B81>رئيس المستشاريين القانونيين</color>",str_about_69:"Hortense Jouquan \\n",str_about_70:"<color=#F35B81>مسؤول حماية البيانات</color>",str_about_71:"Isabelle Le Vot \\n",str_about_72:"<color=#F35B81>المستشار القانوني</color>",str_about_73:"Alexandra Rochefort \\n",str_about_74:"<color=#F35B81>فريق الواجهة الخلفية</color>",str_about_75:"<color=#F35B81>منتجو الواجهة الخلفية</color>",str_about_76:"Nguyen Tri Nhan \\nPhan Nguyen Tuong Minh \\n",str_about_77:"<color=#F35B81>مبرمجو الواجهة الخلفية</color>",str_about_78:"Le Nguyen Trung Hieu \\nDinh Xuan Duy \\nTran Xuan Khoa \\nTran Duy Truong \\nQuang Chan Vi \\nHuynh Cong Duc \\nTran Minh Tien \\nHuynh Ngoc Phuong Anh \\nTruong Binh Tan \\nTran Kim Bao \\nNguyen Duy Minh \\nHan Van Gia Hien \\n",str_about_79:"<color=#F35B81>مبرمجو أنظمة إدارة المحتوى</color>",str_about_80:"To Quoc Long \\nLe Thanh Nghi \\n",str_about_81:"<color=#F35B81>فريق تحليل البيانات</color>",str_about_82:"Dang Minh Tuan \\nNguyen Duy Anh \\nNguyen Thanh Hung \\nTran Thi Mai",str_about_83:"<color=#F35B81>تراخيص البرمجيات مفتوحة المصدر</color>",str_about_84:"<color=#F35B81>Cocos Creator</color>",str_about_85:"<color=#F35B81>i18n Extension for Cocos Creator</color>",str_about_86:'Copyright (c) 2013-2016 Chukong Technologies Inc.\r\nCopyright (c) 2017-2022 Xiamen Yaji Software Co., Ltd.\r\nhttp://www.cocos.com \r\nPermission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated engine \r\nsource code (the "Software"), a limited,\r\nworldwide, royalty-free, non-assignable,\r\nrevocable and non-exclusive license to \r\nuse Cocos Creator solely to develop \r\ngames on your target platforms. You shall \r\nnot use Cocos Creator software for \r\ndeveloping other software or tools that\'s \r\nused for developing games. You are not \r\ngranted to publish, distribute, sublicense, \r\nand/or sell copies of Cocos Creator. The \r\nsoftware or tools in this License Agreement \r\nare licensed, not sold. \r\nXiamen Yaji Software Co., Ltd. \r\nreserves all rights not expressly granted to you.\\n',str_about_87:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"),\r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to\r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions:\\n\r\nThe above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software.',str_about_88:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_89:"<color=#F35B81>Colyseus</color>",str_about_90:"Copyright (c) 2021 Lucid Sight \\n Copyright (c) 2015-2021 Endel Dreyer \\n \\nMIT License: \\n",str_about_91:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_92:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_93:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_94:"<color=#F35B81>axios</color>",str_about_95:"Copyright (c) 2014-2022 \r\nMatt Zabriskie & Collaborators \\n",str_about_96:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_97:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_98:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_99:"<color=#F35B81>crypto-js</color>",str_about_100:"Copyright (c) 2009-2013 Jeff Mott \\n Copyright (c) 2013-2016 Evan Vosberg \\n",str_about_101:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_102:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_103:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_104:"<color=#F35B81>lodash</color>",str_about_105:"Copyright JS Foundation and other \r\ncontributors <https://js.foundation/> \r\nBased on Underscore.js, \r\ncopyright Jeremy Ashkenas, \r\nDocumentCloud and Investigative \r\nReporters & Editors \r\n<http://underscorejs.org/> \r\nThis software consists of voluntary \r\ncontributions made by many individuals. \r\nFor exact contribution history, see the \r\nrevision history available at \r\nhttps://github.com/lodash/lodash",str_about_106:"The following license applies to all parts of this software except as documented below: \\n",str_about_107:'Permission is hereby granted, free of charge, \r\nto any person obtaining a copy of this \r\nsoftware and associated documentation files \r\n(the "Software"), to deal in the Software \r\nwithout restriction, including without \r\nlimitation the rights to use, copy, modify, \r\nmerge, publish, distribute, sublicense, \r\nand/or sell copies of the Software, and to \r\npermit persons to whom the Software is \r\nfurnished to do so, subject to the following \r\nconditions: \\n',str_about_108:"The above copyright notice and this \r\npermission notice shall be included in all \r\ncopies or substantial portions of the Software.\\n",str_about_109:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_110:"<color=#F35B81>Fonts</color>",str_about_111:"<color=#F35B81>Paytone One</color>",str_about_112:'Copyright 2011 The Paytone Project Authors\r\n(https://github.com/googlefonts/paytoneFont),\r\nwith Reserved Font Names "Paytone" and \r\n"Paytone One".\r\nThis Font Software is licensed under the \r\nSIL Open Font License, Version 1.1. \r\nThis license is copied below, and is also \r\navailable with a FAQ at:\r\nhttp://scripts.sil.org/OFL \r\n\r\nSIL OPEN FONT LICENSE \r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) \r\nare to stimulate worldwide development \r\nof collaborative font projects, \r\nto support the font creation\r\nefforts of academic and linguistic \r\ncommunities, and to provide a \r\nfree and open framework in which \r\nfonts may be shared and improved \r\nin partnership with others.\r\n\r\nThe OFL allows the licensed fonts to be \r\nused, studied, modified and \r\nredistributed freely as long as they are not \r\nsold by themselves. The fonts, including \r\nany derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any \r\nsoftware provided that any reserved\r\nnames are not used by derivative works. \r\nThe fonts and derivatives, however, \r\ncannot be released under any other \r\ntype of license. The requirement for \r\nfonts to remain under this license does \r\nnot apply to any document created using \r\nthe fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection \r\nof Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative \r\nmade by adding to, deleting,\r\nor substituting -- in part or in whole -- any \r\nof the components of the Original \r\nVersion, by changing formats or by \r\nporting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION & CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the \r\nFont Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission \r\nis granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) \r\nor the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge \r\nthe contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply \r\nto any document created\r\nusing the Font Software.\\n',str_about_113:'TERMINATION\r\nThis license becomes null and void \r\nif any of the above conditions \r\nare not met.\\n\r\nDISCLAIMER\r\nTHE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_114:"<color=#F35B81>ElMessiri</color>",str_about_115:"Copyright 2015 The El Messiri \r\nProject Authors \r\n(https://github.com/Gue3bara/El-Messiri)\\n",str_about_116:"This Font Software is licensed under the SIL Open Font License, Version 1.1. \\n\r\nThis license is copied above, and is also available with a FAQ at:\r\nhttp://scripts.sil.org/OFL \\n",str_about_117:"<color=#F35B81>Open Sans Condensed</color>",str_about_118:'Copyright 2011 Ascender corp, \r\nSteve Matteson\\n\r\nLicensed under the Apache License, \r\nVersion 2.0 (the "License"); \r\nyou may not use this file except \r\nin compliance with the License.\\n\r\nYou may obtain a copy of the License at\r\nhttp://www.apache.org/\r\nlicenses/LICENSE-2.0\\n',str_about_119:'Unless required by applicable law or \r\nagreed to in writing, software distributed \r\nunder the License is distributed on an \r\n"AS IS" BASIS, WITHOUT WARRANTIES OR \r\nCONDITIONS OF ANY KIND, either express \r\nor implied. See the License for the \r\nspecific language governing permissions \r\nand limitations under the License. \\n'});r._RF.pop()}}}));

System.register("chunks:///_virtual/ArtCheckManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./CurveManager.ts"],(function(e){"use strict";var t,n,a,i,r,o,s,c,h,u,v,l,p,g,_,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,c=e.input,h=e.Input,u=e.KeyCode,v=e.Animation,l=e.Component},function(e){p=e.LIGHT_TYPE,g=e.EventName},function(e){_=e.default,f=e.MyEvent},function(e){m=e.CurveManager}],execute:function(){var I,C,d,y,D,E,b;r._RF.push({},"5cf88+ofX9JDJfJO6r8WXGJ","ArtCheckManager",void 0);var k=o.ccclass,R=o.property,A="StartCameraInit",L="StartCameraLeft",M="StartCameraRight";e("ArtCheckManager",(I=k("ArtCheckManager"),C=R(s),d=R(s),I((E=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"environments",E,i(t)),a(t,"camera",b,i(t)),t._envID=0,t._lightID=p.MORNING,t}n(t,e);var r=t.prototype;return r.onLoad=function(){c.on(h.EventType.KEY_DOWN,this.onKeyDown,this)},r.start=function(){this.nextEnvironment(!0),this.nextLight(!0)},r.nextEnvironment=function(e){void 0===e&&(e=!1),this._envID=e?0:this._envID+1,this._envID>=this.environments.length&&(this._envID=0);for(var t=0;t<this.environments.length;t++)t==this._envID?this.environments[t].active=!0:this.environments[t].active=!1},r.nextLight=function(e){void 0===e&&(e=!1),this._lightID=e?0:this._lightID+1,this._lightID>=4&&(this._lightID=0),_.GetInstance().dispatchEvent(new f(g.CHANGE_LIGHT,{type:this._lightID}))},r.onKeyDown=function(e){switch(e.keyCode){case u.KEY_E:this.nextEnvironment();break;case u.KEY_L:this.nextLight();break;case u.KEY_Z:this.camera.getComponent(v).play(L);break;case u.KEY_X:this.camera.getComponent(v).play(A);break;case u.KEY_C:this.camera.getComponent(v).play(M);break;case u.ARROW_UP:m.Instance.addCurve(0,1);break;case u.ARROW_DOWN:m.Instance.addCurve(0,-1);break;case u.ARROW_LEFT:m.Instance.addCurve(-1,0);break;case u.ARROW_RIGHT:m.Instance.addCurve(1,0)}},t}(l)).prototype,"environments",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(D.prototype,"camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BackPack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./SoundManager.ts","./Collectible.ts","./UIManager.ts"],(function(n){"use strict";var t,e,o,r,i,a,c,s,u,g,l;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.Collider,i=n.Component},function(n){a=n.ItemType,c=n.SessionInfo},function(n){s=n.RunningGameManager},function(n){u=n.SoundManager},function(n){g=n.Collectible},function(n){l=n.UIManager}],execute:function(){var C;e._RF.push({},"b50d0yhptRBmZjRUVq6dIux","BackPack",void 0);var h=o.ccclass;o.property,n("BackPack",h("BackPack")(C=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onLoad=function(){for(var n=this.getComponentsInChildren(r),t=0;t<n.length;t++)n[t].on("onTriggerEnter",this.onTriggerEnter,this),n[t].on("onTriggerExit",this.onTriggerExit,this),n[t].on("onTriggerStay",this.onTriggerStay,this)},o.onTriggerEnter=function(n){if(!s.IsPause)switch(n.otherCollider.getGroup()){case a.COLLECTIBLE:var t=n.otherCollider.node.getComponent(g).amount;n.otherCollider.node.active=!1,u.Instance.playCollectSound(),s.Instance.CoinCollectCounter+=t,l.Instance.updateUILabel(c.COIN,s.Instance.CoinCollectCounter)}},o.onTriggerStay=function(n){s.IsPause},o.onTriggerExit=function(n){s.IsPause},e}(i))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/BackpackAnimCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./GameResourceManager.ts","./QTEItemPosition.ts"],(function(t){"use strict";var e,n,a,i,r,c,s,o,u,p,k,h,l,d,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,u=t.Node,p=t.Component,k=t.instantiate,h=t.SkinnedMeshRenderer},function(t){l=t.EventName},function(t){d=t.default},function(t){f=t.GameResourceManager},function(t){m=t.QTEItemPosition}],execute:function(){var v,b,C,E,g,I,T,_,q,P,B;s._RF.push({},"bac71u0OQtNkYjaQqdJY0Ql","BackpackAnimCtrl",void 0);var Q=o.ccclass,y=o.property;t("BackpackAnimCtrl",(v=Q("BackpackAnimCtrl"),b=y(u),C=y(u),E=y(u),g=y(u),v((_=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,a(e,"backPacks",_,i(e)),a(e,"qteItems",q,i(e)),a(e,"backpackContainer",P,i(e)),a(e,"qteContainer",B,i(e)),e._backPackSize=0,e._updateQTEListener=void 0,e._updateBackpackSize=void 0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this._updateQTEListener=this.updateQTE.bind(this),this._updateBackpackSize=this.updateBackpack.bind(this),d.GetInstance().addEventListener(l.UPDATE_QTE,this._updateQTEListener),d.GetInstance().addEventListener(l.UPDATE_BACKPACK,this._updateBackpackSize),this.show(!1)},s.onDestroy=function(){d.GetInstance().removeEventListener(l.UPDATE_QTE,this._updateQTEListener),d.GetInstance().removeEventListener(l.UPDATE_BACKPACK,this._updateBackpackSize),this._updateQTEListener=null,this._updateBackpackSize=null},s.unloadElements=function(){this.backpackContainer&&this.backpackContainer.removeAllChildren(),this.backPacks.length=0,this.qteContainer&&this.qteContainer.removeAllChildren(),this.qteItems.length=0},s.loadBackpacks=function(){var t=r(c().mark((function t(e){var n,a,i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.backpackContainer.children.length){t.next=11;break}n=0;case 2:if(!(n<3)){t.next=11;break}return t.next=5,f.Instance.loadBackpack(e,n);case 5:a=t.sent,(i=k(a))&&(this.backPacks[n]=i,this.backpackContainer.addChild(i),i.active=!1,(r=i.getComponent(h))&&(r.skinningRoot=this.node));case 8:n++,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.loadQTE=function(){var t=r(c().mark((function t(){var e,n,a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.qteContainer.children.length){t.next=6;break}return t.next=3,f.Instance.loadQTEItemContainer();case 3:if(e=t.sent,n=k(e))for(this.qteContainer.addChild(n),a=0;a<3;a++)(i=n.getChildByName("QTE_"+(a+1)))&&(this.qteItems[a]=i,i.active=!1);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.updateQTE=function(t){this.updateQTEItems(t.parameters.qtes)},s.updateBackpack=function(t){this.updateBackpackSize(t.parameters.size)},s.show=function(t){this.backpackContainer&&(this.backpackContainer.active=t),this.qteContainer&&(this.qteContainer.active=t)},s.updateQTEItems=function(t){for(var e=0;e<this.qteItems.length;e++){this.qteItems[e].active=!1;for(var n=0;n<t.length;n++)e==t[n]-1&&0==this.qteItems[e].active&&(this.qteItems[e].active=!0,this.qteItems[e].getComponent(m).runCollectAction())}},s.updateBackpackSize=function(t){var e=this;this._backPackSize=t>3?3:t;var n=this.backPacks[0];this.backPacks.forEach((function(t,a){a!=e._backPackSize-1?0!=t.active&&(t.active=!1):1!=t.active&&(n=t)})),n&&(n.active=!0),this.qteItems.forEach((function(e,n){var a=e.getComponent(m);a&&a.updatePosition(t-1)}))},e}(p)).prototype,"backPacks",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(T.prototype,"qteItems",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(T.prototype,"backpackContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"qteContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/BackpackHint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var r,i,a,e,o,n,c,u,s,l,p;return{setters:[function(t){r=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,c=t._decorator,u=t.Node,s=t.v3,l=t.Component},function(t){p=t.SWIPEType}],execute:function(){var k,m,_,h,f,y,v;n._RF.push({},"daeb0ypFWJNo6XqjnBGKRia","BackpackHint",void 0);var b=c.ccclass,w=c.property;t("BackpackHint",(k=b("BackpackHint"),m=w(u),_=w(u),k((y=r((f=function(t){function r(){for(var r,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return r=t.call.apply(t,[this].concat(o))||this,a(r,"m_arrow",y,e(r)),a(r,"m_backpack",v,e(r)),r._currTutorialType=p.NONE,r}i(r,t);var n=r.prototype;return n.onLoad=function(){this.m_arrow.active=!1,this.m_backpack.active=!1},n.start=function(){},n.showTutorialArrow=function(t,r){void 0===r&&(r=p.NONE),t||(this._currTutorialType=r,t!=this.m_arrow.active&&(this.m_arrow.active=t),t!=this.m_backpack.active&&(this.m_backpack.active=t),r==p.LEFT?this.m_arrow.setRotationFromEuler(s(0,0,-180)):r==p.RIGHT?this.m_arrow.setRotationFromEuler(s(0,0,0)):r==p.DOWN&&this.m_arrow.setRotationFromEuler(s(0,0,-90)))},o(r,[{key:"currTutorialType",get:function(){return this._currTutorialType}}]),r}(l)).prototype,"m_arrow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(f.prototype,"m_backpack",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/BackpackVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts"],(function(n){"use strict";var t,e,a,i,r,c,o,l,u,s,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,o=n.Node,l=n.v3,u=n.ParticleSystem,s=n.Component},function(n){p=n.VFX_BACKPACK,f=n.default},null],execute:function(){var k,v,h,g,B,F,y;r._RF.push({},"750f2P+xIFKR5Cg9x0BtWLH","BackpackVFX",void 0);var d=c.ccclass,V=c.property;n("BackpackVFX",(k=d("BackpackVFX"),v=V(o),h=V(o),k((F=t((B=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,a(t,"vfxBackpackGain",F,i(t)),a(t,"vfxBackpackTrail",y,i(t)),t._currentVFX=p.NONE,t}e(t,n);var r=t.prototype;return r.onLoad=function(){},r.playVFX=function(n,t,e,a){if(void 0===a&&(a=null),f.CHEAT_ENABLE_VFX_CHARACTER){var i=null;switch(n){case p.NONE:break;case p.GAIN:i=this.vfxBackpackGain;break;case p.TRAIL:i=this.vfxBackpackTrail}this.enableVFX(i,t),a&&i.setWorldPosition(a),this._currentVFX=n}},r.put=function(n,t){var e=this.getPool(n);e&&e.put(t)},r.getPool=function(n){return null},r.getVfxInstance=function(n){l(0,0,0);return null},r.enableVFX=function(n,t){if(n){n.active=t;var e=n.getComponentsInChildren(u),a=n.getComponent(u);a&&e.push(a),e.forEach((function(n){n&&n.node.active&&(n.stop(),t&&n.play())}))}},t}(s)).prototype,"vfxBackpackGain",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(B.prototype,"vfxBackpackTrail",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=B))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/BarrelHit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Animation,r=t.animation}],execute:function(){var a;e._RF.push({},"b189fIvqtlHXptYic8AaANk","BarrelHit",void 0);var c=o.ccclass;o.property,t("BarrelHit",c("BarrelHit")(a=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onMotionStateEnter=function(t,n){var e=t.node.getChildByPath("Barrel_1 Socket/Barrel_Obstacle05");e&&e.getComponent(i)&&e.getComponent(i).pause()},o.onMotionStateExit=function(t,n){},o.onMotionStateUpdate=function(t,n){},o.onStateMachineEnter=function(t){},o.onStateMachineExit=function(t){},e}(r.StateMachineComponent))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrelIdle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Animation,a=t.animation}],execute:function(){var i;e._RF.push({},"0a1f1gKCRRBTqVcTOG7AUZ0","BarrelIdle",void 0);var c=o.ccclass;o.property,t("BarrelIdle",c("BarrelIdle")(i=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onMotionStateEnter=function(t,n){var e=t.node.getChildByPath("Barrel_1 Socket/Barrel_Obstacle05");null!=e&&e.getComponent(r)&&e.getComponent(r).play()},o.onMotionStateExit=function(t,n){},o.onMotionStateUpdate=function(t,n){},o.onStateMachineEnter=function(t){},o.onStateMachineExit=function(t){},e}(a.StateMachineComponent))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarrelInit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Animation,i=t.animation}],execute:function(){var a;e._RF.push({},"2ef5fR9NSVKRaQFWpRYKtkb","BarrelInit",void 0);var c=o.ccclass;o.property,t("BarrelInit",c("BarrelInit")(a=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onMotionStateEnter=function(t,n){var e=t.node.getChildByPath("Barrel_1 Socket/Barrel_Obstacle05");e&&e.getComponent(r)&&e.getComponent(r).pause()},o.onMotionStateExit=function(t,n){},o.onMotionStateUpdate=function(t,n){},o.onStateMachineEnter=function(t){},o.onStateMachineExit=function(t){},e}(i.StateMachineComponent))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseCollectible.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,c,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy,o=e._decorator,l=e.Component}],execute:function(){var r;c._RF.push({},"9ff60X2H3hG0pz1Y96ziQNq","BaseCollectible",void 0);var s=o.ccclass;o.property,e("BaseCollectible",s("BaseCollectible")(r=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c}(l))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./EventManager.ts","./GameResourceManager.ts","./GameHelper.ts","./Pooling.ts"],(function(t){"use strict";var n,e,r,a,o,c,s,i,u,d,p,l,f,E,h,I;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,c=t.log,s=t.director,i=t.Component},function(t){u=t.language},function(t){d=t.POOL_OBJECT_NAMES,p=t.POOL_OBJECT_TYPE,l=t.SESSION_NAMES},function(t){f=t.default},function(t){E=t.GameResourceManager},function(t){h=t.GameHelper},function(t){I=t.Pooling}],execute:function(){var P;t({ActionAgeGate:void 0,SplashEventName:void 0,SplashState:void 0}),a._RF.push({},"7f324alpn1HBa3x+UkH1nqA","BaseLoading",void 0);var S,g,_,A=o.ccclass;o.property;!function(t){t.AGE_GATE="age_gate"}(S||(S=t("SplashEventName",{}))),function(t){t[t.PRIVACY=0]="PRIVACY",t[t.LOGIN=1]="LOGIN",t[t.LOAD_PROFILE=2]="LOAD_PROFILE",t[t.CREATE_NAME=3]="CREATE_NAME",t[t.QR_REWARD=4]="QR_REWARD"}(g||(g=t("ActionAgeGate",{}))),function(t){t[t.PERSIST_POPUP=0]="PERSIST_POPUP",t[t.SIGN_IN=1]="SIGN_IN",t[t.TOUCH=2]="TOUCH",t[t.AGE_GATE=3]="AGE_GATE",t[t.ASSETS=4]="ASSETS",t[t.SCENE=5]="SCENE",t[t.SCENE_TRANSITION=6]="SCENE_TRANSITION"}(_||(_=t("SplashState",{})));t("BaseLoading",A("BaseLoading")(P=function(t){function a(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).totalSections=0,n.totalSteps=0,n.currSection=0,n.curStep=0,n.curStepProgress=0,n.state=void 0,n.sceneToLoad=void 0,n.strStatsUrl=void 0,n._ageGateCallback=null,n}n(a,t);var o=a.prototype;return o.onLoad=function(){this._ageGateCallback=this.onAgeGateAction.bind(this),f.GetInstance().addEventListener(S.AGE_GATE,this._ageGateCallback)},o.start=function(){this.initTracking(),this.init(),this.SetState(_.PERSIST_POPUP)},o.onDestroy=function(){f.GetInstance().removeEventListener(S.AGE_GATE,this._ageGateCallback),this._ageGateCallback=null},o.init=function(){this.currSection=0,this.curStep=0,this.curStepProgress=0,this.totalSections=5},o.initTracking=function(){window.gIngameTimeSpent=0,window.gLoadingTimeSpent=0,window.gTotalTimeSpent=.01,window.startLoadingTime=0,window.GLOBAL_CAMPAIGN_ID="",window.GLOBAL_CREATIVE_APP_ID="",window.GLOBAL_DEVICE_COUNTRY="",window.GLOBAL_DEVICE_BROWSER=h.DetectBrowser(),window.GLOBAL_DEVICE_OS="",window.GLOBAL_DEVICE_MANUFACTURER="",window.GLOBAL_DEVICE_NAME="",window.GLOBAL_DEVICE_FIRMWARE="",c("userAgent: ",navigator.userAgent),c("geolocation: ",navigator.geolocation),c("browser: ",window.GLOBAL_DEVICE_BROWSER)},o.SetState=function(t){},o.loadAgeGatePopup=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.loadPersistPopup=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.loadAssets=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.loadNextScene=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initSignin=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.onAgeGateAction=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.onLoadingProgress=function(t,n,e){var r=Math.min(t/n,1);this.curStepProgress=Math.max(r,this.curStepProgress)},o.preloadScene=function(){var t=this;return new Promise((function(n){t.sceneToLoad&&s.preloadScene(t.sceneToLoad,t.onLoadingProgress.bind(t),(function(e,r){c("[BaseLoading","preloadScene",t.sceneToLoad,"loaded"),n(r)}))}))},o.loadCharacters=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getInstance().initCharacter();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.loadingPowerups=function(){var t=e(r().mark((function t(){var n,e,a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=p.COUNT-1,e=[p.POWERUP_SHIELD,p.POWERUP_MAGNET,p.POWERUP_COIN_DUPER,p.POWERUP_MEGA_HOP,p.POWERUP_STAMPER,p.COIN_1,p.COIN_5],a=0;case 3:if(!(a<=e.length)){t.next=11;break}return t.next=6,E.Instance.loadPowerup(d[e[a]]);case 6:o=Math.min((a+1)/n,1),this.curStepProgress=Math.max(o,this.curStepProgress);case 8:a++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.loadQTE=function(){var t=e(r().mark((function t(){var n,e,a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[p.QTE_1,p.QTE_2,p.QTE_3],e=n.length,a=0;case 3:if(!(a<=n.length)){t.next=11;break}return t.next=6,E.Instance.loadQTE(d[n[a]]);case 6:o=Math.min((a+1)/e,1),this.curStepProgress=Math.max(o,this.curStepProgress);case 8:a++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.loadSessions=function(){var t=e(r().mark((function t(){var n,e,a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[].concat(l),e=n.length,a=0;case 3:if(!(a<=n.length)){t.next=11;break}return t.next=6,E.Instance.loadSession(n[a]);case 6:o=Math.min((a+1)/e,1),this.curStepProgress=Math.max(o,this.curStepProgress);case 8:a++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.loadCredits=function(){var t=e(r().mark((function t(){var n,e,a,o,c,s,i,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(121,n=0;n<121;n++)void 0,e="str_about_"+(n<10?"0"+n:""+n),E.Instance.creditIds.push(e);for(E.Instance.creditsPartIdx[2]=E.Instance.creditIds.length-1,a=0;a<E.Instance.creditsPartIdx[0];a++)o=(o=(o=u.t(E.Instance.creditIds[a])).replace("%{0}",window.omsVersion)).replaceAll("\\n","\n"),o+=" \n",E.Instance.creditParts[0]+="<color=#6E400D>"+o+"</color>";for(c=E.Instance.creditsPartIdx[0];c<E.Instance.creditsPartIdx[1];c++)s=(s=u.t(E.Instance.creditIds[c])).replaceAll("\\n","\n"),s+=" \n",E.Instance.creditParts[1]+="<color=#6E400D>"+s+"</color>";for(i=E.Instance.creditsPartIdx[1];i<E.Instance.creditsPartIdx[2];i++)d=(d=u.t(E.Instance.creditIds[i])).replaceAll("\\n","\n"),d+=" \n",E.Instance.creditParts[2]+="<color=#6E400D>"+d+"</color>";E.Instance.creditParts[0]=E.Instance.creditParts[0].replaceAll("undefined",""),E.Instance.creditParts[1]=E.Instance.creditParts[1].replaceAll("undefined",""),E.Instance.creditParts[2]=E.Instance.creditParts[2].replaceAll("undefined","");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.loadBotNames=function(){var t=e(r().mark((function t(){var n,e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(100,n=1;n<100;n++)void 0,e="bot_"+n,E.Instance.botIds.push(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.update=function(t){},a}(i))||P);a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){"use strict";var t,n,r,i,o,c,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Enum,s=e.Component},function(e){u=e.POOL_OBJECT_TYPE}],execute:function(){var l,p,f,y,b;o._RF.push({},"ff7400BuGJHIKtGkHl2fEQ2","BaseObject",void 0);var O=c.ccclass,d=c.property;e("BaseObject",(l=O("BaseObject"),p=d({type:a(u)}),l((b=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,r(t,"objectType",b,i(t)),t}n(t,e);var o=t.prototype;return o.reset=function(){},o.unloadAnim=function(){},o.loadAnim=function(){},t}(s)).prototype,"objectType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.NONE}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./AIManager.ts","./LevelManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(t){"use strict";var i,e,n,s,a,o,r,c,h,l,d,m,_,u,I,p,T,g,A,P,f,w,v,S,b,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.Node,c=t.tween,h=t.v3,l=t.randomRange},function(t){d=t.SWIPEType,m=t.PLAYER_CHARACTER,_=t.AudioSrc,u=t.EnvironmentType,I=t.default,p=t.GameActions,T=t.SKILL},function(t){g=t.NetworkManager},function(t){A=t.RunningGameManager},function(t){P=t.SoundManager},function(t){f=t.AIManager},function(t){w=t.LevelManager},function(t){v=t.RANGE_DASH,S=t.ANIMATION_VARIABLES,b=t.Obstacle},function(t){y=t.PlayerManager}],execute:function(){var E,k,L,M,O,R,z,C,x,W,F;a._RF.push({},"65ab0+aCSNO6K8khmzGJ2k/","Bee",void 0);var D,N=o.ccclass,B=o.property;!function(t){t[t.IDLE=0]="IDLE",t[t.FOLLOW=1]="FOLLOW",t[t.PREPARE=2]="PREPARE",t[t.ATTACK=3]="ATTACK"}(D||(D={}));t("Bee",(E=N("Bee"),k=B(r),E((O=i((M=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(i=t.call.apply(t,[this].concat(a))||this).state=void 0,n(i,"m_indicator",O,s(i)),n(i,"m_IndicatorRange",R,s(i)),n(i,"m_FollowTime",z,s(i)),n(i,"m_IndicatorTime",C,s(i)),n(i,"m_MoveSpeed",x,s(i)),n(i,"m_StartPos",W,s(i)),n(i,"m_IsPositionUp",F,s(i)),i.m_FollowDistance=10,i._willThrow=!1,i.currentPos={x:0,y:0,z:0},i.startX=4,i.endX=0,i.currentY=0,i.startY=0,i.bottomY=-2.5,i.topY=2.5,i.direction=1,i.canMove=!1,i.moveOverSpeed=3,i.rollingSpeed=10,i.isPlaying=!0,i.isIndicatorShown=!1,i.indicatorTime=0,i.followTime=0,i.isJumpQTE=!0,i.isQTE=!1,i._tweenIndicator=null,i._tweenMovement=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){var t=this.node.getPosition();this._originPosition.x=t.x,this._originPosition.y=t.y},a.reset=function(){t.prototype.reset.call(this),this.node.setPosition(this._originPosition),this._notifyType=d.NONE,this.followTime=this.m_FollowTime,this.isIndicatorShown=!1,this.m_indicator.active=!1,this.indicatorTime=this.m_IndicatorTime,this.endX=this.node.parent.getWorldPosition().x;var i=this.node.parent.getPosition().x;i<0?(this._side,m.MILKY,this.startX=-this.m_StartPos,this.direction=1,this._notifyType=d.RIGHT):i>0&&(this._side,m.SCHOKI,this.startX=this.m_StartPos,this.direction=-1,this._notifyType=d.LEFT);var e=this.node.getPosition();e.x=this.startX,e.y=this.startY,this.node.setPosition(e),this.rollingSpeed=w.Instance.getDynamicObjectSpeed(),this.moveOverSpeed=this.m_MoveSpeed,this._rangeToActivate=this.m_IndicatorRange,this.canMove=!1,this.setState(D.IDLE)},a.setState=function(t){if(t!=this.state)switch(this.state=t,this.state){case D.IDLE:break;case D.FOLLOW:switch(g.Instance.lobbyInfo.environment){case u.TROPICAL:P.Instance.playOneShot(_.SEAGULL);break;case u.URBAN:P.Instance.playCrowSFX();break;case u.SNOW:P.Instance.playEagleSFX()}this.movingTween(this.followTime);break;case D.PREPARE:break;case D.ATTACK:P.Instance.playOneShot(_.SEAGULL_SWITCH)}},a.updateMovement=function(t){var i=A.Instance.speed/I.DEFAULT_RUNNING_SPEED,e=y.Instance.node.getWorldPosition(),n=this.node.getWorldPosition(),s=Math.abs(e.z-n.z),a=0,o=0;switch(this.state){case D.IDLE:s<this._rangeToActivate*i&&s>-this._rangeToActivate*i&&(this.setAnimationVariable("Start",!0),this.setState(D.FOLLOW));break;case D.FOLLOW:a=e.z-this._rangeToActivate*i,o=this.currentPos.y,this.followTime-=t,this.followTime<0&&this.setState(D.PREPARE);break;case D.PREPARE:a=e.z-this._rangeToActivate*i,this.isIndicatorShown||(this.isIndicatorShown=!0,this.showIndicator(this.m_IndicatorTime)),this.indicatorTime-=t,this.indicatorTime;break;case D.ATTACK:this.canMove&&(a=e.z-this._rangeToActivate*i,n.x+=this.direction*this.moveOverSpeed*t,this.direction>0?n.x>this.endX&&(n.x=this.endX,this.canMove=!1,this.m_IsPositionUp||this.setAnimationVariable("Land",!0)):n.x<this.endX&&(n.x=this.endX,this.canMove=!1,this.m_IsPositionUp||this.setAnimationVariable("Land",!0)))}0!=a&&(n.z=a,0!=o&&(n.y=o),this.node.setWorldPosition(n))},a.isIndicatorTimeEnd=function(){return this.indicatorTime<0},a.showIndicator=function(t){var i=this,e=.5;e=e-1>0?e-1:e,this._tweenIndicator&&this._tweenIndicator.stop(),this.m_indicator.active=!0,this._tweenIndicator=c(this.m_indicator).set({scale:h(.1,.1)}).to(.5,{scale:h(2.75,2.75)},{easing:"backOut"}).delay(e).to(.5,{scale:h(.1,.1)},{easing:"backIn"}).call((function(){i.m_indicator.active=!1,i.canMove=!0,i.setState(D.ATTACK)})).start()},a.movingTween=function(t){this._tweenMovement&&this._tweenMovement.stop(),this.currentPos=this.node.getWorldPosition(),this.m_IsPositionUp},a.checkWillActivateAI=function(){this._willActivateAI=!1,this.isQTE=!1,this._aiProcessing=!1,this._willThrow=!1;var t=this.getPlayerSide();this.m_IsPositionUp?(t!=this._side&&(this._willActivateAI=!0),t==this._side&&(this._willThrow=!0)):(t==m.MILKY&&this.node.parent.getPosition().x>0||t==m.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},a.updateAI=function(t){var i=this,e=y.Instance.node.getWorldPosition(),n=this.node.getWorldPosition();switch(this.m_IsPositionUp){case!1:if(this._willActivateAI){e.z<n.z+10&&0==this.isQTE&&this.state==D.ATTACK&&this._willPassObject&&(this.isQTE=!0,A.Instance.sendAction({action:p.AIControl,skill:T.JUMP})),e.z<n.z+60&&y.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){i._anticipatingSuccess&&(A.Instance.sendAction({action:p.SetBackpackSide,dest:y.Instance.thisPlayer.character,force:!1}),i._aiProcessing=!1)}),l(f.Instance.m_minThinkingTime,f.Instance.m_maxThinkingTime))):A.Instance.sendAction({action:p.SetBackpackSide,dest:y.Instance.thisPlayer.character,force:!1}))}break;case!0:this._willActivateAI&&0==this.isQTE&&e.z<n.z+v&&this._willPassObject&&this.state==D.ATTACK&&0==this._aiProcessing&&(this.isQTE=!0,A.Instance.sendAction({action:p.AIControl,skill:T.DASH})),this._willThrow&&0==this._aiProcessing&&e.z<n.z+60&&y.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){A.Instance.sendAction({action:p.SetBackpackSide,dest:y.Instance.thisPlayer.character,force:!1}),i._aiProcessing=!1}),l(f.Instance.m_minThinkingTime,f.Instance.m_maxThinkingTime))):A.Instance.sendAction({action:p.SetBackpackSide,dest:y.Instance.thisPlayer.character,force:!1}))}},a.onHit=function(){this.setAnimationVariable(S.Hit,!0)},i}(b)).prototype,"m_indicator",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(M.prototype,"m_IndicatorRange",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=i(M.prototype,"m_FollowTime",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),C=i(M.prototype,"m_IndicatorTime",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=i(M.prototype,"m_MoveSpeed",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),W=i(M.prototype,"m_StartPos",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),F=i(M.prototype,"m_IsPositionUp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=M))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/BirdieVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,s,n,c,r,l,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,r=t.Node,l=t.v3,u=t.tween,a=t.Component}],execute:function(){var f,h,w,v,p,F,d;n._RF.push({},"5016aXTt1lF3oheezRS9Dvi","BirdieVFX",void 0);var x=c.ccclass,y=c.property,G=.01;t("BirdieVFX",(f=x("BirdieVFX"),h=y(r),w=y(r),f((F=e((p=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,o(e,"vfxFocus",F,s(e)),o(e,"vfxGlow",d,s(e)),e.tweenFocus=null,e.tweenGlow=null,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.hideEffect()},n.showEffect=function(t,e,i){this.tweenFocus&&this.tweenFocus.stop(),this.tweenGlow&&this.tweenGlow.stop(),this.vfxFocus.active=!0,this.vfxGlow.active=!0,this.vfxFocus.setScale(l(1,1,1)),this.tweenFocus=u(this.vfxFocus).to(t,{scale:l(0,0,0)}).start(),this.vfxGlow.setScale(l(G,G,G)),this.tweenGlow=u(this.vfxGlow).delay(e-.1).to(.1,{scale:l(l(1,1,1))}).delay(i-.1).to(.1,{scale:l(l(G,G,G))}).start()},n.hideEffect=function(){this.tweenFocus&&this.tweenFocus.stop(),this.tweenGlow&&this.tweenGlow.stop(),this.vfxFocus.active=!1,this.vfxGlow.active=!1},e}(a)).prototype,"vfxFocus",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(p.prototype,"vfxGlow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=p))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuShop.ts","./SoundManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts","./DailyMissionManager.ts","./TutorialManager.ts"],(function(t){"use strict";var n,e,a,i,r,s,o,c,u,l,h,p,I,d,y,b,g,f,D,S,m,v,_,T,M,B,C,L,N,O;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,u=t.Node,l=t.Label,h=t.Sprite,p=t.HorizontalTextAlignment,I=t.Component,d=t.log},function(t){y=t.language},function(t){b=t.BoosterDefine,g=t.BoosterType,f=t.AudioSrc,D=t.MISSION_ID,S=t.default,m=t.SaveDataNames},function(t){v=t.MainMenuShop},function(t){_=t.SoundManager},function(t){T=t.UserDataManager},function(t){M=t.default},function(t){B=t.GameScreen},function(t){C=t.Loading},function(t){L=t.DailyMissionManager},function(t){N=t.TutorialManager,O=t.TUTORIAL_STATE}],execute:function(){var A,E,w,U,P,q,R,z,F,k,H,W,Q,x,G,J,Y;o._RF.push({},"ca7c5yZH/dPmoNWOgt3Zh7J","BoosterItemList",void 0);var X=c.ccclass,Z=c.property;t("BoosterData",(function(){this.id=0,this.quantity=0})),t("BoosterItemList",(A=X("BoosterItemList"),E=Z(u),w=Z(u),U=Z(l),P=Z(l),q=Z(l),R=Z(l),z=Z(h),A((H=n((k=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,a(n,"boosterIcon",H,i(n)),a(n,"buttonBuy",W,i(n)),a(n,"labelPrice",Q,i(n)),a(n,"title",x,i(n)),a(n,"desc",G,i(n)),a(n,"ownQuantity",J,i(n)),a(n,"quantityIcon",Y,i(n)),n.currentData=void 0,n.boosterType=-1,n.isInShop=!1,n}e(n,t);var o=n.prototype;return o.onLoad=function(){},o.init=function(t){for(var n=this,e=0;e<b.length;e++)if(t.id==b[e].id){this.currentData=b[e],this.boosterIcon.getComponent(h).spriteFrame=v.Instance.boosterSprite[t.id],this.labelPrice.string=""+this.currentData.price,this.title.string=""+y.t(this.currentData.name),this.desc.string=""+y.t(this.currentData.desc),"ar"==y.language?this.desc.horizontalAlign=p.RIGHT:this.desc.horizontalAlign=p.LEFT;var a=this.currentData.effect_value;this.currentData.type==g.COIN_BOOST&&(a*=100),this.title.string=this.title.string.replace("{number}",""+a),this.currentData.type==g.HEADSTART?this.desc.string=this.desc.string.replace("%{number}",""+a):this.desc.string=this.desc.string.replace("{number}",""+a),this.isInShop=b[e].isInShop,this.updateQuantity(t.quantity),this.currentData.type,g.HEADSTART;break}v.Instance.getAvatar("quantity _base").then((function(t){n.quantityIcon.spriteFrame=t,n.quantityIcon.node.active=!0})),this.isInShop?this.node.active=!0:this.node.active=!1},o.onItemClicked=function(){_.Instance.playOneShot(f.UI_SELECT),this.desc.node.active=!this.desc.node.active,this.buttonBuy.active=!this.desc.node.active},o.updateTutorialFreePrice=function(t){this.labelPrice.string=t?y.t("str_shop_free"):""+this.currentData.price,this.buttonBuy.getComponent(h).grayscale=!1},o.onButtonBuyTutoral=function(){if(N.Instance.tutorialState==O.SHOP_STEP_1_7){_.Instance.playOneShot(f.UI_BUY),v.Instance.updateShopItem(),T.Instance.boosterData.boosterList[this.currentData.id].quantity++,T.Instance.saveBoosterData(),this.updateQuantity(T.Instance.boosterData.boosterList[this.currentData.id].quantity);var t=L.Instance.getActiveMissionIndex(D.booster_buy);return null!=t&&-1!=t&&L.Instance.updateMission(t),T.Instance.saveMissionData(),void M.Send_CURRENCY_SPENT(1,this.currentData.trackingName,B.SHOP,0,T.Instance.coinWallet)}},o.onButtonBuyClicked=function(){var t=this.currentData.price;T.Instance.coinWallet>=t&&T.Instance.boosterData.boosterList[this.currentData.id].quantity<S.MAX_BOOSTER_AMOUNT?(_.Instance.playOneShot(f.UI_CLICK),v.Instance.showPopupConfirm(this)):T.Instance.coinWallet<t?(_.Instance.playOneShot(f.UI_INSUFFICIENT_FUNDS),v.Instance.showError("str_store_insufficient")):T.Instance.boosterData.boosterList[this.currentData.id].quantity>=S.MAX_BOOSTER_AMOUNT&&(_.Instance.playOneShot(f.UI_INSUFFICIENT_FUNDS),v.Instance.showError("str_store_full"))},o.onItemBought=function(){var t=r(s().mark((function t(){var n,e,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},e=this.currentData.price,T.Instance.updateCoinAmount(T.Instance.coinWallet-e,!1),n[m.CoinData]=JSON.stringify(T.Instance.coinWallet),T.Instance.boosterData.boosterList[this.currentData.id].quantity++,n[m.BoosterData]=JSON.stringify(T.Instance.boosterData),C.Instance.show(),t.next=9,T.Instance.saveMultipleInventories(n);case 9:a=t.sent,C.Instance.hide(),a?(T.Instance.updateCoinAmount(T.Instance.coinWallet+e,!1),T.Instance.boosterData.boosterList[this.currentData.id].quantity--,this.updateQuantity(T.Instance.boosterData.boosterList[this.currentData.id].quantity),v.Instance.showError("Purchase error. Please try again.")):(d("UserDataManager","updateShopInventory",this.currentData.id,"completed"),T.Instance.a2hData.shopBuyCount++,v.Instance.updateCoinNumber(),v.Instance.updateShopItem(),this.updateQuantity(T.Instance.boosterData.boosterList[this.currentData.id].quantity),null!=(i=L.Instance.getActiveMissionIndex(D.booster_buy))&&-1!=i&&L.Instance.updateMission(i),T.Instance.saveMissionData(),M.Send_CURRENCY_SPENT(1,this.currentData.trackingName,B.SHOP,this.currentData.price,T.Instance.coinWallet));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateQuantity=function(t){this.ownQuantity.string=t<=99?""+t:"99+"},o.updateButtonBuy=function(){var t=this.currentData.price;T.Instance.coinWallet>=t?this.buttonBuy.getComponent(h).grayscale=!1:this.buttonBuy.getComponent(h).grayscale=!0},n}(I)).prototype,"boosterIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(k.prototype,"buttonBuy",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(k.prototype,"labelPrice",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(k.prototype,"title",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(k.prototype,"desc",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(k.prototype,"ownQuantity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(k.prototype,"quantityIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=k))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./LevelManager.ts","./PlayerManager.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,c,l,u,p,f,g,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Sprite,l=e.SpriteFrame,u=e.Component},function(e){p=e.BoosterDefine,f=e.BoosterType},function(e){g=e.RunningGameManager},function(e){h=e.LevelManager},function(e){v=e.PlayerManager}],execute:function(){var b,d,y,I,m,S,B,C,D,P,z,F,R,w,A;o._RF.push({},"5a443BQpzNPQYjbwGn/kCcz","BoosterProgress",void 0);var M=a.ccclass,T=a.property;e("BoosterProgress",(b=M("BoosterProgress"),d=T(s),y=T(c),I=T(c),m=T(l),S=T(s),B=T(s),b((P=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"progressContainer",P,i(t)),r(t,"progressSprite",z,i(t)),r(t,"iconSprite",F,i(t)),r(t,"iconFrames",R,i(t)),r(t,"iconContainer",w,i(t)),r(t,"container",A,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.progressContainer.active=!1,this.iconContainer.active=!1,this.progressSprite.fillRange=.5,this.container.active=!1},o.update=function(e){if(!g.IsPause){var t=0,n=0,r=null;if(v.Instance.isShieldActive&&v.Instance.isRevivalShield&&-1!=v.Instance.thisBoosterID&&(t++,n=v.Instance.shieldProgress,r=this.iconFrames[v.Instance.thisBoosterID]),g.Instance.isHeadStartActive&&(-1!=v.Instance.thisBoosterID||-1!=v.Instance.otherBoosterID)){var i=p.find((function(e){return e.id==v.Instance.thisBoosterID}));r=i&&i.type==f.HEADSTART?this.iconFrames[i.id]:r,r=(i=p.find((function(e){return e.id==v.Instance.otherBoosterID})))&&i.type==f.HEADSTART?this.iconFrames[i.id]:r,n=h.Instance.headStartProgress,t++}t>0?(this.iconContainer.active=!0,this.progressContainer.active=!0,this.iconSprite.spriteFrame=r,this.progressSprite.fillRange=n,this.container.active=!0):(this.iconContainer.active=!1,this.progressContainer.active=!1,this.container.active=!1)}},t}(u)).prototype,"progressContainer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"progressSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"iconSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"iconFrames",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(D.prototype,"iconContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"container",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Boosters.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./EventManager.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./ErrorPopup.ts"],(function(t){"use strict";var e,o,n,s,i,r,a,c,u,h,l,p,f,B,d,b,S,I,T,y,L,g,N,E,C,_,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Node,h=t.Label,l=t.Sprite,p=t.resources,f=t.SpriteFrame,B=t.Component},function(t){d=t.language},function(t){b=t.BoosterDefine,S=t.BoosterType,I=t.AudioSrc},function(t){T=t.default,y=t.MyEvent},function(t){L=t.MainMenuManager,g=t.POPUPTYPE_MM,N=t.MainMenuEvent},function(t){E=t.SoundManager},function(t){C=t.UserDataManager},function(t){_=t.default},function(t){v=t.FeatureName},function(t){m=t.ErrorPopup}],execute:function(){var D,O,P,A,M,F,G,R,U;a._RF.push({},"85d67NWQu9CgLa5pOxxJf9e","Boosters",void 0);var H,Q=c.ccclass,k=c.property;!function(t){t.CONTAINER="Container",t.HIGHLIGHT_BG="Container/HighlightBG",t.BUTTON_SPRITE="Container/ButtonBooster",t.BG="Container/BG",t.QUANTITY="Container/Quantity",t.QUANTITY_ICON="/Container/BG"}(H||(H={}));t("Boosters",(D=Q("Boosters"),O=k(u),P=k(h),A=k(u),D((G=e((F=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"boosterGrid",G,s(e)),n(e,"boosterDesc",R,s(e)),n(e,"btnOk",U,s(e)),e.boosterLocationList=[],e.chosenBoosterNode=null,e.chosenBoosterId=-1,e.otherChoosenBoosterNode=null,e.otherChoosenBoosterID=-1,e.featureTimeSpent=0,e.TRACKING_INTERVAL=60,e.featureName=v.CHOOSE_BOOSTER,e.isMMFeatureSent=!1,e.quantitySpriteFrame=null,e}o(e,t);var a=e.prototype;return a.onLoad=function(){this.boosterLocationList=[].concat(this.boosterGrid.children)},a.show=function(){var t=i(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,_.Send_FEATURE_FINISHED(L.Instance.featureName,L.Instance.featureTimeSpent)),null!=this.quantitySpriteFrame){t.next=5;break}return t.next=5,this.getAvatar("quantity _base").then((function(t){e.quantitySpriteFrame=t}));case 5:this.loadBoosters();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.resetPanel=function(){for(var t=0;t<this.boosterLocationList.length;t++)this.boosterLocationList[t].getChildByPath(H.BUTTON_SPRITE).getComponent(l).grayscale=!0,this.boosterLocationList[t].getChildByPath(H.QUANTITY).active=!1,this.boosterLocationList[t].getChildByPath(H.HIGHLIGHT_BG).active=!1,this.boosterLocationList[t].getChildByPath(H.CONTAINER).setScale(1,1,1),this.boosterLocationList[t].getChildByPath(H.BG).getComponent(l).spriteFrame=this.quantitySpriteFrame,this.boosterLocationList[t].getChildByPath(H.BG).active=!1},a.updateBoosterQuantity=function(){for(var t=C.Instance.boosterData.boosterList,e=0;e<this.boosterLocationList.length;e++){if(t[e].quantity>0)this.boosterLocationList[e].getChildByPath(H.BUTTON_SPRITE).getComponent(l).grayscale=!1,t[e].quantity>=1&&(this.boosterLocationList[e].getChildByPath(H.BG).active=!0,this.boosterLocationList[e].getChildByPath(H.QUANTITY).active=!0,this.boosterLocationList[e].getChildByPath(H.QUANTITY).getComponent(h).string=t[e].quantity<=99?""+t[e].quantity:"99+")}},a.updateSelectedBooster=function(t){if(e.checkBoosterQuantity(t)){if(this.chosenBoosterNode=this.boosterLocationList[t],this.chosenBoosterNode){this.chosenBoosterNode.getChildByPath(H.HIGHLIGHT_BG).active=!0,this.chosenBoosterNode.getChildByPath(H.CONTAINER).setScale(1.1,1.1,1.1),this.boosterDesc.string=""+d.t(b[t].desc);var o=b[t].effect_value;b[t].type==S.COIN_BOOST&&(o*=100),this.boosterDesc.string=this.boosterDesc.string.replace("%{number}",""+o),this.boosterDesc.string=this.boosterDesc.string.replace("{number}",""+o)}}else this.unSelectBooster()},a.unSelectBooster=function(){this.chosenBoosterNode=null,this.boosterDesc.string=d.t("str_booster_not_select"),C.Instance.lobbyData.booster=-1,C.Instance.saveLobbyData()},a.loadBoosters=function(){this.boosterDesc.string=d.t("str_booster_not_select"),this.resetPanel(),this.updateBoosterQuantity();var t=C.Instance.lobbyData.booster;this.updateSelectedBooster(t)},a.onTutorialUpdateBooster=function(){this.unSelectBooster(),0==C.Instance.boosterData.boosterList[0].quantity&&(C.Instance.updateBoosterQuantity(0,1),this.resetPanel(),this.updateBoosterQuantity())},a.onTutorialSelectBooster=function(){this.resetPanel(),this.updateBoosterQuantity(),this.updateSelectedBooster(0)},a.onBoosterSelected=function(t){E.Instance.playOneShot(I.UI_SELECT);var e=t.target,o=this.boosterLocationList.indexOf(e);this.resetPanel(),this.updateBoosterQuantity(),this.chosenBoosterNode==e?this.unSelectBooster():this.updateSelectedBooster(o)},a.onSelectBoosterClose=function(){this.isMMFeatureSent=!1,_.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),E.Instance.playOneShot(I.UI_BACK),L.Instance.checkLastPopupAndShow(g.BOOSTERS,!1)},e.checkBoosterQuantity=function(t){return t>=0&&t<b.length&&C.Instance.boosterData.boosterList[t].quantity>0},a.onSelectBoosterOk=function(){if(this.chosenBoosterNode){var t=this.boosterLocationList.indexOf(this.chosenBoosterNode);if(!e.checkBoosterQuantity(t))return E.Instance.playOneShot(I.UI_INSUFFICIENT_FUNDS),void m.Instance.show("Sorry, this booster is not available.",!0,(function(){m.Instance.hide()}));C.Instance.lobbyData.booster=t,C.Instance.saveLobbyData(),T.GetInstance().dispatchEvent(new y(N.UPDATE_SELECTED_BOOSTER,{}))}else C.Instance.lobbyData.booster=-1,C.Instance.saveLobbyData(),T.GetInstance().dispatchEvent(new y(N.UPDATE_SELECTED_BOOSTER,{}));this.isMMFeatureSent=!1,_.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),E.Instance.playOneShot(I.UI_CLICK),L.Instance.checkLastPopupAndShow(g.BOOSTERS,!1)},a.update=function(t){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=t,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(_.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0))},a.getAvatar=function(t){var e="/general/"+t+"/spriteFrame";return new Promise((function(t,o){p.load(e,f,(function(e,o){t(o)}))}))},e}(B)).prototype,"boosterGrid",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"boosterDesc",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"btnOk",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=F))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterSelected.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts"],(function(e){"use strict";var t,o,n,r,i,a,s,c,l,p,u,d,_,h,y,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.SpriteFrame,c=e.Node,l=e.UIOpacity,p=e.instantiate,u=e.Sprite,d=e.tween,_=e.Component},function(e){h=e.BoosterId,y=e.EventName},function(e){O=e.default}],execute:function(){var E,A,S,f,m,v,T,b,B,R;e("BOOSTER_SHOW_TYPE",void 0),i._RF.push({},"c5ec8lkLodDjY2FKot2ECzM","BoosterSelected",void 0);var C,w=a.ccclass,P=a.property;!function(e){e[e.AP=0]="AP",e[e.GAMEOVER=1]="GAMEOVER"}(C||(C=e("BOOSTER_SHOW_TYPE",{})));var g=((E={})[h.NONE]={types:[]},E[h.HEADSTART_01]={types:[C.AP]},E[h.HEADSTART_02]={types:[C.AP]},E[h.HEADSTART_03]={types:[C.AP]},E[h.COIN_BOOST_01]={types:[C.AP,C.GAMEOVER]},E[h.COIN_BOOST_02]={types:[C.AP,C.GAMEOVER]},E[h.COIN_BOOST_03]={types:[C.AP,C.GAMEOVER]},E[h.QTE_HEADSTART_01]={types:[C.AP]},E[h.QTE_HEADSTART_02]={types:[C.AP]},E[h.REVIVAL]={types:[C.AP]},E);e("BoosterSelected",(A=w("BoosterSelected"),S=P(s),f=P(c),m=P(c),A((b=t((T=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"boosterFrames",b,r(t)),n(t,"templateNode",B,r(t)),n(t,"container",R,r(t)),t._updateBoosterCallback=void 0,t._uiOpacity=void 0,t._tweenShow=null,t}o(t,e);var i=t.prototype;return i.onLoad=function(){this._updateBoosterCallback=this.onShowBooster.bind(this),O.GetInstance().addEventListener(y.SHOW_BOOSTER,this._updateBoosterCallback),this._uiOpacity=this.getComponent(l)},i.onDestroy=function(){O.GetInstance().removeEventListener(y.SHOW_BOOSTER,this._updateBoosterCallback),this._updateBoosterCallback=null},i.onShowBooster=function(e){var t=this,o=e.parameters,n=o.boosters,r=o.type;this.container.removeAllChildren(),n&&n.length>0&&(n.forEach((function(e){var o=g[e].types;if(o&&-1!=o.indexOf(r)&&e>=0&&t.boosterFrames[e]&&t.templateNode&&t.container){var n=p(t.templateNode);n.active=!0,t.container.addChild(n),n.getComponent(u).spriteFrame=t.boosterFrames[e]}})),this._tweenShow&&this._tweenShow.stop(),this._tweenShow=d(this._uiOpacity).set({opacity:0}).to(.5,{opacity:255}).delay(1).to(.5,{opacity:0}).call((function(){t.container.removeAllChildren()})).start())},t}(_)).prototype,"boosterFrames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(T.prototype,"templateNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"container",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Boots.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Powerup.ts"],(function(t){"use strict";var o,e,r,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){s=t.Powerup}],execute:function(){var n;e._RF.push({},"e02508HoR9DMILqM+bm/JBa","Boots",void 0);var c=r.ccclass;r.property,t("Boots",c("Boots")(n=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAccessoryCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameResourceManager.ts","./AccessoryItem.ts"],(function(e){"use strict";var t,r,n,c,s,a,o,i,u,h,f,y,d,l,p,v,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,c=e.assertThisInitialized,s=e.createClass,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,u=e._decorator,h=e.Node,f=e.Component,y=e.instantiate,d=e.SkinnedMeshRenderer},function(e){l=e.ACCESSORY_ITEMS,p=e.AccessoryType},function(e){v=e.GameResourceManager},function(e){A=e.AccessoryItem}],execute:function(){var m,k,C,x,b;i._RF.push({},"4a3359A5QBKXr5L+0kFzbVM","CharacterAccessoryCtrl",void 0);var g=u.ccclass,_=u.property;e("CharacterAccessoryCtrl",(m=g("CharacterAccessoryCtrl"),k=_(h),m((b=t((x=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"accessoryContainer",b,c(t)),t._character=void 0,t._accessoryItems=[],t}r(t,e);var i=t.prototype;return i.unloadElements=function(){this.accessoryContainer.removeAllChildren(),this._accessoryItems.length=0},i.loadAcessory=function(){var e=a(o().mark((function e(t){var r,n,c,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=l[t])||r.character!=this.character||this.accessoryContainer.getChildByName(t)){e.next=7;break}return e.next=4,v.Instance.loadAccessory(t);case 4:n=e.sent,(c=y(n))&&((s=c.getComponent(A))&&(s.initData(),this._accessoryItems.push(s)),this.accessoryContainer.addChild(c),c.active=!1,(a=c.getComponent(d))&&(a.skinningRoot=this.node));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.loadAccessories=function(){var e=a(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=o().keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}return r=e.t1.value,e.next=5,this.loadAcessory(t[r]);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.updateAccessories=function(){var e=a(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}e.t0=o().keys(t);case 2:if((e.t1=e.t0()).done){e.next=15;break}if("head"!=(r=e.t1.value)){e.next=7;break}return e.next=7,this.useAccessory(t[r],p.Head);case 7:if("body"!=r){e.next=10;break}return e.next=10,this.useAccessory(t[r],p.Body);case 10:if("leg"!=r){e.next=13;break}return e.next=13,this.useAccessory(t[r],p.Leg);case 13:e.next=2;break;case 15:e.next=18;break;case 17:this.unUseAllAccessory();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.useAccessory=function(){var e=a(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=-1),""==t&&-1!=r&&this.unUseAccessory("",r),!(n=l[t])||n.character!=this.character){e.next=6;break}return e.next=6,this.loadAcessory(t);case 6:n&&this._accessoryItems.filter((function(e){return e&&e.data&&e.data.type==n.type&&e.data.character==n.character})).forEach(a(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t===r.id?0==r.node.active&&(r.node.active=!0):1==r.node.active&&(r.node.active=!1);case 1:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i.unUseAccessory=function(e,t){if(void 0===t&&(t=-1),""==e&&-1!=t){this._accessoryItems.filter((function(e){return e&&e.data.type==t})).forEach((function(e){1==e.node.active&&(e.node.active=!1)}))}else{var r=l[e];if(r&&r.character==this.character)this._accessoryItems.filter((function(t){return t&&t.id==e})).forEach((function(e){1==e.node.active&&(e.node.active=!1)}))}},i.unUseAllAccessory=function(){this._accessoryItems.forEach((function(e){1==e.node.active&&(e.node.active=!1)}))},i.checkAccessoriesCharId=function(e){return!!this._accessoryItems.find((function(t){return t&&t.id==e}))},s(t,[{key:"character",get:function(){return this._character},set:function(e){this._character=e}}]),t}(f)).prototype,"accessoryContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=x))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAnimCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./GameResourceManager.ts","./NetworkManager.ts","./RunningGameManager.ts","./BackpackAnimCtrl.ts","./CharacterVFX.ts","./Pooling.ts"],(function(i){"use strict";var e,t,n,a,r,l,o,c,h,u,_,s,m,k,f,E,T,A,S,C,d,p,y,g,R,b,v;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass,l=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){c=i.cclegacy,h=i._decorator,u=i.Node,_=i.SkeletalAnimation,s=i.SkinnedMeshRenderer,m=i.BoxCollider,k=i.Prefab,f=i.instantiate,E=i.v3,T=i.Component},function(i){A=i.CharacterAccessoryCtrl},function(i){S=i.PLAYER_CHARACTER,C=i.VFX_CHARACTER,d=i.ROOM_STATE},function(i){p=i.GameResourceManager},function(i){y=i.NetworkManager},function(i){g=i.RunningGameManager},function(i){R=i.BackpackAnimCtrl},function(i){b=i.CharacterVFX},function(i){v=i.Pooling}],execute:function(){var M,P,I,Q,x,D,N,O,L,H,w,B,U,F,G,z,V,W,J,K,Y,X,j,Z,q,$,ii,ei,ti,ni,ai,ri,li,oi,ci,hi,ui,_i,si,mi,ki,fi;i({CHARACTER_ANIM:void 0,CHARACTER_ANIM_CONTEXT:void 0}),c._RF.push({},"e44cbJWthZK8JlUZF+9sRou","CharacterAnimCtrl",void 0);var Ei,Ti,Ai=h.ccclass,Si=h.property;!function(i){i[i.NONE=0]="NONE",i[i.IDLE=1]="IDLE",i[i.RUN=2]="RUN",i[i.DASH_START=3]="DASH_START",i[i.DASH_MID=4]="DASH_MID",i[i.DASH_END=5]="DASH_END",i[i.JUMP=6]="JUMP",i[i.DOUBLE_JUMP=7]="DOUBLE_JUMP",i[i.RECEIVE=8]="RECEIVE",i[i.THROW=9]="THROW",i[i.LOOK=10]="LOOK",i[i.FIDGET=11]="FIDGET",i[i.REWARD=12]="REWARD",i[i.STUMBLE=13]="STUMBLE",i[i.STUN=14]="STUN",i[i.QTE1_SWING=15]="QTE1_SWING",i[i.QTE1_SERVICE=16]="QTE1_SERVICE",i[i.QTE1_IDLE=17]="QTE1_IDLE",i[i.QTE2_IDLE=18]="QTE2_IDLE",i[i.QTE2_IDLE_START=19]="QTE2_IDLE_START",i[i.QTE2_PLAYING=20]="QTE2_PLAYING",i[i.QTE3_Idle=21]="QTE3_Idle",i[i.QTE3_Throw=22]="QTE3_Throw",i[i.QTE3_Take=23]="QTE3_Take",i[i.CHATTING=24]="CHATTING",i[i.LEADERBOARD=25]="LEADERBOARD"}(Ei||(Ei=i("CHARACTER_ANIM",{}))),function(i){i[i.BLOCKOUT=0]="BLOCKOUT",i[i.ACCESSORY=1]="ACCESSORY",i[i.AP=2]="AP",i[i.GAMEOVER=3]="GAMEOVER",i[i.QTE1=4]="QTE1",i[i.QTE2=5]="QTE2",i[i.QTE3=6]="QTE3"}(Ti||(Ti=i("CHARACTER_ANIM_CONTEXT",{})));var Ci=i("CHARACTER_ANIMS",((M={})[Ei.NONE]=void 0,M[Ei.IDLE]={fileMilky:"Milky_Breath",fileSchoki:"Schoki_Breath",anim:"Breath",context:[Ti.BLOCKOUT,Ti.ACCESSORY,Ti.AP]},M[Ei.RUN]={fileMilky:"Milky_Run",fileSchoki:"Schoki_Run",anim:"Run",context:[Ti.AP]},M[Ei.DASH_START]={fileMilky:"Milky_Slide_Start",fileSchoki:"Schoki_Slide_Start",anim:"SlideStart",context:[Ti.AP]},M[Ei.DASH_MID]={fileMilky:"Milky_Slide_Mid",fileSchoki:"Schoki_Slide_Mid",anim:"SlideMid",context:[Ti.AP]},M[Ei.DASH_END]={fileMilky:"Milky_Slide_End",fileSchoki:"Schoki_Slide_End",anim:"SlideEnd",context:[Ti.AP]},M[Ei.JUMP]={fileMilky:"Milky_Jump",fileSchoki:"Schoki_Jump",anim:"Jump",context:[Ti.AP]},M[Ei.DOUBLE_JUMP]={fileMilky:"Milky_Jump",fileSchoki:"Schoki_Jump",anim:"Jump",context:[Ti.AP]},M[Ei.RECEIVE]={fileMilky:"Milky_Backpack_Receive",fileSchoki:"Schoki_Backpack_Receive",anim:"ReceiveBackpack",context:[Ti.AP]},M[Ei.THROW]={fileMilky:"Milky_Throw",fileSchoki:"Schoki_Backpack_Throw",anim:"ThrowBackpack",context:[Ti.AP]},M[Ei.LOOK]={fileMilky:"Milky_Look_side",fileSchoki:"Schoki_Look_Side",anim:"LookSide",context:[Ti.AP]},M[Ei.FIDGET]={fileMilky:"Milky_Fidget",fileSchoki:"Schoki_Fidget",anim:"Fidget",context:[Ti.BLOCKOUT,Ti.ACCESSORY,Ti.AP,Ti.GAMEOVER]},M[Ei.REWARD]={fileMilky:"Milky_Reward",fileSchoki:"Schoki_Reward",anim:"Reward",context:[Ti.QTE1,Ti.QTE2,Ti.QTE3,Ti.GAMEOVER]},M[Ei.STUMBLE]={fileMilky:"Milky_Stumble",fileSchoki:"Schoki_Stumble",anim:"Stumble",context:[Ti.AP]},M[Ei.STUN]={fileMilky:"Milky_Stun",fileSchoki:"Schoki_Stun",anim:"Stun",context:[Ti.AP]},M[Ei.QTE1_SWING]={fileMilky:"Milky_Shop_Anim_QTE1_Swing",fileSchoki:"Schoki_Shop_Anim_QTE1_Swing",anim:"Swing",context:[Ti.QTE1]},M[Ei.QTE1_SERVICE]={fileMilky:"Milky_Shop_Anim_QTE1_Service",fileSchoki:"Schoki_Shop_Anim_QTE1_Service",anim:"Service",context:[Ti.QTE1]},M[Ei.QTE1_IDLE]={fileMilky:"Milky_Shop_Anim_QTE1_Idle",fileSchoki:"Schoki_Shop_Anim_QTE1_Idle",anim:"Idle",context:[Ti.QTE1]},M[Ei.QTE2_IDLE]={fileMilky:"Milky_Shop_Anim_QTE2_Idle",fileSchoki:"Schoki_Shop_Anim_QTE2_Idle",anim:"QTE2Idle",context:[Ti.QTE2]},M[Ei.QTE2_IDLE_START]={fileMilky:"Milky_Shop_Anim_QTE2_Idle_Start",fileSchoki:"Schoki_Shop_Anim_QTE2_Idle_Start",anim:"QTE2IdleStart",context:[Ti.QTE2]},M[Ei.QTE2_PLAYING]={fileMilky:"Milky_Shop_Anim_QTE2_Playing",fileSchoki:"Schoki_Shop_Anim_QTE2_Playing",anim:"QTE2Playing",context:[Ti.QTE2]},M[Ei.QTE3_Idle]={fileMilky:"Milky_Breath_With_The_Hat",fileSchoki:"Schoki_Idle_With_Hat",anim:"QTE3Idle",context:[Ti.QTE3]},M[Ei.QTE3_Throw]={fileMilky:"Milky_Throw_The_Hat",fileSchoki:"Schoki_Throw_The_Hat",anim:"QTE3ThrowHat",context:[Ti.QTE3]},M[Ei.QTE3_Take]={fileMilky:"Milky_Shop_Anim_QTE3_Catch_The_Hat",fileSchoki:"Schoki_Shop_Anim_QTE3_Catch_The_Hat",anim:"QTE3TakeHat",context:[Ti.QTE3]},M[Ei.CHATTING]={fileMilky:"Milky_Chatting",fileSchoki:"Schoki_Chatting",anim:"Chatting",context:[Ti.BLOCKOUT]},M[Ei.LEADERBOARD]={fileMilky:"Milky_Leaderboard",fileSchoki:"Schoki_Leaderboard",anim:"Leaderboard",context:[Ti.BLOCKOUT]},M));i("CharacterAnimCtrl",(P=Ai("CharacterAnimCtrl"),I=Si(String),Q=Si(String),x=Si(String),D=Si(String),N=Si(String),O=Si(String),L=Si(String),H=Si(u),w=Si(_),B=Si(s),U=Si(m),F=Si(u),G=Si(u),z=Si(u),V=Si(u),W=Si(u),J=Si(k),K=Si(k),Y=Si(k),P((Z=e((j=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"skeletonPath",Z,a(e)),n(e,"meshPath",q,a(e)),n(e,"handPath",$,a(e)),n(e,"backPath",ii,a(e)),n(e,"racketPath",ei,a(e)),n(e,"ukuleleContainerPath",ti,a(e)),n(e,"harmonicaContainerPath",ni,a(e)),n(e,"rig",ai,a(e)),n(e,"skeleton",ri,a(e)),n(e,"m_MeshRenderer",li,a(e)),n(e,"m_collider",oi,a(e)),n(e,"m_hand",ci,a(e)),n(e,"m_back",hi,a(e)),n(e,"m_racket",ui,a(e)),n(e,"m_ukuleleContainer",_i,a(e)),n(e,"m_harmonicaContainer",si,a(e)),n(e,"m_prefabRacket",mi,a(e)),n(e,"m_prefabUkulele",ki,a(e)),n(e,"m_prefabHarmonica",fi,a(e)),e._racket=null,e._ukulele=null,e._harmonica=null,e.vfxRacketTrail=null,e.isGameOverAnim=!1,e.loopTime=0,e.loopTimeMax=1,e.callback=null,e.callbackAnim=Ei.NONE,e.tweenBlink=null,e._currentAnim=Ei.NONE,e.animDefault=Ei.NONE,e.animState=null,e._runningAnimDuration=0,e._vfxCtrl=null,e.character=S.MILKY,e._accessoryCtrl=null,e._backpackCtrl=null,e}t(e,i);var c=e.prototype;return c.onLoad=function(){this._vfxCtrl=this.getComponent(b)},c.loadAnimations=function(){var i=l(o().mark((function i(e){var t;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=Object.entries(Ci).filter((function(i){i[0];var t=i[1];return!!(t&&t.context&&t.context.includes(e))})).map((function(i){return i[1]})),i.next=3,this.loadAnimation(this.skeleton,this.character,t);case 3:case"end":return i.stop()}}),i,this)})));return function(e){return i.apply(this,arguments)}}(),c.unloadCharacter=function(){var i,t,n,a,r,l;null==(i=this.m_ukuleleContainer)||i.removeAllChildren(),this._ukulele=null,null==(t=this.m_harmonicaContainer)||t.removeAllChildren(),this._harmonica=null,null==(n=this.m_racket)||n.removeAllChildren(),this._racket=null,null==(a=this.backpackCtrl)||a.unloadElements(),null==(r=this.accessoryCtrl)||r.unloadElements(),null==(l=this.vfxCtrl)||l.unloadElements();for(var o=[].concat(this.skeleton.clips),c=o.length-1;c>=0;c--){var h=o[c];h.name!=e.getAnimName(Ei.IDLE)&&(console.log("remove anim",h.name),this.skeleton.removeClip(h,!0))}v.getInstance().putRig(this.character,this.rig),this.rig=null,this.skeleton=null},c.loadAnimation=function(){var i=l(o().mark((function i(e,t,n){var a,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=o().mark((function i(a){var r,l;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=n[a])){i.next=8;break}if(e.clips.find((function(i){return i.name==r.anim}))){i.next=8;break}return i.next=6,p.Instance.loadCharacterAnimation(t,r);case 6:(l=i.sent)&&e.addClip(l);case 8:case"end":return i.stop()}}),i)})),r=0;case 2:if(!(r<n.length)){i.next=7;break}return i.delegateYield(a(r),"t0",4);case 4:r++,i.next=2;break;case 7:case"end":return i.stop()}}),i)})));return function(e,t,n){return i.apply(this,arguments)}}(),c.init=function(i,e){this.rig=v.getInstance().getRig(this.character),this.rig.active=!0,this.node.addChild(this.rig),this.skeleton=this.node.getChildByPath(this.skeletonPath).getComponent(_),this.m_MeshRenderer=this.node.getChildByPath(this.meshPath).getComponent(s),this.m_hand=this.node.getChildByPath(this.handPath),this.m_back=this.node.getChildByPath(this.backPath),this.m_racket=this.node.getChildByPath(this.racketPath),this.m_collider=this.node.getComponent(m),this.ukuleleContainerPath&&""!=this.ukuleleContainerPath&&(this.m_ukuleleContainer=this.node.getChildByPath(this.ukuleleContainerPath)),this.harmonicaContainerPath&&""!=this.harmonicaContainerPath&&(this.m_harmonicaContainer=this.node.getChildByPath(this.harmonicaContainerPath)),this._runningAnimDuration=0,this.skeleton.on(_.EventType.FINISHED,this.onFinished,this),this.skeleton.on(_.EventType.LASTFRAME,this.onLastFrame,this),this._currentAnim=null,this.animDefault=i,e&&this.PlayAnim(this.animDefault),this._vfxCtrl.init()},c.initMusicalInstrument=function(){var i=this;return new Promise((function(e,t){i.m_prefabUkulele&&i.m_ukuleleContainer&&(i._ukulele||(i._ukulele=f(i.m_prefabUkulele),i.m_ukuleleContainer.addChild(i._ukulele))),i.m_prefabHarmonica&&i.m_harmonicaContainer&&(i._harmonica||(i._harmonica=f(i.m_prefabHarmonica),i.m_harmonicaContainer.addChild(i._harmonica))),e()}))},c.initRacket=function(){var i=this;return new Promise((function(e,t){if(!i._racket){i._racket=f(i.m_prefabRacket),i.m_racket.addChild(i._racket);var n=i._racket.getChildByName("Racket");i.vfxRacketTrail=n.getChildByName("VFX_Racket_Trail"),i._vfxCtrl.vfxRacketHitPerfect=n.getChildByName("VFX_Racket_Hit_Perfect"),i._vfxCtrl.vfxRacketHit=n.getChildByName("VFX_Racket_Hit")}i.vfxRacketTrail&&(i.vfxRacketTrail.active=!1),i._vfxCtrl.vfxRacketHitPerfect&&(i._vfxCtrl.vfxRacketHitPerfect.active=!1),i._vfxCtrl.vfxRacketHit&&(i._vfxCtrl.vfxRacketHit.active=!1),e()}))},c.rotateChacter=function(i){i?this.node.setRotationFromEuler(E(0,0,0)):this.node.setRotationFromEuler(E(0,180,0))},c.PauseAnim=function(){this.skeleton.stop()},c.ResumeAnim=function(){var i=this._currentAnim;this._currentAnim=Ei.NONE,this.PlayAnim(i,this.callback)},c.checkCanPlayReceiveAnim=function(i){return!0},c.getAnimDuration=function(i){var t=e.getAnimName(i),n=this.skeleton.clips.find((function(i){return i.name==t}));return n?n.duration:0},c.PlayAnim=function(i,t,n,a,r,l){var o=this;if(void 0===r&&(r=!1),void 0===l&&(l=.25),this.skeleton&&this._currentAnim!=i){var c=e.getAnimName(i);i!=Ei.QTE1_SERVICE&&i!=Ei.QTE1_SWING||this.vfxRacketTrail&&(this.vfxRacketTrail.active=!0);var h=this.skeleton.clips.find((function(i){return i.name==c})),u=h?h.duration:0;if(a&&(u>0?this.scheduleOnce((function(){a()}),u):a()),""!=c){this._runningAnimDuration=0;var _=this.checkCanPlayReceiveAnim(i);n&&n>0?this.scheduleOnce((function(){_&&o._currentAnim==i&&o.skeleton.play(c)}),n):_&&(r?this.skeleton.crossFade(c,l):(this.skeleton.stop(),this.skeleton.play(c)))}this.m_collider.size=this.getCollisionSize(i),this.m_collider.center=this.getCollisionCenter(i),this.vfxCtrl&&i!=Ei.STUN&&this.vfxCtrl.playVFX(C.STUN,!1),""!=c&&h?(this.callback=t,this.callbackAnim=i):(this.callback=null,this.callbackAnim=Ei.NONE,t&&t(this)),this._currentAnim=i}},c.getCollisionSize=function(i){var e=E(1.5,7,1.5);return i!=Ei.DASH_START&&i!=Ei.DASH_MID||(e=E(1.5,3,1.5)),e},c.getCollisionCenter=function(i){var e=E(0,3.5,0);return i!=Ei.DASH_START&&i!=Ei.DASH_MID||(e=E(0,1.5,0)),e},e.getAnimName=function(i){return Ci[i].anim},c.PlayBlinkEffect=function(i){},c.onFinished=function(i,e){},c.onLastFrame=function(i,t){var n=this.callback;if(t.name,e.getAnimName(Ei.DASH_START),t.name!=e.getAnimName(Ei.FIDGET)||y.Instance.state!=d.QTE)return t.name==e.getAnimName(Ei.QTE1_SERVICE)||t.name==e.getAnimName(Ei.QTE1_SWING)?(this.PlayAnim(Ei.QTE1_IDLE),void(this.vfxRacketTrail&&(this.vfxRacketTrail.active=!1))):void(t.name!=e.getAnimName(Ei.REWARD)?n&&this.callbackAnim==this._currentAnim&&e.getAnimName(this.callbackAnim)==t.name&&(this.callback=null,n(this),this.callbackAnim=Ei.NONE):this.loopTime<this.loopTimeMax?this.loopTime++:this.PlayAnim(Ei.FIDGET));this.PlayAnim(Ei.QTE1_IDLE)},c.update=function(i){var e=this;g.IsPause||(this._currentAnim==Ei.RUN?(this._runningAnimDuration+=i,this._runningAnimDuration>=3&&this.PlayAnim(Ei.LOOK,(function(){e.PlayAnim(Ei.RUN),e._runningAnimDuration=0}))):this._runningAnimDuration=0)},r(e,[{key:"hand",get:function(){return this.m_hand}},{key:"back",get:function(){return this.m_back}},{key:"currentAnim",get:function(){return this._currentAnim}},{key:"vfxCtrl",get:function(){return this._vfxCtrl||(this._vfxCtrl=this.getComponent(b)),this._vfxCtrl},set:function(i){this._vfxCtrl=i}},{key:"accessoryCtrl",get:function(){return this._accessoryCtrl||(this._accessoryCtrl=this.skeleton.getComponent(A)),this._accessoryCtrl}},{key:"backpackCtrl",get:function(){return this._backpackCtrl||(this._backpackCtrl=this.skeleton.getComponent(R)),this._backpackCtrl}}]),e}(T)).prototype,"skeletonPath",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=e(j.prototype,"meshPath",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=e(j.prototype,"handPath",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ii=e(j.prototype,"backPath",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ei=e(j.prototype,"racketPath",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ti=e(j.prototype,"ukuleleContainerPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ni=e(j.prototype,"harmonicaContainerPath",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ai=e(j.prototype,"rig",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=e(j.prototype,"skeleton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=e(j.prototype,"m_MeshRenderer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=e(j.prototype,"m_collider",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e(j.prototype,"m_hand",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=e(j.prototype,"m_back",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=e(j.prototype,"m_racket",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=e(j.prototype,"m_ukuleleContainer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=e(j.prototype,"m_harmonicaContainer",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=e(j.prototype,"m_prefabRacket",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=e(j.prototype,"m_prefabUkulele",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=e(j.prototype,"m_prefabHarmonica",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=j))||X));c._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAnimCtrlMainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts","./CharacterAnimCtrl.ts"],(function(n){"use strict";var t,i,e,a,r,c,s,l,o,u,h,m,A;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.createClass},function(n){c=n.cclegacy,s=n._decorator,l=n.SkeletalAnimation,o=n.v3,u=n.Component},function(n){h=n.RunningGameManager},function(n){m=n.CHARACTER_ANIM,A=n.CHARACTER_ANIMS}],execute:function(){var f,k,p,C,v;c._RF.push({},"8c40aoHVkVCNYppWl5fYDtc","CharacterAnimCtrlMainMenu",void 0);var y=s.ccclass,N=s.property;n("CharacterAnimCtrlMainMenu",(f=y("CharacterAnimCtrlMainMenu"),k=N(l),f((v=t((C=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,e(t,"skeleton",v,a(t)),t.callback=null,t.callbackAnim=m.NONE,t.tweenBlink=null,t._currentAnim=m.NONE,t.animDefault=m.NONE,t.animState=null,t._runningAnimDuration=0,t}i(t,n);var c=t.prototype;return c.onLoad=function(){},c.init=function(n,t){this.skeleton&&(this._runningAnimDuration=0,this.skeleton.on(l.EventType.FINISHED,this.onFinished,this),this.skeleton.on(l.EventType.LASTFRAME,this.onLastFrame,this),this._currentAnim=null,this.animDefault=n,t&&this.PlayAnim(this.animDefault))},c.rotateChacter=function(n){n?this.node.setRotationFromEuler(o(0,0,0)):this.node.setRotationFromEuler(o(0,180,0))},c.PauseAnim=function(){this.skeleton.stop()},c.ResumeAnim=function(){var n=this._currentAnim;this._currentAnim=m.NONE,this.PlayAnim(n,this.callback)},c.checkCanPlayReceiveAnim=function(n){return!0},c.PlayAnim=function(n,t,i,e){var a=this;if(this.skeleton&&this._currentAnim!=n){var r=this.getAnimName(n),c=this.skeleton.clips.find((function(n){return n.name==r})),s=c?c.duration:0;if(e&&(s>0?this.scheduleOnce((function(){e()}),s):e()),""!=r){this._runningAnimDuration=0;var l=this.checkCanPlayReceiveAnim(n);i&&i>0?this.scheduleOnce((function(){l&&a._currentAnim==n&&a.skeleton.play(r)}),i):l&&(this.skeleton.stop(),this.skeleton.play(r))}""!=r&&c?(this.callback=t,this.callbackAnim=n):(this.callback=null,this.callbackAnim=m.NONE,t&&t(this)),this._currentAnim=n}},c.getAnimName=function(n){var t;return null==(t=A[n])?void 0:t.anim},c.onFinished=function(){},c.onLastFrame=function(n,t){var i=this.callback;i&&this.callbackAnim==this._currentAnim&&this.getAnimName(this.callbackAnim)==t.name&&(this.callback=null,i(this),this.callbackAnim=m.NONE)},c.update=function(n){h.IsPause},r(t,[{key:"currentAnim",get:function(){return this._currentAnim}}]),t}(u)).prototype,"skeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=C))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var e,r,c,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,c=t._decorator,n=t.Component},function(t){o=t.PLAYER_CHARACTER}],execute:function(){var s,a;r._RF.push({},"842cf9XyPxAUrZnzbrPBpTS","CharacterSelect",void 0);var i=c.ccclass;c.property,(s={})[o.MILKY]="milky",s[o.SCHOKI]="schoki",t("CharacterSelect",i("CharacterSelect")(a=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r}(n))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterUIFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./PlayerManager.ts"],(function(t){"use strict";var i,n,e,o,a,r,s,l,c,u,p,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Enum,l=t.v3,c=t.Component},function(t){u=t.PLAYER_TYPE},function(t){p=t.RunningGameManager},function(t){h=t.PlayerManager}],execute:function(){var y,P,d,f,_;a._RF.push({},"ab593UlozFEa45VcAU9oFTK","CharacterUIFollow",void 0);var g=r.ccclass,m=r.property;t("CharacterUIFollow",(y=g("CharacterUIFollow"),P=m({type:s(u)}),y((_=i((f=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,e(i,"m_type",_,o(i)),i._initialPosition=null,i}n(i,t);var a=i.prototype;return a.update=function(){},a.updateIndicator=function(){if(this._initialPosition||(this._initialPosition=p.Instance.playerCamera.convertToUINode(this.m_type==u.PLAYER?h.Instance.thisPlayer.node.getWorldPosition():h.Instance.otherPlayer.node.getWorldPosition(),this.node.parent)),this._initialPosition){var t=this.m_type==u.PLAYER?-40:40;this.node.setPosition(l(this._initialPosition.x,this._initialPosition.y).add(l(t,450)))}},i}(c)).prototype,"m_type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.PLAYER}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts","./NetworkManager.ts","./RunningGameManager.ts","./CharacterAnimCtrl.ts","./EnvironmentPool.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,u,s,c,f,h,b,P,p,v,d,g,x,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Node,u=t.NodePool,s=t.v3,c=t.instantiate,f=t.ParticleSystem,h=t.Component},function(t){b=t.VFX_CHARACTER,P=t.EnvironmentType,p=t.AreaType},function(t){v=t.MainMenuDebug},function(t){d=t.NetworkManager},function(t){g=t.RunningGameManager},function(t){x=t.CharacterAnimCtrl},function(t){_=t.default}],execute:function(){var C,m,y,S,T,F,R,D,A,H,k,E,w,N,I,z,L,O,M,B,V,J,U,X,G,W,K,Y,j,q,Q,Z,$,tt,et,nt,it;a._RF.push({},"20919BFEypMTrYAsCRIfr0w","CharacterVFX",void 0);var rt=o.ccclass,at=o.property;t("CharacterVFX",(C=rt("CharacterVFX"),m=at(String),y=at(String),S=at(String),T=at(String),F=at(String),R=at(l),D=at(l),A=at(l),H=at(l),k=at(l),E=at(l),w=at(l),N=at(l),I=at(l),z=at(l),L=at(l),O=at(l),C((V=e((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"vfxCharacterPath",V,r(e)),i(e,"vfxStunPath",J,r(e)),i(e,"leftFootPath",U,r(e)),i(e,"rightFootPath",X,r(e)),i(e,"vfxNotePath",G,r(e)),i(e,"vfxCharacter",W,r(e)),i(e,"vfxStun",K,r(e)),i(e,"vfxSandDust",Y,r(e)),i(e,"vfxSandLanding",j,r(e)),i(e,"leftFootPos",q,r(e)),i(e,"rightFootPos",Q,r(e)),i(e,"vfxDash",Z,r(e)),i(e,"vfxShield",$,r(e)),i(e,"vfxHyperBoost",tt,r(e)),i(e,"vfxHit",et,r(e)),i(e,"doubleJumpTemplate",nt,r(e)),i(e,"vfxMusicNote",it,r(e)),e.vfxRacketHitPerfect=null,e.vfxRacketHit=null,e._sandRunPool=null,e._sandLandingPool=null,e._doubleJumpPool=null,e._racketHitPerfectPool=null,e._animCtrl=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this._sandRunPool=new u,this._sandLandingPool=new u,this._doubleJumpPool=new u,this._racketHitPerfectPool=new u,this._animCtrl=this.getComponent(x)},a.init=function(){this.vfxCharacterPath&&""!=this.vfxCharacterPath&&(this.vfxCharacter=this.node.getChildByPath(this.vfxCharacterPath)),this.vfxStun=this.node.getChildByPath(this.vfxStunPath),this.leftFootPos=this.node.getChildByPath(this.leftFootPath),this.rightFootPos=this.node.getChildByPath(this.rightFootPath),this.vfxMusicNote=this.node.getChildByPath(this.vfxNotePath)},a.onDestroy=function(){this._sandRunPool.clear(),this._sandLandingPool.clear(),this._doubleJumpPool.clear(),this._racketHitPerfectPool.clear(),this._sandRunPool=null,this._sandLandingPool=null,this._doubleJumpPool=null,this._racketHitPerfectPool=null},a.unloadElements=function(){this.vfxStun&&(this.vfxStun.active=!1)},a.playVFX=function(t,e,n,i){if(void 0===i&&(i=null),v.getDeviceProfile().VFX){var r=null;switch(t){case b.CHARACTER:r=this.vfxCharacter;break;case b.STUN:r=this.vfxStun;break;case b.DASH:r=this.vfxDash;break;case b.SHIELD:r=this.vfxShield;break;case b.HYPER_BOOST:r=this.vfxHyperBoost;break;case b.HIT:r=this.vfxHit;break;case b.RACKET_HIT:r=this.vfxRacketHit;break;case b.RACKET_HIT_PERFECT:r=this.vfxRacketHitPerfect;break;case b.MUSIC_NOTE:r=this.vfxMusicNote;break;case b.DOUBLE_JUMP:e&&(r=this.getVfxInstance(t));break;case b.SAND_DUST:case b.LEFT_FOOT:case b.RIGHT_FOOT:case b.SAND_LANDING:e&&d.Instance.lobbyInfo.environment==P.TROPICAL&&(_.CurrentArea!=p.AREA1&&_.CurrentArea!=p.AREA3||(r=this.getVfxInstance(t)))}this.enableVFX(r,e),r&&i&&r.setWorldPosition(i)}},a.put=function(t,e){var n=this.getPool(t);n&&n.put(e)},a.getPool=function(t){var e=null;return t==b.LEFT_FOOT||t==b.RIGHT_FOOT||(t==b.SAND_DUST?e=this._sandRunPool:t==b.SAND_LANDING?e=this._sandLandingPool:t==b.DOUBLE_JUMP?e=this._doubleJumpPool:t==b.RACKET_HIT_PERFECT&&(e=this._racketHitPerfectPool)),e},a.getVfxInstance=function(t){var e=this,n=this.getPool(t),i=null,r=null,a=s(0,0,0);switch(t){case b.LEFT_FOOT:case b.RIGHT_FOOT:break;case b.SAND_DUST:i=this.vfxSandDust,r=this.node;break;case b.SAND_LANDING:i=this.vfxSandLanding,r=this.node;break;case b.DOUBLE_JUMP:i=this.doubleJumpTemplate,r=this.node;break;case b.RACKET_HIT_PERFECT:i=this.vfxRacketHitPerfect,r=this._animCtrl.m_racket}var o=null;if(!i)return null;if(o=n&&n.size()>0?n.get():c(i)){g.Instance.vfxContainer.addChild(o),o.active=!0;var l=r.getWorldPosition(),u=i.getWorldScale();o.setWorldPosition(s(l.x+a.x,l.y+a.y,l.z+a.z)),o.setWorldScale(u.clone()),this.scheduleOnce((function(){e.put(t,o)}),1)}return o},a.enableVFX=function(t,e){v.getDeviceProfile().VFX&&(t&&(t.active=e,t.getComponentsInChildren(f).forEach((function(t){t&&t.node.active&&(t.isPlaying&&t.stop(),e&&t.play())}))))},e}(h)).prototype,"vfxCharacterPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),J=e(B.prototype,"vfxStunPath",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=e(B.prototype,"leftFootPath",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=e(B.prototype,"rightFootPath",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=e(B.prototype,"vfxNotePath",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=e(B.prototype,"vfxCharacter",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(B.prototype,"vfxStun",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(B.prototype,"vfxSandDust",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"vfxSandLanding",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(B.prototype,"leftFootPos",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(B.prototype,"rightFootPos",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(B.prototype,"vfxDash",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(B.prototype,"vfxShield",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(B.prototype,"vfxHyperBoost",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(B.prototype,"vfxHit",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(B.prototype,"doubleJumpTemplate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(B.prototype,"vfxMusicNote",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=B))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./PopupGameOver.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,l,u,c,p,d;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e._decorator,a=e.tween,s=e.UIOpacity,l=e.v3,u=e.bezier,c=e.Vec3,p=e.Component},function(e){d=e.SoundManager},null],execute:function(){var y;i._RF.push({},"28265IWSutOBYx4nO6xJ6PH","Coin",void 0);var f,_=r.ccclass;r.property;!function(e){e[e.INACTIVE=0]="INACTIVE",e[e.ACTIVE=1]="ACTIVE"}(f||(f={}));e("Coin",_("Coin")(y=function(e){function i(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).bezierControlX=200,t.bezierControlY=200,t.vel=new c(0,0,0),t.resistanceX=1,t.resistanceY=1,t.gravity=0,t.sprite=null,t.speed=0,t.angle=0,t.groundY=0,t.isActive=!1,t.state=f.INACTIVE,t.isPulled=!1,t.startLoc=void 0,t.upY=void 0,t.upYDelta=0,t._pullTime=0,t.delayTimer=0,t.FADEOUT_DURATION=.2,t.DELAY_DURATION=1,t.PULL_DURATION=.5,t.FLY_DURATION=1.25,t._flyTime=0,t._tweenPull=null,t._tweenFly=null,t._tweenScale=null,t._tweenOpacity=null,t.isFadedIn=!1,t.isFadedOut=!1,t.fadeTimer=0,t.FADE_DURATION=.1,t}t(i,e);var r=i.prototype;return r.init=function(e){},r.moveTo=function(){var e=n(o().mark((function e(t,n,i,r,a,l,u,c,p){var y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===u&&(u=!0),void 0===c&&(c=!1),void 0===p&&(p=null),this.node.setWorldPosition(i),this.node.setWorldScale(a),this.node.getComponent(s).opacity=0,e.next=8,this.delay(t);case 8:return this.node.getComponent(s).opacity=255,e.next=11,this.pull(i,n);case 11:return c&&(null==(y=d.Instance)||y.playCoinSFX(u)),e.next=14,this.fly(n,r,l);case 14:return this.isFadedIn=!0,this.fadeTimer=0,e.next=18,this.fadeOut(this.FADEOUT_DURATION);case 18:this.node.active=!1,p&&p();case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,o,i,r,a,s,l,u){return e.apply(this,arguments)}}(),r.delay=function(e){var t=this;return new Promise((function(n){a(t.getComponent(s)).delay(e).call((function(){n()})).start()}))},r.fadeOut=function(e){var t=this;return new Promise((function(n){a(t.getComponent(s)).to(e,{opacity:0}).call((function(){n()})).start()}))},r.pull=function(e,t){var n=this;return new Promise((function(e){n._tweenPull&&n._tweenPull.stop(),n._tweenPull=a(n.node).to(n.PULL_DURATION,{worldPosition:t},{easing:"expoOut"}).call((function(){e()})).start()}))},r.onDestroy=function(){this._tweenFly&&this._tweenFly.stop()},r.fly=function(e,t,n){var o=this;return new Promise((function(i){o._tweenFly&&o._tweenFly.stop(),o._tweenOpacity&&o._tweenOpacity.stop(),o._tweenScale&&o._tweenScale.stop();var r=l(e.x,e.y+o.bezierControlY),c=l(t.x-o.bezierControlX,t.y);Math.random()<.5&&(r=l(e.x+o.bezierControlX,e.y),c=l(t.x,t.y-o.bezierControlY)),o._tweenOpacity=a(o.node.getComponent(s)).to(.1*o.FLY_DURATION,{opacity:255}).delay(.7*o.FLY_DURATION).to(.2*o.FLY_DURATION,{opacity:0}).start(),o._tweenScale=a(o.node).to(.45*o.FLY_DURATION,{worldScale:n},{easing:"sineIn"}).start(),o._tweenFly=a({num:0}).to(o.FLY_DURATION,{num:1},{progress:function(n,i,a,s){var p=(e.x,t.x,e.x),d=(e.y,t.y,e.y);return p=u(e.x,r.x,c.x,t.x,s),d=u(e.y,r.y,c.y,t.y,s),o.node&&o.node.setWorldPosition(l(p,d)),n+(i-n)*s},easing:"expoOut"}).call((function(){i()})).start()}))},r.update=function(e){},r.active=function(e){this.isFadedIn=!1,this.node.active=e},i}(p))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/CoinDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameHelper.ts","./PopupGameOver.ts","./Coin.ts"],(function(t){"use strict";var n,o,e,i,r,c,s,a,u,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.instantiate,r=t.UITransform,c=t.v3,s=t.Component},function(t){a=t.GameHelper},function(t){u=t.PopupGameOver},function(t){d=t.Coin}],execute:function(){var p;o._RF.push({},"afab8QnD8xCBLWCtdhGN6dS","CoinDrop",void 0);var l=e.ccclass;e.property,t("CoinDrop",l("CoinDrop")(p=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).coins=[],n.counter=0,n.AMOUNT=30,n}n(o,t);var e=o.prototype;return e.init=function(){this.coins=[]},e.reset=function(){},e.addHitEffect=function(){for(var t=0;t<this.AMOUNT;t++){var n=i(u.Instance.startLoc),o=n.addComponent(d);this.coins.push(o),o.active(!1),u.Instance.coinContainer.addChild(n)}},e.update=function(t){},e.activate=function(){for(var t=this.node.getComponent(r).width,n=this.node.getComponent(r).height,o=this.node.getWorldPosition().x,e=this.node.getWorldPosition().y,i=u.Instance.startLoc.getWorldPosition(),s=u.Instance.endLoc.getWorldPosition(),d=u.Instance.startLoc.getWorldScale(),p=u.Instance.endLoc.getWorldScale(),l=0;l<this.coins.length;l++){var h=a.getRndIntegerInclusive(0,t/2),f=a.getRndIntegerInclusive(0,n/2),v=Math.random()<.5?-1:1,g=Math.random()<.5?-1:1,C=this.coins[l],m=c(o+h*v,e+f*g,0);C.active(!0);var I=!1;0==l&&(I=!0),C.moveTo(0+.02*l,m,i,s,d,p,!0,I)}},o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinDuper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./Powerup.ts"],(function(t){"use strict";var o,n,e,r,u;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){r=t.VFX_PLAYER},function(t){u=t.Powerup}],execute:function(){var c;n._RF.push({},"867fdDNl9lBtaJK+vYPDEIn","CoinDuper",void 0);var i=e.ccclass;e.property,t("CoinDuper",i("CoinDuper")(c=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.onLoad=function(){this.collectVFXType=r.COIN_DUPER_COLLECT},n}(u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./MainMenuManager.ts","./UserDataManager.ts"],(function(t){"use strict";var n,e,a,i,o,l,u,s,c,p,r,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,u=t.Label,s=t.UIOpacity,c=t.Component},function(t){p=t.default},function(t){r=t.MainMenuEvent},function(t){h=t.UserDataManager}],execute:function(){var d,C,_,b,f;o._RF.push({},"a6cafhanmVJ/qgerASf7tdI","CoinUpdate",void 0);var y=l.ccclass,v=l.property;t("CoinUpdate",(d=y("CoinUpdate"),C=v(u),d((f=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return n=t.call.apply(t,[this].concat(o))||this,a(n,"label",f,i(n)),n._updateCoinCallback=null,n._popupShowAmountCallback=null,n._uiOpacity=null,n}e(n,t);var o=n.prototype;return o.onLoad=function(){this._updateCoinCallback=this.updateCoin.bind(this),p.GetInstance().addEventListener(r.UPDATE_COIN,this._updateCoinCallback),this._popupShowAmountCallback=this.updateVisible.bind(this),p.GetInstance().addEventListener(r.POPUP_SHOW_AMOUNT,this._popupShowAmountCallback),this._uiOpacity=this.getComponent(s),this.updateCoin()},o.onDestroy=function(){p.GetInstance().removeEventListener(r.UPDATE_COIN,this._updateCoinCallback),this._updateCoinCallback=null,p.GetInstance().removeEventListener(r.POPUP_SHOW_AMOUNT,this._popupShowAmountCallback),this._popupShowAmountCallback=null},o.updateVisible=function(t){0==t.parameters.amount?this._uiOpacity&&(this._uiOpacity.opacity=255):this._uiOpacity&&(this._uiOpacity.opacity=0)},o.updateCoin=function(){this.label&&(this.label.string=""+h.Instance.coinWallet)},n}(c)).prototype,"label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=b))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/CollectedCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,o,n,s,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,n=t.v3,s=t.Vec3,l=t.Component}],execute:function(){var r;e._RF.push({},"4aac89iWl9K7oicAMzsqFEA","CollectedCoin",void 0);var c=o.ccclass;o.property,t("CollectedCoin",c("CollectedCoin")(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).startLoc=void 0,i.endLoc=void 0,i.isPulled=!1,i.delayTimer=0,i.PULL_DURATION=.25,i._pullTime=0,i}i(e,t);var o=e.prototype;return o.onLoad=function(){},o.init=function(t,i){this.node.setWorldPosition(t),this.startLoc=t,this.endLoc=i},o.update=function(t){if(this.isPulled){if(this.delayTimer>0)return void(this.delayTimer-=t);this._pullTime+=t;var i=this._pullTime/this.PULL_DURATION;i=i>1?1:i;var e=n(0,0,0);s.lerp(e,this.startLoc,this.endLoc,i),this.node.setWorldPosition(e);var o=n(0,0,0),l=n(1,1,1),r=n(.5,.5,.5);s.lerp(o,l,r,i),this.node.setScale(o),this._pullTime>=this.PULL_DURATION&&(this._pullTime=0)}},e}(l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Collectible.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./VFXPool.ts","./MainMenuDebug.ts","./RunningGameManager.ts","./SoundManager.ts","./BaseObject.ts","./PlayerMagnet.ts","./PlayerManager.ts"],(function(i){"use strict";var e,t,n,s,o,a,l,r,c,u,d,h,p,_,g,P,f,y,v,C,m,b,N;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,o=i.createClass},function(i){a=i.cclegacy,l=i._decorator,r=i.Node,c=i.Animation,u=i.v3,d=i.Vec3,h=i.tween,p=i.instantiate},function(i){_=i.PLAYER_CHARACTER,g=i.AudioSrc},function(i){P=i.VFXPool,f=i.VFX_PLAYER},function(i){y=i.MainMenuDebug},function(i){v=i.RunningGameManager},function(i){C=i.SoundManager},function(i){m=i.BaseObject},function(i){b=i.PlayerMagnet},function(i){N=i.PlayerManager}],execute:function(){var U,I,T,D,O,w,R,S,A,L,M,E,k;a._RF.push({},"9f58cN1bT1JcodwJoiWDT+O","Collectible",void 0);var x=l.ccclass,F=l.property;i("Collectible",(U=x("Collectible"),I=F(r),T=F(r),D=F(r),O=F(r),U((S=e((R=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=i.call.apply(i,[this].concat(o))||this,n(e,"vfxSparkle",S,s(e)),n(e,"vfxPixkUpCoin",A,s(e)),n(e,"containerNode",L,s(e)),n(e,"displayNode",M,s(e)),n(e,"m_amounnt",E,s(e)),n(e,"UPGRADE_COIN_RANGE",k,s(e)),e.m_isPause=!1,e.PULL_DURATION=1,e._pullTime=0,e._distance=0,e._side=null,e._isPulled=!1,e._isMagnetPulled=!1,e._tweenConvertObs=null,e._isConvertedObs=!1,e._tweenUpgdradeCoin=null,e._isUpgrade=!1,e._originalPosition=null,e._originalDisplayPosition=null,e._originalDisplayScale=null,e._originalDisplayRotate=null,e.COIN_UPGRADE_CHANCE=[{coinNumber:2,chance:.5},{coinNumber:3,chance:.5}],e}t(e,i);var a=e.prototype;return a.onLoad=function(){},a.start=function(){if(null==this._side){var i=this.node.parent.getPosition().x;i<0?this._side=_.MILKY:i>0&&(this._side=_.SCHOKI)}this._originalPosition=this.node.getPosition().clone()},a.reset=function(){var i=this;this._isPulled=!1,this._isConvertedObs=!1,this._isMagnetPulled=!1,this._pullTime=0,this._originalDisplayPosition||(this._originalDisplayPosition=this.displayNode.getPosition().clone()),this._originalDisplayRotate||(this._originalDisplayRotate=this.displayNode.eulerAngles.clone()),this._originalDisplayScale||(this._originalDisplayScale=this.displayNode.getScale().clone()),this.displayNode.setPosition(this._originalDisplayPosition),this.displayNode.setScale(this._originalDisplayScale),this.displayNode.setRotationFromEuler(this._originalDisplayRotate);for(var e=this.containerNode.children.filter((function(e){return e!=i.displayNode&&null!=e})),t=e.length-1;t>=0;t--)e[t].removeFromParent();this.getComponentsInChildren(c).forEach((function(i){i.stop()})),this.m_isPause=!0,this._originalPosition&&this.node.setPosition(this._originalPosition),this._tweenConvertObs&&this._tweenConvertObs.stop(),this.vfxSparkle&&(this.vfxSparkle.active=!1)},a.update=function(i){if(!this.m_isPause&&v.IsPause?(this.getComponentsInChildren(c).forEach((function(i){i.pause()})),this.m_isPause=!0):!v.IsPause&&this.m_isPause&&this._distance<256&&(this.getComponentsInChildren(c).forEach((function(i){i.play()})),this.m_isPause=!1),!v.IsPause){var e=N.Instance.node.getWorldPosition(),t=this.node.getWorldPosition();this._distance=Math.abs(e.z-t.z);var n=b.Instance.modelNode.getWorldPosition(),s=N.Instance.thisPlayer,o=N.Instance.otherPlayer,a=s.character,l=o.character;if(this._distance<64&&this.vfxSparkle&&!this.vfxSparkle.active&&y.getDeviceProfile().VFX&&(this.vfxSparkle.active=!0),N.Instance.isDuperActive&&this._distance<this.UPGRADE_COIN_RANGE&&this.m_amounnt<5&&(this._side==a||this._side==l))this._isUpgrade||this.startUpgradeCoinTween();else{if(this._isPulled)return this._side==a&&this.updatePullToPlayerByStamper(i,s,this.PULL_DURATION,b.Instance.PULL_RANGE),void(this._side==l&&this.updatePullToPlayerByStamper(i,o,this.PULL_DURATION,b.Instance.PULL_RANGE));if(!this._isConvertedObs&&(b.Instance.isActive()&&this._distance<b.Instance.PULL_RANGE&&!this._isMagnetPulled&&(this._isMagnetPulled=!0,C.Instance.playOneShot(g.COIN_FLY_UP_SEQ),b.Instance.increaseCoin()),this._isMagnetPulled)){this._pullTime+=i;var r=this._pullTime/this.PULL_DURATION;r=r>1?1:r;var h=u(0,0,0);return d.lerp(h,t,n,r),this.node.setWorldPosition(h),void(this._pullTime>=this.PULL_DURATION&&(C.Instance.playCollectSound(),this._pullTime=0,this.node.active=!1))}}}},a.updatePullToPlayerByStamper=function(i,e,t,n){var s=this._distance<n,o=this.node.getWorldPosition();if(s){this._pullTime+=i;var a=this._pullTime/t;a=a>1?1:a;var l=u(0,0,0),r=e.node.getWorldPosition();d.lerp(l,o,r,a),this.node.setWorldPosition(l),this._pullTime>=t&&(this._pullTime=0)}},a.updatePullToPlayerByBoots=function(i,e,t,n){},a.convertedObsTween=function(){var i=this;this._isConvertedObs=!0;this._tweenConvertObs&&this._tweenConvertObs.stop(),this._tweenConvertObs=h(this.node).to(.5,{scale:u(1,1,1)},{easing:"backOut"}).call((function(){i._isPulled=!0})).start()},a.startUpgradeCoinTween=function(){var i=this;this._isUpgrade=!0,this._tweenUpgdradeCoin&&this._tweenUpgdradeCoin.stop(),C.Instance.playCoinToTwoSfx(),this._tweenUpgdradeCoin=h(this.node).to(.25,{scale:u(.1,.1)},{easing:"backIn"}).call((function(){for(var e=i.displayNode.getPosition(),t=i.displayNode.getScale(),n=(i.displayNode.getRotation(),0);n<1;n++){var s=p(i.displayNode);s.setParent(i.containerNode),s.setPosition(e),s.setScale(t)}for(var o=0;o<i.containerNode.children.length;o++){var a=i.containerNode.children[o];a.getComponent(c).play();var l=(o-1)*Math.PI/i.containerNode.children.length,r=1*Math.sin(l),d=1*Math.cos(l);r=e.x+r,d=e.y+d,a.setPosition(u(r,d,e.z))}i.amount=2,i.isUpgrade=!0,i.endUpgradeCoinTween()})).start()},a.endUpgradeCoinTween=function(){this._tweenUpgdradeCoin&&this._tweenUpgdradeCoin.stop(),this._tweenUpgdradeCoin=h(this.node).to(.25,{scale:u(1,1,1)},{easing:"backOut"}).start()},a.playCollectVFX=function(){y.getDeviceProfile().VFX&&P.Instance.playVFX(f.COIN_COLLECT,this.vfxPixkUpCoin,this.node.worldPosition,1)},o(e,[{key:"amount",get:function(){return this.m_amounnt},set:function(i){this.m_amounnt=i}},{key:"side",set:function(i){this._side=i}},{key:"isPulled",set:function(i){this._isPulled=i}},{key:"isUpgrade",set:function(i){this._isUpgrade=i}}]),e}(m)).prototype,"vfxSparkle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(R.prototype,"vfxPixkUpCoin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(R.prototype,"containerNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(R.prototype,"displayNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(R.prototype,"m_amounnt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=e(R.prototype,"UPGRADE_COIN_RANGE",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),w=R))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc","./TrackingMgr.ts"],(function(e){"use strict";var _,a,i,r,E,t;return{setters:[function(e){_=e.cclegacy,a=e.Enum},function(e){i=e.ItemName,r=e.Booster,E=e.AchievementName,t=e.IncomeSource}],execute:function(){var c,n,A,o;e({AccessoryKey:void 0,AccessoryPrice:void 0,AccessoryType:void 0,AchievementId:void 0,ActionPhoto:void 0,AreaType:void 0,AudioSrc:void 0,BoosterId:void 0,BoosterMultiplier:void 0,BoosterType:void 0,EDeviceprofile:void 0,EnvironmentType:void 0,EventName:void 0,FONT_TYPE:void 0,GAME_MODE:void 0,GameStatus:void 0,LIGHT_TYPE:void 0,MISSION_DEST:void 0,MISSION_DIFFICULTY:void 0,MISSION_ID:void 0,ObstacleAnimation:void 0,PART_TYPE:void 0,PLAYER_CHARACTER:void 0,PLAYER_TYPE:void 0,POOL_OBJECT_KIND:void 0,POOL_OBJECT_TYPE:void 0,POPUP_INDEX:void 0,PopupUnlockState:void 0,PowerupType:void 0,QTE1_DIRECTION:void 0,QTE_ACTION:void 0,QTE_CRAB_STATE:void 0,QTE_HIT_STATE:void 0,QTE_MESSAGE_TYPE:void 0,QTE_STATE:void 0,QTE_TYPE:void 0,RANDOM_TYPE:void 0,ROOM_STATE:void 0,RewardType:void 0,SESSION_TYPE:void 0,SKILL:void 0,SLUSTER_DIFFICULTY:void 0,SWIPEType:void 0,SessionInfo:void 0,TileType:void 0,UnlockType:void 0,VFX_BACKPACK:void 0,VFX_CHARACTER:void 0}),_._RF.push({},"04e1eIR73VK/Ih0tEILPtsm","Constants",void 0);var N,T=e("default",(function(){}));T.CHEAT_DISABLE_CHECK_NAME=!1,T.CHEAT_ONLY_QTE3=!1,T.CHEAT_DISABLE_QTE_CHECK_GAMEOVER=!1,T.CHEAT_ALWAYS_TUTORIAL=!1,T.CHEAT_ALWAYS_TUTORIAL_QTE=!1,T.CHEAT_HIDE_TOP_QTE_UI=!1,T.CHEAT_LOAD_1_AREA=!1,T.CHEAT_LOCAL_HOST=!1,T.CHEAT_GOD_MODE=!1,T.CHEAT_ALWAYS_AI=!1,T.CHEAT_IGNORE_LOGIN=!1,T.CHEAT_IGNORE_MM_TUTORIAL=!1,T.CHEAT_IGNORE_PROGRESSION=!1,T.CHEAT_IGNORE_CHECK_DISCONNECT=!1,T.CHEAT_IGNORE_TUTORIAL=!1,T.CHEAT_IGNORE_CHECK_TUTORIAL_CONTROL=!1,T.SERVER_CHANNEL="beta",T.CHEAT_LOW_PROFILE=!1,T.CHEAT_USE_KEYBOARD=!0,T.CHEAT_ESC_IN_TUTORIAL=!0,T.IS_DEBUG=!0,T.IS_SHOW_AP_UI=!0,T.FPS_THRESHOLE=25,T.FPS_DETECTION_DURATION=4,T.GGI_BETA="84931",T.GGI_GOLD="84933",T.SCENE_SPLASH="Splash",T.SCENE_MAINMENU="MainMenu",T.SCENE_START="Start",T.SCENE_RUNNING="RunningGame",T.SCENE_SEGMENT_EDITOR="Segment_Editor",T.SCORE_FACTOR=.5,T.RUNNING_MAX_BACKPACK_SIZE=3,T.RUNNING_INIT_BACKPACK_SIZE=1,T.RUNNING_BACKPACK_THROW_ANIM_SCALE=.6,T.PLAYER_POS_Z=0,T.OBJECT_POOL_REMOVE_DISTANCE=-20,T.ENVIRONMENT_LOAD_RANGE=960,T.SEGMENT_LOAD_RANGE=1024,T.SEGMENT_ITEM_LOAD_RANGE=1024,T.OBSTACLE_ANIMATION_IDLE_RANGE=256,T.OBSTACLE_ANIMATION_INIT_RANGE=512,T.ENVIRONMENT_SCALE_MULTIPLE_Z=1,T.ENVIRONMENT_SCALE_MULTIPLE_X=1,T.ENVIRONMENT_TILE_PUT_RANGE=64,T.MAP_SCALE_X=1.6,T.MAP_LANE_PADDING=4,T.CURVE_DELAY=4,T.CURVE_PER_SEC=5e-5,T.CHEAT_OFFLINE_MODE=!1,T.CHEAT_CURVED_MOVE=!0,T.CHEAT_CLOUD_MOVE=!1,T.CHEAT_DISABLE_COLLISION=!1,T.CHEAT_UPDATE_MATERIAL=!0,T.CHEAT_RANDOM_FRAME=!0,T.CHEAT_LOCK_CAMERA=!1,T.CHEAT_USE_3D_MAINMENU=!0,T.CHEAT_ENABLE_VFX_POOL=!0,T.CHEAT_ENABLE_VFX_CHARACTER=!0,T.CHEAT_ENABLE_COIN_SPARKLE=!0,T.CHEAT_CURENT_AREA=2,T.CHEAT_LEADERBOARD_DATA=!1,T.WILL_AUTHEN=!1,T.LEADERBOARD_SIZE=20,T.TRANSITION_TIME=10,T.DEFAULT_RUNNING_SPEED=25,T.MAX_BOOSTER_AMOUNT=9,T.DAILY_RESET_TIME={hour:23,min:59,sec:59},T.IS_BGM_ON=!0,T.IS_SFX_ON=!0,T.isFirstLaunch=!0,function(e){e[e.UI=0]="UI",e[e.NORMAL_POPUP=100]="NORMAL_POPUP",e[e.PERSIST_POPUP=200]="PERSIST_POPUP"}(N||(N=e("POPUP_INDEX",{})));var S;e("SIGNIN_METHOD_NAMES",{Facebook:"facebook",Google:"google",Anonymous:"anonymous"});!function(e){e[e.LOBBY=0]="LOBBY",e[e.ONBOARD=1]="ONBOARD",e[e.READY=2]="READY",e[e.RUNNING=3]="RUNNING",e[e.QTE=4]="QTE",e[e.REVIVE=5]="REVIVE",e[e.GAMEOVER=6]="GAMEOVER",e[e.REPLAY=7]="REPLAY",e[e.DISMISS=8]="DISMISS",e[e.CHARACTER_CONFIRM=9]="CHARACTER_CONFIRM",e[e.CHARACTER_ACCEPT=10]="CHARACTER_ACCEPT"}(S||(S=e("ROOM_STATE",{})));var s;e("ROOM_STATES",["LOBBY","ONBOARD","READY","RUNNING","QTE","REVIVE","GAMEOVER","REPLAY","DISMISS"]);!function(e){e[e.NONE=-1]="NONE",e[e.CHARACTER=0]="CHARACTER",e[e.STUN=1]="STUN",e[e.SAND_DUST=2]="SAND_DUST",e[e.LEFT_FOOT=3]="LEFT_FOOT",e[e.RIGHT_FOOT=4]="RIGHT_FOOT",e[e.SAND_LANDING=5]="SAND_LANDING",e[e.DOUBLE_JUMP=6]="DOUBLE_JUMP",e[e.DASH=7]="DASH",e[e.SHIELD=8]="SHIELD",e[e.HYPER_BOOST=9]="HYPER_BOOST",e[e.HIT=10]="HIT",e[e.RACKET_HIT_PERFECT=11]="RACKET_HIT_PERFECT",e[e.RACKET_HIT=12]="RACKET_HIT",e[e.MUSIC_NOTE=13]="MUSIC_NOTE"}(s||(s=e("VFX_CHARACTER",{})));var d,O;e("PopupPrefabInstance",(function(){this.prefab=void 0,this.instance=void 0}));!function(e){e[e.NONE=-1]="NONE",e[e.GAIN=0]="GAIN",e[e.TRAIL=1]="TRAIL"}(d||(d=e("VFX_BACKPACK",{}))),function(e){e[e.POWERUPS=0]="POWERUPS",e[e.QTE=1]="QTE"}(O||(O=e("RANDOM_TYPE",{})));var I,p;e("SaveDataNames",{VERSION:"VERSION",TOU_PP:"TOU_PP",LANGUAGE:"kms-language",SignIn_Method:"SIGNIN_METHOD",Refresh_Token:"REFRESH_TOKEN",KMS_Anon:"kms-anon",UserData:"UD",BoosterData:"BD",PowerupData:"PD",CoinData:"CD",AchievementData:"AD",MissionData:"MD",DailyRewardData:"DRD",AccessoryData:"ACCD",QRScanData:"QRD",LobbyData:"LBD",TutorialData:"TD",ProgressionData:"PRD",LOCAL_DATA_SAVE:"KMS-LDT",AddToHomeScreen:"A2HD"}),e("RoomMessages",{State:"state",Action:"action",Ping:"ping",Lobby:"lobby",Log:"log",updateLobby:"updateLobby",updateGP:"updateGP",updateQTE:"updateQTE"}),e("RoomStateProperties",{State:"state",Info:"info",AI:"AI"}),e("GameModes",{private:"private",publicM:"publicM",publicS:"publicS"}),e("GameActions",{SetBackpackSide:"setbackpackside",InitPlayers:"initplayers",Skill:"skill",AIControl:"aicontrol",Collision:"collision",IncreasePackbackSize:"backpackup",QTE:"qte",CollectCoin:"collectcoin",PowerUp:"powerup",RequestBackpack:"requestbackpack",ChangeCurveDirection:"changecurvedirection",CollectQTE:"collectQTE"}),e("LobbyMessages",{SwitchCharacterRequest:"switchcharacterrequest",SwitchCharacterAccept:"switchcharacteraccept",SwitchCharacterDeny:"switchcharacterdeny",Ready:"ready",ReadyCancel:"readycancel",Start:"start",SelectLevel:"selectlevel"}),e("QTEMessages",{Init:"init"});!function(e){e[e.NONE=0]="NONE",e[e.READY=1]="READY",e[e.RUNNING=2]="RUNNING",e[e.GAMEOVER=3]="GAMEOVER",e[e.PAUSED=4]="PAUSED"}(I||(I=e("GameStatus",{}))),function(e){e[e.BEGINNER=0]="BEGINNER",e[e.SEMI_PRO=1]="SEMI_PRO",e[e.PROFESSIONAL=2]="PROFESSIONAL"}(p||(p=e("SLUSTER_DIFFICULTY",{})));var R,m,C,u,l,M;e("CLUSTER_DIFFICULTY_NAMES",["BEGINNER","SEMI_PRO","PROFESSIONAL"]);!function(e){e[e.LINEAR=0]="LINEAR",e[e.LOOP=1]="LOOP"}(R||(R=e("PART_TYPE",{}))),function(e){e[e.NONE=0]="NONE",e[e.DISTANCE=1]="DISTANCE",e[e.HEALTH=2]="HEALTH",e[e.COIN=3]="COIN",e[e.CLUSTER=4]="CLUSTER",e[e.SPEED=5]="SPEED",e[e.PASSRATE=6]="PASSRATE"}(m||(m=e("SessionInfo",{}))),function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.UP=3]="UP",e[e.DOWN=4]="DOWN",e[e.UP_X2=5]="UP_X2",e[e.CANCEL=6]="CANCEL"}(C||(C=e("SWIPEType",{}))),function(e){e[e.NONE=0]="NONE",e[e.JUMP=1]="JUMP",e[e.DOUBLE_JUMP=2]="DOUBLE_JUMP",e[e.DASH=3]="DASH",e[e.DASH_CANCEL=4]="DASH_CANCEL",e[e.THROW_BACKPACK=5]="THROW_BACKPACK",e[e.JUMP_DOWN=6]="JUMP_DOWN"}(u||(u=e("SKILL",{}))),function(e){e[e.MORNING=0]="MORNING",e[e.NOON=1]="NOON",e[e.AFTERNOON=2]="AFTERNOON",e[e.NIGHT=3]="NIGHT"}(l||(l=e("LIGHT_TYPE",{}))),function(e){e[e.MILKY=0]="MILKY",e[e.SCHOKI=1]="SCHOKI"}(M||(M=e("PLAYER_CHARACTER",{})));var f;e("PLAYER_CHARACTER_DATA",((c={})[M.MILKY]={rewardIconFrame:"8_milky"},c[M.SCHOKI]={rewardIconFrame:"9_schoki"},c));!function(e){e[e.TO_SCHOKI=0]="TO_SCHOKI",e[e.TO_MILKY=1]="TO_MILKY"}(f||(f=e("QTE1_DIRECTION",{})));var L,H;e("CHARACTER_RIG_NAMES",["MilkyRig","SchokiRig"]),e("CHARACTER_NAMES",["Milky","Schoki"]);!function(e){e[e.NONE=0]="NONE",e[e.POWERUP=1]="POWERUP",e[e.OBSTACLE=2]="OBSTACLE",e[e.COLLECTIBLE=3]="COLLECTIBLE",e[e.QTE=4]="QTE"}(L||(L=e("POOL_OBJECT_KIND",{}))),function(e){e[e.NONE=0]="NONE",e[e.POWERUP_SHIELD=1]="POWERUP_SHIELD",e[e.POWERUP_MAGNET=2]="POWERUP_MAGNET",e[e.POWERUP_COIN_DUPER=3]="POWERUP_COIN_DUPER",e[e.POWERUP_MEGA_HOP=4]="POWERUP_MEGA_HOP",e[e.OBSTACLE_BEE_UP=5]="OBSTACLE_BEE_UP",e[e.OBSTACLE_BEE_DOWN=6]="OBSTACLE_BEE_DOWN",e[e.OBSTACLE_CRAB=7]="OBSTACLE_CRAB",e[e.OBSTACLE_NET_LEFT=8]="OBSTACLE_NET_LEFT",e[e.OBSTACLE_NET_RIGHT=9]="OBSTACLE_NET_RIGHT",e[e.OBSTACLE_ROCK=10]="OBSTACLE_ROCK",e[e.OBSTACLE_ROLLING_ROCK=11]="OBSTACLE_ROLLING_ROCK",e[e.OBSTACLE_ROLLING_ROCK_BIG=12]="OBSTACLE_ROLLING_ROCK_BIG",e[e.OBSTACLE_ROLLING_ROCK_ACCELERATE=13]="OBSTACLE_ROLLING_ROCK_ACCELERATE",e[e.OBSTACLE_UMBRELLA=14]="OBSTACLE_UMBRELLA",e[e.COIN_1=15]="COIN_1",e[e.COIN_5=16]="COIN_5",e[e.QTE_1=17]="QTE_1",e[e.QTE_2=18]="QTE_2",e[e.QTE_3=19]="QTE_3",e[e.POWERUP_STAMPER=20]="POWERUP_STAMPER",e[e.COUNT=21]="COUNT"}(H||(H=e("POOL_OBJECT_TYPE",{})));var P;e("POOL_OBJECT_DATA",((n={})[H.NONE]=void 0,n[H.COUNT]=void 0,n[H.POWERUP_SHIELD]={type:L.POWERUP},n[H.POWERUP_MAGNET]={type:L.POWERUP},n[H.POWERUP_COIN_DUPER]={type:L.POWERUP},n[H.POWERUP_MEGA_HOP]={type:L.POWERUP},n[H.OBSTACLE_BEE_UP]={type:L.OBSTACLE},n[H.OBSTACLE_BEE_DOWN]={type:L.OBSTACLE},n[H.OBSTACLE_CRAB]={type:L.OBSTACLE},n[H.OBSTACLE_NET_LEFT]={type:L.OBSTACLE},n[H.OBSTACLE_NET_RIGHT]={type:L.OBSTACLE},n[H.OBSTACLE_ROCK]={type:L.OBSTACLE},n[H.OBSTACLE_ROLLING_ROCK]={type:L.OBSTACLE},n[H.OBSTACLE_ROLLING_ROCK_BIG]={type:L.OBSTACLE},n[H.OBSTACLE_ROLLING_ROCK_ACCELERATE]={type:L.OBSTACLE},n[H.OBSTACLE_UMBRELLA]={type:L.OBSTACLE},n[H.COIN_1]={type:L.COLLECTIBLE},n[H.COIN_5]={type:L.COLLECTIBLE},n[H.QTE_1]={type:L.QTE},n[H.QTE_2]={type:L.QTE},n[H.QTE_3]={type:L.QTE},n[H.POWERUP_STAMPER]={type:L.POWERUP},n));!function(e){e[e.BEGIN_0=0]="BEGIN_0",e[e.BEGIN_1=1]="BEGIN_1",e[e.BEGIN_2=2]="BEGIN_2",e[e.SEMI_0=3]="SEMI_0",e[e.SEMI_1=4]="SEMI_1",e[e.SEMI_2=5]="SEMI_2",e[e.PRO_0=6]="PRO_0",e[e.PRO_1=7]="PRO_1",e[e.PRO_2=8]="PRO_2",e[e.COUNT=9]="COUNT"}(P||(P=e("SESSION_TYPE",{})));var y;e("SESSION_NAME_TUTORIAL","Session_Tutorial"),e("SESSION_NAMES",["Session_Begin-001","Session_Begin-002","Session_Begin-003","Session_Semi-001","Session_Semi-002","Session_Semi-003","Session_Pro-001","Session_Pro-002","Session_Pro-003"]),e("POOL_OBJECT_NAMES",["","Shield","Magnet","CoinDuper","MegaHop","Bee_Up","Bee_Down","Crab","Net_Left","Net_Right","Rock","RollingRock","RollingRock_Big","RollingRockAccelerate","Umbrella","Coin_1","Coin_5","QTE_1","QTE_2","QTE_3","Stamper",""]);!function(e){e[e.BEE=0]="BEE",e[e.CRAB=1]="CRAB",e[e.NET=2]="NET",e[e.ROCK=3]="ROCK",e[e.ROLLING_ROCK=4]="ROLLING_ROCK",e[e.ROLLING_ROCK_BIG=5]="ROLLING_ROCK_BIG",e[e.UMBRELLA=6]="UMBRELLA"}(y||(y=e("ObstacleAnimation",{})));var h,v,k;e("OBSTACLE_ELEMENT_NAMES",["Bee","Crab","Net","Rock","RollingRock","RollingRock_Big","Umbrella"]);!function(e){e[e.PRIVATE=0]="PRIVATE",e[e.MULTI_PRIVATE=1]="MULTI_PRIVATE",e[e.MULTI_PUBLIC=2]="MULTI_PUBLIC"}(h||(h=e("GAME_MODE",{}))),function(e){e[e.PLAYER=0]="PLAYER",e[e.AI=1]="AI",e[e.PLAYER_2=2]="PLAYER_2"}(v||(v=e("PLAYER_TYPE",{}))),function(e){e[e.MAIN_FONT=0]="MAIN_FONT",e[e.ARAB_FONT=1]="ARAB_FONT"}(k||(k=e("FONT_TYPE",{})));var D,g,B,w,U,b,V;e("ItemType",a({NONE:-1,DEFAULT:1,UI:2,ENVIRONMENT:4,COLLECTIBLE:8,SMALL_OBSTACLE:16,INVISIBLE:32,LIFE:64,BACKPACK:128,MAGNET:256,SPRINGBOOTS:1024,STAMPER:2048,COIN_DUPER:4096,MEGA_HOP:8192,SWEEPSENSE:16384,MAGICCLOCK:32768,QTE:65536}));!function(e){e[e.Badminton=1]="Badminton",e[e.Music=2]="Music",e[e.Crab=3]="Crab",e[e.None=4]="None"}(D||(D=e("QTE_TYPE",{}))),function(e){e[e.NOTSET=-1]="NOTSET",e[e.INIT=0]="INIT",e[e.TUTORIAL=1]="TUTORIAL",e[e.READY=2]="READY",e[e.PLAYING=3]="PLAYING",e[e.GAMEOVER=4]="GAMEOVER",e[e.REVIVE=5]="REVIVE"}(g||(g=e("QTE_STATE",{}))),B||(B=e("QTE_ACTION",{})),function(e){e[e.NOTSET=-1]="NOTSET",e[e.MISS=0]="MISS",e[e.PERFECT=1]="PERFECT"}(w||(w=e("QTE_HIT_STATE",{}))),function(e){e[e.NOTSET=-1]="NOTSET",e[e.HAS_HAT=0]="HAS_HAT",e[e.PASSING=1]="PASSING",e[e.NO_HAT=2]="NO_HAT",e[e.TAKING=3]="TAKING"}(U||(U=e("QTE_CRAB_STATE",{}))),function(e){e.STATE="state",e.ACTION="action",e.GAMESTATE="gamestate",e.GAMEINFO="gameinfo"}(b||(b=e("QTE_MESSAGE_TYPE",{}))),function(e){e[e.START_TILE=0]="START_TILE",e[e.REPEATABLE_TILE=1]="REPEATABLE_TILE",e[e.EVENT_TILE=2]="EVENT_TILE"}(V||(V=e("TileType",{})));var Y;e("TILE_PHASE_NAMES",["StartTile","RepeatableTile","EventTile"]);!function(e){e[e.TROPICAL=0]="TROPICAL",e[e.URBAN=1]="URBAN",e[e.SNOW=2]="SNOW"}(Y||(Y=e("EnvironmentType",{})));var K;e("ENVIRONMENT_DISPLAY_NAMES",["Tropical","Urban","Snow"]);!function(e){e[e.AREA1=1]="AREA1",e[e.AREA2=2]="AREA2",e[e.AREA3=3]="AREA3"}(K||(K=e("AreaType",{})));var G,F,Q,W;e("ENVIRONMENT_NAMES",["Env1","Env2","Env3"]);!function(e){e.BGM_SPLASH="m_lic_upm_splash_screen_loop",e.BGM_MM="m_kms_lic_upm_lobby_amb_loop",e.BGM_LOADING="m_lic_upm_load_loop",e.BGM_1="m_kms_tropical_loop",e.BGM_2="m_kms_lic_upm_urban_loop",e.BGM_3="m_kms_lic_upm_snowy_mountain_loop",e.END_BGM="m_lic_upm_celebrate_stinger_loop",e.CONGRATS="sfx_celebrate_stinger",e.AMB_ENV1_1="sfx_amb_tropical_beach_resort",e.AMB_ENV1_2="sfx_amb_tropical_floating_market",e.AMB_ENV1_3="sfx_amb_tropical_cave_beach",e.AMB_ENV2_1="sfx_amb_urban_city_day_morning",e.AMB_ENV2_2="sfx_amb_urban_state_park_afternoon",e.AMB_ENV2_3="sfx_amb_urban_city_night",e.AMB_ENV3_1="sfx_amb_snowy_mountain_farmland_morning",e.AMB_ENV3_2="sfx_amb_snowy_mountain_village_afternoon",e.AMB_ENV3_3="sfx_amb_snowy_mountain_mountain_night",e.QTE_1="m_mg_lic_upm_badminton_bgm",e.QTE_2="m_mg_music_bgm_V1",e.QTE_2_1="m_mg_music_bgm_V2",e.QTE_2_2="m_mg_lic_upm_music_bgm_V3",e.QTE_3="m_mg_collect_them_all_bgm",e.UI_CLICK="sfx_ui_click",e.UI_SELECT="sfx_ui_select",e.UI_EQUIP="sfx_ui_equip",e.UI_BUY="sfx_ui_buy",e.UI_INSUFFICIENT_FUNDS="sfx_ui_insufficient_funds",e.UI_CLAIM_REWARD="sfx_ui_claim_reward",e.UI_BACK="sfx_ui_back",e.UI_TOGGLE="sfx_ui_toggle",e.COLLECT_COIN_2="sfx_collect_coin_2",e.COLLECT_COIN_3="sfx_collect_coin_3",e.COLLECT_COIN_4="sfx_collect_coin_4",e.HIT_OBSTACLE="sfx_hit_obstacle",e.PASS_BACKPACK_1="sfx_pass_backpack_1",e.JUMP_1="sfx_jump_1",e.SLIDE_1="sfx_slide_1",e.LAND_1="sfx_land_1",e.DIZZY_1="sfx_dizzy_1",e.DIZZY_2="sfx_dizzy_2",e.FOOTSTEP_MILKY="sfx_footsteps_milky",e.FOOTSTEP_SCHOKI="sfx_footsteps_schoki",e.POWERUP_SHIELD="sfx_powerup_shield",e.POWERUP_COIN_DUPER="sfx_powerup_coin_duper",e.POWERUP_MEGA_HOP="sfx_powerup_mega_hop",e.POWERUP_MAGNET="sfx_powerup_magnet",e.POWERUP_STAMPER="sfx_powerup_stamper",e.REVIVE_ITEM="sfx_revive_item",e.COIN_FLY_UP_SEQ="sfx_coin_fly_up_seq",e.OBSTACLE_TO_COINS="sfx_obstacle_to_coins",e.COIN_TO_TWO="sfx_coin_to_two",e.SHIELD_DISAPPEAR="sfx_shield_disappear",e.ENDSCREEN_COIN="sfx_endscreen_coin_loop",e.CRAB_CAGE="sfx_crab_cage",e.BARREL="sfx_barrel",e.SEAGULL="sfx_seagull",e.SEAGULL_SWITCH="sfx_seagull_switch",e.TRANSITION_SCENE="sfx_transition_scene",e.TRANSITION_QTE="sfx_transition_qte",e.START="sfx_start",e.THREE_TWO_ONE="sfx_three_two_one",e.TIME_OUT="sfx_time_out",e.HIT_BIRDIE_1="sfx_hit_birdie_1",e.HIT_BIRDIE_2="sfx_hit_birdie_2",e.MISS_BIRDIE="sfx_miss_birdie",e.DRUM_ROLL="sfx_drum_roll",e.MUSIC_MAKE="sfx_music_make",e.MUSIC_MISS="sfx_music_miss",e.MUSIC_MAKE_OTHER_PLAYER="sfx_music_make_friend",e.OBJECT_FALL_HAT_1="sfx_object_fall_hat_01",e.OBJECT_FALL_GROUND_1="sfx_object_fall_ground_01",e.THROW_HAT_1="sfx_throw_hat_01",e.CATCH_HAT_1="sfx_catch_hat_01",e.OBJECT_RELEASE_1="sfx_object_release_01",e.OBJECT_RELEASE_2="sfx_object_release_02",e.SNOWBALL_1="sfx_snowball_01",e.BARROW_LOOP="sfx_barrow",e.SLEDGE_LOOP="sfx_sledge",e.CROW_1="sfx_crow_01",e.EAGLE_1="sfx_eagle_01",e.BARRIER_SHAKE="sfx_barrier_shake",e.BARRIER_EXTEND="sfx_barrier_extend",e.TREE_TRUNK_1="sfx_tree_trunk_01",e.UNLOCK_ENVIRONMENT_MM="sfx_unlock_environment_MM",e.QR_SCAN_REWARD="sfx_qr_scan_reward",e.CHANGE_MAP="sfx_change_map",e.CANT_CHANGE_MAP="sfx_cant_change_map",e.PLAYER_JOIN="sfx_player_join",e.READY="sfx_ready",e.UI_READY_CLAIM="sfx_ui_ready_claim",e.UI_SAVE_PICTURE="sfx_ui_save_picture",e.UI_STICKER="sfx_ui_sticker",e.UI_TAKE_PICTURE="sfx_ui_take_picture"}(G||(G=e("AudioSrc",{}))),function(e){e[e.NONE=-1]="NONE",e[e.HEADSTART_01=0]="HEADSTART_01",e[e.HEADSTART_02=1]="HEADSTART_02",e[e.HEADSTART_03=2]="HEADSTART_03",e[e.COIN_BOOST_01=3]="COIN_BOOST_01",e[e.COIN_BOOST_02=4]="COIN_BOOST_02",e[e.COIN_BOOST_03=5]="COIN_BOOST_03",e[e.QTE_HEADSTART_01=6]="QTE_HEADSTART_01",e[e.QTE_HEADSTART_02=7]="QTE_HEADSTART_02",e[e.REVIVAL=8]="REVIVAL"}(F||(F=e("BoosterId",{}))),function(e){e[e.HEADSTART=0]="HEADSTART",e[e.COIN_BOOST=1]="COIN_BOOST",e[e.QTE_HEADSTART=2]="QTE_HEADSTART",e[e.REVIVAL=3]="REVIVAL"}(Q||(Q=e("BoosterType",{}))),function(e){e.CHANGE_LIGHT="change_light",e.UPDATE_QTE="update_qte",e.UPDATE_BACKPACK="update_backpack",e.SHOW_BOOSTER="show_booster"}(W||(W=e("EventName",{})));var x,q;e("BoosterDefine",[{id:F.HEADSTART_01,trackingName:i.HEAD1,trackingId:r.HEAD1,type:Q.HEADSTART,name:"booster_headstart1_name",desc:"booster_headstart1_descr",effect_value:500,isInShop:!0,price:600,spriteName:"booster_1"},{id:F.HEADSTART_02,trackingName:i.HEAD2,trackingId:r.HEAD2,type:Q.HEADSTART,name:"booster_headstart2_name",desc:"booster_headstart2_descr",effect_value:1e3,isInShop:!0,price:900,spriteName:"booster_2"},{id:F.HEADSTART_03,trackingName:i.HEAD3,trackingId:r.HEAD3,type:Q.HEADSTART,name:"booster_headstart3_name",desc:"booster_headstart3_descr",effect_value:1500,isInShop:!0,price:1350,spriteName:"booster_3"},{id:F.COIN_BOOST_01,trackingName:i.BOOST1,trackingId:r.BOOST1,type:Q.COIN_BOOST,name:"booster_coinboost1_name",desc:"booster_coinboost1_descr",effect_value:.5,isInShop:!0,price:800,spriteName:"booster_4"},{id:F.COIN_BOOST_02,trackingName:i.BOOST2,trackingId:r.BOOST2,type:Q.COIN_BOOST,name:"booster_coinboost2_name",desc:"booster_coinboost1_descr",effect_value:1,isInShop:!0,price:1200,spriteName:"booster_5"},{id:F.COIN_BOOST_03,trackingName:i.BOOST3,trackingId:r.BOOST3,type:Q.COIN_BOOST,name:"booster_coinboost3_name",desc:"booster_coinboost1_descr",effect_value:2,isInShop:!0,price:1800,spriteName:"booster_6"},{id:F.QTE_HEADSTART_01,trackingName:i.QTE1,trackingId:r.QTE1,type:Q.QTE_HEADSTART,name:"booster_qte1_name",desc:"booster_qte1_descr",effect_value:1,isInShop:!0,price:700,spriteName:"booster_7"},{id:F.QTE_HEADSTART_02,trackingName:i.QTE2,trackingId:r.QTE2,type:Q.QTE_HEADSTART,name:"booster_qte2_name",desc:"booster_qte2_descr",effect_value:3,isInShop:!0,price:1050,spriteName:"booster_8"},{id:F.REVIVAL,trackingName:i.REVIVAL,trackingId:r.REVIVAL,type:Q.REVIVAL,name:"booster_revival_name",desc:"booster_revival_descr",effect_value:3,isInShop:!0,price:750,spriteName:"booster_9"}]);!function(e){e[e.HEADSTART=.16666666666666666]="HEADSTART",e[e.COIN_BOOST=.2]="COIN_BOOST"}(x||(x=e("BoosterMultiplier",{}))),function(e){e[e.SHIELD=0]="SHIELD",e[e.MAGNET=1]="MAGNET",e[e.STAMPER=2]="STAMPER",e[e.COIN_DUPER=3]="COIN_DUPER",e[e.MEGA_HOP=4]="MEGA_HOP"}(q||(q=e("PowerupType",{})));var J,X,j;e("PowerupDefine",[{type:q.SHIELD,trackingName:"shield",name:"powerup_shield_name",desc:"powerup_shield_desc",upgrade:{desc:"Duration increase",base_value:10,value:[0,1,2.1,3.3,4.6],price:[500,700,980,1372]}},{type:q.MAGNET,trackingName:"magnet",name:"powerup_magnet_name",desc:"powerup_magnet_desc",upgrade:{desc:"Duration increase",base_value:10,value:[0,1,2,3,4],price:[500,700,980,1372]}},{type:q.STAMPER,trackingName:"stamper",name:"powerup_stamper_name",desc:"powerup_stampler_descr",upgrade:{desc:"Duration increase",base_value:6,value:[0,1,2,3,4],price:[500,700,980,1372]}},{type:q.COIN_DUPER,trackingName:"coin_duper",name:"powerup_coinduper_name",desc:"powerup_coinduper_descr",upgrade:{desc:"Duration increase",base_value:6,value:[0,1,2,3,4],price:[500,700,980,1372]}},{type:q.MEGA_HOP,trackingName:"mega_hop",name:"powerup_megahop_name",desc:"powerup_megahop_descr",upgrade:{desc:"Duration increase",base_value:4,value:[0,1,2,3,4],price:[500,700,980,1372]}}]);!function(e){e[e.COINS=0]="COINS",e[e.ENVIRONMENT=1]="ENVIRONMENT",e[e.ACCESSORY=2]="ACCESSORY",e[e.BOOSTERS=3]="BOOSTERS"}(J||(J=e("RewardType",{}))),function(e){e[e.EASY=0]="EASY",e[e.NORMAL=1]="NORMAL",e[e.HARD=2]="HARD"}(X||(X=e("MISSION_DIFFICULTY",{}))),function(e){e[e.achievement_acc_1=0]="achievement_acc_1",e[e.achievement_acc_2=1]="achievement_acc_2",e[e.achievement_acc_3=2]="achievement_acc_3",e[e.achievement_play_1=3]="achievement_play_1",e[e.achievement_play_2=4]="achievement_play_2",e[e.achievement_play_3=5]="achievement_play_3",e[e.achievement_power_1=6]="achievement_power_1",e[e.achievement_power_2=7]="achievement_power_2",e[e.achievement_power_3=8]="achievement_power_3",e[e.achievement_pass_1=9]="achievement_pass_1",e[e.achievement_pass_2=10]="achievement_pass_2",e[e.achievement_pass_3=11]="achievement_pass_3",e[e.achievement_ap_10=12]="achievement_ap_10",e[e.achievement_ap_20=13]="achievement_ap_20",e[e.achievement_ap_30=14]="achievement_ap_30",e[e.achievement_dl_1=15]="achievement_dl_1",e[e.achievement_dl_2=16]="achievement_dl_2",e[e.achievement_dl_3=17]="achievement_dl_3",e[e.achievement_sf_1=18]="achievement_sf_1",e[e.achievement_sf_2=19]="achievement_sf_2",e[e.achievement_milky_1=20]="achievement_milky_1",e[e.achievement_milky_2=21]="achievement_milky_2",e[e.achievement_milky_3=22]="achievement_milky_3",e[e.achievement_schoki_1=23]="achievement_schoki_1",e[e.achievement_schoki_2=24]="achievement_schoki_2",e[e.achievement_schoki_3=25]="achievement_schoki_3",e[e.achievement_beach_1=26]="achievement_beach_1",e[e.achievement_beach_2=27]="achievement_beach_2",e[e.achievement_beach_3=28]="achievement_beach_3",e[e.achievement_city_1=29]="achievement_city_1",e[e.achievement_city_2=30]="achievement_city_2",e[e.achievement_city_3=31]="achievement_city_3",e[e.achievement_mountain_1=32]="achievement_mountain_1",e[e.achievement_mountain_2=33]="achievement_mountain_2",e[e.achievement_mountain_3=34]="achievement_mountain_3"}(j||(j=e("AchievementId",{})));var Z;e("AchievementDefine",((A={})[j.achievement_acc_1]={name:"achievement_acc_1",trackingName:E.ACHIEVEMENT_ACC_1,value:2,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"1_buy accesssories +26",trackingId:t.ACHIEVEMENT_ACC_1},A[j.achievement_acc_2]={name:"achievement_acc_1",trackingName:E.ACHIEVEMENT_ACC_2,value:15,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"1_buy accesssories +26",trackingId:t.ACHIEVEMENT_ACC_2},A[j.achievement_acc_3]={name:"achievement_acc_1",trackingName:E.ACHIEVEMENT_ACC_3,value:27,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"1_buy accesssories +26",trackingId:t.ACHIEVEMENT_ACC_3},A[j.achievement_play_1]={name:"achievement_play_1",trackingName:E.ACHIEVEMENT_PLAY_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"2_on the trip",trackingId:t.ACHIEVEMENT_PLAY_1},A[j.achievement_play_2]={name:"achievement_play_1",trackingName:E.ACHIEVEMENT_PLAY_2,value:20,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"2_on the trip",trackingId:t.ACHIEVEMENT_PLAY_2},A[j.achievement_play_3]={name:"achievement_play_1",trackingName:E.ACHIEVEMENT_PLAY_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"2_on the trip",trackingId:t.ACHIEVEMENT_PLAY_3},A[j.achievement_power_1]={name:"achievement_power_1",trackingName:E.ACHIEVEMENT_POWER_1,value:20,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"3power_up  + 19",trackingId:t.ACHIEVEMENT_POWER_1},A[j.achievement_power_2]={name:"achievement_power_1",trackingName:E.ACHIEVEMENT_POWER_2,value:40,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"3power_up  + 19",trackingId:t.ACHIEVEMENT_POWER_2},A[j.achievement_power_3]={name:"achievement_power_1",trackingName:E.ACHIEVEMENT_POWER_3,value:60,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"3power_up  + 19",trackingId:t.ACHIEVEMENT_POWER_3},A[j.achievement_pass_1]={name:"achievement_pass_1",trackingName:E.ACHIEVEMENT_PASS_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"4_booster +22",trackingId:t.ACHIEVEMENT_PASS_1},A[j.achievement_pass_2]={name:"achievement_pass_1",trackingName:E.ACHIEVEMENT_PASS_2,value:20,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"4_booster +22",trackingId:t.ACHIEVEMENT_PASS_2},A[j.achievement_pass_3]={name:"achievement_pass_1",trackingName:E.ACHIEVEMENT_PASS_3,value:40,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"4_booster +22",trackingId:t.ACHIEVEMENT_PASS_3},A[j.achievement_ap_10]={name:"achievement_ap_1",trackingName:E.ACHIEVEMENT_AP_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"5_Revive +21",trackingId:t.ACHIEVEMENT_AP_1},A[j.achievement_ap_20]={name:"achievement_ap_1",trackingName:E.ACHIEVEMENT_AP_2,value:20,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"5_Revive +21",trackingId:t.ACHIEVEMENT_AP_2},A[j.achievement_ap_30]={name:"achievement_ap_1",trackingName:E.ACHIEVEMENT_AP_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"5_Revive +21",trackingId:t.ACHIEVEMENT_AP_3},A[j.achievement_dl_1]={name:"achievement_dl_1",trackingName:E.ACHIEVEMENT_DL_1,value:7,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"6_daily mission",trackingId:t.ACHIEVEMENT_DL_1},A[j.achievement_dl_2]={name:"achievement_dl_1",trackingName:E.ACHIEVEMENT_DL_2,value:14,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"6_daily mission",trackingId:t.ACHIEVEMENT_DL_2},A[j.achievement_dl_3]={name:"achievement_dl_1",trackingName:E.ACHIEVEMENT_DL_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"6_daily mission",trackingId:t.ACHIEVEMENT_DL_3},A[j.achievement_sf_1]={name:"achievement_sf_1",trackingName:E.ACHIEVEMENT_SF_1,value:3,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"7_taking selfie",trackingId:t.ACHIEVEMENT_SF_1},A[j.achievement_sf_2]={name:"achievement_sf_1",trackingName:E.ACHIEVEMENT_SF_2,value:9,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"7_taking selfie",trackingId:t.ACHIEVEMENT_SF_2},A[j.achievement_milky_1]={name:"achievement_milky_1",trackingName:E.ACHIEVEMENT_MILKY_1,value:3e3,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"8_milky",trackingId:t.ACHIEVEMENT_MILKY_1},A[j.achievement_milky_2]={name:"achievement_milky_1",trackingName:E.ACHIEVEMENT_MILKY_2,value:1e4,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"8_milky",trackingId:t.ACHIEVEMENT_MILKY_2},A[j.achievement_milky_3]={name:"achievement_milky_1",trackingName:E.ACHIEVEMENT_MILKY_3,value:2e4,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"8_milky",trackingId:t.ACHIEVEMENT_MILKY_3},A[j.achievement_schoki_1]={name:"achievement_schoky_1",trackingName:E.ACHIEVEMENT_SCHOKI_1,value:3e3,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"9_schoki",trackingId:t.ACHIEVEMENT_SCHOKI_1},A[j.achievement_schoki_2]={name:"achievement_schoky_1",trackingName:E.ACHIEVEMENT_SCHOKI_2,value:1e4,rewardType:J.COINS,rewardValue:720,diff:X.NORMAL,spriteName:"9_schoki",trackingId:t.ACHIEVEMENT_SCHOKI_2},A[j.achievement_schoki_3]={name:"achievement_schoky_1",trackingName:E.ACHIEVEMENT_SCHOKI_3,value:2e4,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"9_schoki",trackingId:t.ACHIEVEMENT_SCHOKI_3},A[j.achievement_beach_1]={name:"achivement_beach_1",trackingName:E.ACHIEVEMENT_BEACH_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"10_Tropical + 27",trackingId:t.ACHIEVEMENT_BEACH_1},A[j.achievement_beach_2]={name:"achivement_beach_2",trackingName:E.ACHIEVEMENT_BEACH_2,value:20,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"10_Tropical + 27",trackingId:t.ACHIEVEMENT_BEACH_2},A[j.achievement_beach_3]={name:"achivement_beach_3",trackingName:E.ACHIEVEMENT_BEACH_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"10_Tropical + 27",trackingId:t.ACHIEVEMENT_BEACH_3},A[j.achievement_city_1]={name:"achivement_city_1",trackingName:E.ACHIEVEMENT_CITY_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"11_Urban_city + 28",trackingId:t.ACHIEVEMENT_CITY_1},A[j.achievement_city_2]={name:"achivement_city_2",trackingName:E.ACHIEVEMENT_CITY_2,value:20,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"11_Urban_city + 28",trackingId:t.ACHIEVEMENT_CITY_2},A[j.achievement_city_3]={name:"achivement_city_3",trackingName:E.ACHIEVEMENT_CITY_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"11_Urban_city + 28",trackingId:t.ACHIEVEMENT_CITY_3},A[j.achievement_mountain_1]={name:"achievement_mountain_1",trackingName:E.ACHIEVEMENT_MOUNTAIN_1,value:10,rewardType:J.COINS,rewardValue:600,diff:X.EASY,spriteName:"12_snow +29",trackingId:t.ACHIEVEMENT_MOUNTAIN_1},A[j.achievement_mountain_2]={name:"achievement_mountain_2",trackingName:E.ACHIEVEMENT_MOUNTAIN_2,value:20,rewardType:J.BOOSTERS,rewardValue:0,diff:X.NORMAL,spriteName:"12_snow +29",trackingId:t.ACHIEVEMENT_MOUNTAIN_2},A[j.achievement_mountain_3]={name:"achievement_mountain_3",trackingName:E.ACHIEVEMENT_MOUNTAIN_3,value:30,rewardType:J.BOOSTERS,rewardValue:0,diff:X.HARD,spriteName:"12_snow +29",trackingId:t.ACHIEVEMENT_MOUNTAIN_3},A)),e("DAILY_MISSION_REWARD",{EASY:200,NORMAL:300,HARD:500});!function(e){e[e.play_mul=0]="play_mul",e[e.run_distance=1]="run_distance",e[e.double_jump=2]="double_jump",e[e.collect_coins=3]="collect_coins",e[e.dash=4]="dash",e[e.request_backpack=5]="request_backpack",e[e.pass_backpack=6]="pass_backpack",e[e.power_up=7]="power_up",e[e.extra_life=8]="extra_life",e[e.suc_QTE=9]="suc_QTE",e[e.double_jump_one_run=10]="double_jump_one_run",e[e.run_distance_one_run=11]="run_distance_one_run",e[e.upgrade_power_up=12]="upgrade_power_up",e[e.booster_active=13]="booster_active",e[e.collect_coins_one_run=14]="collect_coins_one_run",e[e.dash_one_run=15]="dash_one_run",e[e.mid_coin=16]="mid_coin",e[e.booster_buy=17]="booster_buy",e[e.accessory_run=18]="accessory_run",e[e.pass_backpack_one_run=19]="pass_backpack_one_run",e[e.buy_accessories=20]="buy_accessories",e[e.tropical_island=21]="tropical_island",e[e.urban_city=22]="urban_city",e[e.snow_mountain=23]="snow_mountain",e[e.share=24]="share"}(Z||(Z=e("MISSION_ID",{})));var z;e("MISSION_DISTRIBUTION",[[4,0,0],[3,1,0],[2,2,0],[2,1,1],[1,2,1],[1,2,1],[1,1,2]]);!function(e){e[e.MAIN_MENU=0]="MAIN_MENU",e[e.SHOP=1]="SHOP"}(z||(z=e("MISSION_DEST",{})));var $;e("DailyMissionDefine",[{id:Z.play_mul,name:"play_mul",value:[1,3,5],spriteName:"13_play_public_mode",go:z.MAIN_MENU,trackingId:t.PLAY_MUL},{id:Z.run_distance,name:"run_distance",value:[1e3,3e3,5e3],spriteName:"14_rundistance",go:z.MAIN_MENU,trackingId:t.RUN_DISTANCE},{id:Z.double_jump,name:"double_jump",value:[5,20,30],spriteName:"15_x2 jump",go:z.MAIN_MENU,trackingId:t.DOUBLE_JUMP},{id:Z.collect_coins,name:"collect_coins",value:[200,500,1e3],spriteName:"18_coin",go:z.MAIN_MENU,trackingId:t.COLLECT_COINS},{id:Z.dash,name:"dash",value:[5,10,15],spriteName:"16_Slide",go:z.MAIN_MENU,trackingId:t.DASH},{id:Z.request_backpack,name:"request_backpack",value:[5,10,15],spriteName:"17_Backpack",go:z.MAIN_MENU,trackingId:t.REQUEST_BACKPACK},{id:Z.pass_backpack,name:"pass_backpack",value:[5,15,20],spriteName:"17_Backpack",go:z.MAIN_MENU,trackingId:t.PASS_BACKPACK},{id:Z.power_up,name:"power_up",value:[3,5,10],spriteName:"3power_up  + 19",go:z.MAIN_MENU,trackingId:t.POWER_UP},{id:Z.extra_life,name:"extra_life",value:[2,5,10],spriteName:"5_Revive +21",go:z.MAIN_MENU,trackingId:t.EXTRA_LIFE},{id:Z.suc_QTE,name:"suc_QTE",value:[1,5,10],spriteName:"30_success_QTE",go:z.MAIN_MENU,trackingId:t.SUC_QTE},{id:Z.double_jump_one_run,name:"double_jump_one_run",value:[5,10,15],spriteName:"15_x2 jump",go:z.MAIN_MENU,trackingId:t.DOUBLE_JUMP_ONE_RUN},{id:Z.run_distance_one_run,name:"run_distance_one_run",value:[500,1500,3e3],spriteName:"14_rundistance",go:z.MAIN_MENU,trackingId:t.RUN_DISTANCE_ONE_RUN},{id:Z.upgrade_power_up,name:"Upgrade_power_up",value:[-1,1,-1],spriteName:"23_upgrade power up",go:z.SHOP,trackingId:t.UPGRADE_POWER_UP},{id:Z.booster_active,name:"booster_active",value:[1,3,6],spriteName:"4_booster +22",go:z.MAIN_MENU,trackingId:t.BOOSTER_ACTIVE},{id:Z.collect_coins_one_run,name:"collect_coins_one_run",value:[50,100,300],spriteName:"18_coin",go:z.MAIN_MENU,trackingId:t.COLLECT_COINS_ONE_RUN},{id:Z.dash_one_run,name:"dash_one_run",value:[3,5,10],spriteName:"16_Slide",go:z.MAIN_MENU,trackingId:t.DASH_ONE_RUN},{id:Z.mid_coin,name:"mid_coin",value:[10,20,30],spriteName:"24_big coin",go:z.MAIN_MENU,trackingId:t.MID_COIN},{id:Z.booster_buy,name:"booster_buy",value:[1,3,5],spriteName:"21_buy ",go:z.SHOP,trackingId:t.BOOSTER_BUY},{id:Z.accessory_run,name:"accessory_run",value:[1e3,2e3,3e3],spriteName:"25_run with accessories",go:z.MAIN_MENU,trackingId:t.ACCESSORY_RUN},{id:Z.pass_backpack_one_run,name:"pass_backpack_one_run",value:[5,10,15],spriteName:"17_Backpack",go:z.MAIN_MENU,trackingId:t.PASS_BACKPACK_ONE_RUN},{id:Z.buy_accessories,name:"buy_acessories",value:[-1,-1,1],spriteName:"1_buy accesssories +26",go:z.SHOP,trackingId:t.BUY_ACESSORIES},{id:Z.tropical_island,name:"tropical_island",value:[1e3,3e3,5e3],spriteName:"10_Tropical + 27",go:z.MAIN_MENU,trackingId:t.TROPICAL_ISLAND},{id:Z.urban_city,name:"urban_city",value:[1e3,3e3,5e3],spriteName:"11_Urban_city + 28",go:z.MAIN_MENU,trackingId:t.URBAN_CITY},{id:Z.snow_mountain,name:"snow_mountain",value:[1e3,3e3,5e3],spriteName:"12_snow +29",go:z.MAIN_MENU,trackingId:t.SNOW_MOUNTAIN},{id:Z.share,name:"share",value:[-1,-1,1],spriteName:"31_share",go:z.MAIN_MENU,trackingId:t.SHARE}]),e("DailyMissionNewPlayer",[[{id:Z.run_distance_one_run,difficulty:X.EASY},{id:Z.play_mul,difficulty:X.EASY},{id:Z.collect_coins_one_run,difficulty:X.EASY},{id:Z.double_jump_one_run,difficulty:X.EASY}],[{id:Z.suc_QTE,difficulty:X.EASY},{id:Z.dash_one_run,difficulty:X.EASY},{id:Z.power_up,difficulty:X.EASY},{id:Z.collect_coins_one_run,difficulty:X.NORMAL}],[{id:Z.upgrade_power_up,difficulty:X.NORMAL},{id:Z.request_backpack,difficulty:X.EASY},{id:Z.run_distance_one_run,difficulty:X.NORMAL},{id:Z.booster_active,difficulty:X.EASY}],[{id:Z.mid_coin,difficulty:X.EASY},{id:Z.play_mul,difficulty:X.NORMAL},{id:Z.extra_life,difficulty:X.EASY},{id:Z.tropical_island,difficulty:X.EASY}],[{id:Z.accessory_run,difficulty:X.NORMAL},{id:Z.booster_buy,difficulty:X.EASY},{id:Z.urban_city,difficulty:X.EASY},{id:Z.power_up,difficulty:X.NORMAL}],[{id:Z.run_distance_one_run,difficulty:X.HARD},{id:Z.extra_life,difficulty:X.NORMAL},{id:Z.play_mul,difficulty:X.HARD},{id:Z.booster_buy,difficulty:X.NORMAL}],[{id:Z.snow_mountain,difficulty:X.EASY},{id:Z.buy_accessories,difficulty:X.HARD},{id:Z.collect_coins_one_run,difficulty:X.HARD},{id:Z.power_up,difficulty:X.HARD}],[{id:Z.pass_backpack,difficulty:X.NORMAL},{id:Z.extra_life,difficulty:X.NORMAL},{id:Z.upgrade_power_up,difficulty:X.NORMAL},{id:Z.run_distance_one_run,difficulty:X.NORMAL}],[{id:Z.extra_life,difficulty:X.HARD},{id:Z.suc_QTE,difficulty:X.HARD},{id:Z.booster_active,difficulty:X.NORMAL},{id:Z.run_distance,difficulty:X.HARD}],[{id:Z.mid_coin,difficulty:X.NORMAL},{id:Z.buy_accessories,difficulty:X.HARD},{id:Z.play_mul,difficulty:X.EASY},{id:Z.suc_QTE,difficulty:X.NORMAL}],[{id:Z.tropical_island,difficulty:X.NORMAL},{id:Z.accessory_run,difficulty:X.NORMAL},{id:Z.power_up,difficulty:X.NORMAL},{id:Z.pass_backpack_one_run,difficulty:X.EASY}],[{id:Z.booster_buy,difficulty:X.NORMAL},{id:Z.tropical_island,difficulty:X.EASY},{id:Z.pass_backpack,difficulty:X.NORMAL},{id:Z.extra_life,difficulty:X.HARD}],[{id:Z.request_backpack,difficulty:X.NORMAL},{id:Z.tropical_island,difficulty:X.EASY},{id:Z.accessory_run,difficulty:X.HARD},{id:Z.snow_mountain,difficulty:X.NORMAL}],[{id:Z.upgrade_power_up,difficulty:X.NORMAL},{id:Z.booster_buy,difficulty:X.HARD},{id:Z.suc_QTE,difficulty:X.HARD},{id:Z.run_distance,difficulty:X.HARD}]]),e("DailyMissionSet",[[2,2,0],[1,2,1],[0,2,2]]);!function(e){e.None="",e.M_Head_01="M_Head_01",e.M_Head_02="M_Head_02",e.M_Head_03="M_Head_03",e.M_Head_04="M_Head_04",e.M_Head_05="M_Head_05",e.M_Head_06="M_Head_06",e.M_Head_10="M_Head_10",e.M_Scarf_01="M_Scarf_01",e.M_Scarf_02="M_Scarf_02",e.M_Scarf_03="M_Scarf_03",e.M_Scarf_07="M_Scarf_07",e.M_Scarf_08="M_Scarf_08",e.M_Scarf_09="M_Scarf_09",e.M_Shoe_01="M_Shoe_01",e.M_Shoe_02="M_Shoe_02",e.M_Shoe_04="M_Shoe_04",e.M_Shoe_05="M_Shoe_05",e.M_Shoe_06="M_Shoe_06",e.S_Head_04="S_Head_04",e.S_Head_05="S_Head_05",e.S_Head_06="S_Head_06",e.S_Head_07="S_Head_07",e.S_Head_08="S_Head_08",e.S_Head_09="S_Head_09",e.S_Scarf_01="S_Scarf_01",e.S_Scarf_02="S_Scarf_02",e.S_Scarf_03="S_Scarf_03",e.S_Scarf_04="S_Scarf_04",e.S_Scarf_05="S_Scarf_05",e.S_Scarf_06="S_Scarf_06",e.S_Scarf_10="S_Scarf_10",e.S_Pant_01="S_Pant_01",e.S_Pant_02="S_Pant_02",e.S_Pant_03="S_Pant_03",e.S_Pant_04="S_Pant_04",e.S_Pant_05="S_Pant_05",e.S_Pant_06="S_Pant_06",e.S_Pant_07="S_Pant_07",e.S_Pant_08="S_Pant_08"}($||($=e("AccessoryKey",{})));var ee,_e,ae;e("DailyRewardFirstWeek",[{rewardType:J.COINS,rewardValue:400},{rewardType:J.COINS,rewardValue:450},{rewardType:J.ACCESSORY,rewardValue:$.S_Head_09},{rewardType:J.COINS,rewardValue:500},{rewardType:J.BOOSTERS,rewardValue:1},{rewardType:J.COINS,rewardValue:600},{rewardType:J.ACCESSORY,rewardValue:$.M_Head_03}]),e("DailyRewardNormal",[{rewardType:J.COINS,rewardValue:400},{rewardType:J.COINS,rewardValue:450},{rewardType:J.BOOSTERS,rewardValue:2},{rewardType:J.COINS,rewardValue:550},{rewardType:J.BOOSTERS,rewardValue:2},{rewardType:J.COINS,rewardValue:650},{rewardType:J.BOOSTERS,rewardValue:2}]);!function(e){e[e.NONE=0]="NONE",e[e.QR_SCAN=1]="QR_SCAN",e[e.DAILY_REWARD=2]="DAILY_REWARD"}(ee||(ee=e("UnlockType",{}))),function(e){e[e.Head=0]="Head",e[e.Body=1]="Body",e[e.Leg=2]="Leg"}(_e||(_e=e("AccessoryType",{}))),function(e){e[e.headwear_01=1800]="headwear_01",e[e.headwear_02=2520]="headwear_02",e[e.headwear_03=3528]="headwear_03",e[e.headwear_04=3e3]="headwear_04",e[e.headwear_05=4200]="headwear_05",e[e.headwear_06=5880]="headwear_06",e[e.headwear_07=1800]="headwear_07",e[e.headwear_08=0]="headwear_08",e[e.headwear_09=3528]="headwear_09",e[e.headwear_10=3e3]="headwear_10",e[e.scarf_01=3e3]="scarf_01",e[e.scarf_02=4200]="scarf_02",e[e.scarf_03=3e3]="scarf_03",e[e.scarf_04=2520]="scarf_04",e[e.scarf_05=1800]="scarf_05",e[e.scarf_06=3528]="scarf_06",e[e.scarf_07=4200]="scarf_07",e[e.scarf_08=4200]="scarf_08",e[e.scarf_09=3e3]="scarf_09",e[e.scarf_10=5880]="scarf_10",e[e.footwear_01=1800]="footwear_01",e[e.footwear_02=1800]="footwear_02",e[e.footwear_04=2520]="footwear_04",e[e.footwear_05=3528]="footwear_05",e[e.footwear_06=3528]="footwear_06",e[e.pant_01=1800]="pant_01",e[e.pant_02=1800]="pant_02",e[e.pant_03=2520]="pant_03",e[e.pant_04=1800]="pant_04",e[e.pant_05=3528]="pant_05",e[e.pant_06=2520]="pant_06",e[e.pant_07=3e3]="pant_07",e[e.pant_08=4200]="pant_08"}(ae||(ae=e("AccessoryPrice",{})));var ie;e("ACCESSORY_ITEMS",((o={})[$.None]=void 0,o[$.M_Head_01]={character:M.MILKY,type:_e.Head,id:1,price:ae.headwear_01,spriteName:"Headwear_01",trackingId:i.HEADWEAR_01,store:!1,unlock:ee.QR_SCAN},o[$.M_Head_02]={character:M.MILKY,type:_e.Head,id:2,price:ae.headwear_02,spriteName:"Headwear_02",trackingId:i.HEADWEAR_02,store:!0,unlock:ee.NONE},o[$.M_Head_03]={character:M.MILKY,type:_e.Head,id:3,price:ae.headwear_03,spriteName:"Headwear_03",trackingId:i.HEADWEAR_03,store:!1,unlock:ee.DAILY_REWARD},o[$.M_Head_04]={character:M.MILKY,type:_e.Head,id:4,price:ae.headwear_04,spriteName:"Headwear_04_Milky",trackingId:i.HEADWEAR_04_MILKY,store:!1,unlock:ee.QR_SCAN},o[$.M_Head_05]={character:M.MILKY,type:_e.Head,id:5,price:ae.headwear_05,spriteName:"Headwear_05",trackingId:i.HEADWEAR_05_MILKY,store:!0,unlock:ee.NONE},o[$.M_Head_06]={character:M.MILKY,type:_e.Head,id:6,price:ae.headwear_06,spriteName:"Headwear_06_Milky",trackingId:i.HEADWEAR_06_MILKY,store:!0,unlock:ee.NONE},o[$.M_Head_10]={character:M.MILKY,type:_e.Head,id:10,price:ae.headwear_10,spriteName:"Headwear_10_A",trackingId:i.HEADWEAR_10,store:!0,unlock:ee.NONE},o[$.M_Scarf_01]={character:M.MILKY,type:_e.Body,id:1,price:ae.scarf_01,spriteName:"Scarf_01_Milky",trackingId:i.SCARF_01_MILKY,store:!1,unlock:ee.QR_SCAN},o[$.M_Scarf_02]={character:M.MILKY,type:_e.Body,id:2,price:ae.scarf_02,spriteName:"Scarf_02_Milky",trackingId:i.SCARF_02_MILKY,store:!1,unlock:ee.QR_SCAN},o[$.M_Scarf_03]={character:M.MILKY,type:_e.Body,id:3,price:ae.scarf_03,spriteName:"Scarf_03_Milky",trackingId:i.SCARF_03_MILKY,store:!0,unlock:ee.NONE},o[$.M_Scarf_07]={character:M.MILKY,type:_e.Body,id:7,price:ae.scarf_07,spriteName:"Scarf_07",trackingId:i.SCARF_07,store:!0,unlock:ee.NONE},o[$.M_Scarf_08]={character:M.MILKY,type:_e.Body,id:8,price:ae.scarf_08,spriteName:"Scarf_08",trackingId:i.SCARF_08,store:!0,unlock:ee.NONE},o[$.M_Scarf_09]={character:M.MILKY,type:_e.Body,id:9,price:ae.scarf_09,spriteName:"Scarf_09",trackingId:i.SCARF_09,store:!0,unlock:ee.NONE},o[$.M_Shoe_01]={character:M.MILKY,type:_e.Leg,id:1,price:ae.footwear_01,spriteName:"Footwear_01",trackingId:i.FOOTWEAR_01,store:!1,unlock:ee.QR_SCAN},o[$.M_Shoe_02]={character:M.MILKY,type:_e.Leg,id:2,price:ae.footwear_02,spriteName:"Footwear_02",trackingId:i.FOOTWEAR_02,store:!0,unlock:ee.NONE},o[$.M_Shoe_04]={character:M.MILKY,type:_e.Leg,id:4,price:ae.footwear_04,spriteName:"Footwear_04",trackingId:i.FOOTWEAR_04,store:!0,unlock:ee.NONE},o[$.M_Shoe_05]={character:M.MILKY,type:_e.Leg,id:5,price:ae.footwear_05,spriteName:"Footwear_05",trackingId:i.FOOTWEAR_05,store:!0,unlock:ee.NONE},o[$.M_Shoe_06]={character:M.MILKY,type:_e.Leg,id:6,price:ae.footwear_06,spriteName:"Footwear_06",trackingId:i.FOOTWEAR_06,store:!0,unlock:ee.NONE},o[$.S_Head_04]={character:M.SCHOKI,type:_e.Head,id:4,price:ae.pant_06,spriteName:"Headwear_04_Schoki",trackingId:i.HEADWEAR_04_SCHOKI,store:!1,unlock:ee.QR_SCAN},o[$.S_Head_05]={character:M.SCHOKI,type:_e.Head,id:5,price:ae.headwear_05,spriteName:"Headwear_05",trackingId:i.HEADWEAR_05_SCHOKI,store:!0,unlock:ee.NONE},o[$.S_Head_08]={character:M.SCHOKI,type:_e.Head,id:8,price:ae.headwear_08,spriteName:"Headwear_08",trackingId:i.HEADWEAR_08,store:!0,unlock:ee.NONE},o[$.S_Head_06]={character:M.SCHOKI,type:_e.Head,id:6,price:ae.headwear_06,spriteName:"Headwear_06_Schoki",trackingId:i.HEADWEAR_06_SCHOKI,store:!0,unlock:ee.NONE},o[$.S_Head_07]={character:M.SCHOKI,type:_e.Head,id:7,price:ae.headwear_07,spriteName:"Headwear_07",trackingId:i.HEADWEAR_07,store:!1,unlock:ee.QR_SCAN},o[$.S_Head_09]={character:M.SCHOKI,type:_e.Head,id:9,price:ae.headwear_09,spriteName:"Headwear_09",trackingId:i.HEADWEAR_09,store:!1,unlock:ee.DAILY_REWARD},o[$.S_Scarf_01]={character:M.SCHOKI,type:_e.Body,id:1,price:ae.scarf_01,spriteName:"Scarf_01_Schoki",trackingId:i.SCARF_01_SCHOKI,store:!1,unlock:ee.QR_SCAN},o[$.S_Scarf_02]={character:M.SCHOKI,type:_e.Body,id:2,price:ae.scarf_02,spriteName:"Scarf_02_Milky",trackingId:i.SCARF_02_SCHOKI,store:!1,unlock:ee.QR_SCAN},o[$.S_Scarf_03]={character:M.SCHOKI,type:_e.Body,id:3,price:ae.scarf_03,spriteName:"Scarf_03_Schoki",trackingId:i.SCARF_03_SCHOKI,store:!0,unlock:ee.NONE},o[$.S_Scarf_04]={character:M.SCHOKI,type:_e.Body,id:4,price:ae.scarf_04,spriteName:"Scarf_04",trackingId:i.SCARF_04,store:!0,unlock:ee.NONE},o[$.S_Scarf_05]={character:M.SCHOKI,type:_e.Body,id:5,price:ae.scarf_05,spriteName:"Scarf_05",trackingId:i.SCARF_05,store:!0,unlock:ee.NONE},o[$.S_Scarf_06]={character:M.SCHOKI,type:_e.Body,id:6,price:ae.scarf_06,spriteName:"Scarf_06",trackingId:i.SCARF_06,store:!0,unlock:ee.NONE},o[$.S_Scarf_10]={character:M.SCHOKI,type:_e.Body,id:10,price:ae.scarf_10,spriteName:"Scarf_10",trackingId:i.SCARF_10,store:!0,unlock:ee.NONE},o[$.S_Pant_01]={character:M.SCHOKI,type:_e.Leg,id:1,price:ae.pant_01,spriteName:"Pant_01",trackingId:i.PANT_01,store:!0,unlock:ee.NONE},o[$.S_Pant_02]={character:M.SCHOKI,type:_e.Leg,id:2,price:ae.pant_02,spriteName:"Pant_02",trackingId:i.PANT_02,store:!0,unlock:ee.NONE},o[$.S_Pant_03]={character:M.SCHOKI,type:_e.Leg,id:3,price:ae.pant_03,spriteName:"Pant_03",trackingId:i.PANT_03,store:!0,unlock:ee.NONE},o[$.S_Pant_04]={character:M.SCHOKI,type:_e.Leg,id:4,price:ae.pant_04,spriteName:"Pant_04",trackingId:i.PANT_04,store:!0,unlock:ee.NONE},o[$.S_Pant_05]={character:M.SCHOKI,type:_e.Leg,id:5,price:ae.pant_05,spriteName:"Pant_05",trackingId:i.PANT_05,store:!0,unlock:ee.NONE},o[$.S_Pant_06]={character:M.SCHOKI,type:_e.Leg,id:6,price:ae.pant_06,spriteName:"Pant_06",trackingId:i.PANT_06,store:!1,unlock:ee.QR_SCAN},o[$.S_Pant_07]={character:M.SCHOKI,type:_e.Leg,id:7,price:ae.pant_07,spriteName:"Pants_07",trackingId:i.PANT_07,store:!0,unlock:ee.NONE},o[$.S_Pant_08]={character:M.SCHOKI,type:_e.Leg,id:8,price:ae.pant_08,spriteName:"Pants_08",trackingId:i.PANT_08,store:!0,unlock:ee.NONE},o));!function(e){e[e.Loend=0]="Loend",e[e.Highend=1]="Highend"}(ie||(ie=e("EDeviceprofile",{})));var re;e("DeviceProfiles",[{Name:"Low",LowEnvironment:!0,Shadow:!1,VFX:!1,ViewScale:.3,TotalTile:2,TotalArea:3,SkyScale:.4,FogDensity:.5,FogStart:100,FogEnd:300,NodeAmountScale:.4},{Name:"High",LowEnvironment:!1,Shadow:!0,VFX:!0,ViewScale:.5,TotalArea:3,TotalTile:3,SkyScale:.5,FogDensity:.35,FogStart:150,FogEnd:300,NodeAmountScale:1}]),e("QR_SCAN_ACCESSORIES",{M_Head_01:[$.M_Head_01],M_S_Head_04:[$.M_Head_04,$.S_Head_04],S_Head_07:[$.S_Head_07],M_S_Scarf_01:[$.M_Scarf_01,$.S_Scarf_01],M_Scarf_02:[$.M_Scarf_02],S_Scarf_02:[$.S_Scarf_02],M_Shoe_01:[$.M_Shoe_01],S_Pant_06:[$.S_Pant_06]}),e("QR_SCAN_REWARDS",[{from:0,rewards:[{accessories:1},{coins:150},{coins:225,boosters:1},{coins:338,boosters:1},{coins:507,boosters:1}]},{from:1,rewards:[{coins:100},{coins:150},{coins:250,boosters:1},{coins:350,boosters:1},{coins:500,boosters:1,accessories:1}]},{from:2,rewards:[{coins:100},{coins:150},{coins:250,boosters:1},{coins:300,boosters:1},{coins:500,boosters:1}]}]),e("QR_CODE_LIST",["KM001","T4","T6","T10","T10TM","T10DM","T11","T18","T18DM","T18TM","T20"]);!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.DOWNLOAD=2]="DOWNLOAD",e[e.DEAR_USER_PHOTO=3]="DEAR_USER_PHOTO",e[e.BACK=4]="BACK",e[e.CTA=5]="CTA"}(re||(re=e("ActionPhoto",{})));var Ee;e("EnvUnlockCondition",[{type:Y.TROPICAL,name:"",prequisite_name:"",value:0},{type:Y.URBAN,name:"str_map_urban",prequisite_name:"str_map_tropical",value:5e3},{type:Y.SNOW,name:"str_map_snow",prequisite_name:"str_map_urban",value:1e4}]),e("MM_ANIM",{CHATTING:"mmChatting",COLLECTION:"mmCollection",QRSCAN:"mmQRScan",DAILY_MISSION:"mmDailyMission"});!function(e){e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED_SHOW_POPUP=1]="UNLOCKED_SHOW_POPUP",e[e.UNLOCKED=2]="UNLOCKED"}(Ee||(Ee=e("PopupUnlockState",{})));e("BACKPACK_SIZE_NAMES",["Backpack_S","Backpack_M","Backpack_L"]);_._RF.pop()}}}));

System.register("chunks:///_virtual/Crab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./AIManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(t){"use strict";var i,n,e,o,a,r,s,c,l,h,d,u,m,_,p,I,f,g,y,A,b,v,P,S,R;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.v3,l=t.BoxCollider,h=t.tween,d=t.randomRange},function(t){u=t.EnvironmentType,m=t.SWIPEType,_=t.PLAYER_CHARACTER,p=t.default,I=t.AudioSrc,f=t.GameActions,g=t.SKILL},function(t){y=t.NetworkManager},function(t){A=t.RunningGameManager},function(t){b=t.SoundManager},function(t){v=t.AIManager},function(t){P=t.ANIMATION_VARIABLES,S=t.Obstacle},function(t){R=t.PlayerManager}],execute:function(){var w,T,k,C,M,E,x,N,B,O,z;a._RF.push({},"11764ov6c9C0rTRnLGFioDG","Crab",void 0);var L=r.ccclass,D=r.property;t("Crab",(w=L("Crab"),T=D(s),w((M=i((C=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,e(i,"m_indicator",M,o(i)),e(i,"m_MoveSpeed",E,o(i)),e(i,"m_IndicatorRange",x,o(i)),e(i,"m_IndicatorTime",N,o(i)),e(i,"m_StartPos",B,o(i)),e(i,"m_BlinkDuration",O,o(i)),e(i,"m_BlinkTime",z,o(i)),i._rollingSpeed=5,i.isPlaying=!0,i.jumped=!1,i.startX=4,i.endX=0,i.direction=1,i.canMove=!1,i.isIndicatorShown=!1,i._tweenIndicator=null,i.isSfxPlayed=!1,i}n(i,t);var a=i.prototype;return a.start=function(){this._rollingSpeed=this.m_MoveSpeed,this._rangeToActivate=this.m_IndicatorRange,this.m_indicator.active=!1,t.prototype.start.call(this)},a.reset=function(){t.prototype.reset.call(this),this.node.setPosition(this._originPosition),this.isIndicatorShown=!1,this.m_indicator.active=!1,this.canMove=!1,this.isSfxPlayed=!1;var i=this.node.parent.getPosition().x;i<0?(this.startX=-this.m_StartPos,this.direction=1):i>0&&(this.startX=this.m_StartPos,this.direction=-1);var n=this.node.getPosition();n.x=this.startX,this.node.setPosition(n);var e=y.Instance.lobbyInfo.environment;this.animationContainer&&(e==u.URBAN?(this.animationContainer.setRotationFromEuler(this.direction>0?c(0,0,0):c(0,180,0)),this.getComponent(l).center=this.direction>0?c(4,2,1):c(-4,2,1)):e==u.SNOW?(this._currentAnimCtrl.node.setRotationFromEuler(this.direction>0?c(0,90,0):c(0,-90,0)),this.getComponent(l).center=c(0,2,1)):(this._currentAnimCtrl.node.setRotationFromEuler(this.direction>0?c(0,180,0):c(0,0,0)),this.getComponent(l).center=c(0,2,1)))},a.checkWillNotify=function(){this.node.parent.getPosition().x<0?this._notifyType=m.RIGHT:this.node.parent.getPosition().x>0&&(this._notifyType=m.LEFT)},a.checkWillActivateAI=function(){this._willActivateAI=!1,this.jumped=!1,this._aiProcessing=!1;var t=this.getPlayerSide();(t==_.MILKY&&this.node.parent.getPosition().x>0||t==_.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},a.updateMovement=function(t){var i=A.Instance.speed/p.DEFAULT_RUNNING_SPEED,n=R.Instance.node.getWorldPosition(),e=this.node.getWorldPosition(),o=Math.abs(n.z-e.z),a=this.node.getPosition();if(o<this._rangeToActivate*i&&o>-this._rangeToActivate*i){if(!this.isIndicatorShown)switch(this.isIndicatorShown=!0,this.showIndicator(),y.Instance.lobbyInfo.environment){case u.TROPICAL:break;case u.URBAN:b.Instance.playOneShot(I.BARRIER_SHAKE);break;case u.SNOW:}if(this.canMove){if(!this.isSfxPlayed)switch(this.isSfxPlayed=!0,y.Instance.lobbyInfo.environment){case u.TROPICAL:b.Instance.playOneShot(I.CRAB_CAGE);break;case u.URBAN:break;case u.SNOW:b.Instance.playSnowballSFX()}a.x+=this.direction*this._rollingSpeed*t,this.direction<0?a.x>0&&a.x>this.endX||(a.x=this.endX):a.x<0&&a.x<this.endX||(a.x=this.endX),this.node.setPosition(a)}}},a.showIndicator=function(){var t=this;this._tweenIndicator&&this._tweenIndicator.stop(),this.m_indicator.active=!0,this._tweenIndicator=h(this.m_indicator).set({scale:c(.1,.1)}).to(.25,{scale:c(3,3)},{easing:"backOut"}).delay(this.m_IndicatorTime-.25);for(var i=this.m_BlinkDuration/(2*this.m_BlinkTime),n=0;n<3;n++)this._tweenIndicator.call((function(){t.m_indicator.active=!1})).delay(i).call((function(){t.m_indicator.active=!0})).delay(i);this._tweenIndicator.call((function(){t.m_indicator.active=!1,y.Instance.lobbyInfo.environment!=u.URBAN?t.canMove=!0:(t.canMove=!1,b.Instance.playOneShot(I.BARRIER_EXTEND)),t.setAnimationVariable(P.Action,!0)})).start()},a.updateAI=function(t){var i=this;if(this._willActivateAI){var n=R.Instance.node.getWorldPosition(),e=this.node.getWorldPosition(),o=10*(A.Instance.speed/p.DEFAULT_RUNNING_SPEED);n.z<e.z+o&&0==this.jumped&&this._willPassObject&&0==this._aiProcessing&&(this.jumped=!0,A.Instance.sendAction({action:f.AIControl,skill:g.JUMP})),n.z<e.z+60&&R.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){i._anticipatingSuccess&&(A.Instance.sendAction({action:f.SetBackpackSide,dest:R.Instance.thisPlayer.character,force:!1}),i._aiProcessing=!1)}),d(v.Instance.m_minThinkingTime,v.Instance.m_maxThinkingTime))):A.Instance.sendAction({action:f.SetBackpackSide,dest:R.Instance.thisPlayer.character,force:!1}))}},a.onHit=function(){t.prototype.onHit.call(this),y.Instance.lobbyInfo.environment==u.TROPICAL&&this._currentAnimCtrl.node.setRotationFromEuler(c(0,180,0))},i}(S)).prototype,"m_indicator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(C.prototype,"m_MoveSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),x=i(C.prototype,"m_IndicatorRange",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),N=i(C.prototype,"m_IndicatorTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=i(C.prototype,"m_StartPos",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),O=i(C.prototype,"m_BlinkDuration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=i(C.prototype,"m_BlinkTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),k=C))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Crate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var c;r._RF.push({},"6a216oT4TdDEIF3HbSavWe6","Crate",void 0);var s=n.ccclass;n.property,t("Crate",s("Crate")(c=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.getObsHeight=function(){return 0},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/Crypto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./encode_decode.ts"],(function(e){"use strict";var r,n,t,c,o,u;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){t=e.cclegacy},function(e){c=e.defines},function(e){o=e.arrayBufferToHex,u=e.hexToArrayBuffer}],execute:function(){e({generateID:function(e){void 0===e&&(e=21);return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,r){return e+((r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-")}),"")},initCrypt:function(){return l.apply(this,arguments)},logError:function(e){return h.apply(this,arguments)},onlineDec:d,onlineEnc:function(e){return y.apply(this,arguments)}}),t._RF.push({},"c69ae4al3FBJr1oqPr4IvbP","Crypto",void 0);var a,s=crypto.subtle,i=new TextEncoder,p=new TextDecoder,f={name:"AES-CBC",iv:i.encode(c()[2])};function l(){return(l=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.importKey("raw",i.encode(c()[0]+c()[1]),"AES-CBC",!1,["encrypt","decrypt"]);case 3:return a=e.sent,e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=r(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.encrypt(f,a,i.encode(r));case 2:return t=e.sent,e.abrupt("return",o(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=r(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.decrypt(f,a,u(r));case 2:return t=e.sent,e.abrupt("return",p.decode(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=r(n().mark((function e(r){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(r);case 3:t=e.sent,console.warn(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("[BE] Cannot decrypt error message:",r);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t._RF.pop()}}}));

System.register("chunks:///_virtual/CurveManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,u,a,c,o,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,u=e.createClass},function(e){a=e.cclegacy,c=e._decorator,o=e.v2,s=e.director,l=e.Component}],execute:function(){var v,p,f,h,m,X,y;a._RF.push({},"118d9n/XQRLwKKVyWAUbqAQ","CurveManager",void 0);var C=c.ccclass,b=c.property,d=5e-4;e("CurveManager",C("CurveManager")(((y=function(e){function r(){for(var r,t=arguments.length,u=new Array(t),a=0;a<t;a++)u[a]=arguments[a];return r=e.call.apply(e,[this].concat(u))||this,n(r,"curveX",f,i(r)),n(r,"curveY",h,i(r)),n(r,"minCurveX",m,i(r)),n(r,"maxCurveX",X,i(r)),r}t(r,e);var a=r.prototype;return a.onLoad=function(){r.Instance=this,this.addCurve(0,0)},a.addCurve=function(e,r){this.curveX+=e,this.curveY+=r;var t=-this.curveX*d,n=5e-5*-this.curveY;this.updateCurve(t,n)},a.updateCurve=function(e,t){e<this.minX?e=this.minX:e>this.maxX&&(e=this.maxX),r.curveVector.x=e,r.curveVector.y=t,s.root.curveValue[0]=e,s.root.curveValue[1]=t},u(r,[{key:"minX",get:function(){return this.minCurveX*d}},{key:"maxX",get:function(){return this.maxCurveX*d}}]),r}(l)).Instance=null,y.curveVector=o(0,0),f=r((p=y).prototype,"curveX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=r(p.prototype,"curveY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=r(p.prototype,"minCurveX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-3}}),X=r(p.prototype,"maxCurveX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),v=p))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/CurveMaterialConstantSearch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var a;r._RF.push({},"6854aYlye1DPo9GtpboMAwt","CurveMaterialConstantSearch",void 0);var c=n.ccclass;n.property,t("CurveMaterialConstantSearch",c("CurveMaterialConstantSearch")(a=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.show=function(){},n.hide=function(){},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/CurveMaterialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,a,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,n=e.Component}],execute:function(){var u;t._RF.push({},"a256114j4tFUbmwydv0aJvZ","CurveMaterialManager",void 0);var i=a.ccclass;a.property,e("CurveMaterialUpdate",i("CurveMaterialUpdate")(u=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(n))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CurveMaterialSearch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,a,c;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,c=e.Component}],execute:function(){var n;t._RF.push({},"e5486Ts2PBPoamcbYa8XsZ+","CurveMaterialSearch",void 0);var u=a.ccclass;a.property,e("CurveMaterialSearch",u("CurveMaterialSearch")(n=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(c))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/DailyMissionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lodash.mjs_cjs=&original=.js","./Constants.ts","./GameHelper.ts","./UserDataManager.ts","./LevelManager.ts","./lodash.js"],(function(i){"use strict";var s,t,n,e,a,o,r,c,l,h,u,m,d,M,f,L,D,I;return{setters:[function(i){s=i.inheritsLoose},function(i){t=i.cclegacy,n=i._decorator,e=i.game,a=i.log,o=i.Component},null,function(i){r=i.DailyMissionNewPlayer,c=i.DailyMissionDefine,l=i.DailyMissionSet,h=i.MISSION_ID,u=i.EnvironmentType,m=i.MISSION_DIFFICULTY,d=i.AccessoryKey,M=i.default},function(i){f=i.GameHelper},function(i){L=i.UserDataManager},function(i){D=i.LevelManager},function(i){I=i.default}],execute:function(){var v,g;t._RF.push({},"09b63zukBlLibTdeOp0d85r","DailyMissionManager",void 0);var p=n.ccclass,y=(n.property,i("MissionData",function(){function i(){this.id=-1,this.counter=0,this.maxValue=0,this.difficulty=-1,this.isCompleted=!1,this.isClaimed=!1,this.isTaken=!1,this.index=-1}return i.prototype.init=function(i,s){this.counter=0,this.isCompleted=!1,this.isClaimed=!1,this.isTaken=!1,this.difficulty=i,this.maxValue=s},i}()));i("MissionTracking",(function(){this.playTimes=0,this.runDistance=0,this.doubleJumpCtr=0,this.coinsCollect=0,this.dashCtr=0,this.rqBackpackCtr=0,this.passBackpackCtr=0,this.powerupCollectCtr=0,this.qteItemCtr=0,this.sucQTE=0,this.doubleJumpOneRun=0,this.runDistanceOneRun=0,this.powerupUpgradeCtr=0,this.boosterUse=0,this.coinsCollectOneRun=0,this.midCoinCtr=0,this.accessoryRun=0,this.passBackpackOneRun=0,this.buyAccessories=0,this.runDistanceEnv1=0,this.runDistanceEnv2=0,this.runDistanceEnv3=0})),i("DailyMissionManager",p("DailyMissionManager")(((g=function(i){function t(){for(var s,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return(s=i.call.apply(i,[this].concat(n))||this).hour="00",s.min="00",s.sec="00",s.timeString="",s.currentMissionList=[],s.availableMissionList=null,s.currentDay=0,s.dailyResetTime=0,s.mission_distribution=[0,0,0],s.newMissionPool=[],s.DAILY_MISSION_MAX_DAY=14,s.isInit=!1,s}s(t,i);var n=t.prototype;return n.onLoad=function(){e.isPersistRootNode(this.node)||e.addPersistRootNode(this.node),t.Instance=this,this.init()},n.init=function(){this.DAILY_MISSION_MAX_DAY=r.length,this.currentDay=L.Instance.missionData?L.Instance.missionData.loginDay:0,this.dailyResetTime=L.Instance.missionData&&NaN!=L.Instance.missionData.resetDailyTime?L.Instance.missionData.resetDailyTime:0,0==this.dailyResetTime?(this.updateResetTime(),this.generateNewMissions()):(this.checkResetTime(),this.currentMissionList=L.Instance.missionData.missionList,this.newMissionPool=L.Instance.missionData.availMissionList);for(var i=0;i<this.currentMissionList.length;i++)-1!=this.currentMissionList[i].index&&this.currentMissionList[i].index||(this.currentMissionList[i].index=i);this.isInit=!0},n.updateTime=function(){this.isInit&&(this.checkResetTime(),this.updateTimeStr())},n.updateTimeStr=function(){var i=new Date,s=(this.dailyResetTime-i.getTime())/1e3;this.hour=this.formatTime(""+s/60/60%60),this.min=this.formatTime(""+s/60%60),this.sec=this.formatTime(""+Math.floor(s%60)),t.Instance.timeString=this.hour+":"+this.min+":"+this.sec},n.getTimeStr=function(){return t.Instance.timeString?t.Instance.timeString:""},n.checkResetTime=function(){var i=new Date,s=new Date(this.dailyResetTime).getTime();i.getTime()>s&&(a("daily reset triggered"),this.currentDay++,this.updateResetTime(),t.Instance.generateNewMissions())},n.updateResetTime=function(){var i=M.DAILY_RESET_TIME,s=new Date;s.setHours(i.hour,i.min,i.sec),new Date>s&&s.setDate(s.getDate()+1),this.dailyResetTime=s.valueOf(),L.Instance.missionData.resetDailyTime=this.dailyResetTime},n.generateNewMissions=function(){if(!D.Instance.m_Editor){if(this.currentDay<r.length){this.newMissionPool=[];for(var i=0;i<r[this.currentDay].length;i++){for(var s=new y,t=r[this.currentDay][i].id,n=r[this.currentDay][i].difficulty,e=0,a=0;a<c.length;a++)t==c[a].id&&(e=c[a].value[n]);s.id=t,s.init(n,e),s.index=this.newMissionPool.length,this.newMissionPool.push(s)}}else{this.newMissionPool=[];var o=f.getRndIntegerInclusive(0,2);this.mission_distribution=l[o];var d;d=this.checkisAllAccessoryOwned(),this.availableMissionList=I.cloneDeep(c);for(var M=this.availableMissionList.length;M>0;){if(M--,this.availableMissionList[M].id==h.urban_city){if(!L.Instance.userData){this.availableMissionList.splice(M,1);continue}if(L.Instance.userData.unlockedEnvironment<u.URBAN){this.availableMissionList.splice(M,1);continue}}if(this.availableMissionList[M].id==h.snow_mountain){if(!L.Instance.userData){this.availableMissionList.splice(M,1);continue}if(L.Instance.userData.unlockedEnvironment<3){this.availableMissionList.splice(M,1);continue}}if(this.availableMissionList[M].id==h.buy_accessories&&d)this.availableMissionList.splice(M,1);else if(this.availableMissionList[M].id!=h.share){if(this.currentMissionList.length>0)for(var v=0;v<this.currentMissionList.length;v++)this.currentMissionList[v].id==this.availableMissionList[M]&&this.availableMissionList.splice(M,1)}else this.availableMissionList.splice(M,1)}this.getRandomMission(m.EASY),this.getRandomMission(m.NORMAL),this.getRandomMission(m.HARD)}for(var g=new y,p=0,T=0;T<c.length;T++)if(c[T].id==h.share){g.id=h.share,p=c[T].value[m.HARD],c[T].name,g.init(m.HARD,p),g.index=this.newMissionPool.length,this.newMissionPool.push(g);break}if(this.currentMissionList.length>0)this.replaceMissionList();else for(var b=0;b<this.newMissionPool.length;b++){var w=this.newMissionPool[b];this.newMissionPool[b].isTaken=!0,this.currentMissionList.push(w)}this.saveMissionList()}},n.saveMissionList=function(){L.Instance.missionData.missionList=this.currentMissionList,L.Instance.missionData.availMissionList=this.newMissionPool,L.Instance.saveMissionData()},n.checkisAllAccessoryOwned=function(){for(var i=Object.values(d),s=!0,t=0;t<i.length;t++){var n=i[t];if(""!=n)if(!L.Instance.isOwnedAccessory(n)){s=!1;break}}return s},n.onMissionCompleted=function(i){if(!D.Instance.m_Editor)for(var s=0;s<L.Instance.missionData.missionList.length;s++)if(L.Instance.missionData.missionList[s].id==i){L.Instance.missionData.missionList[s].isCompleted=!0;break}},n.hasUnclaimedMission=function(){for(var i=0;i<L.Instance.missionData.missionList.length;i++)if(L.Instance.missionData.missionList[i].isCompleted&&!L.Instance.missionData.missionList[i].isClaimed)return!0;return!1},n.onMissionClaimed=function(i){if(!D.Instance.m_Editor)for(var s=0;s<L.Instance.missionData.missionList.length;s++)if(L.Instance.missionData.missionList[s].id==i&&L.Instance.missionData.missionList[s].isCompleted){L.Instance.missionData.missionList[s].isClaimed=!0,L.Instance.saveMissionData();break}},n.getMissionListByDiff=function(i){for(var s=I.cloneDeep(this.availableMissionList),t=s.length;t>0;)s[--t].value[i]<=0&&s.splice(t,1);return s},n.getRandomMission=function(i){if(this.mission_distribution[i]>0)for(var s=this.getMissionListByDiff(i),t=s.length-1,n=0;n<this.mission_distribution[i];n++){for(var e=Math.floor(Math.random()*(t-0+1)+0),a=s[e],o=0;o<this.availableMissionList.length;o++)if(this.availableMissionList[o].id==s[e].id){this.availableMissionList.splice(o,1);break}var r=new y;r.id=a.id;for(var l=0,h=0;h<c.length;h++)r.id==c[h].id&&(l=c[h].value[i],c[h].name);r.init(i,l),r.index=this.newMissionPool.length,this.newMissionPool.push(r)}},n.replaceMissionList=function(){for(var i=0;i<this.currentMissionList.length;i++){var s=this.currentMissionList[i];(s.isClaimed||!s.isCompleted)&&this.newMissionPool.length>0&&(this.newMissionPool[i].isTaken||(this.currentMissionList[i]=I.cloneDeep(this.newMissionPool[i]),this.newMissionPool[i].isTaken=!0))}},n.replaceMission=function(i){return this.newMissionPool[i].isTaken?null:(this.currentMissionList[i]=I.cloneDeep(this.newMissionPool[i]),this.newMissionPool[i].isTaken=!0,this.currentMissionList[i])},n.getActiveMissionIndex=function(i){return D.Instance.m_Editor?-1:(null==this.currentMissionList&&(this.currentMissionList=L.Instance.missionData.missionList),this.currentMissionList.findIndex((function(s){return s.id==i&&0==s.isCompleted})))},n.getActiveMissionCounter=function(i){if(D.Instance.m_Editor)return-1;if(-1==this.getActiveMissionIndex(i)||null==this.getActiveMissionIndex(i))return-1;if(null==this.currentMissionList&&(this.currentMissionList=L.Instance.missionData.missionList),this.currentMissionList.length<=0)return-1;for(var s=0;s<this.currentMissionList.length;s++)if(this.currentMissionList[s].id==i)return this.currentMissionList[s].counter;return-1},n.getActiveMissionDiff=function(i){if(D.Instance.m_Editor)return-1;if(-1==this.getActiveMissionIndex(i)||null==this.getActiveMissionIndex(i))return-1;null==this.currentMissionList&&(this.currentMissionList=L.Instance.missionData.missionList);var s=this.currentMissionList.find((function(s){return s.id==i&&0==s.isCompleted}));return null!=s&&null!=s?s.difficulty:-1},n.updateMissionOneRun=function(i,s){D.Instance.m_Editor||L.Instance.missionData.missionList[i].isCompleted||s>L.Instance.missionData.missionList[i].maxValue&&(L.Instance.missionData.missionList[i].counter=L.Instance.missionData.missionList[i].maxValue,L.Instance.missionData.missionList[i].isCompleted=!0)},n.updateMission=function(i,s,t){if(void 0===s&&(s=1),void 0===t&&(t=!1),!D.Instance.m_Editor&&(t?L.Instance.missionData.missionList[i].counter=s:L.Instance.missionData.missionList[i].counter+=s,0!=L.Instance.missionData.missionList[i].maxValue&&L.Instance.missionData.missionList[i].counter>L.Instance.missionData.missionList[i].maxValue&&!L.Instance.missionData.missionList[i].isCompleted)){L.Instance.missionData.missionList[i].isCompleted=!0;for(var n=L.Instance.missionData.missionList[i].id,e=L.Instance.missionData.missionList[i].difficulty,a=0;a<c.length;a++)n==c[a].id&&(c[a].value[e],c[a].name)}},n.formatTime=function(i){return parseInt(i)<10?("0"+parseInt(i)).substring(-2):(""+parseInt(i)).substring(-2)},n.update=function(i){this.updateTime()},n.getDifficultyName=function(i){var s="";switch(i){case m.EASY:s="easy";break;case m.NORMAL:s="normal";break;case m.HARD:s="hard"}return s},t}(o)).Instance=null,v=g))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/DailyRewardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./UserDataManager.ts"],(function(e){"use strict";var t,a,i,n,s,r;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,i=e._decorator,n=e.Component},function(e){s=e.default},function(e){r=e.UserDataManager}],execute:function(){var c,o;a._RF.push({},"8dfd5N1fFxLfJU87QJXDMvT","DailyRewardManager",void 0);var l=i.ccclass;i.property,e("MissionData",function(){function e(){this.id=-1,this.counter=0,this.difficulty=-1,this.isCompleted=!1,this.isClaimed=!1}return e.prototype.init=function(){this.counter=0,this.isCompleted=!1,this.isClaimed=!1},e}()),e("MissionTracking",(function(){this.playTimes=0,this.runDistance=0,this.doubleJumpCtr=0,this.coinsCollect=0,this.dashCtr=0,this.rqBackpackCtr=0,this.passBackpackCtr=0,this.powerupCollectCtr=0,this.qteItemCtr=0,this.sucQTE=0,this.doubleJumpOneRun=0,this.runDistanceOneRun=0,this.powerupUpgradeCtr=0,this.boosterUse=0,this.coinsCollectOneRun=0,this.midCoinCtr=0,this.accessoryRun=0,this.passBackpackOneRun=0,this.buyAccessories=0,this.runDistanceEnv1=0,this.runDistanceEnv2=0,this.runDistanceEnv3=0})),e("DailyRewardManager",l("DailyRewardManager")(((o=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).hour="00",t.min="00",t.sec="00",t.timeString="",t.dailyResetTime=0,t.currentData=void 0,t.currentLoginDay=-1,t.currentRewardList=void 0,t}t(a,e);var i=a.prototype;return i.onLoad=function(){a.Instance=this},i.onEnable=function(){this.currentData=r.Instance.dailyRewardData,this.dailyResetTime=r.Instance.dailyRewardData?r.Instance.dailyRewardData.resetDailyTime:0,this.checkDailyReward()},i.update=function(e){},i.checkDailyReward=function(){if(this.enabled){var e,t=Math.round((new Date).getTime()/1e3),a=s.DAILY_RESET_TIME;if(0==this.dailyResetTime)(e=new Date).setHours(a.hour,a.min,a.sec),this.dailyResetTime=e.valueOf(),r.Instance.dailyRewardData.resetDailyTime=this.dailyResetTime,r.Instance.saveDailyRewardData();else if(t>Math.round(new Date(this.dailyResetTime).getTime()/1e3))r.Instance.dailyRewardData.isClaimed&&(r.Instance.dailyRewardData.loginDay>=6?(r.Instance.dailyRewardData.isFirstWeek&&(r.Instance.dailyRewardData.isFirstWeek=!1),r.Instance.dailyRewardData.loginDay=0):r.Instance.dailyRewardData.loginDay++,r.Instance.dailyRewardData.isClaimed=!1),(e=new Date).setHours(a.hour,a.min,a.sec),new Date>e&&e.setDate(e.getDate()+1),this.dailyResetTime=e.valueOf(),r.Instance.dailyRewardData.resetDailyTime=this.dailyResetTime,r.Instance.saveDailyRewardData()}},a}(n)).Instance=null,c=o))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/de.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"7d966VK43RKXZ3ltfk+NQBR","de",void 0);e("de",{str_logo:"MILKY & SCHOKI TRIP",str_mm_start:"JETZT SPIELEN",str_mm_daily_reward:"Tägliche Belohnungen",str_mm_achievements:"Erfolge",str_mm_qr_code:"QR-Scan",str_mm_daily_mission:"Tägliche Missionen",str_mm_store:"Shop",str_mm_leaderboard:"Bestenliste",str_mm_settings:"Einstellungen",str_dr_day:"{day}. Tag",str_claim_btn:"HOLEN",str_dr_claimed:"Abgeholt",str_mission_refresh:"Aktualisierung in",str_go_button:"LOS",str_accept:"ANNEHMEN",str_submit:"ABSENDEN",str_continue:"FORTFAHREN",str_confirm:"BESTÄTIGEN",str_revive:"WIEDERBELEBEN",str_collect:"SAMMELN",str_store_powerups:"POWER-UPS",str_store_boosters:"BOOSTER",str_store_accessories:"ACCESSOIRES",str_store_chacter:"Wähle eine Figur:",str_store_head:"Kopf",str_store_tops:"Oberteile",str_store_bottoms:"Unterteile",str_store_max:"Max. Stufe",str_store_insufficient:"Du hast nicht genug Münzen.",str_store_full:"Du kannst nicht mehr von diesem Booster tragen.",str_store_duration:"Dauer: %{duration} Sek.",str_parental_consent:"Um dieses Spiel zu spielen, musst du Folgendes lesen und akzeptieren, sowie bestätigen, dass du das Mindestalter in deinem Wohnsitzland überschritten hast:",str_store_equip:"Anlegen",str_store_unequip:"Ablegen",str_store_equipped:"Angelegt",str_mm_selected:"Ausgewählt",str_mm_ready:"Bereit",str_mm_run:"Partie",str_qte_time_up:"Die Zeit ist abgelaufen!",str_qte_go:"Los",str_qte_success:"Erfolg",str_qte_tap:"Tippen",str_qte_swipe:"Wischen",str_mm_public_name:"Online spielen",str_mm_public_descr:"Spiele mit Freunden auf der ganzen Welt",str_mm_private_name:"Mit einem Freund spielen",str_mm_private_descr:"Spiele mit einem Freund",str_mm_invite_name:"EINLADEN",str_mm_invite_invitation:"Lass uns gemeinsam auf die „Milky & Schoki“-Reise gehen! Begleite mich hier: {code}",str_mm_join_name:"BEITRETEN",str_mm_join_descr:"Gib den Raumcode deines Freundes ein:",str_mm_join_wrong:"Dieser Code ist ungültig!",str_mm_join_conflict:"Der Host hat sich {character name} ausgesucht. Möchtest du als {other character name} spielen?",str_mm_join_return:"Beitritt nicht möglich, da eine Figur doppelt vorhanden ist.",str_qr_code_get:"Du erhältst:",str_qr_code_scanmore:"Scanne einen anderen QR-Code und erhalte:",str_qr_code_out:"Entschuldige, aber du hast das Tageslimit erreicht. Bitte versuche es morgen wieder.",str_ap_unlocked:"FREIGESCHALTET",str_settings_music:"Musik",str_settings_sfx:"Effekte",str_settings_languages:"Sprachen",str_settings_login:"Anmelden",str_settings_method:"Wie möchtest du dich anmelden?",str_settings_guest:"Gast",str_settings_term:"Nutzungsbestimmungen",str_settings_privacy:"Datenschutz",str_settings_credits:"Mitwirkende",str_map_tropical:"TROPENINSEL",str_map_urban:"METROPOLE",str_map_snow:"SCHNEEBERG",str_congrats:"GLÜCKWUNSCH!",str_select_name:"ERSTELLE DEINEN SPIELNAMEN",str_select_name_desc:"Andere Spieler können deinen Spielnamen sehen, wenn du online spielst.",str_select_name_error1:"Der Spielname darf nur Buchstaben (Aa-Zz), Zahlen (0-9), Punkte (.) und Unterstriche (_) enthalten.",str_select_name_error2:"Dein Spielname enthält Wörter, die nicht erlaubt sind.",str_language_en:"English",str_language_fr:"Français",str_language_de:"Deutsch",str_language_ru:"Русский",str_language_ab:"عربي",str_connection_timeout:"Zeitüberschreitung der Anfrage. Bitte überprüfe deine Verbindung und versuche es nochmal.",str_connection_lost:"Verbindung mit dem Spielserver nicht möglich. Bitte überprüfe deine Verbindung und versuche es noch mal.",str_ok:"OK",str_cancel:"Abbrechen",str_login_conflict_title:"Speicherkonflikt mit der Cloud",str_login_conflict_descr:"Der Cloud-Spielstand stimmt nicht mit den Daten auf deinem Gerät überein.",str_login_conflict_env:"Freigeschaltetes Ziel: {}",str_login_conflict_highscore:"Punkterekord: {}",str_login_conflict_accessories:"Freigeschaltete Accessoires: {}",str_login_conflict_coins:"Münzen: {}",str_login_conflict_cloud:"Cloud-Spielstand",str_login_conflict_cloudreplace:"Cloud-Spielstand ersetzt lokale Daten",str_login_conflict_local:"Lokale Daten",str_login_conflict_localreplace:"Lokale Daten ersetzen den Cloud-Spielstand",str_login_conflict_usecloud:"Verwenden",str_login_conflict_uselocal:"Lokalen Spielstand verwenden",str_transfer_confirm:"Die Daten auf deinem Gerät werden mit neu empfangenen Daten ersetzt. Möchtest du fortfahren?",str_transfer_success:"Dein Profil wurde erfolgreich übertragen.",str_transfer_fail:"Ups, da ist etwas schiefgegangen. Bitte versuche es später noch mal.",str_contact_us:"Kontakt",str_contact_desc:"Bei Problemen während des Spiels kannst du dich gern an uns wenden:",str_faq:"FAQ",str_ban_title:"Achtung",str_ban_descr:"Dein Konto wurde gesperrt. Die Sperre wird am {time} ablaufen.",str_loading:"Lädt ...",str_waiting:"Warte auf deinen Partner ...",str_mm_matching:"Suche ...",str_mm_matchfound:"Spiel gefunden",str_mm_joining:"Beitritt...",str_mm_gamejoining:"{name} ist beigetreten...",str_mm_send:"Code senden",str_mm_booster:"Booster auswählen",str_private_friendcode:"Der Code deines Freundes",str_private_roomcode:"Code für deinen Raum",str_private_host:"Host",str_private_join:"Beitreten",str_settings_account:"Konto",str_mm_mapunlock:"Erreiche {distance}, um {environment name} freizuschalten.",str_qr_instruction:"Richte die Kamera zum Scannen auf den QR-Code.",str_qr_or:"oder",str_qr_and:"und",str_qr_coin:"{number} Münzen",str_qr_booster:"Ein Booster",str_qr_outfit:"Ein Outfit",str_qr_reward:"Belohnung",str_select_name_rule:"Dein Spitzname darf nur Folgendes enthalten:\r\n    - Buchstaben (Aa-Zz) \r\n    - Zahlen (0-9) (nicht mehr als 7)\r\n    - Punkte (.)\r\n    - Unterstriche (_)\r\n    - Länge: zwischen 4 und 12 Zeichen",str_select_name_error3:"Dein Spitzname enthält mehr als 7 Zahlen.",str_select_name_error4:"Dein Spitzname sollte 4-12 Zeichen lang sein",str_select_name_error5:"Dein Spitzname ist zu lang.",str_select_name_count:"Anzahl der Buchstaben: {number}",str_settings_offf:"Aus",str_settings_on:"An",str_settings_logout:"Abmelden",str_qr_pc:"Bitte erlaube die Kameraberechtigung in deinem Browser, um fortzufahren.",str_loading_add:"Zusätzliche Daten werden geladen ...",str_endscreen:"Deine Distanz",str_QTE_start:"Start",str_QTE_perfect:"Perfekt",str_QTE_miss:"Daneben",str_selfie_sticker:"Aufkleber",str_settings_logout_warning:"Wenn du dich abmeldest, verlierst du deinen Fortschritt.",str_login_guest:"Oder melde dich an als:",str_new_env_popup1:"Neues Ziel!",str_new_env_popup2:"Neuer Booster!",str_new_env_popup3:"Neues Wiederbelebungs-Element!",str_private_create:"ERSTELLEN",str_private_creating:"Raum erstellen …",str_private_taking_off:"Abheben …",str_mm_map:"Ziel",str_shop_qr:"Freischaltung mit QR-Code",str_shop_daily:"Freischaltung über tägliche Belohnungen",str_shop_free:"Gratis",str_ap_you:"Du",str_booster_none:"Du hast keine Booster freigeschaltet.",str_share_caption:"Mach mit\\n und brich den Rekord!",str_exit_pop_up:"Willst du aufhören?",str_friend_quit:"Dein Freund ist gegangen",str_friend_replay:"Dein Freund will noch mal spielen.",str_selfie_download:"Berühren und halten, um das Bild herunterzuladen.",str_account_another_device:"Konto ist auf einem anderen Gerät angemeldet.",str_shop_confirm:"Bist du sicher, dass du diesen Gegenstand kaufen möchtest?",str_disconnection:"Bitte überprüfe deine Verbindung und versuche es erneut.",str_booster_not_select:"Es ist kein Booster ausgewählt",str_login_facebook:"Facebook",str_login_google:"Google",str_QR_open:"Zum Öffnen berühren",str_new_env_popup4:"Neue Power-ups!",str_new_env_popup5:"Neues Power-up!",str_qr_mobile_only:"Diese Funktion ist nur auf Smartphones verfügbar.",str_homescreen_ios:'Tippe auf {icon} und dann auf\\n "Zum Startbildschirm hinzufügen".',str_homescreen_title:"Hast du Spaß?",str_homescreen_des:"Dieses Spiel für schnellen Zugriff deinem Startbildschirm hinzufügen?",str_homescreen_add:"Hinzufügen",str_qr_milky:"Für Milky",str_qr_schoki:"Für Schoki",str_landscape:"Das Mini-Spiel kann nur im Querformat gespielt werden.",str_daily_mission_finished:"Herzlichen Glückwunsch! Du hast heute alle täglichen Missionen abgeschlossen.\\n Komm morgen wieder, um weitere zu entdecken.",str_qr_milky_schoki:"Für Milky & Schoki",tutorials_AP_1:"Hallo!",tutorials_AP_2:"Wir haben schon auf dich gewartet! Ich heiße Schoki und ich gebe dir heute eine Einweisung.",tutorials_AP_3:"Du hast eine lange, spannende Reise vor dir.",tutorials_AP_4:"Gemeinsam mit deinem Partner wirst du die Welt erkunden!",tutorials_AP_5:"Ich weiß, dass du schon ganz gespannt bist! Aber zuerst musst du lernen, wie du dich bewegst.",tutorials_AP_6:"Mit dem Rucksack kannst du nicht springen.",tutorials_AP_7:"Wische in die Richtung deines Partners.",tutorials_AP_8:"Wische nach oben.",tutorials_AP_9:"Dein Partner steuert die andere Figur.",tutorials_AP_10:"Zum Rutschen brauchst du den Rucksack.",tutorials_AP_11:"Dein Partner hat dir den Rucksack zugespielt.",tutorials_AP_12:"Wische nach unten.",tutorials_AP_13:"Dein Partner braucht den Rucksack zum Rutschen.",tutorials_AP_14:"Wische wieder nach oben.",tutorials_AP_15:"Wische während des Springens nach unten.",tutorials_AP_16:"Du hast einen Wiederbelebungsgegenstand gesammelt. Du kannst maximal 3 Gegenstände tragen.",tutorials_AP_17:"Oh nein, du wurdest getroffen. Gib nicht auf!",tutorials_AP_18:"Verwende den gerade gesammelten Gegenstand für eine zweite Chance!",tutorials_AP_20:"Herzlichen Glückwunsch! Deine Energie wurde wieder aufgefüllt!",tutorials_dr_1:"Ach, deine tägliche Belohnung ist noch da. Vergiss nicht, sie abzuholen!",tutorials_dr_2:"Wir haben Münzen bekommen! Kaufen wir uns jetzt etwas Neues zum Anziehen!",tutorials_store_1:"Lass uns shoppen gehen! Du bist eingeladen!",tutorials_store_2:"Das steht dir super! Tippe auf das Symbol, um es zu kaufen.",tutorials_store_3:"Tippe jetzt, um es anzulegen.",tutorials_lobby_1:"Du kannst zwischen 2 Charakteren auswählen.",tutorials_lobby_2:"Wähle Online spielen, um mit Freunden auf der ganzen Welt zu spielen.",tutorials_lobby_3:"Dein Partner ist bereit. Beginne eure Reise mit dem Start-Symbol!",tutorials_mission_1:"Toll, du hast eine tägliche Mission abgeschlossen! Holen wir uns jetzt die Belohnung.",tutorials_mission_2:"Mach weiter so und schließe noch mehr tägliche Missionen ab.",tutorials_mission_3:"So, jetzt habe ich dir alles erklärt. Ab jetzt bestimmst du selbst, wo deine Reise hingeht.",tutorials_mission_4:"Tschüs und bis bald!",tutorials_qte_1:"Berühre hier, wenn der Federball leuchtet.",tutorials_qte_2:"<color=#412A46>Triff den  Federball <color=#02A9E7>${target}-mal</color> zum Wiederbeleben!</color>",tutorials_qte_3:"<color=#02A9E7>Beide Spieler</color> <color=#412A46>müssen dieselbe Note\r\nberühren, wenn sie sich im Kreis befindet.</color>",tutorials_qte_4:"<color=#412A46>Triff die Noten <color=#02A9E7>${target}-mal</color> zum Wiederbeleben!</color>",tutorials_qte_5:"Wische, um deinem Partner den Hut zu reichen.",tutorials_qte_6:"<color=#412A46>Fange <color=#02A9E7>${target} Gegenstände</color> zum Wiederbeleben!</color>",tutorials_qte_7:"Fülle mit jedem Fang die Leiste, um weiterzukommen!",tutorials_quick_1:"Wische zum Springen nach oben, wenn du den Rucksack nicht trägst.",tutorials_quick_2:"Wische doppelt nach oben, um zweimal zu springen, wenn du den Rucksack nicht trägst.",tutorials_quick_3:"Wische beim Springen nach unten, um schneller zu landen.",tutorials_quick_4:"Wische nach unten, um zu rutschen, wenn du einen Rucksack trägst.",tutorials_quick_5:"Wische zu deinem Partner, um den Rucksack weiterzureichen.",tutorials_quick_6:"Wische zu dir, um nach dem Rucksack zu bitten.",tutorials_store_4:"Hier kannst du dein Power-up verbessern.",tutorials_store_5:"Mal sehen, was wir im Shop machen können!",tutorials_store_6:"Hier kannst du Booster kaufen, die du am Beginn deiner Reise verwenden kannst.",tutorials_store_7:"Hier berühren, um Details anzuzeigen.",tutorials_store_8:"Erneut berühren, um Details auszublenden.",tutorials_store_9:"Lass uns das kaufen! Zum Kaufen berühren.",tutorials_store_10:"Drauftippen, um die Figur auszuwählen, für die du Accessoires kaufen möchtest.",tutorials_store_11:"Berühre das Element, um es zu überprüfen.",tutorials_store_12:"Lass uns den Booster ausrüsten, den wir gerade gekauft haben.",tutorials_private_1:"Tippe auf Erstellen, um einen Raum zu erstellen.",tutorials_private_2:"Zeige deinem Freund den Code des Raums.",tutorials_private_3:"Oder tippe auf Einladen, um einen Link zu senden, damit er/sie dem Raum beitreten kann.",tutorials_private_4:"Um beizutreten, kannst du den Code des Raums hier eingeben.",tutorials_private_5:"Tippe dann auf Beitreten.",tutorials_private_6:"Oder du tippst auf den Link, den dir der Host geschickt hat.",tutorials_swipe_1:"Wische, um dich auf dem Flughafen umzusehen!",tutorials_map_1:"Herzlichen Glückwunsch! Du hast ein neues Ziel freigeschaltet!",tutorials_map_2:"Tippe auf den Pfeil, um dein Ziel zu ändern.",tutorials_selfie_1:"Hier kannst du ein Selfie mit Milky oder Schoki machen.",tutorials_booster_1:"Tippe auf den Booster, den du auswählen möchtest.",tutorials_booster_2:"Tippe zur Bestätigung auf OK.",tutorials_ap_1:"Glückwunsch! Du hast das Grundlagen-Tutorial abgeschlossen.",tutorials_ap_2:"Erforsche das Spiel weiter, um weitere Funktionen freizuschalten.",fact_0:"Du kannst Gegenstände auf dem mittleren Weg sammeln, indem du im richtigen Moment den Rucksack wirfst.",fact_1:"Bitte um den Rucksack, indem du in Richtung deiner Figur wischst.",fact_2:"Probiere mal, den gleichen Booster auszuwählen wie dein Partner. Dann gibt es eine Überraschung.",fact_3:"Tägliche Missionen werden jeden Tag aktualisiert. Schließe sie ab, bevor sie ablaufen!",fact_4:"Scanne einen neuen QR-Code für eine besondere Belohnung.",fact_5:"Du kannst nur 9 Booster des gleichen Typs haben. Horten ist nicht gut für deine Gesundheit.",fact_6:"Es passen nur maximal 3 Wiederbelebungsgegenstände in deine Tasche. Schlepp nicht zu viel herum!",fact_7:"Verbessere Power-ups im Shop, damit sie während der Partie länger anhalten. Das lohnt sich!",fact_8:"Im Shop kannst du Booster kaufen, die dir während einer Partie enorm helfen können.",fact_9:"Das Power-up Schild schützt dich vor einem Hindernis, falls du einmal danebentrittst.",fact_10:"Das Power-up Magnet sammelt alle Münzen und Sammelgegenstände in deiner Bahn. Je mehr, desto besser!",fact_11:"Was ist noch besser als eine Münze? Zwei Münzen! Das Power-up „Münzenmultiplikator“ macht aus jeder Münze zwei.",fact_12:"Willst du den Weg freimachen? Das Power-up „Stempelhammer“ macht aus allen Hindernissen Münzen.",fact_13:"Das Power-up „Mega Hüpfer“ bringt euch beide mit Megatempo vorwärts. So ein Glück!",fact_14:"Dies ist ein Tipp für dich.",fact_15:"Wenn dein Freund und du einem Raum beitretet, könnt ihr nicht beide dieselbe Figur wählen.",fact_16:"Mit Accessoires kannst du cooler aussehen. Du kannst es im Shop kaufen und ausrüsten.",fact_17:"Eine neue Umgebung wird freigeschaltet, sobald du eine bestimmte Gesamtstrecke zurückgelegt hast.",fact_18:"Erfolge schließt du einfach beim Spielen ab.",fact_19:"Behalte den Vogel im Auge. Rutsche, wenn er fliegt, und springe, wenn er landet.",fact_20:"In späteren Regionen werden weitere Hindernisse, Power-ups und Wiederbelebungsgegenstände freigeschaltet.",fact_21:"Je mehr QR-Codes du an einem Tag scannst, desto mehr Belohnungen erhältst du.",fact_22:"Booster werden bei der Verwendung verbraucht.","fact-tip":"Tipp:",powerup_shield_name:"Schild",powerup_shield_desc:"Schützt den Spieler vor einem Hindernis.",powerup_magnet_name:"Magnet",powerup_magnet_desc:"Sammelt automatisch Münzen und Sammelgegenstände.",powerup_stamper_name:"Stempelhammer",powerup_stampler_descr:"Macht aus allen Hindernissen einen Haufen Münzen!",powerup_coinduper_name:"Münzenmultiplikator",powerup_coinduper_descr:"Macht aus jeder Münze zwei.",powerup_megahop_name:"Raketensprung",powerup_megahop_descr:"Befördert beide Spieler blitzschnell vorwärts.",booster_headstart1_name:"Startvorsprung",booster_headstart1_descr:"Befördert beide Figuren zu Beginn der Partie blitzschnell %{number} m vorwärts.",booster_headstart2_name:"Riesen-Startvorsprung",booster_headstart2_descr:"Befördert beide Figuren zu Beginn der Partie blitzschnell %{number} m vorwärts.",booster_headstart3_name:"Mega-Startvorsprung",booster_headstart3_descr:"Befördert beide Figuren zu Beginn der Partie blitzschnell %{number} m vorwärts.",booster_coinboost1_name:"+ {number} % Münzbonus",booster_coinboost1_descr:"Gewährt am Ende der Partie {number} % mehr Münzen.",booster_coinboost2_name:"Münzbonus 100 %",booster_coinboost2_descr:"Gewährt am Ende der Partie 100 % mehr Münzen.",booster_coinboost3_name:"Münzbonus 150 %",booster_coinboost3_descr:"Gewährt am Ende der Partie 150 % mehr Münzen.",booster_qte1_name:"Teamspieler",booster_qte1_descr:"Gewährt {number} zufälligen Wiederbelebungsgegenstand zu Beginn der Partie.",booster_qte2_name:"Teamgeist",booster_qte2_descr:"Beginne die Runde mit {number} Wiederbelebungsgegenständen.",booster_revival_name:"Zweite Chance",booster_revival_descr:"Schützt den Spieler vor dem ersten Hindernis, auf das er trifft.",play_mul:"<color=#FFFFFF>Spiele <color=#01FFFF>{number}-mal</color></color> im öffentlichen Modus.",run_distance:"<color=#FFFFFF>Renne insgesamt <color=#01FFFF>{number} m</color> in einem beliebigen Modus.</color>",double_jump:"<color=#FFFFFF>Mache <color=#01FFFF>{number}</color> Doppelsprünge in einem beliebigen Modus.</color>",collect_coins:"<color=#FFFFFF>Sammle insgesamt <color=#01FFFF>{number} Münzen.</color></color>",dash:"<color=#FFFFFF>Rutsche insgesamt <color=#01FFFF>{number}-mal</color>, um Hindernisse zu vermeiden.</color>",request_backpack:"<color=#FFFFFF>Fordere insgesamt <color=#01FFFF>{number}-mal</color> den Rucksack an.</color>",pass_backpack:"<color=#FFFFFF>Wirf deinem Partner insgesamt <color=#01FFFF>{number}-mal</color> den Rucksack zu.</color>",power_up:"<color=#FFFFFF>Sammle insgesamt <color=#01FFFF>{number} Power-ups.</color></color>",extra_life:"<color=#FFFFFF>Sammle insgesamt <color=#01FFFF>{number} Wiederbelebungsgegenstände.</color></color>",suc_QTE:"<color=#FFFFFF>Führe insgesamt <color=#01FFFF>{number}-mal </color>eine Wiederbelebung durch.</color>",double_jump_one_run:"<color=#FFFFFF>Mache <color=#01FFFF>{number}</color> Doppelsprünge in einer beliebigen Partie.</color>",run_distance_one_run:"<color=#FFFFFF>Lege <color=#01FFFF>{number} m</color> in einer Partie zurück.</color>",Upgrade_power_up:"<color=#FFFFFF>Verbessere <color=#01FFFF>{number} Power-up(s)</color>.",booster_active:"<color=#FFFFFF>Nutze insgesamt <color=#01FFFF>{number} Booster.</color></color>",collect_coins_one_run:"<color=#FFFFFF>Sammle <color=#01FFFF>{number} Münzen</color> in einer Partie.</color>",dash_one_run:"<color=#FFFFFF>Rutsche <color=#01FFFF>{number}-mal</color> in einer Partie, um Hindernisse zu vermeiden.</color>",mid_coin:"<color=#FFFFFF>Sammle <color=#01FFFF>{number} große Münzen</color> in einer Partie.</color>",booster_buy:"<color=#FFFFFF>Kaufe <color=#01FFFF>{number} Booster.</color></color>",accessory_run:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m</color>, während du <color=#01FFFF>2 Accessoires trägst.</color> </color>",pass_backpack_one_run:"<color=#FFFFFF>Spiele deinem Partner in einer Partie <color=#01FFFF>{number}-mal</color> den Rucksack zu.</color>",buy_acessories:"<color=#FFFFFF>Kaufe <color=#01FFFF>ein beliebiges Accessoire.</color></color>",tropical_island:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m</color> auf der Tropeninsel.</color>",urban_city:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m in</color> der Metropole.</color>",snow_mountain:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m</color> auf dem Schneeberg.</color>",accessory_run_easy:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m</color>, während du <color=#01FFFF>1 Accessoire trägst.</color> </color>",accessory_run_hard:"<color=#FFFFFF>Laufe <color=#01FFFF>{number} m</color>, während du <color=#01FFFF>3 Accessoires trägst.</color> </color>",share:"<color=#01FFFF>Teile dein Ergebnis</color><color=#FFFFFF> einmal auf dem Ergebnisbildschirm mit.</color>",achievement_acc_1:"<color=#FFFFFF>Kaufe <color=#01FFFF>{number} Accessoires.</color></color>",achievement_play_1:"<color=#FFFFFF>Reise <color=#01FFFF>{number}-mal.</color></color>",achievement_power_1:"<color=#FFFFFF>Sammle <color=#01FFFF>{number} Power-ups.</color></color>",achievement_pass_1:"<color=#FFFFFF>Nutze <color=#01FFFF>{number} Booster.</color></color>",achievement_ap_1:"<color=#FFFFFF>Belebe deinen Partner <color=#01FFFF>{number}-mal wieder.</color></color>",achievement_dl_1:"<color=#FFFFFF>Schließe <color=#01FFFF>{number} tägliche Missionen ab.</color></color>",achievement_sf_1:"<color=#FFFFFF>Mach Selfies in <color=#01FFFF>{number} verschiedenen Posen.</color></color>",achievement_milky_1:"<color=#FFFFFF>Laufe insgesamt <color=#01FFFF>{number} m</color> als Milky.</color>",achievement_schoky_1:"<color=#FFFFFF>Laufe insgesamt <color=#01FFFF>{number} m</color> als Schoki.</color>",achivement_beach_1:"<color=#FFFFFF>Spiele <color=#01FFFF>{number} Partien auf der Tropeninsel.</color></color>",achivement_beach_2:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das zweite Gebiet der Tropeninsel.</color></color>",achivement_beach_3:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das dritte Gebiet der Tropeninsel.</color></color>",achivement_city_1:"<color=#FFFFFF>Spiele <color=#01FFFF>{number} Partien in der Metropole.</color></color>",achivement_city_2:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das zweite Gebiet der Metropole.</color></color>",achivement_city_3:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das dritte Gebiet der Metropole.</color></color>",achievement_mountain_1:"<color=#FFFFFF>Spiele <color=#01FFFF>{number} Partien auf dem Schneeberg.</color></color>",achievement_mountain_2:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das zweite Gebiet des Schneebergs.</color></color>",achievement_mountain_3:"<color=#FFFFFF>Erreiche <color=#01FFFF>{number}-mal das dritte Gebiet des Schneebergs.</color></color>",headwear_01:"Jugendlich",headwear_02:"Natürliche Prinzessin",headwear_03:"Königin Milky",headwear_04:"Forschergeist",headwear_05:"Coolness",headwear_06:"Musikfan",headwear_07:"Partylaune",headwear_08:"Blaue Mütze",headwear_09:"Rote Mütze",Scarf_01:"Warmes Herz",Scarf_02:"Warm und gemütlich",Scarf_03:"Blumentanz",Scarf_04:"Büroarbeit",Scarf_05:"Gentleman",Scarf_06:"Schick herausgeputzt",Scarf_07:"Tropische Klänge",Scarf_08:"Nachthimmel",Scarf_09:"Polarlichter",Footwear_01:"Rote Stiefel",Footwear_02:"Klassisch",Footwear_03:"Eistanz",Footwear_04:"Abgehoben",Footwear_05:"Modefan",Footwear_06:"Sportlich",Pant_01:"Gestreift",Pant_02:"Gepunktet",Pant_03:"Ananas-Hose",Pant_04:"Workout",Pant_05:"Actionheld",Pant_06:"Strandfotos",bot_1:"McMahon",bot_2:"Hess",bot_3:"Quinn",bot_4:"Compton",bot_5:"Hendricks",bot_6:"Rich",bot_7:"McGee",bot_8:"Lambert",bot_9:"McDonnell",bot_10:"Alfaro",bot_11:"Price",bot_12:"Christensen",bot_13:"Hills",bot_14:"Huff",bot_15:"Senior",bot_16:"Fenton",bot_17:"Mullins",bot_18:"Black",bot_19:"Orry",bot_20:"Gray",bot_21:"Decker",bot_22:"Morin",bot_23:"Bowman",bot_24:"Riley",bot_25:"Davies",bot_26:"Oliver",bot_27:"Harris",bot_28:"Howell",bot_29:"Barrow",bot_30:"Lynn",bot_31:"Neville",bot_32:"Cornish",bot_33:"Kumar",bot_34:"Vulus",bot_35:"McKnight",bot_36:"Chapman",bot_37:"McNeill",bot_38:"Baldwin",bot_39:"Greig",bot_40:"Webster",bot_41:"Kouma",bot_42:"Hooper",bot_43:"Trejo",bot_44:"Pope",bot_45:"Avila",bot_46:"Clifford",bot_47:"McCartney",bot_48:"Payne",bot_49:"Guzman",bot_50:"Melendez",bot_51:"Steele",bot_52:"Pitts",bot_53:"Hart",bot_54:"McCallum",bot_55:"Calvert",bot_56:"Chamberlain",bot_57:"Bateman",bot_58:"Whiteley",bot_59:"Rosa",bot_60:"Dudley",bot_61:"Spence",bot_62:"Pearson",bot_63:"Sparks",bot_64:"Nieves",bot_65:"Barr",bot_66:"Rutledge",bot_67:"Pineda",bot_68:"Donald",bot_69:"Rigby",bot_70:"Kaur",bot_71:"Feeney",bot_72:"Wynn",bot_73:"Wolf",bot_74:"Swan",bot_75:"Combs",bot_76:"Rollins",bot_77:"Lang",bot_78:"Lane",bot_79:"Beil",bot_80:"Odom",bot_81:"Tran",bot_82:"Whittle",bot_83:"Casey",bot_84:"Barber",bot_85:"Mathis",bot_86:"Tyson",bot_87:"Costa",bot_88:"Bray",bot_89:"Castaneda",bot_90:"Mendez",bot_91:"Anthony",bot_92:"Kelly",bot_93:"Whitfield",bot_94:"Nicholson",bot_95:"Magana",bot_96:"Russo",bot_97:"Battle",bot_98:"Barry",bot_99:"Dorsey",bot_100:"Glenn",game_version:"Version %{0} \\n",str_about_00:"<color=#F35B81>GAMELOFT FOR BRANDS</color>\\n",str_about_01:"<color=#F35B81>STUDIOLEITER</color>",str_about_02:"Thierry Lecat\\n",str_about_03:"<color=#F35B81>PRODUZENT</color>",str_about_04:"Ly Vi Hue \\n",str_about_05:"<color=#F35B81>GESTALTERISCHE LEITUNG</color>",str_about_06:"Cedric Ratajczak\\n",str_about_07:"<color=#F35B81>TECHNOLOGIEVORSTAND, VIETNAM</color>",str_about_08:"Laurent Le\\n",str_about_09:"<color=#F35B81>LEITUNG DER PROGRAMMIERUNG</color>",str_about_10:"Vo Minh Tam \\n",str_about_11:"<color=#F35B81>PROGRAMMIERUNG</color>",str_about_12:"Tran Binh Hoa \\nHoang Quoc Khanh \\n",str_about_13:"<color=#F35B81>LEITUNG SPIELDESIGN</color>",str_about_14:"Nguyen Phu Hong Phuc \\n",str_about_15:"<color=#F35B81>SPIELDESIGN</color>",str_about_16:"Truong Gia Huy \\n",str_about_17:"<color=#F35B81>DIREKTOR DER GRAFIK</color>",str_about_18:"Leandro Banak \\n",str_about_19:"<color=#F35B81>UI/UX-GRAFIK</color>",str_about_20:"Tran Thi Mai Trang \\n",str_about_21:"<color=#F35B81>LEITUNG DER 2-D-GRAFIK</color>",str_about_22:"Le Ngoc Trinh \\n",str_about_23:"<color=#F35B81>2-D-GRAFIK</color>",str_about_24:"John Tenoria \\nLe Thanh Hang",str_about_25:"<color=#F35B81>LEITUNG DER 3-D-GRAFIK</color>",str_about_26:"Vo Binh Quan \\n",str_about_27:"<color=#F35B81>3-D-GRAFIK</color>",str_about_28:"Nguyen Huu Toan \\nTruong Huynh Thao \\n",str_about_29:"<color=#F35B81>LEITUNG DER 3-D-ANIMATION</color>",str_about_30:"Siva Gonti \\n",str_about_31:"<color=#F35B81>3-D-ANIMATION</color>",str_about_32:"Durga Prasad Kamisetti \\n",str_about_33:"<color=#F35B81>LEITUNG DER VFX-GRAFIK</color>",str_about_34:"Christopher Pringle \\n",str_about_35:"<color=#F35B81>VFX-GRAFIK</color>",str_about_36:"Christopher Pringle \\nYohan Pradeloux \\n",str_about_37:"<color=#F35B81>LOKALISIERUNG</color>",str_about_38:"<color=#F35B81>MANAGER DER LOKALISIERUNG</color>",str_about_39:"Alexis Green-Painchaud \\n",str_about_40:"<color=#F35B81>KOORDINATION DER LOKALISIERUNG</color>",str_about_41:"Catherine Boudreault \\nEric Millette \\nFrederic Moreau \\nAriane Beauparlant \\n",str_about_42:"<color=#F35B81>KOORDINATION DER LOKALISIERUNGSTECHNOLOGIE</color>",str_about_43:"Frank Schneidawind",str_about_44:"<color=#F35B81>SPEZIALIST FÜR TECHNISCHE LOKALISIERUNG</color>",str_about_45:"Yannick Denis",str_about_46:"<color=#F35B81>LOKALISIERUNG</color>",str_about_47:"Ramona Lubanski\\nNorbert Bäck\\nAngelika Tank\\nValerie Buys\\n",str_about_48:"<color=#F35B81>BUGSPEZIALISTEN DER LOKALISIERUNG</color>",str_about_49:"Juan Carlos Ardila \\nPham Diep Van Nhi \\nJaime Silva-Valencia",str_about_50:"<color=#F35B81>QUALITÄTSSICHERUNG</color>",str_about_51:"<color=#F35B81>STUDIOMANAGER QS</color>",str_about_52:"Madek Widodo \\n",str_about_53:"<color=#F35B81>ABTEILUNGSMANAGER QS</color>",str_about_54:"Le Phung Thanh Son \\n",str_about_55:"<color=#F35B81>PROJEKTMANAGER DER QS</color>",str_about_56:"Ratna Kusumaningtyas \\n",str_about_57:"<color=#F35B81>LEITUNG DES QS-TEAMS</color>",str_about_58:"Maulana Ibrahim \\nImam Masrufi \\n",str_about_59:"<color=#F35B81>QS-TESTER</color>",str_about_60:"Andri Bagastomo \\nGinanjar Sidik \\nAnggit Sukamto \\nAziz Muzzamil \\nAri Wirawan \\nAmri Arfian \\nKelvin Dennyswara \\nDwi Kustiarno \\nRizky Lambang \\nAdik Nupantoro \\nYordan Ridhanto \\nErdhika Firmana \\nNungki Nugroho \\nHudam Nugraha \\nYudhistira \\nOnny Hermawan \\nEgrit Wijatsongko \\nHerbowo Putro \\nImakulata Kristanti \\nAlba Millentry",str_about_61:"<color=#F35B81>MANAGER AUDIO</color>",str_about_62:"Zabi Khan \\n",str_about_63:"<color=#F35B81>SOUNDDESIGN</color>",str_about_64:"Stefani Leoni \\n",str_about_65:"<color=#F35B81>MARKETING-PRODUKTMANAGER</color>",str_about_66:"Baptiste Tauzin\\nChloe Roddier\\nLy Ba Tho \\n",str_about_67:"<color=#F35B81>RECHTSABTEILUNG</color>",str_about_68:"<color=#F35B81>LEITUNG DER RECHTSBERATUNG</color>",str_about_69:"Hortense Jouquan \\n",str_about_70:"<color=#F35B81>DATENSCHUTZBEAUFTRAGTER</color>",str_about_71:"Isabelle Le Vot \\n",str_about_72:"<color=#F35B81>RECHTSBERATUNG</color>",str_about_73:"Alexandra Rochefort\\n",str_about_74:"<color=#F35B81>BACKEND-TEAM</color>",str_about_75:"<color=#F35B81>BACKEND-PRODUZENT</color>",str_about_76:"Nguyen Tri Nhan \\nPhan Nguyen Tuong Minh \\n",str_about_77:"<color=#F35B81>BACKEND-PROGRAMMIERUNG</color>",str_about_78:"Le Nguyen Trung Hieu \\nDinh Xuan Duy \\nTran Xuan Khoa \\nTran Duy Truong \\nQuang Chan Vi \\nHuynh Cong Duc \\nTran Minh Tien \\nHuynh Ngoc Phuong Anh \\nTruong Binh Tan \\nTran Kim Bao \\nNguyen Duy Minh \\nHan Van Gia Hien \\n",str_about_79:"<color=#F35B81>CMS-PROGRAMMIERUNG</color>",str_about_80:"To Quoc Long \\nLe Thanh Nghi \\n",str_about_81:"<color=#F35B81>DATENANALYSETEAM</color>",str_about_82:"Dang Minh Tuan \\nNguyen Duy Anh \\nNguyen Thanh Hung \\nTran Thi Mai",str_about_83:"<color=#F35B81>LIZENZEN DER OPEN-SOURCE-SOFTWARE</color>",str_about_84:"<color=#F35B81>Cocos Creator</color>",str_about_85:"<color=#F35B81>i18n Extension for Cocos Creator</color>",str_about_86:'Copyright (c) 2013-2016 Chukong Technologies Inc.\r\nCopyright (c) 2017-2022 Xiamen Yaji Software Co., Ltd.\r\nhttp://www.cocos.com \r\nPermission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated engine \r\nsource code (the "Software"), a limited,\r\nworldwide, royalty-free, non-assignable,\r\nrevocable and non-exclusive license to \r\nuse Cocos Creator solely to develop \r\ngames on your target platforms. You shall \r\nnot use Cocos Creator software for \r\ndeveloping other software or tools that\'s \r\nused for developing games. You are not \r\ngranted to publish, distribute, sublicense, \r\nand/or sell copies of Cocos Creator. The \r\nsoftware or tools in this License Agreement \r\nare licensed, not sold. \r\nXiamen Yaji Software Co., Ltd. \r\nreserves all rights not expressly granted to you.\\n',str_about_87:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"),\r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to\r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions:\\n\r\nThe above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software.',str_about_88:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_89:"<color=#F35B81>Colyseus</color>",str_about_90:"Copyright (c) 2021 Lucid Sight \\n Copyright (c) 2015-2021 Endel Dreyer \\n \\nMIT License: \\n",str_about_91:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_92:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_93:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_94:"<color=#F35B81>axios</color>",str_about_95:"Copyright (c) 2014-2022 \r\nMatt Zabriskie & Collaborators \\n",str_about_96:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_97:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_98:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_99:"<color=#F35B81>crypto-js</color>",str_about_100:"Copyright (c) 2009-2013 Jeff Mott \\n Copyright (c) 2013-2016 Evan Vosberg \\n",str_about_101:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_102:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_103:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_104:"<color=#F35B81>lodash</color>",str_about_105:"Copyright JS Foundation and other \r\ncontributors <https://js.foundation/> \r\nBased on Underscore.js, \r\ncopyright Jeremy Ashkenas, \r\nDocumentCloud and Investigative \r\nReporters & Editors \r\n<http://underscorejs.org/> \r\nThis software consists of voluntary \r\ncontributions made by many individuals. \r\nFor exact contribution history, see the \r\nrevision history available at \r\nhttps://github.com/lodash/lodash",str_about_106:"The following license applies to all parts of this software except as documented below: \\n",str_about_107:'Permission is hereby granted, free of charge, \r\nto any person obtaining a copy of this \r\nsoftware and associated documentation files \r\n(the "Software"), to deal in the Software \r\nwithout restriction, including without \r\nlimitation the rights to use, copy, modify, \r\nmerge, publish, distribute, sublicense, \r\nand/or sell copies of the Software, and to \r\npermit persons to whom the Software is \r\nfurnished to do so, subject to the following \r\nconditions: \\n',str_about_108:"The above copyright notice and this \r\npermission notice shall be included in all \r\ncopies or substantial portions of the Software.\\n",str_about_109:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_110:"<color=#F35B81>Fonts</color>",str_about_111:"<color=#F35B81>Paytone One</color>",str_about_112:'Copyright 2011 The Paytone Project Authors\r\n(https://github.com/googlefonts/paytoneFont),\r\nwith Reserved Font Names "Paytone" and \r\n"Paytone One".\r\nThis Font Software is licensed under the \r\nSIL Open Font License, Version 1.1. \r\nThis license is copied below, and is also \r\navailable with a FAQ at:\r\nhttp://scripts.sil.org/OFL \r\n\r\nSIL OPEN FONT LICENSE \r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) \r\nare to stimulate worldwide development \r\nof collaborative font projects, \r\nto support the font creation\r\nefforts of academic and linguistic \r\ncommunities, and to provide a \r\nfree and open framework in which \r\nfonts may be shared and improved \r\nin partnership with others.\r\n\r\nThe OFL allows the licensed fonts to be \r\nused, studied, modified and \r\nredistributed freely as long as they are not \r\nsold by themselves. The fonts, including \r\nany derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any \r\nsoftware provided that any reserved\r\nnames are not used by derivative works. \r\nThe fonts and derivatives, however, \r\ncannot be released under any other \r\ntype of license. The requirement for \r\nfonts to remain under this license does \r\nnot apply to any document created using \r\nthe fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection \r\nof Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative \r\nmade by adding to, deleting,\r\nor substituting -- in part or in whole -- any \r\nof the components of the Original \r\nVersion, by changing formats or by \r\nporting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION & CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the \r\nFont Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission \r\nis granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) \r\nor the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge \r\nthe contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply \r\nto any document created\r\nusing the Font Software.\\n',str_about_113:'TERMINATION\r\nThis license becomes null and void \r\nif any of the above conditions \r\nare not met.\\n\r\nDISCLAIMER\r\nTHE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_114:"<color=#F35B81>ElMessiri</color>",str_about_115:"Copyright 2015 The El Messiri \r\nProject Authors \r\n(https://github.com/Gue3bara/El-Messiri)\\n",str_about_116:"This Font Software is licensed under the SIL Open Font License, Version 1.1. \\n\r\nThis license is copied above, and is also available with a FAQ at:\r\nhttp://scripts.sil.org/OFL \\n",str_about_117:"<color=#F35B81>Open Sans Condensed</color>",str_about_118:'Copyright 2011 Ascender corp, \r\nSteve Matteson\\n\r\nLicensed under the Apache License, \r\nVersion 2.0 (the "License"); \r\nyou may not use this file except \r\nin compliance with the License.\\n\r\nYou may obtain a copy of the License at\r\nhttp://www.apache.org/\r\nlicenses/LICENSE-2.0\\n',str_about_119:'Unless required by applicable law or \r\nagreed to in writing, software distributed \r\nunder the License is distributed on an \r\n"AS IS" BASIS, WITHOUT WARRANTIES OR \r\nCONDITIONS OF ANY KIND, either express \r\nor implied. See the License for the \r\nspecific language governing permissions \r\nand limitations under the License. \\n'});r._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){e("defines",(function(){return["2e42b098d064b355","1cca98cfc9a13304","cccfb96057bddb07"]})),c._RF.push({},"efa29K6955GI4+7p5r7M97f","Define",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Dialogue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./RunningGameManager.ts","./SoundManager.ts","./PlayerManager.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,c,u,l,_,h,p,d,m,g,x,f,b,k,C,y,T,v,I,w,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.v3,l=t.SpriteFrame,_=t.Sprite,h=t.Button,p=t.Mask,d=t.Label,m=t.Node,g=t.Animation,x=t.game,f=t.UIOpacity,b=t.Component,k=t.UITransform,C=t.tween,y=t.Size},function(t){T=t.language},function(t){v=t.AudioSrc},function(t){I=t.RunningGameManager},function(t){w=t.SoundManager},function(t){N=t.PlayerManager}],execute:function(){var A,P,S,O,L,R,E,M,j,z,D,K,F,G,H,U,Y,q,B,J,W,Q,V,X;t({DialogMaskShape:void 0,DialogMaskType:void 0}),s._RF.push({},"32e88rOu1FF/bFjsTWptw+s","Dialogue",void 0);var Z,$,tt=c.ccclass,et=c.property,it=function(t,e){this.index=void 0,this.tag=void 0,this.index=t,this.tag=e};!function(t){t[t.NONE=0]="NONE",t[t.MILKY=1]="MILKY",t[t.SCHOKI=2]="SCHOKI"}(Z||(Z=t("DialogMaskType",{}))),function(t){t[t.NONE=0]="NONE",t[t.CIRCLE=1]="CIRCLE",t[t.RECTANGLE=2]="RECTANGLE"}($||($=t("DialogMaskShape",{})));var nt="tutorial_box_show",at="tutorial_box_hide",rt=t("DIALOGUE_TYPE",{cant_jump:"cant_jump",need_backpack_ask:"need_backpack_ask",swipe_to_pass:"swipe_to_pass",swipe_to_jump:"swipe_to_jump",swipe_to_slide:"swipe_to_slide",swipe_to_jump_higher:"swipe_to_jump_higher",swipe_to_jump_down:"swipe_to_jump_down",you_need_backpack_to_slide:"you_need_backpack_to_slide",parner_need_backpack_to_slide:"parner_need_backpack_to_slide",story_tutorial:"story_tutorial",backpack_collect:"backpack_collect",got_hit:"got_hit",congratulation:"congratulation",your_partner_control:"your_partner_control",swipe_to_ask:"swipe_to_ask",collect_qte:"collect_qte"}),ot=((A={})[rt.collect_qte]={shape:$.CIRCLE,target:Z.MILKY,circleRadius:250,position:u(0,75),icon:"racket_icon",iconPosition:u(0,0)},A[rt.your_partner_control]={shape:$.CIRCLE,target:Z.SCHOKI,circleRadius:500,position:u(0,75)},A[rt.cant_jump]={shape:$.CIRCLE,target:Z.MILKY,circleRadius:250,position:u(0,175)},A),st={cant_jump_0:"tutorials_AP_6",cant_jump_1:"tutorials_AP_7",need_backpack_ask_0:"tutorials_AP_10",swipe_to_pass_0:"tutorials_AP_7",swipe_to_jump_0:"tutorials_AP_8",swipe_to_slide_0:"tutorials_AP_12",swipe_to_jump_higher_0:"tutorials_AP_14",swipe_to_jump_down_0:"tutorials_AP_15",you_need_backpack_to_slide_0:"tutorials_AP_10",parner_need_backpack_to_slide_0:"tutorials_AP_13",parner_need_backpack_to_slide_1:"tutorials_AP_7",story_tutorial_0:"tutorials_AP_1",story_tutorial_1:"tutorials_AP_2",story_tutorial_2:"tutorials_AP_3",story_tutorial_4:"tutorials_AP_4",story_tutorial_5:"tutorials_AP_5",backpack_collect_0:"tutorials_AP_16",got_hit_0:"tutorials_AP_17",got_hit_1:"tutorials_AP_18",congratulation_0:"str_congrats",your_partner_control_0:"tutorials_AP_9",swipe_to_ask_0:"tutorials_quick_6",collect_qte_0:"tutorials_AP_16"};t("Dialogue",(P=tt("Dialogue"),S=et([l]),O=et(_),L=et(h),R=et(p),E=et(d),M=et(d),j=et(m),z=et(m),D=et(g),P(((X=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"iconFrames",G,a(e)),n(e,"iconNode",H,a(e)),n(e,"buttonTouch",U,a(e)),n(e,"mask",Y,a(e)),n(e,"richText",q,a(e)),n(e,"m_introText",B,a(e)),n(e,"nextIcon",J,a(e)),n(e,"mrDNA",W,a(e)),n(e,"boxAnim",Q,a(e)),n(e,"charSpeed",V,a(e)),e.currentText=null,e.currentCharNum=0,e.currentTextHeight=0,e.callback=null,e.dialogueName=null,e.texts=[],e.textIdx=0,e.narratorTypes=[],e.tag_expression=null,e.replace_data=null,e.opt={},e.state=-1,e.textSize=0,e.m_touchCancel=!1,e._dialogMask=null,e._cantJumpCount=0,e._needBackpackAskCount=0,e}i(e,t);var s=e.prototype;return s.onLoad=function(){x.isPersistRootNode(this.node)||x.addPersistRootNode(this.node),e.instance=this,this.tag_expression=new RegExp("<img.*?/>","g"),this.node.active=!1,this.textSize=this.richText.fontSize},s.onPopupShown=function(){this.state<0?this.state=0:this.state>0&&this.Close()},s.Close=function(){var t=this.callback;this.callback=null,this.node.active=!1,t&&t()},s.Show=function(){var t=r(o().mark((function t(e,i,n){var a,r,s,c,l,_,p=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=null),void 0===n&&(n=!1),e!=rt.cant_jump){t.next=7;break}if(!(this._cantJumpCount>0)){t.next=6;break}return i(),t.abrupt("return");case 6:this._cantJumpCount++;case 7:if(e!=rt.need_backpack_ask){t.next=12;break}if(!(this._needBackpackAskCount>0)){t.next=11;break}return i(),t.abrupt("return");case 11:this._needBackpackAskCount++;case 12:for(w.Instance.playOneShot(v.UI_CLICK),this.node.active=!0,this.node.setSiblingIndex(-1),this.callback=i,this.m_touchCancel=n,this.buttonTouch.enabled=n,this._dialogMask=ot[e],this.iconNode.node.active=!1,this.mask.node.active=!1,this.dialogueName=e,this.texts=[],this.narratorTypes=[],r="",s=e+"_"+(a=0),c=Object.entries(st).find((function(t){var e=t[0];t[1];return e==s})),r=c?T.t(c[1]):"";""!=r;)this.texts.push(r),l=s+a,this.narratorTypes.push(l),a++,s=e+"_"+a,_=Object.entries(st).find((function(t){var e=t[0];t[1];return e==s})),r=_?T.t(_[1]):"";if(0==this.texts.length&&this.texts.push("dialogue."+e),this.textIdx=0,this.currentText=this.texts[this.textIdx],this.currentCharNum=0,this.richText.getComponent(f).opacity=0,this.richText.string=this.currentText,this.richText.getComponent(f).opacity=255,1==this.m_touchCancel&&(this.richText.string=""),this.nextIcon.active=!1,this.findNextTag(),this.state=-1,!this.m_touchCancel){t.next=53;break}if(this.m_introText.node.active=!1,this.mrDNA.active=!0,this.getComponent(h).interactable=!0,this.boxAnim.node.active=!0,this.boxAnim.node.setScale(u(0,0,0)),!this._dialogMask){t.next=50;break}return t.next=50,this.drawMask(this._dialogMask);case 50:this.scheduleOnce((function(){p.boxAnim.play(nt);var t=p.boxAnim.clips.find((function(t){return t.name==nt}));t&&p.scheduleOnce((function(){p.onPopupShown()}),t.duration)}),.5),t.next=59;break;case 53:this.m_introText.node.active=!0,this.m_introText.string=this.currentText,this.boxAnim.node.active=!1,this.mrDNA.active=!1,this.getComponent(h).interactable=!1,this.boxAnim.stop();case 59:case"end":return t.stop()}}),t,this)})));return function(e,i,n){return t.apply(this,arguments)}}(),s.drawMask=function(){var t=r(o().mark((function t(e){var i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(e.target!=Z.NONE&&e.shape!=$.NONE){var n,a;i.mask.node.active=!0;var r=i.mask.getComponent(k),o=I.Instance.playerCamera.convertToUINode(e.target==Z.MILKY?N.Instance.thisPlayer.node.getWorldPosition():N.Instance.otherPlayer.node.getWorldPosition(),i.node.parent),s=o.x,c=o.y;s+=null==(n=e.position)?void 0:n.x,c+=null==(a=e.position)?void 0:a.y;var l=0,_=0;i.mask.node.setPosition(s,c,0),e.shape==$.RECTANGLE?(l=e.rectangle.x,_=e.rectangle.y,i.mask.type=p.Type.GRAPHICS_RECT):e.shape==$.CIRCLE&&(l=e.circleRadius,_=e.circleRadius,i.mask.type=p.Type.GRAPHICS_ELLIPSE),r.setContentSize(2*l,2*_);var h=1;C(i.mask.getComponent(f)).to(1,{opacity:255},{easing:"sineOut"}).start(),C(r).to(1,{contentSize:new y(l,_)},{easing:"sineIn"}).start();if(e.icon&&""!=e.icon&&-1!=i.iconFrames.findIndex((function(t){return t.name==e.icon}))){i.iconNode.node.active=!0,i.iconNode.spriteFrame=i.iconFrames.find((function(t){return t.name==e.icon})),i.iconNode.node.setPosition(s,c),i.iconNode.node.setScale(.25,.25,.25);var d=i.iconNode.node.parent.getComponent(k).contentSize;C(i.iconNode.node).delay(1).parallel(C().to(1,{scale:u(1,1)},{easing:"backOut"}),C().to(1,{position:u(d.width*e.iconPosition.x,d.height*e.iconPosition.y)},{easing:"sineOut"})).start();h=2}i.scheduleOnce((function(){return t()}),h)}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.Hide=function(){var t=this;this.boxAnim.play(at);var e=this.boxAnim.clips.find((function(t){return t.name==at}));e&&this.scheduleOnce((function(){t.onPopupShown(),t.node.active=!1}),e.duration),this.m_introText.node.active=!1},s.OnClicked=function(){if(0==this.state&&0!=this.m_touchCancel)if(this.currentCharNum>=this.currentText.length)if(this.textIdx==this.texts.length-1)w.Instance.playOneShot(v.UI_CLICK),this.state=1,this.Hide();else{w.Instance.playOneShot(v.UI_CLICK);this.textIdx++,this.currentText=this.texts[this.textIdx],this.currentCharNum=0,this.findNextTag(),this.richText.getComponent(f).opacity=0,this.richText.string=this.currentText,this.richText.getComponent(f).opacity=255,this.richText.string="",this.nextIcon.active=!1}else w.Instance.playOneShot(v.UI_CLICK),this.currentCharNum=this.currentText.length},s.update=function(t){if(0==this.state&&0!=this.m_touchCancel&&this.currentCharNum<=this.currentText.length)if(this.currentCharNum+=this.charSpeed*t,this.currentCharNum>=this.currentText.length)this.richText.string=this.currentText,this.nextIcon.active=!0;else{var e=~~this.currentCharNum,i=this.currentText.substring(0,e);if(null!=this.replace_data&&this.replace_data.index<=e-1){var n=this.replace_data.tag.length;i=this.currentText.substring(0,this.replace_data.index+n),this.currentCharNum=this.replace_data.index+n,this.findNextTag()}this.richText.string=i}},s.findNextTag=function(){var t=this.tag_expression.exec(this.currentText);this.replace_data=null!=t?new it(t.index,t[0]):null},e}(b)).instance=null,G=e((F=X).prototype,"iconFrames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(F.prototype,"iconNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"buttonTouch",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(F.prototype,"mask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(F.prototype,"richText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(F.prototype,"m_introText",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(F.prototype,"nextIcon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"mrDNA",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"boxAnim",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"charSpeed",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),K=F))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/DialogueDistanceTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,n=e.Component}],execute:function(){var c;t._RF.push({},"a63ebnQ+ChJdIbRnHMmDAUO","DialogueDistanceTrigger",void 0);var o=i.ccclass;i.property,e("DialogueDistanceTrigger",o("DialogueDistanceTrigger")(c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/EditBoxFlex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameHelper.ts"],(function(t){"use strict";var o,e,n,i,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.Component},function(t){r=t.GameHelper}],execute:function(){var s;e._RF.push({},"d243c/tv7FEoIsRuQs4qJDU","EditBoxFlex",void 0);var c=n.ccclass;n.property,t("EditBoxFlex",c("EditBoxFlex")(s=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onEditBoxBegin=function(){r.isAndroid()&&r.adjustBodyDisplayFlex(!1)},n.onEditBoxEnd=function(){r.isAndroid()&&r.adjustBodyDisplayFlex(!0)},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/EditorElement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){"use strict";var t,r,n,i,o,a,l,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,c=e.Enum,u=e.Component},function(e){p=e.POOL_OBJECT_TYPE}],execute:function(){var s,f,b,m,y,h,E,d;o._RF.push({},"f4dabYTh5pGZJD4R78qUxV/","EditorElement",void 0);var g=a.ccclass,T=a.property;e("EditorElement",(s=g("EditorElement"),f=T(l),b=T({type:c(p)}),s((h=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"elementPrefabTheme1",h,i(t)),n(t,"objectType",E,i(t)),n(t,"right",d,i(t)),t}return r(t,e),t}(u)).prototype,"elementPrefabTheme1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(y.prototype,"objectType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.NONE}}),d=t(y.prototype,"right",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/EditorLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts","./Pooling.ts","./Transition.ts"],(function(t){"use strict";var e,r,s,n,i,o,c,a,u,h,p,l,d;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){n=t.cclegacy,i=t._decorator,o=t.director},function(t){c=t.EnvironmentType,a=t.default},function(t){u=t.SoundManager},function(t){h=t.Splash},function(t){p=t.UserDataManager},function(t){l=t.Pooling},function(t){d=t.Transition}],execute:function(){var S;n._RF.push({},"47410q7FX5MZr9ofcf6jrvH","EditorLoading",void 0);var g=i.ccclass;i.property,t("EditorLoading",g("EditorLoading")(S=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.loadingAsync=function(){var t=r(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sceneToLoad=a.SCENE_SEGMENT_EDITOR,this.totalSteps=9,this.siblingIndex=3,t.next=5,this.loadTiles();case 5:return this.curStep++,this.curStepProgress=0,t.next=9,this.loadCharacters();case 9:return this.curStep++,this.curStepProgress=0,t.next=13,this.loadingPowerups();case 13:return this.curStep++,this.curStepProgress=0,t.next=17,this.loadObstacles();case 17:return this.curStep++,this.curStepProgress=0,t.next=21,this.loadQTE();case 21:return this.curStep++,this.curStepProgress=0,t.next=25,this.loadSessions();case 25:return this.curStep++,this.curStepProgress=0,t.next=29,u.Instance.init();case 29:return this.curStep++,this.curStepProgress=0,l.getInstance().init(c.TROPICAL),this.curStep++,this.curStepProgress=0,t.next=36,this.preloadScene();case 36:this.curStep++,this.curStepProgress=0,p.Instance.loadUserData(null),p.Instance.loadInventory(null),d.show(),this.scheduleOnce((function(){o.loadScene(e.sceneToLoad)}),.3);case 42:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(h))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/en.ts",["cc"],(function(o){"use strict";var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"9d40endko1BwKMH1UhCbE+a","en",void 0);o("en",{str_logo:"MILKY & SCHOKI TRIP",str_mm_start:"PLAY NOW",str_mm_daily_reward:"Daily Rewards",str_mm_achievements:"Achievements",str_mm_qr_code:"QR Scan",str_mm_daily_mission:"Daily Missions",str_mm_store:"Shop",str_mm_leaderboard:"Leaderboard",str_mm_settings:"Settings",str_dr_day:"Day {day}",str_claim_btn:"CLAIM",str_dr_claimed:"Claimed",str_mission_refresh:"Refresh in",str_go_button:"GO",str_accept:"ACCEPT",str_submit:"SUBMIT",str_continue:"CONTINUE",str_confirm:"CONFIRM",str_revive:"REVIVE",str_collect:"COLLECT",str_store_powerups:"POWER-UPS",str_store_boosters:"BOOSTERS",str_store_accessories:"ACCESSORIES",str_store_chacter:"Pick a character:",str_store_head:"Head",str_store_tops:"Tops",str_store_bottoms:"Bottoms",str_store_max:"Max level",str_store_insufficient:"You don't have enough coins.",str_store_full:"You can't carry more of this booster.",str_store_duration:"Duration: %{duration} s",str_parental_consent:"To play this game, you must read and accept the following and confirm that you are over the applicable minimum age in your country of residence:",str_store_equip:"Equip",str_store_unequip:"Unequip",str_store_equipped:"Equipped",str_mm_selected:"Selected",str_mm_ready:"Ready",str_mm_run:"Run",str_qte_time_up:"Time's up!",str_qte_go:"Go",str_qte_success:"Success",str_qte_tap:"Tap",str_qte_swipe:"Swipe",str_mm_public_name:"Play Online",str_mm_public_descr:"Play with friends around the world.",str_mm_private_name:"Play with Friend",str_mm_private_descr:"Play with your friend.",str_mm_invite_name:"INVITE",str_mm_invite_invitation:"Let's travel together on the Milky & Schoki Trip! Join me here: {code}",str_mm_join_name:"JOIN",str_mm_join_descr:"Enter your friend's room code:",str_mm_join_wrong:"The code is invalid!",str_mm_join_conflict:"The host has picked {character name}. Do you want to continue as {other character name}?",str_mm_join_return:"Can't join room because of duplicated character.",str_qr_code_get:"You got",str_qr_code_scanmore:"Scan another QR code to receive:",str_qr_code_out:"Scan another QR code on pack to collect additional free rewards.",str_ap_unlocked:"UNLOCKED",str_settings_music:"Music",str_settings_sfx:"SFX",str_settings_languages:"Language",str_settings_login:"Log In",str_settings_method:"Select your login method:",str_settings_guest:"Guest",str_settings_term:"Terms of Use",str_settings_privacy:"Privacy Policy",str_settings_credits:"Credits",str_map_tropical:"TROPICAL ISLAND",str_map_urban:"URBAN CITY",str_map_snow:"SNOWY MOUNTAIN",str_congrats:"CONGRATULATIONS!",str_select_name:"CREATE YOUR NICKNAME",str_select_name_desc:"Your nickname will be seen by other players during online play.",str_select_name_error1:"Your nickname can only contain letters (Aa-Zz), numbers (0-9), periods (.), and underscores (_).",str_select_name_error2:"Your nickname contains words that are not allowed.",str_language_en:"English",str_language_fr:"Français",str_language_de:"Deutsch",str_language_ru:"Русский",str_language_ab:"عربي",str_connection_timeout:"Request timed out. Please check your connection and try again.",str_connection_lost:"Failed to connect to game server. Please check your connection and try again.",str_ok:"OK",str_cancel:"Cancel",str_login_conflict_title:"Cloud Save Conflict",str_login_conflict_descr:"The cloud save does not match the data saved on your device.",str_login_conflict_env:"Destination Unlocked: {}",str_login_conflict_highscore:"High score: {}",str_login_conflict_accessories:"Accessories unlocked: {}",str_login_conflict_coins:"Coins: {}",str_login_conflict_cloud:"Cloud Save",str_login_conflict_cloudreplace:"Cloud Save will replace Local Data",str_login_conflict_local:"Local Data",str_login_conflict_localreplace:"Local Data will replace Cloud Save",str_login_conflict_usecloud:"Use",str_login_conflict_uselocal:"Use Local Save",str_transfer_confirm:"Your Local Data will be replaced with new Received Data. Do you wish to proceed?",str_transfer_success:"Your profile has been successfully transferred.",str_transfer_fail:"Oops, something went wrong. Please try again later.",str_contact_us:"Contact Us",str_contact_desc:"If you experience any issue while playing the game, please contact us:",str_faq:"FAQ",str_ban_title:"Attention",str_ban_descr:"You account has been banned. The ban will expire on {time}.",str_loading:"Loading...",str_waiting:"Waiting for your partner...",str_mm_matching:"Matching...",str_mm_matchfound:"Match found",str_mm_joining:"Joining...",str_mm_gamejoining:"{name} is joining...",str_mm_send:"Send code",str_mm_booster:"Select booster",str_private_friendcode:"Your friend's code",str_private_roomcode:"Your room's code",str_private_host:"Host",str_private_join:"Join",str_settings_account:"Account",str_mm_mapunlock:"Reach {distance} to unlock {environment name}",str_qr_instruction:"Point the camera toward the QR code to scan",str_qr_or:"or",str_qr_and:"and",str_qr_coin:"{number} coins",str_qr_booster:"A booster",str_qr_outfit:"An outfit",str_qr_reward:"Reward",str_select_name_rule:"Your nickname can only contain:\r\n    - Letters (Aa-Zz) \r\n    - Numbers (0-9) (no more than 7 numbers)\r\n    - Periods (.)\r\n    - Underscores (_)\r\n    - Length: between 4 and 12 characters",str_select_name_error3:"Your nickname has more than 7 numbers.",str_select_name_error4:"Your nickname should have 4-12 characters",str_select_name_error5:"Your nickname is too long",str_select_name_count:"Number of letters: {number}",str_settings_offf:"Off",str_settings_on:"On",str_settings_logout:"Log out",str_qr_pc:"Please allow the Camera permission in your browser to continue.",str_loading_add:"Loading additional data...",str_endscreen:"Your distance",str_QTE_start:"Start",str_QTE_perfect:"Perfect",str_QTE_miss:"Miss",str_selfie_sticker:"Sticker",str_settings_logout_warning:"If you log out, you will lose your progress.",str_login_guest:"Or you can sign in as:",str_new_env_popup1:"New destination!",str_new_env_popup2:"New booster!",str_new_env_popup3:"New revive item!",str_private_create:"CREATE",str_private_creating:"Creating room...",str_private_taking_off:"Taking off...",str_mm_map:"Destination",str_shop_qr:"Unlock with QR Code",str_shop_daily:"Unlock in Daily Rewards",str_shop_free:"Free",str_ap_you:"You",str_booster_none:"You haven't unlocked any boosters.",str_share_caption:"Join us\\n and break the record!",str_exit_pop_up:"Do you want to quit?",str_friend_quit:"Your friend left.",str_friend_replay:"Your friend wants to replay.",str_selfie_download:"Tap and hold to download image.",str_account_another_device:"Account is logged in on another device.",str_shop_confirm:"Are you sure you want to buy this item?",str_disconnection:"Please check your connection and try again.",str_booster_not_select:"No booster has been selected.",str_login_facebook:"Facebook",str_login_google:"Google",str_QR_open:"Tap to open",str_new_env_popup4:"New power-ups!",str_new_env_popup5:"New power-up!",str_qr_mobile_only:"This feature is available on smartphones only.",str_homescreen_ios:'Just tap {icon} then "Add to Home Screen."',str_homescreen_title:"Having fun?",str_homescreen_des:"Add this game to your home screen for quick access?",str_homescreen_add:"Add",str_qr_milky:"For Milky",str_qr_schoki:"For Schoki",str_landscape:"The mini-game only supports landscape mode.",str_daily_mission_finished:"Congrats! You completed all the daily missions today.\\n Come back tomorrow for more.",str_qr_milky_schoki:"For Milky & Schoki",tutorials_AP_1:"Hello!",tutorials_AP_2:"We've been expecting you! I'm Schoki and I will be your guide today.",tutorials_AP_3:"A long and exciting journey is waiting for you.",tutorials_AP_4:"You and your partner will travel to explore the world together!",tutorials_AP_5:"I know you are excited! But first, you need to learn how to move.",tutorials_AP_6:"You can't jump with the backpack.",tutorials_AP_7:"Swipe to your partner.",tutorials_AP_8:"Swipe up.",tutorials_AP_9:"Your partner will control the other character.",tutorials_AP_10:"You need the backpack to slide.",tutorials_AP_11:"Your partner passed the backpack to you.",tutorials_AP_12:"Swipe down.",tutorials_AP_13:"Your partner needs the backpack to slide.",tutorials_AP_14:"Swipe up again.",tutorials_AP_15:"Swipe down when jumping.",tutorials_AP_16:"You collected a revive item. You can carry a maximum of three items.",tutorials_AP_17:"Oh no, you got hit. Don't give up!",tutorials_AP_18:"Use the item you just collected to seize a second chance!",tutorials_AP_20:"Congrats! Your energy was refilled!",tutorials_dr_1:"Oh! Your daily reward is still there. Don't forget to claim it!",tutorials_dr_2:"We received some coins! Let's buy something new to wear!",tutorials_store_1:"Let's go shopping! My treat!",tutorials_store_2:"It looks great on you! Tap on the icon to buy it.",tutorials_store_3:"Tap to equip it now.",tutorials_lobby_1:"You can select between 2 characters.",tutorials_lobby_2:"Choose Play Online to run with friends around the world.",tutorials_lobby_3:"Your partner is ready. Hit that start icon to start your journey!",tutorials_mission_1:"Impressive! You finished a daily mission! Let's claim your reward.",tutorials_mission_2:"Keep it up and complete more daily missions.",tutorials_mission_3:"Well, that's as far as I can guide you. You will write your own journey from now on.",tutorials_mission_4:"Goodbye and see you around!",tutorials_qte_1:"Tap when the birdie glows.",tutorials_qte_2:"<color=#412A46>Hit the birdie <color=#02A9E7>${target} times</color> to revive!</color>",tutorials_qte_3:"<color=#02A9E7>Both players</color> <color=#412A46>need to tap on the\r\nsame note when it's in the circle.</color>",tutorials_qte_4:"<color=#412A46>Hit the notes <color=#02A9E7>${target} times</color> to revive!</color>",tutorials_qte_5:"Swipe to pass the hat to your partner.",tutorials_qte_6:"<color=#412A46>Catch <color=#02A9E7>${target} items</color> to revive!</color>",tutorials_qte_7:"Fill the bar with every successful catch to continue the journey!",tutorials_quick_1:"Swipe up to jump when not carrying the backpack.",tutorials_quick_2:"Swipe up 2 times to double-jump when not carrying the backpack.",tutorials_quick_3:"Swipe down when jumping to land faster.",tutorials_quick_4:"Swipe down to slide when carrying a backpack.",tutorials_quick_5:"Swipe to your partner to pass the backpack.",tutorials_quick_6:"Swipe towards yourself to ask for the backpack.",tutorials_store_4:"Here you can upgrade your power-ups.",tutorials_store_5:"Let's see what we can do in the Shop!",tutorials_store_6:"Here you can buy boosters to use at the start of your journey.",tutorials_store_7:"Tap to show details.",tutorials_store_8:"Tap again to hide details.",tutorials_store_9:"Let's buy this! Tap to buy.",tutorials_store_10:"Tap to select the character you want to buy accessories for.",tutorials_store_11:"Tap on the item to review it.",tutorials_store_12:"Let's equip the booster we have just bought.",tutorials_private_1:"Tap Create to host your room.",tutorials_private_2:"Show the room's code to your friend.",tutorials_private_3:"Or tap Invite to send them the link to join the room.",tutorials_private_4:"To join, you can enter the room code here.",tutorials_private_5:"Then tap Join.",tutorials_private_6:"Or you can tap on the link the host sent you.",tutorials_swipe_1:"Swipe to look around the airport!",tutorials_map_1:"Congrats! You unlocked a new destination!",tutorials_map_2:"Tap on the arrow to change your destination.",tutorials_selfie_1:"You can take a selfie with Milky or Schoki here.",tutorials_booster_1:"Tap on the booster you want to choose.",tutorials_booster_2:"Tap OK to confirm your choice.",tutorials_ap_1:"Congratulations! You finished the basic tutorial.",tutorials_ap_2:"Keep exploring the game to unlock more features.",fact_0:"You can collect items in the middle path by throwing the backpack at the right time.",fact_1:"You can request the backpack by swiping in your character's direction.",fact_2:"Try selecting the same booster as your partner. There will be a surprise for you.",fact_3:"Daily missions will refresh every day. Make sure to finish them before they expire!",fact_4:"Scan a new QR Code for a special reward.",fact_5:"You can only hold 9 boosters of the same type. Hoarding is not good for your health.",fact_6:"Your bag can only carry a maximum of three revive items. Better travel light!",fact_7:"Upgrade power-ups in the Shop so they can last longer during the run. It's a good investment!",fact_8:"You can buy boosters in the Shop, which will help you tremendously during a run.",fact_9:"The Shield Power-Up will protect you from one obstacle, just in case you slip.",fact_10:"The Magnet Power-Up will collect all coins and collectibles along your way. Sharing is caring, after all.",fact_11:"What's better than one coin? Two coins. The Coin Duper Power-Up will turn every coin into two coins.",fact_12:"Want to smash your way ahead? The Stamper Power-Up will convert all obstacles into coins.",fact_13:"The Mega Hop Power-Up will push both of you forward in hyper speed. Lucky!",fact_14:"This is a tip.",fact_15:"You and your friend can't select the same character when joining a room.",fact_16:"Accessories will make you look cooler. You can buy and equip them in the Shop.",fact_17:"A new environment will be unlocked once you've run a certain total distance.",fact_18:"Achievements can be completed just by playing the game.",fact_19:"Keep an eye on the bird. If it flies, slide. If it lands, jump.",fact_20:"More obstacles, power-ups and revive items will be unlocked in later environments.",fact_21:"The more QR codes you scan in a day, the more rewards you will receive.",fact_22:"Booster will be consumed when used.","fact-tip":"Tip:",powerup_shield_name:"Shield",powerup_shield_desc:"Protect the player from one obstacle.",powerup_magnet_name:"Magnet",powerup_magnet_desc:"Auto-collect coins and collectibles.",powerup_stamper_name:"Stamper",powerup_stampler_descr:"Turn all obstacles into a bunch of coins!",powerup_coinduper_name:"Coin Duper",powerup_coinduper_descr:"Turn every coin into two coins.",powerup_megahop_name:"Mega Hop",powerup_megahop_descr:"Push both players forward in hyper speed.",booster_headstart1_name:"Hyper Start",booster_headstart1_descr:"Hyper-speed push both characters forward %{number} m at the beginning of the run.",booster_headstart2_name:"Big Hyper Start",booster_headstart2_descr:"Hyper-speed push both characters forward %{number} m at the beginning of the run.",booster_headstart3_name:"Mega Hyper Start",booster_headstart3_descr:"Hyper-speed push both characters forward %{number} m at the beginning of the run.",booster_coinboost1_name:"+{number}% Coins",booster_coinboost1_descr:"Get {number}% more coins at the end of the run.",booster_coinboost2_name:"+{number}% Coins",booster_coinboost2_descr:"Get {100}% more coins at the end of the run.",booster_coinboost3_name:"+{number}% Coins",booster_coinboost3_descr:"Get {200}% more coins at the end of the run.",booster_qte1_name:"Good Sport",booster_qte1_descr:"Start the run with {number} random revive item.",booster_qte2_name:"Sportman's Spirit",booster_qte2_descr:"Start the run with {number} revive items.",booster_revival_name:"Second Chance",booster_revival_descr:"Protects the player from the first obstacle they hit.",play_mul:"<color=#FFFFFF>Play in Public mode <color=#01FFFF>{number} time(s).</color></color>",run_distance:"<color=#FFFFFF>Run a total of <color=#01FFFF>{number} m</color> in any mode.</color>",double_jump:"<color=#FFFFFF>Double-jump a total of <color=#01FFFF>{number} times</color> in any mode.</color>",collect_coins:"<color=#FFFFFF>Collect a total of <color=#01FFFF>{number} coins.</color></color>",dash:"<color=#FFFFFF>Slide to avoid obstacles <color=#01FFFF>{number} times</color> in total.</color>",request_backpack:"<color=#FFFFFF>Request a backpack <color=#01FFFF>{number} times</color> in total.</color>",pass_backpack:"<color=#FFFFFF>Pass the backpack to your partner <color=#01FFFF>{number} times</color> in total.</color>",power_up:"<color=#FFFFFF>Collect a total of <color=#01FFFF>{number} power-ups.</color></color>",extra_life:"<color=#FFFFFF>Collect a total of <color=#01FFFF>{number} revive items.</color></color>",suc_QTE:"<color=#FFFFFF>Successfully revive <color=#01FFFF>{number} times </color>in total.</color>",double_jump_one_run:"<color=#FFFFFF>Double-jump <color=#01FFFF>{number} times</color> in one run.</color>",run_distance_one_run:"<color=#FFFFFF>Reach <color=#01FFFF>{number} m</color> in one run.</color>",Upgrade_power_up:"<color=#FFFFFF>Upgrade <color=#01FFFF>{number} power-up</color>.",booster_active:"<color=#FFFFFF>Use a total of <color=#01FFFF>{number} boosters.</color></color>",collect_coins_one_run:"<color=#FFFFFF>Collect <color=#01FFFF>{number} coins</color> in one run.</color>",dash_one_run:"<color=#FFFFFF>Slide to avoid obstacles <color=#01FFFF>{number} times</color> in one run.</color>",mid_coin:"<color=#FFFFFF>Collect <color=#01FFFF>{number} big coins</color> in one run.</color>",booster_buy:"<color=#FFFFFF>Buy <color=#01FFFF>{number} boosters.</color></color>",accessory_run:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> while wearing <color=#01FFFF>2 accessories.</color> </color>",pass_backpack_one_run:"<color=#FFFFFF>Pass the backpack to your partner <color=#01FFFF>{number} times</color> in one run.</color>",buy_acessories:"<color=#FFFFFF>Buy <color=#01FFFF>any accessory.</color></color>",tropical_island:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> on Tropical Island.</color>",urban_city:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> in Urban City.</color>",snow_mountain:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> on Snowy Mountain.</color>",accessory_run_easy:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> while wearing <color=#01FFFF>1 accessory.</color> </color>",accessory_run_hard:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> while wearing <color=#01FFFF>3 accessories.</color> </color>",share:"<color=#01FFFF>Share your score</color><color=#FFFFFF> from the result screen once.</color>",achievement_acc_1:"<color=#FFFFFF>Purchase <color=#01FFFF>{number} accessories.</color></color>",achievement_play_1:"<color=#FFFFFF>Travel <color=#01FFFF>{number} times.</color></color>",achievement_power_1:"<color=#FFFFFF>Collect <color=#01FFFF>{number} power-ups.</color></color>",achievement_pass_1:"<color=#FFFFFF>Use <color=#01FFFF>{number} boosters.</color></color>",achievement_ap_1:"<color=#FFFFFF>Successfully revive your partner <color=#01FFFF>{number} times.</color></color>",achievement_dl_1:"<color=#FFFFFF>Complete <color=#01FFFF>{number} daily missions.</color></color>",achievement_sf_1:"<color=#FFFFFF>Take selfies with <color=#01FFFF>{number} different poses.</color></color>",achievement_milky_1:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> total as Milky.</color>",achievement_schoky_1:"<color=#FFFFFF>Run <color=#01FFFF>{number} m</color> total as Schoki.</color>",achivement_beach_1:"<color=#FFFFFF>Run on Tropical Island <color=#01FFFF>{number} times.</color></color>",achivement_beach_2:"<color=#FFFFFF>Reach the second area of Tropical Island <color=#01FFFF>{number} times.</color></color>",achivement_beach_3:"<color=#FFFFFF>Reach the third area of Tropical Island <color=#01FFFF>{number} times.</color></color>",achivement_city_1:"<color=#FFFFFF>Run in Urban City <color=#01FFFF>{number} times.</color></color>",achivement_city_2:"<color=#FFFFFF>Reach the second area of Urban City <color=#01FFFF>{number} times.</color></color>",achivement_city_3:"<color=#FFFFFF>Reach the third area of Urban City <color=#01FFFF>{number} times.</color></color>",achievement_mountain_1:"<color=#FFFFFF>Run on Snowy Mountain <color=#01FFFF>{number} times.</color></color>",achievement_mountain_2:"<color=#FFFFFF>Reach the second area of Snowy Mountain <color=#01FFFF>{number} times.</color></color>",achievement_mountain_3:"<color=#FFFFFF>Reach the third area of Snowy Mountain <color=#01FFFF>{number} times.</color></color>",headwear_01:"Youthful Day",headwear_02:"Natural Princess",headwear_03:"Milky Queen",headwear_04:"Explorer",headwear_05:"Looking Cool",headwear_06:"Music Enthusiast",headwear_07:"Party Spirit",headwear_08:"Blue Cap",headwear_09:"Red Cap",Scarf_01:"Warm Heart",Scarf_02:"Warm and Comfy",Scarf_03:"Flower Dance",Scarf_04:"Office Work",Scarf_05:"Gentleman",Scarf_06:"Dressing Up",Scarf_07:"Tropical Beat",Scarf_08:"Night Sky",Scarf_09:"Aurora Polaris",Footwear_01:"Red Boots",Footwear_02:"Classic",Footwear_03:"On Ice",Footwear_04:"In Space",Footwear_05:"Fashionista",Footwear_06:"Active",Pant_01:"Striped",Pant_02:"Dotty",Pant_03:"Pineapple Shorts",Pant_04:"Working Out",Pant_05:"Action Star",Pant_06:"Seashore Photoshoot",bot_1:"McMahon",bot_2:"Hess",bot_3:"Quinn",bot_4:"Compton",bot_5:"Hendricks",bot_6:"Rich",bot_7:"McGee",bot_8:"Lambert",bot_9:"McDonnell",bot_10:"Alfaro",bot_11:"Price",bot_12:"Christensen",bot_13:"Hills",bot_14:"Huff",bot_15:"Senior",bot_16:"Fenton",bot_17:"Mullins",bot_18:"Black",bot_19:"Orry",bot_20:"Gray",bot_21:"Decker",bot_22:"Morin",bot_23:"Bowman",bot_24:"Riley",bot_25:"Davies",bot_26:"Oliver",bot_27:"Harris",bot_28:"Howell",bot_29:"Barrow",bot_30:"Lynn",bot_31:"Neville",bot_32:"Cornish",bot_33:"Kumar",bot_34:"Vulus",bot_35:"McKnight",bot_36:"Chapman",bot_37:"McNeill",bot_38:"Baldwin",bot_39:"Greig",bot_40:"Webster",bot_41:"Kouma",bot_42:"Hooper",bot_43:"Trejo",bot_44:"Pope",bot_45:"Avila",bot_46:"Clifford",bot_47:"McCartney",bot_48:"Payne",bot_49:"Guzman",bot_50:"Melendez",bot_51:"Steele",bot_52:"Pitts",bot_53:"Hart",bot_54:"McCallum",bot_55:"Calvert",bot_56:"Chamberlain",bot_57:"Bateman",bot_58:"Whiteley",bot_59:"Rosa",bot_60:"Dudley",bot_61:"Spence",bot_62:"Pearson",bot_63:"Sparks",bot_64:"Nieves",bot_65:"Barr",bot_66:"Rutledge",bot_67:"Pineda",bot_68:"Donald",bot_69:"Rigby",bot_70:"Kaur",bot_71:"Feeney",bot_72:"Wynn",bot_73:"Wolf",bot_74:"Swan",bot_75:"Combs",bot_76:"Rollins",bot_77:"Lang",bot_78:"Lane",bot_79:"Beil",bot_80:"Odom",bot_81:"Tran",bot_82:"Whittle",bot_83:"Casey",bot_84:"Barber",bot_85:"Mathis",bot_86:"Tyson",bot_87:"Costa",bot_88:"Bray",bot_89:"Castaneda",bot_90:"Mendez",bot_91:"Anthony",bot_92:"Kelly",bot_93:"Whitfield",bot_94:"Nicholson",bot_95:"Magana",bot_96:"Russo",bot_97:"Battle",bot_98:"Barry",bot_99:"Dorsey",bot_100:"Glenn",game_version:"Version %{0} \\n",str_about_00:"<color=#F35B81>GAMELOFT FOR BRANDS</color> \\n",str_about_01:"<color=#F35B81>HEAD OF STUDIO</color>",str_about_02:"Thierry Lecat \\n",str_about_03:"<color=#F35B81>PRODUCER</color>",str_about_04:"Ly Vi Hue \\n",str_about_05:"<color=#F35B81>CREATIVE DIRECTOR</color>",str_about_06:"Cedric Ratajczak \\n",str_about_07:"<color=#F35B81>CTO VIETNAM</color>",str_about_08:"Laurent Le \\n",str_about_09:"<color=#F35B81>LEAD PROGRAMMER</color>",str_about_10:"Vo Minh Tam \\n",str_about_11:"<color=#F35B81>PROGRAMMERS</color>",str_about_12:"Tran Binh Hoa \\nHoang Quoc Khanh \\n",str_about_13:"<color=#F35B81>LEAD GAME DESIGNER</color>",str_about_14:"Nguyen Phu Hong Phuc \\n",str_about_15:"<color=#F35B81>GAME DESIGNER</color>",str_about_16:"Truong Gia Huy \\n",str_about_17:"<color=#F35B81>ART DIRECTOR</color>",str_about_18:"Leandro Banak \\n",str_about_19:"<color=#F35B81>UI/UX ARTIST</color>",str_about_20:"Tran Thi Mai Trang \\n",str_about_21:"<color=#F35B81>LEAD 2D ARTIST</color>",str_about_22:"Le Ngoc Trinh \\n",str_about_23:"<color=#F35B81>2D ARTISTS</color>",str_about_24:"John Tenoria \\nLe Thanh Hang \\n",str_about_25:"<color=#F35B81>LEAD 3D ARTIST</color>",str_about_26:"Vo Binh Quan \\n",str_about_27:"<color=#F35B81>3D ARTISTS</color>",str_about_28:"Nguyen Huu Toan \\nTruong Huynh Thao \\n",str_about_29:"<color=#F35B81>LEAD 3D ANIMATOR</color>",str_about_30:"Siva Gonti \\n",str_about_31:"<color=#F35B81>3D ANIMATOR</color>",str_about_32:"Durga Prasad Kamisetti \\n",str_about_33:"<color=#F35B81>LEAD VFX ARTIST</color>",str_about_34:"Christopher Pringle \\n",str_about_35:"<color=#F35B81>VFX ARTISTS</color>",str_about_36:"Christopher Pringle \\nYohan Pradeloux \\n",str_about_37:"<color=#F35B81>LOCALISATION</color>",str_about_38:"<color=#F35B81>LOCALISATION MANAGER</color>",str_about_39:"Alexis Green-Painchaud \\n",str_about_40:"<color=#F35B81>LOCALISATION COORDINATORS</color>",str_about_41:"Catherine Boudreault \\nEric Millette \\nFrederic Moreau \\nAriane Beauparlant \\n",str_about_42:"<color=#F35B81>LOCALISATION TECHNOLOGY COORDINATOR</color>",str_about_43:"Frank Schneidawind \\n",str_about_44:"<color=#F35B81>TECHNICAL LOCALISATION SPECIALIST</color>",str_about_45:"Yannick Denis \\n",str_about_46:"<color=#F35B81>LOCALISATION</color>",str_about_47:"Timothy LeClair \\nAngela Roberts \\nElona Ritchie \\nElaina Axais \\nFred Leung \\n",str_about_48:"<color=#F35B81>LOCALISATION BUG SPECIALISTS</color>",str_about_49:"Juan Carlos Ardila \\nPham Diep Van Nhi \\nJaime Silva-Valencia \\n",str_about_50:"<color=#F35B81>QUALITY ASSURANCE</color>",str_about_51:"<color=#F35B81>STUDIO QA MANAGER</color>",str_about_52:"Madek Widodo \\n",str_about_53:"<color=#F35B81>QA DIVISION MANAGER</color>",str_about_54:"Le Phung Thanh Son \\n",str_about_55:"<color=#F35B81>QA PROJECT MANAGER</color>",str_about_56:"Ratna Kusumaningtyas \\n",str_about_57:"<color=#F35B81>QA TEAM LEADERS</color>",str_about_58:"Maulana Ibrahim \\nImam Masrufi \\n",str_about_59:"<color=#F35B81>QA TESTERS</color>",str_about_60:"Andri Bagastomo \\nGinanjar Sidik \\nAnggit Sukamto \\nAziz Muzzamil \\nAri Wirawan \\nAmri Arfian \\nKelvin Dennyswara \\nDwi Kustiarno \\nRizky Lambang \\nAdik Nupantoro \\nYordan Ridhanto \\nErdhika Firmana \\nNungki Nugroho \\nHudam Nugraha \\nYudhistira \\nOnny Hermawan \\nEgrit Wijatsongko \\nHerbowo Putro \\nImakulata Kristanti \\nAlba Millentry \\n",str_about_61:"<color=#F35B81>AUDIO MANAGER</color>",str_about_62:"Zabi Khan \\n",str_about_63:"<color=#F35B81>SOUND DESIGNER</color>",str_about_64:"Stefani Leoni \\n",str_about_65:"<color=#F35B81>MARKETING PRODUCT MANAGERS</color>",str_about_66:"Baptiste Tauzin\\nChloe Roddier\\nLy Ba Tho \\n",str_about_67:"<color=#F35B81>LEGAL</color>",str_about_68:"<color=#F35B81>LEAD LEGAL COUNSEL</color>",str_about_69:"Hortense Jouquan \\n",str_about_70:"<color=#F35B81>DATA PROTECTION OFFICER</color>",str_about_71:"Isabelle Le Vot \\n",str_about_72:"<color=#F35B81>LEGAL COUNSEL</color>",str_about_73:"Alexandra Rochefort \\n",str_about_74:"<color=#F35B81>BACKEND TEAM</color>",str_about_75:"<color=#F35B81>BACKEND PRODUCERS</color>",str_about_76:"Nguyen Tri Nhan \\nPhan Nguyen Tuong Minh \\n",str_about_77:"<color=#F35B81>BACKEND PROGRAMMERS</color>",str_about_78:"Le Nguyen Trung Hieu \\nDinh Xuan Duy \\nTran Xuan Khoa \\nTran Duy Truong \\nQuang Chan Vi \\nHuynh Cong Duc \\nTran Minh Tien \\nHuynh Ngoc Phuong Anh \\nTruong Binh Tan \\nTran Kim Bao \\nNguyen Duy Minh \\nHan Van Gia Hien \\n",str_about_79:"<color=#F35B81>CMS PROGRAMMERS</color>",str_about_80:"To Quoc Long \\nLe Thanh Nghi \\n",str_about_81:"<color=#F35B81>DATA ANALYSIS TEAM</color>",str_about_82:"Dang Minh Tuan \\nNguyen Duy Anh \\nNguyen Thanh Hung \\nTran Thi Mai \\n",str_about_83:"<color=#F35B81>OPEN SOURCE SOFTWARE LICENCES</color>",str_about_84:"<color=#F35B81>Cocos Creator</color>",str_about_85:"<color=#F35B81>i18n Extension for Cocos Creator</color>",str_about_86:'Copyright (c) 2013-2016 Chukong Technologies Inc.\r\nCopyright (c) 2017-2022 Xiamen Yaji Software Co., Ltd.\r\nhttp://www.cocos.com \r\nPermission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated engine \r\nsource code (the "Software"), a limited,\r\nworldwide, royalty-free, non-assignable,\r\nrevocable and non-exclusive license to \r\nuse Cocos Creator solely to develop \r\ngames on your target platforms. You shall \r\nnot use Cocos Creator software for \r\ndeveloping other software or tools that\'s \r\nused for developing games. You are not \r\ngranted to publish, distribute, sublicense, \r\nand/or sell copies of Cocos Creator. The \r\nsoftware or tools in this License Agreement \r\nare licensed, not sold. \r\nXiamen Yaji Software Co., Ltd. \r\nreserves all rights not expressly granted to you.\\n',str_about_87:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"),\r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to\r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions:\\n\r\nThe above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software.',str_about_88:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_89:"<color=#F35B81>Colyseus</color>",str_about_90:"Copyright (c) 2021 Lucid Sight \\n Copyright (c) 2015-2021 Endel Dreyer \\n \\nMIT License: \\n",str_about_91:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_92:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_93:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_94:"<color=#F35B81>axios</color>",str_about_95:"Copyright (c) 2014-2022 \r\nMatt Zabriskie & Collaborators \\n",str_about_96:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_97:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_98:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_99:"<color=#F35B81>crypto-js</color>",str_about_100:"Copyright (c) 2009-2013 Jeff Mott \\n Copyright (c) 2013-2016 Evan Vosberg \\n",str_about_101:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_102:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_103:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_104:"<color=#F35B81>lodash</color>",str_about_105:"Copyright JS Foundation and other \r\ncontributors <https://js.foundation/> \r\nBased on Underscore.js, \r\ncopyright Jeremy Ashkenas, \r\nDocumentCloud and Investigative \r\nReporters & Editors \r\n<http://underscorejs.org/> \r\nThis software consists of voluntary \r\ncontributions made by many individuals. \r\nFor exact contribution history, see the \r\nrevision history available at \r\nhttps://github.com/lodash/lodash",str_about_106:"The following license applies to all parts of this software except as documented below: \\n",str_about_107:'Permission is hereby granted, free of charge, \r\nto any person obtaining a copy of this \r\nsoftware and associated documentation files \r\n(the "Software"), to deal in the Software \r\nwithout restriction, including without \r\nlimitation the rights to use, copy, modify, \r\nmerge, publish, distribute, sublicense, \r\nand/or sell copies of the Software, and to \r\npermit persons to whom the Software is \r\nfurnished to do so, subject to the following \r\nconditions: \\n',str_about_108:"The above copyright notice and this \r\npermission notice shall be included in all \r\ncopies or substantial portions of the Software.\\n",str_about_109:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_110:"<color=#F35B81>Fonts</color>",str_about_111:"<color=#F35B81>Paytone One</color>",str_about_112:'Copyright 2011 The Paytone Project Authors\r\n(https://github.com/googlefonts/paytoneFont),\r\nwith Reserved Font Names "Paytone" and \r\n"Paytone One".\r\nThis Font Software is licensed under the \r\nSIL Open Font License, Version 1.1. \r\nThis license is copied below, and is also \r\navailable with a FAQ at:\r\nhttp://scripts.sil.org/OFL \r\n\r\nSIL OPEN FONT LICENSE \r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) \r\nare to stimulate worldwide development \r\nof collaborative font projects, \r\nto support the font creation\r\nefforts of academic and linguistic \r\ncommunities, and to provide a \r\nfree and open framework in which \r\nfonts may be shared and improved \r\nin partnership with others.\r\n\r\nThe OFL allows the licensed fonts to be \r\nused, studied, modified and \r\nredistributed freely as long as they are not \r\nsold by themselves. The fonts, including \r\nany derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any \r\nsoftware provided that any reserved\r\nnames are not used by derivative works. \r\nThe fonts and derivatives, however, \r\ncannot be released under any other \r\ntype of license. The requirement for \r\nfonts to remain under this license does \r\nnot apply to any document created using \r\nthe fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection \r\nof Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative \r\nmade by adding to, deleting,\r\nor substituting -- in part or in whole -- any \r\nof the components of the Original \r\nVersion, by changing formats or by \r\nporting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION & CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the \r\nFont Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission \r\nis granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) \r\nor the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge \r\nthe contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply \r\nto any document created\r\nusing the Font Software.\\n',str_about_113:'TERMINATION\r\nThis license becomes null and void \r\nif any of the above conditions \r\nare not met.\\n\r\nDISCLAIMER\r\nTHE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_114:"<color=#F35B81>ElMessiri</color>",str_about_115:"Copyright 2015 The El Messiri \r\nProject Authors \r\n(https://github.com/Gue3bara/El-Messiri)\\n",str_about_116:"This Font Software is licensed under the SIL Open Font License, Version 1.1. \\n\r\nThis license is copied above, and is also available with a FAQ at:\r\nhttp://scripts.sil.org/OFL \\n",str_about_117:"<color=#F35B81>Open Sans Condensed</color>",str_about_118:'Copyright 2011 Ascender corp, \r\nSteve Matteson\\n\r\nLicensed under the Apache License, \r\nVersion 2.0 (the "License"); \r\nyou may not use this file except \r\nin compliance with the License.\\n\r\nYou may obtain a copy of the License at\r\nhttp://www.apache.org/\r\nlicenses/LICENSE-2.0\\n',str_about_119:'Unless required by applicable law or \r\nagreed to in writing, software distributed \r\nunder the License is distributed on an \r\n"AS IS" BASIS, WITHOUT WARRANTIES OR \r\nCONDITIONS OF ANY KIND, either express \r\nor implied. See the License for the \r\nspecific language governing permissions \r\nand limitations under the License. \\n'});e._RF.pop()}}}));

System.register("chunks:///_virtual/encode_decode.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e({arrayBufferToHex:function(e){if("object"!=typeof e||null===e||"number"!=typeof e.byteLength)throw new TypeError("Expected input to be an ArrayBuffer");for(var r,t=new Uint8Array(e),n="",o=0;o<t.length;o++)r=t[o].toString(16),n+=1===r.length?"0"+r:r;return n},hexToArrayBuffer:function(e){if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(e.length%2!=0)throw new RangeError("Expected string to be an even number of characters");for(var r=new Uint8Array(e.length/2),t=0;t<e.length;t+=2)r[t/2]=parseInt(e.substring(t,t+2),16);return r.buffer}}),r._RF.push({},"9dd3eQdbqdHMazgcepltRKe","encode_decode",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/encrypt.ts",["cc"],(function(r){"use strict";var o;return{setters:[function(r){o=r.cclegacy}],execute:function(){function e(r){}o._RF.push({},"b8e40dXET9Dwap1LE7yv8/u","encrypt",void 0),e.prototype=new Error,e.prototype.name="InvalidCharacterError";var n=r("Aes",{cipher:function(r,o){for(var e=o.length/4-1,t=[[],[],[],[]],a=0;a<16;a++)t[a%4][Math.floor(a/4)]=r[a];t=n.addRoundKey(t,o,0,4);for(var f=1;f<e;f++)t=n.subBytes(t,4),t=n.shiftRows(t,4),t=n.mixColumns(t,4),t=n.addRoundKey(t,o,f,4);t=n.subBytes(t,4),t=n.shiftRows(t,4),t=n.addRoundKey(t,o,e,4);var c=new Array(16);for(a=0;a<16;a++)c[a]=t[a%4][Math.floor(a/4)];return c},keyExpansion:function(r){for(var o=r.length/4,e=o+6,t=new Array(4*(e+1)),a=new Array(4),f=0;f<o;f++){var c=[r[4*f],r[4*f+1],r[4*f+2],r[4*f+3]];t[f]=c}for(f=o;f<4*(e+1);f++){t[f]=new Array(4);for(var i=0;i<4;i++)a[i]=t[f-1][i];if(f%o==0){a=n.subWord(n.rotWord(a));for(i=0;i<4;i++)a[i]^=n.rCon[f/o][i]}else o>6&&f%o==4&&(a=n.subWord(a));for(i=0;i<4;i++)t[f][i]=t[f-o][i]^a[i]}return t},subBytes:function(r,o){for(var e=0;e<4;e++)for(var t=0;t<o;t++)r[e][t]=n.sBox[r[e][t]];return r},shiftRows:function(r,o){for(var e=new Array(4),n=1;n<4;n++){for(var t=0;t<4;t++)e[t]=r[n][(t+n)%o];for(t=0;t<4;t++)r[n][t]=e[t]}return r},mixColumns:function(r,o){for(var e=0;e<4;e++){for(var n=new Array(4),t=new Array(4),a=0;a<4;a++)n[a]=r[a][e],t[a]=128&r[a][e]?r[a][e]<<1^283:r[a][e]<<1;r[0][e]=t[0]^n[1]^t[1]^n[2]^n[3],r[1][e]=n[0]^t[1]^n[2]^t[2]^n[3],r[2][e]=n[0]^n[1]^t[2]^n[3]^t[3],r[3][e]=n[0]^t[0]^n[1]^n[2]^t[3]}return r},addRoundKey:function(r,o,e,n){for(var t=0;t<4;t++)for(var a=0;a<n;a++)r[t][a]^=o[4*e+a][t];return r},subWord:function(r){for(var o=0;o<4;o++)r[o]=n.sBox[r[o]];return r},rotWord:function(r){for(var o=r[0],e=0;e<3;e++)r[e]=r[e+1];return r[3]=o,r},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ctr:{encrypt:function(r,o,a){if(128!=a&&192!=a&&256!=a)throw new Error("Key size is not 128 / 192 / 256");r=t(r),o=t(o);for(var f=a/8,c=new Array(f),i=0;i<f;i++)c[i]=i<o.length?o.charCodeAt(i):0;var u=n.cipher(c,n.keyExpansion(c));u=u.concat(u.slice(0,f-16));var h=new Array(16),s=(new Date).getTime(),d=s%1e3,v=Math.floor(s/1e3),y=Math.floor(65535*Math.random());for(i=0;i<2;i++)h[i]=d>>>8*i&255;for(i=0;i<2;i++)h[i+2]=y>>>8*i&255;for(i=0;i<4;i++)h[i+4]=v>>>8*i&255;var l="";for(i=0;i<8;i++)l+=String.fromCharCode(h[i]);for(var R=n.keyExpansion(u),w=Math.ceil(r.length/16),A="",C=0;C<w;C++){for(var p=0;p<4;p++)h[15-p]=C>>>8*p&255;for(p=0;p<4;p++)h[15-p-4]=C/4294967296>>>8*p;var g=n.cipher(h,R),x=C<w-1?16:(r.length-1)%16+1,S=new Array(x);for(i=0;i<x;i++)S[i]=g[i]^r.charCodeAt(16*C+i),S[i]=String.fromCharCode(S[i]);A+=S.join("")}return A=function(r){for(var o,n,t=String(r),a=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";t.charAt(0|a)||(f="=",a%1);c+=f.charAt(63&o>>8-a%1*8)){if((n=t.charCodeAt(a+=3/4))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}(l+A)},decrypt:function(r,o,a){if(128!=a&&192!=a&&256!=a)throw new Error("Key size is not 128 / 192 / 256");r=function(r){var o=String(r).replace(/=+$/,"");if(o.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,t,a=0,f=0,c="";t=o.charAt(f++);~t&&(n=a%4?64*n+t:t,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return c}(r),o=t(o);for(var f=a/8,c=new Array(f),i=0;i<f;i++)c[i]=i<o.length?o.charCodeAt(i):0;var u=n.cipher(c,n.keyExpansion(c));u=u.concat(u.slice(0,f-16));var h=new Array(8),s=r.slice(0,8);for(i=0;i<8;i++)h[i]=s.charCodeAt(i);for(var d=n.keyExpansion(u),v=Math.ceil((r.length-8)/16),y=new Array(v),l=0;l<v;l++)y[l]=r.slice(8+16*l,8+16*l+16);r=y;var R="";for(l=0;l<v;l++){for(var w=0;w<4;w++)h[15-w]=l>>>8*w&255;for(w=0;w<4;w++)h[15-w-4]=(l+1)/4294967296-1>>>8*w&255;var A=n.cipher(h,d),C=new Array(r[l].length);for(i=0;i<r[l].length;i++)C[i]=A[i]^r[l].charCodeAt(i),C[i]=String.fromCharCode(C[i]);R+=C.join("")}return R=function(r){try{return decodeURIComponent(escape(r))}catch(o){return r}}(R)}}});function t(r){return unescape(encodeURIComponent(r))}var a=r("Sha256",{hash:function(r){r=r.utf8Encode();for(var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(r+=String.fromCharCode(128)).length/4+2,t=Math.ceil(n/16),f=new Array(t),c=0;c<t;c++){f[c]=new Array(16);for(var i=0;i<16;i++)f[c][i]=r.charCodeAt(64*c+4*i)<<24|r.charCodeAt(64*c+4*i+1)<<16|r.charCodeAt(64*c+4*i+2)<<8|r.charCodeAt(64*c+4*i+3)}f[t-1][14]=8*(r.length-1)/Math.pow(2,32),f[t-1][14]=Math.floor(f[t-1][14]),f[t-1][15]=8*(r.length-1)&4294967295;var u,h,s,d,v,y,l,R,w=new Array(64);for(c=0;c<t;c++){for(var A=0;A<16;A++)w[A]=f[c][A];for(A=16;A<64;A++)w[A]=a.σ1(w[A-2])+w[A-7]+a.σ0(w[A-15])+w[A-16]&4294967295;u=e[0],h=e[1],s=e[2],d=e[3],v=e[4],y=e[5],l=e[6],R=e[7];for(A=0;A<64;A++){var C=R+a.Σ1(v)+a.Ch(v,y,l)+o[A]+w[A],p=a.Σ0(u)+a.Maj(u,h,s);R=l,l=y,y=v,v=d+C&4294967295,d=s,s=h,h=u,u=C+p&4294967295}e[0]=e[0]+u&4294967295,e[1]=e[1]+h&4294967295,e[2]=e[2]+s&4294967295,e[3]=e[3]+d&4294967295,e[4]=e[4]+v&4294967295,e[5]=e[5]+y&4294967295,e[6]=e[6]+l&4294967295,e[7]=e[7]+R&4294967295}return a.toHexStr(e[0])+a.toHexStr(e[1])+a.toHexStr(e[2])+a.toHexStr(e[3])+a.toHexStr(e[4])+a.toHexStr(e[5])+a.toHexStr(e[6])+a.toHexStr(e[7])},ROTR:function(r,o){return o>>>r|o<<32-r},"Σ0":function(r){return a.ROTR(2,r)^a.ROTR(13,r)^a.ROTR(22,r)},"Σ1":function(r){return a.ROTR(6,r)^a.ROTR(11,r)^a.ROTR(25,r)},"σ0":function(r){return a.ROTR(7,r)^a.ROTR(18,r)^r>>>3},"σ1":function(r){return a.ROTR(17,r)^a.ROTR(19,r)^r>>>10},Ch:function(r,o,e){return r&o^~r&e},Maj:function(r,o,e){return r&o^r&e^o&e},toHexStr:function(r){for(var o="",e=7;e>=0;e--)o+=(r>>>4*e&15).toString(16);return o}});o._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EnvironmentTile.ts","./RunningGameManager.ts","./MainMenuDebug.ts","./Pooling.ts","./NetworkManager.ts"],(function(e){"use strict";var n,t,i,r,o,a,l,s,u,c,p,f,h,T,g,b,m,y,d,v,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,i=e.inheritsLoose,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Enum,c=e.Node,p=e.log,f=e.Component},function(e){h=e.TileType,T=e.AreaType,g=e.EnvironmentType,b=e.default},function(e){m=e.EnvironmentTile},function(e){y=e.RunningGameManager},function(e){d=e.MainMenuDebug},function(e){v=e.Pooling},function(e){E=e.NetworkManager}],execute:function(){var P,A,I,w,_,L,R,k,z,C,N,Z,M,S,x,D,O,B,G,V,q,Q,j,F,Y,U,H,J,K,W,X,$,ee,ne,te,ie,re,oe,ae,le,se,ue,ce,pe,fe,he,Te,ge,be,me,ye,de,ve,Ee,Pe,Ae,Ie;l._RF.push({},"ba75c1Txk9JALkYW7KQ1an4","EnvironmentPool",void 0);var we=s.ccclass,_e=s.property,Le=(P=we("TileLoop"),A=_e({type:u(h)}),P((_=n((w=function(){t(this,"type",_,this),t(this,"amount",L,this)}).prototype,"type",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.REPEATABLE_TILE}}),L=n(w.prototype,"amount",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=w))||I),Re=(R=we("PartLoop"),k=_e([Le]),R((N=n((C=function(){t(this,"tiles",N,this)}).prototype,"tiles",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=C))||z),ke=(Z=we("AreaLoop"),M=_e({type:u(T)}),S=_e([Re]),Z((O=n((D=function(){t(this,"type",O,this),t(this,"parts",B,this)}).prototype,"type",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.AREA1}}),B=n(D.prototype,"parts",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=D))||x),ze=(G=we("RunningEnvironment"),V=_e({type:u(g)}),q=_e([ke]),G((F=n((j=function(){t(this,"type",F,this),t(this,"areas",Y,this),t(this,"startTilePosZ",U,this)}).prototype,"type",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.TROPICAL}}),Y=n(j.prototype,"areas",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(j.prototype,"startTilePosZ",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=j))||Q),Ce=(H=we("TileInfo"),J=_e({type:u(T)}),K=_e({type:u(h)}),H(($=n((X=function(){t(this,"area",$,this),t(this,"tile",ee,this),this.name=""}).prototype,"area",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.AREA1}}),ee=n(X.prototype,"tile",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.START_TILE}}),W=X))||W),Ne=(ne=we("QteTilePool"),te=_e(),ie=_e({type:u(T)}),re=_e({type:u(h)}),ne((le=n((ae=function(){t(this,"posZ",le,this),t(this,"area",se,this),t(this,"tile",ue,this)}).prototype,"posZ",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=n(ae.prototype,"area",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.AREA1}}),ue=n(ae.prototype,"tile",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.START_TILE}}),oe=ae))||oe);e("default",(ce=we("EnvironmentPool"),pe=_e([ze]),fe=_e([Ce]),he=_e(c),Te=_e(c),ge=_e(Ne),ce(((Ie=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"tileDisplaySize",ye,r(n)),t(n,"environmentList",de,r(n)),n.currentPhaseId=1,n.prevRepeatableList=[],n.prevEventList=[],t(n,"tileInfos",ve,r(n)),t(n,"runningTiles",Ee,r(n)),t(n,"poolingTiles",Pe,r(n)),t(n,"qteTiles",Ae,r(n)),n.currentEnvironment=null,n.roadZ=0,n._inited=!1,n._loadTileCallback=null,n._initCallback=null,n}i(n,e);var l=n.prototype;return l.unloadElements=function(){for(var e=[].concat(this.node.children),n=e.length-1;n>=0;n--){var t=e[n],i=t.getComponent(m);i&&v.getInstance().putTile(i.area,i.tileType,t)}this.poolingTiles=[],this.tileInfos=[],this.runningTiles=[],p("EnvironmentPool","clear")},l.getNameBy=function(e,n){return"E"+e+"_Type"+n},l.onLoad=function(){n.Instance=this,this.node.removeAllChildren()},l.start=function(){var e=this;this.environmentList.forEach((function(n){n.type!=E.Instance.lobbyInfo.environment||(e.currentEnvironment=n)}))},l.checkTutorialArea=function(e){return y.Instance.isInTutorial?e!=T.AREA1&&(e=T.AREA1):e=d.checkProfileArea(e),e},l.checkTutorialType=function(e){return y.Instance.isInTutorial?e!=h.REPEATABLE_TILE&&e!=h.START_TILE&&(e=h.REPEATABLE_TILE):e=d.checkProfileTileType(e),e},l.loadTiles=function(){var e=this;return new Promise(o(a().mark((function n(t){var i,r,o,l,s,u,c,p,f,g,b,y,E,P,A,I,w,_,L,R,k,z,C;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i=null,r=e.currentEnvironment.areas,o=[],l=0;l<r.length;l++)for(s=r[l],u=0;u<s.parts.length;u++)for(c=s.parts[u],p=0;p<c.tiles.length;p++)for(f=c.tiles[p],g=0;g<f.amount;g++)b=d.checkProfileArea(s.type),y=d.checkProfileTileType(f.type),E=e.getNameBy(b,y),P=Object.assign(new Ce,{area:b,tile:y,name:E}),e.tileInfos.push(P);for(A=T.AREA1;A<=T.AREA3;A++)for(I=h.START_TILE;I<=h.EVENT_TILE;I++)if(w=d.checkProfileArea(A),_=d.checkProfileTileType(I),w==A&&I==_)for(L=v.getInstance().getTileSize(A,I),R=0;R<L;R++)i=e.poolingGet(A,I),k=i.getComponent(m),z=e.getNameBy(A,I),i.name=z,k.area=A,k.tileType=I,o.push(k);C=0,e._loadTileCallback=function(){if(C>=o.length){e.unschedule(e._loadTileCallback),e._loadTileCallback=null;for(var n=0;n<o.length;n++)e.poolingPut(o[n].node);return o=[],void t()}var i=o[C];e.node.addChild(i.node),i.node.setPosition(0,0,0),C++,console.log("tile added",i.area,i.tileType)},e.schedule(e._loadTileCallback);case 8:case"end":return n.stop()}}),n)}))))},l.init=function(){var e=this;return new Promise(o(a().mark((function n(t,i){var r,l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.roadZ=e.currentEnvironment.startTilePosZ,r=y.Instance.playerPivot.worldPosition.z/b.ENVIRONMENT_SCALE_MULTIPLE_Z,l=!1,e._initCallback=o(a().mark((function n(){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r-b.ENVIRONMENT_LOAD_RANGE*d.getDeviceProfile().ViewScale<e.roadZ+b.PLAYER_POS_Z)){n.next=9;break}if(0!=l){n.next=7;break}return i=e.tileInfos.shift(),l=!0,n.next=6,e.addTile(i);case 6:l=!1;case 7:n.next=13;break;case 9:return e.unschedule(e._initCallback),e._initCallback=null,t(),n.abrupt("return");case 13:case"end":return n.stop()}}),n)}))),e.schedule(e._initCallback);case 5:case"end":return n.stop()}}),n)}))))},l.addTileQTE=function(e){var n=this.poolingGet(e.area,e.tile);if(n){var t=n.getComponent(m);t.environment=this.currentEnvironment.type,t.area=e.area,t.tileType=e.tile,n.setParent(this.node),t.show();var i=n.getPosition();i.z=e.posZ,n.setPosition(i),n.active=!0,this.runningTiles.push(n)}},l.addTile=function(e){var n=this.poolingGet(e.area,e.tile);if(n){var t=n.getComponent(m);t.environment=this.currentEnvironment.type,t.area=e.area,t.tileType=e.tile,n.parent||this.node.addChild(n),t.show();var i=t.size,r=n.getPosition();r.z=this.roadZ-i,n.setPosition(r),n.active=!0,n.name=e.name,this.runningTiles.push(n),this.roadZ=r.z}},l.update=function(e){if(!y.IsPause&&y.Instance.playerPivot.worldPosition.z/b.ENVIRONMENT_SCALE_MULTIPLE_Z-b.ENVIRONMENT_LOAD_RANGE*d.getDeviceProfile().ViewScale<this.roadZ+b.PLAYER_POS_Z){var n=this.tileInfos.shift();this.addTile(n)}},l.resetFromQTE=function(){var e=this;this.qteTiles.forEach((function(n){e.addTileQTE(n)})),this.qteTiles.length=0},l.poolingGet=function(e,n,t){void 0===t&&(t=!1),e=d.checkProfileArea(e),n=d.checkProfileTileType(n);var i=this.poolingTiles.findIndex((function(t){var i=t.getComponent(m);return i.area==e&&i.tileType==n})),r=null;if(-1!=i)r=this.poolingTiles[i],this.poolingTiles.splice(i,1);else if(-1!=(i=this.runningTiles.findIndex((function(t){var i=t.getComponent(m);return i.area==e&&i.tileType==n})))&&t){r=this.runningTiles[i],this.runningTiles.splice(i,1);var o=new Ne;o.posZ=r.position.z,o.area=e,o.tile=n,this.qteTiles.push(o)}else{var a=(r=v.getInstance().getTile(e,n)).getComponent(m),l=this.getNameBy(e,n);r.name=l,a.area=e,a.tileType=n}return r},l.poolingPut=function(e){var n=this.runningTiles.indexOf(e),t=e.getComponent(m);if(t){t.hide();var i=this.getNameBy(t.area,t.tileType),r=Object.assign(new Ce,{area:t.area,tile:t.tileType,name:i});this.tileInfos.push(r)}this.runningTiles.splice(n,1),this.poolingTiles.push(e),e.setParent(this.node)},l.onDestroy=function(){},n}(f)).Instance=null,Ie.CurrentArea=T.AREA1,Ie.CurrentTile=h.START_TILE,ye=n((me=Ie).prototype,"tileDisplaySize",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),de=n(me.prototype,"environmentList",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=n(me.prototype,"tileInfos",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=n(me.prototype,"runningTiles",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=n(me.prototype,"poolingTiles",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=n(me.prototype,"qteTiles",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=me))||be));l._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./RunningGameManager.ts","./SoundManager.ts","./UserDataManager.ts","./EnvironmentPool.ts"],(function(e){"use strict";var n,t,a,i,s,c,r,o,A,h,m,l,u,I,p,v,d,_,b,f,E,T,g,y,N,R,P;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass,c=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,A=e._decorator,h=e.Node,m=e.log,l=e.Component},function(e){u=e.default,I=e.AreaType,p=e.EventName,v=e.LIGHT_TYPE,d=e.TileType,_=e.GameActions,b=e.EnvironmentType,f=e.AudioSrc,E=e.AchievementId},function(e){T=e.default,g=e.MyEvent},function(e){y=e.RunningGameManager},function(e){N=e.SoundManager},function(e){R=e.UserDataManager},function(e){P=e.default}],execute:function(){var M,w,k,C,S,G,z,L,D,H,O,B,V,U;o._RF.push({},"6c1a66kMUdIarofKhnjWqDM","EnvironmentTile",void 0);var F=A.ccclass,Z=A.property;e("EnvironmentTile",(M=F("EnvironmentTile"),w=Z(h),k=Z(h),C=Z(h),S=Z(h),G=Z(h),M((D=n((L=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return n=e.call.apply(e,[this].concat(s))||this,a(n,"size",D,i(n)),a(n,"firstHideNodes",H,i(n)),a(n,"firstShowNodes",O,i(n)),a(n,"secondHideNodes",B,i(n)),a(n,"secondShowNodes",V,i(n)),a(n,"container",U,i(n)),n.firstShown=!1,n.environment=void 0,n.area=void 0,n.tileType=void 0,n.m_nearestZ=0,n.m_furthestZ=0,n.hasReachPlayer=!1,n._tweenShow=null,n}t(n,e);var o=n.prototype;return o.onLoad=function(){},o.show=function(){var e=c(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.container.active=!0,this.hasReachPlayer=!1,n=this.container.getPosition(),this.container.setPosition(n.x,0,n.z);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.hide=function(){this.container.active=!1},o.update=function(e){if(!y.IsPause&&this.isShow){var n=y.Instance.playerPivot.worldPosition.z/u.ENVIRONMENT_SCALE_MULTIPLE_Z;if(!this.hasReachPlayer&&n<this.node.position.z+this.size){if(!y.Instance.isInTutorial){switch(P.CurrentArea=this.area,P.CurrentTile=this.tileType,this.area){case I.AREA1:y.Instance.isInArea1=!0,y.Instance.A1_distance=y.distance*u.SCORE_FACTOR,y.Instance.isMidArea1=!1,T.GetInstance().dispatchEvent(new g(p.CHANGE_LIGHT,{type:v.MORNING})),m("light change MORNING");break;case I.AREA2:y.Instance.isInArea1=!1,y.Instance.A1_distance=0,y.Instance.isMidArea1=!1,T.GetInstance().dispatchEvent(new g(p.CHANGE_LIGHT,{type:v.AFTERNOON})),this.tileType==d.START_TILE&&y.Instance.sendAction({action:_.IncreasePackbackSize});break;case I.AREA3:y.Instance.isInArea1=!1,y.Instance.A1_distance=0,y.Instance.isMidArea1=!1,T.GetInstance().dispatchEvent(new g(p.CHANGE_LIGHT,{type:v.NIGHT})),this.tileType==d.START_TILE&&y.Instance.sendAction({action:_.IncreasePackbackSize}),m("light change NIGHT")}var t;if(this.tileType==d.START_TILE)if(this.environment==b.TROPICAL)switch(this.area){case I.AREA1:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV1_1),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_beach_1)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData());break;case I.AREA2:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV1_2),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_beach_2)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData()),m("light change AFTERNOON");break;case I.AREA3:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV1_3),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_beach_3)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData())}else if(this.environment==b.URBAN)switch(this.area){case I.AREA1:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV2_1),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_city_1)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData());break;case I.AREA2:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV2_2),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_city_2)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData());break;case I.AREA3:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV2_3),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_city_3)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData())}else if(this.environment==b.SNOW)switch(this.area){case I.AREA1:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV3_1),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_mountain_1)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData());break;case I.AREA2:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV3_2),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_mountain_2)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData());break;case I.AREA3:N.Instance.stopAmbient(),N.Instance.loadAmbientTrack(f.AMB_ENV3_3),N.Instance.playAmbient(!0),(t=R.Instance.getAchievement(E.achievement_mountain_3)).isCompleted||(t.counter++,R.Instance.updateAchievementProgress(t),R.Instance.saveAchievementData())}}this.hasReachPlayer=!0}this.hasReachPlayer&&n+u.ENVIRONMENT_TILE_PUT_RANGE<this.node.position.z+u.PLAYER_POS_Z&&P.Instance.poolingPut(this.node)}},s(n,[{key:"isShow",get:function(){return this.container.active}}]),n}(l)).prototype,"size",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=n(L.prototype,"firstHideNodes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(L.prototype,"firstShowNodes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(L.prototype,"secondHideNodes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(L.prototype,"secondShowNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(L.prototype,"container",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=L))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./OnlineMgr.ts","./SoundManager.ts","./PersistPopup.ts"],(function(t){"use strict";var n,o,e,r,i,l,a,u,s,c,b,p,h,d,f,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Label,u=t.Button,s=t.Component},function(t){c=t.language},function(t){b=t.POPUP_INDEX,p=t.AudioSrc},function(t){h=t.LOGIN_ERRORS,d=t.Login_Error_Type},function(t){f=t.SoundManager},function(t){_=t.PersistPopup}],execute:function(){var C,v,I,E,g,P,O,y,N,k;i._RF.push({},"52d51JmtwRA0IRdUlt7wJuM","ErrorPopup",void 0);var w=l.ccclass,R=l.property;t("ErrorPopup",(C=w("ErrorPopup"),v=R(a),I=R(u),E=R(u),C(((k=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i))||this,e(n,"labelError",O,r(n)),e(n,"buttonOK",y,r(n)),e(n,"buttonNo",N,r(n)),n._buttonYesCallback=null,n._buttonNoCallback=null,n}o(n,t);var i=n.prototype;return i.onLoad=function(){n.Instance=this,n.HideCallback=this.hide.bind(this),this.node.active=!1},i.show=function(t,n,o,e,r){void 0===n&&(n=!0),void 0===o&&(o=null),void 0===e&&(e=!1),void 0===r&&(r=null),_.Instance.node.setSiblingIndex(b.PERSIST_POPUP),this._buttonYesCallback=o,this._buttonNoCallback=r,this.labelError.string=t,this.buttonOK.node.active=n,this.buttonNo.node.active=e,this.node.active=!0},i.hide=function(){this._buttonYesCallback=null,this.node.active=!1},i.onButtonClicked=function(){this._buttonYesCallback&&(f.Instance.playOneShot(p.UI_CLICK),this._buttonYesCallback())},i.onButtonNoClicked=function(){this._buttonNoCallback&&(f.Instance.playOneShot(p.UI_CLICK),this._buttonNoCallback())},i.processError=function(t){var n=this;return new Promise((function(o){if(t){var e=h[t.error].localizeID?c.t(h[t.error].localizeID):h[t.error].defaultText;if(t.error==d.UserBannedError){var r=t.expiration-Date.now(),i=new Date(r),l=i.getMonth()+" months "+i.getDate()+" days "+i.getHours()+" hours left";n.show(e.replace("{time}",l),!0,(function(){n.hide(),o(!0)}))}else t.error==d.ACCOUNT_LOGGED_IN_ON_ANOTHER_DEVICE_ERROR||t.error==d.UNAUTHORIZED?n.show(e,!0,(function(){n.hide(),o(!0)})):n.show(e,!0,(function(){n.hide(),o(!1)}))}else o(!1)}))},n}(s)).Instance=null,k.HideCallback=void 0,O=n((P=k).prototype,"labelError",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(P.prototype,"buttonOK",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(P.prototype,"buttonNo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,r,a;return{setters:[function(t){n=t.inheritsLoose,e=t.wrapNativeSuper},function(t){r=t.cclegacy,a=t._decorator}],execute:function(){var c;r._RF.push({},"0f9914WZBNICrTaaUC3BkuA","EventManager",void 0);var s=a.ccclass,i=(a.property,t("MyEvent",s("EventManager")(c=function(t){function e(n,e){var r;return(r=t.call(this,n)||this).parameters=null,r.parameters=e,r}return n(e,t),e}(e(Event)))||c),function(t){function e(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).instance=null,n}return n(e,t),e.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}(e(EventTarget)));t("default",new i);r._RF.pop()}}}));

System.register("chunks:///_virtual/ExportLevelDesign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameResourceManager.ts","./Pooling.ts","./Obstacle.ts","./Segment.ts","./SessionData.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,c,u,l,p,f,h,b,g,m,d,y,v,D,x,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,l=e.Label,p=e.input,f=e.Input,h=e.Component,b=e.KeyCode,g=e.instantiate},function(e){m=e.EnvironmentType,d=e.POOL_OBJECT_TYPE},function(e){y=e.GameResourceManager},function(e){v=e.Pooling},function(e){D=e.Obstacle},function(e){x=e.Segment},function(e){C=e.SessionData}],execute:function(){var S,T,w,O,I,k,L,P,_,E,N;s._RF.push({},"1f993DfCRhHLJPad8yOkh2+","ExportLevelDesign",void 0);var R=c.ccclass,j=c.property;e("ExportLevelDesign",(S=R("ExportLevelDesign"),T=j(u),w=j(u),O=j(String),I=j(l),S((P=t((L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"container",P,a(t)),r(t,"objectContainer",_,a(t)),r(t,"sessionName",E,a(t)),r(t,"labelStatus",N,a(t)),t.session=void 0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){p.on(f.EventType.KEY_DOWN,this.onKeyDown,this),p.on(f.EventType.TOUCH_START,this.onTouchStart,this)},s.start=function(){},s.onTouchStart=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.onKeyDown=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.keyCode,e.next=e.t0===b.DIGIT_1?3:e.t0===b.DIGIT_2?10:e.t0===b.DIGIT_3?13:14;break;case 3:return e.next=5,v.getInstance().initObstacles(m.TROPICAL);case 5:return e.next=7,v.getInstance().initAnimation(m.TROPICAL);case 7:return e.next=9,this.loadObjects();case 9:return e.abrupt("break",14);case 10:return e.next=12,this.loadSessionDataByName(this.sessionName);case 12:case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.loadObjects=function(){var e=i(o().mark((function e(){var t,n,r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.NONE;case 1:if(!(t<d.COUNT)){e.next=16;break}n=v.getInstance().getObjectSize(t),r=0;case 4:if(!(r<n)){e.next=13;break}return e.next=7,v.getInstance().getObject(t);case 7:a=e.sent,(i=g(a))&&(this.objectContainer.addChild(i),i.setPosition(0,0,0),i.setScale(1,1,1),i&&(s=i.getComponent(D))&&s.loadAnim());case 10:r++,e.next=4;break;case 13:t++,e.next=1;break;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.loadSessionDataByName=function(){var e=i(o().mark((function e(t){var n,r,a,i,s,c,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=Date.now(),e.next=4,y.Instance.loadSession(t);case 4:if(n=e.sent)for(this.session=g(n).getComponent(C),a=0;a<this.session.size;a++)for(i=this.session.getPartData(a),s=i.m_SegmentList,c=0;c<s.length;c++)u=s[c],l=g(u.m_Prefab),l.getComponent(x).segmentID=c,this.container.addChild(l),l.active=!0,l.setPosition(0,0,0);p=(Date.now()-r)/1e3,this.labelStatus.string="loaded "+p+" s";case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(h)).prototype,"container",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"objectContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(L.prototype,"sessionName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=t(L.prototype,"labelStatus",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=L))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/flash.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,c=e.Component}],execute:function(){var s;n._RF.push({},"6cb2bCUebpBfKggbh8qWfGL","flash",void 0);var o=r.ccclass,u=(r.property,r.executeInEditMode);e("default",o("Flash")(s=u(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(c))||s)||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/FontLocalize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./GameResourceManager.ts"],(function(e){"use strict";var t,n,a,i,l,r,o,s,c,u,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Label,s=e.RichText,c=e.log,u=e.Component},function(e){h=e.language},function(e){b=e.GameResourceManager}],execute:function(){var p,d,f;l._RF.push({},"54db7FBv4VKAbNJbhq2kuhO","FontLocalize",void 0);var g=r.ccclass,v=r.property;e("FontLocalize",g("FontLocalize")((f=t((d=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).label=null,t.richText=null,a(t,"ignoreArabCheck",f,i(t)),t._labelCallback=null,t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.label=this.getComponent(o),this.richText=this.getComponent(s),this._labelCallback=this.updateLabel.bind(this),h.addListener(this._labelCallback)},l.start=function(){this.updateLabel()},l.onDestroy=function(){h.removeListener(this._labelCallback),this._labelCallback=null},l.updateLabel=function(){var e,t,n,a,i=null==(e=b.Instance)?void 0:e.paytoneOneFont;switch(h.language){case"ar":i=null==(t=b.Instance)?void 0:t.arabFont;break;case"ru":i=null==(n=b.Instance)?void 0:n.ruFont;break;default:i=null==(a=b.Instance)?void 0:a.paytoneOneFont}if(i){if(this.label&&(this.label.font=i,"ar"==h.language&&!this.ignoreArabCheck)){var l=this.label.string;l.endsWith("...")?(l=l.slice(0,-3),c(l="..."+l)):l.endsWith(".")?(l=l.slice(0,-1),c(l="."+l)):l.endsWith("!")&&(l=l.slice(0,-1),c(l="!"+l)),this.label.string=l}this.richText&&(this.richText.font=i)}},t}(u)).prototype,"ignoreArabCheck",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=d))||p);l._RF.pop()}}}));

System.register("chunks:///_virtual/fr.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"124201Cb/5MeIZGeZHaOW5e","fr",void 0);e("fr",{str_logo:"LE VOYAGE DE MILKY ET SCHOKI",str_mm_start:"JOUER",str_mm_daily_reward:"Récompenses quotidiennes",str_mm_achievements:"Succès",str_mm_qr_code:"Scan QR",str_mm_daily_mission:"Missions quotidiennes",str_mm_store:"Boutique",str_mm_leaderboard:"Classement",str_mm_settings:"Paramètres",str_dr_day:"Jour {day}",str_claim_btn:"RÉCUP.",str_dr_claimed:"Récupéré",str_mission_refresh:"Actualisation dans",str_go_button:"C'EST PARTI",str_accept:"ACCEPTER",str_submit:"ENVOYER",str_continue:"CONTINUER",str_confirm:"CONFIRMER",str_revive:"RÉANIMER",str_collect:"RÉCUPÉRER",str_store_powerups:"POWER-UPS",str_store_boosters:"BOOSTS",str_store_accessories:"ACCESSOIRES",str_store_chacter:"Choisir un personnage :",str_store_head:"Tête",str_store_tops:"Hauts",str_store_bottoms:"Bas",str_store_max:"Niveau max",str_store_insufficient:"Tu n'as pas assez de pièces",str_store_full:"Tu ne peux pas transporter plus de ce boost.",str_store_duration:"Durée : %{duration} s",str_parental_consent:"Pour jouer à ce jeu, vous devez lire et accepter ce qui suit et confirmer que vous avez l'âge minimum requis dans votre pays de résidence :",str_store_equip:"Équiper",str_store_unequip:"Déséquiper",str_store_equipped:"Équipé",str_mm_selected:"Sélectionné",str_mm_ready:"Prêt",str_mm_run:"Courir",str_qte_time_up:"Temps écoulé !",str_qte_go:"C'est parti",str_qte_success:"Réussi",str_qte_tap:"Toucher",str_qte_swipe:"Balayer",str_mm_public_name:"Jouer en ligne",str_mm_public_descr:"Joue avec des amis dans le monde entier",str_mm_private_name:"Jouer avec un ami",str_mm_private_descr:"Joue avec ton ami",str_mm_invite_name:"INVITER",str_mm_invite_invitation:"Voyageons ensemble dans Le voyage de Milky et Schoki ! Rejoins-moi ici : {code}",str_mm_join_name:"REJOINDRE",str_mm_join_descr:"Saisis le code du salon de ton ami :",str_mm_join_wrong:"Ce code est invalide !",str_mm_join_conflict:"L'hôte a choisi {character name}. Veux-tu continuer en tant que {other character name} ?",str_mm_join_return:"Impossible de rejoindre ce salon à cause d'un personnage en double.",str_qr_code_get:"Tu as reçu :",str_qr_code_scanmore:"Scanne un autre code QR pour recevoir :",str_qr_code_out:"Tu as atteint ta limite quotidienne. Réessaie demain.",str_ap_unlocked:"DÉBLOQUÉ",str_settings_music:"Musique",str_settings_sfx:"Sons",str_settings_languages:"Langues",str_settings_login:"Se connecter",str_settings_method:"Choisis ton mode de connexion :",str_settings_guest:"Invité",str_settings_term:"Conditions d'utilisation",str_settings_privacy:"Confidentialité",str_settings_credits:"Crédits",str_map_tropical:"ÎLE TROPICALE",str_map_urban:"VILLE URBAINE",str_map_snow:"MONTAGNE ENNEIGÉE",str_congrats:"FÉLICITATIONS !",str_select_name:"CRÉE TON PSEUDO",str_select_name_desc:"Les autres joueurs verront ton pseudo lors du jeu en ligne.",str_select_name_error1:"Ton pseudo ne peut contenir que des lettres (Aa-Zz), des chiffres (0-9), des points (.) et des tirets bas (_).",str_select_name_error2:"Ton pseudo contient des mots qui ne sont pas autorisés.",str_language_en:"English",str_language_fr:"Français",str_language_de:"Deutsch",str_language_ru:"Русский",str_language_ab:"عربي",str_connection_timeout:"La demande a expiré. Merci de vérifier ta connexion et de réessayer.",str_connection_lost:"Impossible de se connecter au serveur. Merci de vérifier ta connexion et de réessayer.",str_ok:"OK",str_cancel:"Annuler",str_login_conflict_title:"Conflit de sauvegarde du cloud",str_login_conflict_descr:"L'enregistrement dans le cloud ne correspond pas aux données enregistrées sur ton appareil.",str_login_conflict_env:"Destination débloquée : {}",str_login_conflict_highscore:"Meilleur score : {}",str_login_conflict_accessories:"Accessoires débloqués : {}",str_login_conflict_coins:"Pièces : {}",str_login_conflict_cloud:"Sauvegarde du cloud",str_login_conflict_cloudreplace:"La sauvegarde du cloud remplacera les données locales",str_login_conflict_local:"Données locales",str_login_conflict_localreplace:"Les données locales remplaceront la sauvegarde du cloud",str_login_conflict_usecloud:"Utiliser",str_login_conflict_uselocal:"Utiliser la sauvegarde locale",str_transfer_confirm:"Tes données locales seront remplacées par les nouvelles données reçues. Veux-tu continuer ?",str_transfer_success:"Ton profil a bien été transféré.",str_transfer_fail:"Oups, il y a eu un problème. Réessaie plus tard.",str_contact_us:"Nous contacter",str_contact_desc:"Si tu rencontres un problème pendant le jeu, contacte-nous :",str_faq:"FAQ",str_ban_title:"Attention",str_ban_descr:"Ton compte a été banni. Le bannissement sera levé le {time}.",str_loading:"Chargement...",str_waiting:"En attente de ton partenaire...",str_mm_matching:"Recherche de joueur...",str_mm_matchfound:"Joueur trouvé",str_mm_joining:"Rejoins la partie...",str_mm_gamejoining:"{name} rejoint la partie...",str_mm_send:"Envoyer code",str_mm_booster:"Choisir boost",str_private_friendcode:"Le code de ton ami",str_private_roomcode:"Le code de ton salon",str_private_host:"Héberger",str_private_join:"Rejoindre",str_settings_account:"Compte",str_mm_mapunlock:"Atteindre {distance} pour débloquer {environment name}",str_qr_instruction:"Pointe la caméra vers le code QR pour scanner",str_qr_or:"ou",str_qr_and:"et",str_qr_coin:"{number} pièces",str_qr_booster:"Un boost",str_qr_outfit:"Une tenue",str_qr_reward:"Récompense",str_select_name_rule:"Ton pseudo ne peut contenir que :\r\n    - Des lettres (Aa-Zz) \r\n    - Des chiffres (0-9) (pas plus de 7 chiffres)\r\n    - Des points (.)\r\n    - Des tirets bas (_)\r\n    - Longueur : de 4 à 12 caractères",str_select_name_error3:"Ton pseudo a plus de 7 chiffres.",str_select_name_error4:"Ton pseudo doit avoir entre 4 et 12 caractères.",str_select_name_error5:"Ton pseudo est trop long.",str_select_name_count:"Nombre de lettres : {number}",str_settings_offf:"Non",str_settings_on:"Oui",str_settings_logout:"Se déconnecter",str_qr_pc:"Merci d'autoriser l'accès à la caméra dans ton navigateur pour continuer.",str_loading_add:"Chargement des données supplémentaires…",str_endscreen:"Ta distance",str_QTE_start:"Commencez",str_QTE_perfect:"Parfait",str_QTE_miss:"Manqué",str_selfie_sticker:"Autocollant",str_settings_logout_warning:"Si tu te déconnectes, tu perdras ta progression.",str_login_guest:"Ou tu peux te connecter en tant que :",str_new_env_popup1:"Nouvelle destination !",str_new_env_popup2:"Nouveau boost !",str_new_env_popup3:"Nouvel item de réanimation !",str_private_create:"CRÉER",str_private_creating:"Création du salon…",str_private_taking_off:"Décollage…",str_mm_map:"Destination",str_shop_qr:"Débloque avec un code QR",str_shop_daily:"Débloque dans les récompenses quotidiennes",str_shop_free:"Gratuit",str_ap_you:"Toi",str_booster_none:"Tu n'as débloqué aucun booster.",str_share_caption:"Rejoins-nous\\n et bats le record !",str_exit_pop_up:"Quitter ?",str_friend_quit:"Ton ami est parti",str_friend_replay:"Ton ami veut rejouer.",str_selfie_download:"Touche et maintiens pour télécharger l'image",str_account_another_device:"Le compte est connecté sur un autre appareil.",str_shop_confirm:"Acheter cet item ?",str_disconnection:"Vérifie ta connexion et réessaie.",str_booster_not_select:"Aucun boost sélectionné",str_login_facebook:"Facebook",str_login_google:"Google",str_QR_open:"Touche pour ouvrir",str_new_env_popup4:"Nouveaux power-ups !",str_new_env_popup5:"Nouveau power-up !",str_qr_mobile_only:"Cette fonctionnalité est disponible uniquement sur smartphone.",str_homescreen_ios:"Touche simplement {icon} puis \"Ajouter à l'écran d'accueil\".",str_homescreen_title:"Tu t'amuses ?",str_homescreen_des:"Ajouter ce jeu à ton écran d'accueil pour un accès rapide ?",str_homescreen_add:"Ajouter",str_qr_milky:"Pour Milky",str_qr_schoki:"Pour Schoki",str_landscape:"Le mini-jeu ne prend en charge que le mode Paysage.",str_daily_mission_finished:"Félicitations ! Tu as terminé toutes les missions quotidiennes du jour.\\nReviens demain pour en avoir d'autres.",str_qr_milky_schoki:"Pour Milky et Schoki",tutorials_AP_1:"Salut !",tutorials_AP_2:"On t'attendait ! Je suis Schoki et je serai ton guide aujourd'hui.",tutorials_AP_3:"Un long et passionnant voyage\\n t'attend.",tutorials_AP_4:"Toi et ton partenaire allez explorer le monde ensemble !",tutorials_AP_5:"Je sais que tu as hâte ! Mais avant tout, tu dois apprendre à te déplacer.",tutorials_AP_6:"Tu ne peux pas sauter avec le sac à dos.",tutorials_AP_7:"Balaie en direction de ton partenaire.",tutorials_AP_8:"Balaie vers le haut.",tutorials_AP_9:"Ton partenaire contrôlera le deuxième personnage.",tutorials_AP_10:"Tu as besoin du sac à dos pour glisser.",tutorials_AP_11:"Ton partenaire t'a passé le sac à dos.",tutorials_AP_12:"Balaie vers le bas.",tutorials_AP_13:"Ton partenaire a besoin du sac à dos pour glisser.",tutorials_AP_14:"Balaie encore une fois.",tutorials_AP_15:"Balaie vers le bas en sautant.",tutorials_AP_16:"Tu as récupéré un item de réanimation. Tu peux en porter un maximum de 3.",tutorials_AP_17:"Oh non, tu as été touché. Ne baisse pas les bras !",tutorials_AP_18:"Utilise cet item que tu viens de récupérer pour avoir une deuxième chance !",tutorials_AP_20:"Bravo ! Ton énergie a été rechargée !",tutorials_dr_1:"Oh ! Ta récompense quotidienne est toujours là. Pense à la récupérer !",tutorials_dr_2:"On a reçu des pièces ! Achetons quelque chose de nouveau à porter !",tutorials_store_1:"Allons faire les boutiques ! C'est moi qui paie !",tutorials_store_2:"Ça te va super bien ! Touche l'icône pour acheter.",tutorials_store_3:"Touche pour le mettre maintenant.",tutorials_lobby_1:"Tu peux choisir entre 2 personnages.",tutorials_lobby_2:"Choisis Jouer en ligne pour courir avec des amis autour du monde.",tutorials_lobby_3:"Ton partenaire est prêt. Touche l'icône Commencer pour commencer le voyage !",tutorials_mission_1:"Impressionnant ! Tu as terminé ta mission quotidienne ! Récupère ta récompense.",tutorials_mission_2:"Continue et termine plus de missions quotidiennes.",tutorials_mission_3:"Mon aide s'arrête là. À partir de maintenant, c'est à toi d'écrire ta propre histoire.",tutorials_mission_4:"Au revoir et à bientôt !",tutorials_qte_1:"Touche quand le volant brille.",tutorials_qte_2:"<color=#412A46>Touche le volant <color=#02A9E7>${target} fois</color> pour être réanimé !</color>",tutorials_qte_3:"<color=#02A9E7>Les deux joueurs</color> <color=#412A46> doivent toucher la même note lorsque celle-ci est dans le cercle.</color>",tutorials_qte_4:"<color=#412A46>Touche les notes <color=#02A9E7>${target} fois</color> pour être réanimé !</color>",tutorials_qte_5:"Balaie pour passer le chapeau à ton partenaire.",tutorials_qte_6:"<color=#412A46>Attrape <color=#02A9E7>${target} items</color> pour revenir !</color>",tutorials_qte_7:"Remplis la jauge avec chaque prise réussie pour continuer le voyage !",tutorials_quick_1:"Balaie vers le haut pour sauter lorsque tu ne portes pas le sac à dos.",tutorials_quick_2:"Balaie 2 fois vers le haut pour effectuer un double saut lorsque tu ne portes pas le sac à dos.",tutorials_quick_3:"Balaie vers le bas en sautant pour atterrir plus rapidement.",tutorials_quick_4:"Balaie vers le bas pour glisser lorsque tu portes le sac à dos.",tutorials_quick_5:"Balaie vers ton partenaire pour lui passer le sac à dos.",tutorials_quick_6:"Balaie vers toi pour demander le sac à dos.",tutorials_store_4:"Ici, tu peux améliorer ton power-up.",tutorials_store_5:"Voyons ce que tu peux faire dans la boutique !",tutorials_store_6:"Ici, tu peux acheter des boosts qui te seront utiles au début de ton voyage.",tutorials_store_7:"Touche pour voir les détails",tutorials_store_8:"Touche à nouveau pour cacher les détails",tutorials_store_9:"Achetons ça ! Touche pour acheter.",tutorials_store_10:"Touche pour sélectionner le personnage pour lequel tu veux acheter des accessoires.",tutorials_store_11:"Touche l'item pour l'examiner.",tutorials_store_12:"Équipons-nous du boost que nous venons d'acheter.",tutorials_private_1:"Touche Créer pour héberger ton salon.",tutorials_private_2:"Montre le code du salon à ton ami.",tutorials_private_3:"Ou touche Inviter pour lui envoyer un lien vers ce salon.",tutorials_private_4:"Pour rejoindre le salon, tu peux saisir le code ici.",tutorials_private_5:"Puis, touche Rejoindre.",tutorials_private_6:"Ou tu peux toucher le lien que l'hôte t'a envoyé.",tutorials_swipe_1:"Balaie pour explorer l'aéroport !",tutorials_map_1:"Bravo ! Tu as débloqué une nouvelle destination !",tutorials_map_2:"Touche la flèche pour changer de destination.",tutorials_selfie_1:"Tu peux prendre un selfie avec Milky ou Schoki ici.",tutorials_booster_1:"Touche le boost que tu veux sélectionner.",tutorials_booster_2:"Touche OK pour confirmer ton choix.",tutorials_ap_1:"Félicitations ! Tu as fini le tutoriel de base.",tutorials_ap_2:"Continue à explorer le jeu pour débloquer plus de fonctionnalités.",fact_0:"Tu peux récupérer des items dans la voie du milieu en lançant le sac à dos au bon moment.",fact_1:"Tu peux demander le sac à dos en balayant dans la direction de ton personnage.",fact_2:"Essaie de sélectionner le même boost que ton partenaire pour gagner une surprise.",fact_3:"Les missions quotidiennes sont actualisées tous les jours. Assure-toi de les terminer avant qu'elles n'expirent !",fact_4:"Scanne un nouveau code QR pour obtenir une récompense spéciale.",fact_5:"Tu ne peux avoir que 9 boosts du même type. Trop accumuler n'est pas bon pour la santé.",fact_6:"Ton sac ne peut contenir que 3 items de réanimation. Mieux vaut voyager léger !",fact_7:"Améliore les power-ups dans la boutique pour qu'ils durent plus longtemps pendant la course. C'est un bon investissement !",fact_8:"Tu peux acheter des boosts dans la boutique. Ils te seront d'une aide précieuse pendant une course.",fact_9:"Le power-up Bouclier te protégera d'un obstacle si jamais tu glisses.",fact_10:"Le power-up Aimant te permettra de récupérer toutes les pièces et objets à ramasser sur ton chemin. Partager, c'est prendre soin de soi après tout.",fact_11:"Qu'y a-t-il de mieux qu'une pièce ? Deux pièces. Le power-up Dupliqueur de pièces permet de doubler toutes les pièces.",fact_12:"Tu veux te frayer un chemin ? Le power-up Tamponneuse convertira tous les obstacles en pièces.",fact_13:"Le power-up Méga saut vous permettra d'avancer à toute vitesse. Quelle chance !",fact_14:"C'est juste un petit conseil.",fact_15:"Ton ami et toi ne pouvez pas choisir le même personnage quand vous rejoignez un salon.",fact_16:"Les accessoires te donnent un look plus cool. Tu peux les acheter et t'en équiper dans la boutique.",fact_17:"Un nouvel environnement sera débloqué lorsque tu auras couru une certaine distance.",fact_18:"Il suffit de jouer au jeu pour débloquer des succès.",fact_19:"Garde un oeil sur l'oiseau. S'il s'envole, glisse. S'il atterrit, saute.",fact_20:"Plus d'obstacles, de power-ups et d'items de réanimation seront débloqués dans les environnements suivants.",fact_21:"Plus tu scannes de codes QR en un jour, plus tu reçois de récompenses.",fact_22:"Le boost sera consommé une fois utilisé.","fact-tip":"Astuce :",powerup_shield_name:"Bouclier",powerup_shield_desc:"Protège le joueur contre un obstacle.",powerup_magnet_name:"Aimant",powerup_magnet_desc:"Récupère automatiquement les pièces et les objets à ramasser.",powerup_stamper_name:"Tamponneuse",powerup_stampler_descr:"Transforme tous les obstacles en une grappe de pièces !",powerup_coinduper_name:"Dupliqueur de pièces",powerup_coinduper_descr:"Double toutes les pièces.",powerup_megahop_name:"Méga saut",powerup_megahop_descr:"Pousse les deux joueurs vers l'avant hyper rapidement.",booster_headstart1_name:"Départ hyper rapide",booster_headstart1_descr:"Fait avancer les deux personnages en hyper-vitesse de %{number} m au début de la course.",booster_headstart2_name:"Gros départ hyper rapide",booster_headstart2_descr:"Fait avancer les deux personnages en hyper-vitesse de %{number} m au début de la course.",booster_headstart3_name:"Méga départ hyper rapide",booster_headstart3_descr:"Fait avancer les deux personnages en hyper-vitesse de %{number} m au début de la course.",booster_coinboost1_name:"+{number}% de pièces",booster_coinboost1_descr:"Obtiens {number}% de pièces en plus à la fin de la course.",booster_coinboost2_name:"+100% de pièces",booster_coinboost2_descr:"Permet d'obtenir 100% de pièces en plus à la fin de la course.",booster_coinboost3_name:"+150% de pièces",booster_coinboost3_descr:"Permet d'obtenir 150% de pièces en plus à la fin de la course.",booster_qte1_name:"Beau joueur",booster_qte1_descr:"Commence la course avec {number} item de réanimation aléatoire.",booster_qte2_name:"Esprit sportif",booster_qte2_descr:"Commence la course avec {number} items de réanimation.",booster_revival_name:"Deuxième chance",booster_revival_descr:"Protège le joueur contre le premier obstacle qu'il percute.",play_mul:"<color=#FFFFFF>Joue en mode Public <color=#01FFFF>{number} fois.</color></color>",run_distance:"<color=#FFFFFF>Cours un total de <color=#01FFFF>{number} m</color> dans\\n n'importe quel mode.</color>",double_jump:"<color=#FFFFFF>Fais un double saut un total de <color=#01FFFF>{number} fois</color> dans n'importe quel mode.</color>",collect_coins:"<color=#FFFFFF>Récupère un total de <color=#01FFFF>{number} pièces.</color></color>",dash:"<color=#FFFFFF>Glisse pour éviter les obstacles un total de <color=#01FFFF>{number} fois</color>.</color>",request_backpack:"<color=#FFFFFF>Demande un sac à dos un total de <color=#01FFFF>{number} fois</color>.</color>",pass_backpack:"<color=#FFFFFF>Passe le sac à dos à ton partenaire un total de <color=#01FFFF>{number} fois</color>.</color>",power_up:"<color=#FFFFFF>Récupère un total de <color=#01FFFF>{number} power-ups.</color></color>",extra_life:"<color=#FFFFFF>Récupère un total de <color=#01FFFF>{number} items de réanimation.</color></color>",suc_QTE:"<color=#FFFFFF>Sois réanimé un total de <color=#01FFFF>{number} fois</color>.</color>",double_jump_one_run:"<color=#FFFFFF>Fais un double saut <color=#01FFFF>{number} fois dans une course</color>.</color>",run_distance_one_run:"<color=#FFFFFF>Parcours <color=#01FFFF>{number} m</color> dans une course.</color>",Upgrade_power_up:"<color=#FFFFFF>Améliore <color=#01FFFF>{number} power-up(s)</color>.",booster_active:"<color=#FFFFFF>Utilise un total de <color=#01FFFF>{number} boosts.</color></color>",collect_coins_one_run:"<color=#FFFFFF>Récupère <color=#01FFFF>{number} pièces</color> dans une course.</color>",dash_one_run:"<color=#FFFFFF>Glisse pour éviter des obstacles <color=#01FFFF>{number} fois</color> dans une course.</color>",mid_coin:"<color=#FFFFFF>Récupère <color=#01FFFF>{number} grosses pièces</color> dans une course.</color>",booster_buy:"<color=#FFFFFF>Achète <color=#01FFFF>{number} boosts.</color></color>",accessory_run:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> en portant <color=#01FFFF>2 accessoires.</color></color>",pass_backpack_one_run:"<color=#FFFFFF>Passe le sac à dos à ton partenaire <color=#01FFFF>{number} fois</color> dans une course.</color>",buy_acessories:"<color=#FFFFFF>Achète <color=#01FFFF>n'importe quel accessoire.</color></color>",tropical_island:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> dans l'Île tropicale.</color>",urban_city:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> dans la Ville urbaine.</color>",snow_mountain:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> dans la Montagne enneigée.</color>",accessory_run_easy:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> en portant <color=#01FFFF>1 accessoire.</color></color>",accessory_run_hard:"<color=#FFFFFF>Cours <color=#01FFFF>{number} m</color> en portant <color=#01FFFF>3 accessoires.</color></color>",share:"<color=#01FFFF>Partage ton score</color><color=#FFFFFF> sur l'écran de résultats une fois .</color>",achievement_acc_1:"<color=#FFFFFF>Achète <color=#01FFFF>{number} accessoires.</color></color>",achievement_play_1:"<color=#FFFFFF>Voyage <color=#01FFFF>{number} fois.</color></color>",achievement_power_1:"<color=#FFFFFF>Récupère <color=#01FFFF>{number} power-ups.</color></color>",achievement_pass_1:"<color=#FFFFFF>Utilise <color=#01FFFF>{number} boosts.</color></color>",achievement_ap_1:"<color=#FFFFFF>Réanime ton partenaire <color=#01FFFF>{number} fois.</color></color>",achievement_dl_1:"<color=#FFFFFF>Termine <color=#01FFFF>{number} missions quotidiennes.</color></color>",achievement_sf_1:"<color=#FFFFFF>Prends des selfies avec <color=#01FFFF>{number} poses différentes.</color></color>",achievement_milky_1:"<color=#FFFFFF>Cours un total de <color=#01FFFF>{number } m</color> avec Milky.</color>",achievement_schoky_1:"<color=#FFFFFF>Cours un total de <color=#01FFFF>{number} m</color> avec Schoki.</color>",achivement_beach_1:"<color=#FFFFFF>Cours dans l'Île Tropicale <color=#01FFFF>{number} fois.</color></color>",achivement_beach_2:"<color=#FFFFFF>Atteins la deuxième zone de l'Île Tropicale <color=#01FFFF>{number} fois.</color></color>",achivement_beach_3:"<color=#FFFFFF>Atteins la troisième zone de l''Île tropicale <color=#01FFFF>{number} fois.</color></color>",achivement_city_1:"<color=#FFFFFF>Cours dans la Ville urbaine <color=#01FFFF>{number} fois.</color></color>",achivement_city_2:"<color=#FFFFFF>Atteins la deuxième zone de la Ville urbaine <color=#01FFFF>{number} fois.</color></color>",achivement_city_3:"<color=#FFFFFF>Atteins la troisième zone de la Ville urbaine <color=#01FFFF>{number} fois.</color></color>",achievement_mountain_1:"<color=#FFFFFF>Cours dans la Montagne enneigée <color=#01FFFF>{number} fois.</color></color>",achievement_mountain_2:"<color=#FFFFFF>Atteins la deuxième zone de la Montagne enneigée <color=#01FFFF>{number} fois.</color></color>",achievement_mountain_3:"<color=#FFFFFF>Atteins la troisième zone de la Montagne enneigée <color=#01FFFF>{number} fois.</color></color>",headwear_01:"Journée de la jeunesse",headwear_02:"Princesse naturelle",headwear_03:"Reine du lait",headwear_04:"Explorateur",headwear_05:"Look trop cool",headwear_06:"Amateur de musique",headwear_07:"Esprit festif",headwear_08:"Casquette bleue",headwear_09:"Casquette rouge",Scarf_01:"Grand coeur",Scarf_02:"Doux et confortable",Scarf_03:"Danse de la fleur",Scarf_04:"Travail de bureau",Scarf_05:"Gentleman",Scarf_06:"Sur son 31",Scarf_07:"Rythme tropical",Scarf_08:"Ciel nocturne",Scarf_09:"Aurores boréales",Footwear_01:"Bottes rouges",Footwear_02:"Classique",Footwear_03:"Sur la glace",Footwear_04:"Dans l'espace",Footwear_05:"Fashionista",Footwear_06:"Actif",Pant_01:"Rayé",Pant_02:"À pois",Pant_03:"Short ananas",Pant_04:"Entraînement",Pant_05:"Étoile de l'action",Pant_06:"Séance photo en bord de mer",bot_1:"McMahon",bot_2:"Hess",bot_3:"Quinn",bot_4:"Compton",bot_5:"Hendricks",bot_6:"Rich",bot_7:"McGee",bot_8:"Lambert",bot_9:"McDonnell",bot_10:"Alfaro",bot_11:"Price",bot_12:"Christensen",bot_13:"Hills",bot_14:"Huff",bot_15:"Senior",bot_16:"Fenton",bot_17:"Mullins",bot_18:"Black",bot_19:"Orry",bot_20:"Gray",bot_21:"Decker",bot_22:"Morin",bot_23:"Bowman",bot_24:"Riley",bot_25:"Davies",bot_26:"Oliver",bot_27:"Harris",bot_28:"Howell",bot_29:"Barrow",bot_30:"Lynn",bot_31:"Neville",bot_32:"Cornish",bot_33:"Kumar",bot_34:"Vulus",bot_35:"McKnight",bot_36:"Chapman",bot_37:"McNeill",bot_38:"Baldwin",bot_39:"Greig",bot_40:"Webster",bot_41:"Kouma",bot_42:"Hooper",bot_43:"Trejo",bot_44:"Pope",bot_45:"Avila",bot_46:"Clifford",bot_47:"McCartney",bot_48:"Payne",bot_49:"Guzman",bot_50:"Melendez",bot_51:"Steele",bot_52:"Pitts",bot_53:"Hart",bot_54:"McCallum",bot_55:"Calvert",bot_56:"Chamberlain",bot_57:"Bateman",bot_58:"Whiteley",bot_59:"Rosa",bot_60:"Dudley",bot_61:"Spence",bot_62:"Pearson",bot_63:"Sparks",bot_64:"Nieves",bot_65:"Barr",bot_66:"Rutledge",bot_67:"Pineda",bot_68:"Donald",bot_69:"Rigby",bot_70:"Kaur",bot_71:"Feeney",bot_72:"Wynn",bot_73:"Wolf",bot_74:"Swan",bot_75:"Combs",bot_76:"Rollins",bot_77:"Lang",bot_78:"Lane",bot_79:"Beil",bot_80:"Odom",bot_81:"Tran",bot_82:"Whittle",bot_83:"Casey",bot_84:"Barber",bot_85:"Mathis",bot_86:"Tyson",bot_87:"Costa",bot_88:"Bray",bot_89:"Castaneda",bot_90:"Mendez",bot_91:"Anthony",bot_92:"Kelly",bot_93:"Whitfield",bot_94:"Nicholson",bot_95:"Magana",bot_96:"Russo",bot_97:"Battle",bot_98:"Barry",bot_99:"Dorsey",bot_100:"Glenn",game_version:"Version %{0} \\n",str_about_00:"<color=#F35B81>GAMELOFT FOR BRANDS</color> \\n",str_about_01:"<color=#F35B81>RESPONSABLE DU STUDIO</color>",str_about_02:"Thierry Lecat \\n",str_about_03:"<color=#F35B81>PRODUCTEUR</color>",str_about_04:"Ly Vi Hue \\n",str_about_05:"<color=#F35B81>DIRECTEUR CRÉATIF</color>",str_about_06:"Cedric Ratajczak \\n",str_about_07:"<color=#F35B81>DIRECTEUR TECHNIQUE VIETNAM</color>",str_about_08:"Laurent Le \\n",str_about_09:"<color=#F35B81>CHEF PROGRAMMEUR</color>",str_about_10:"Vo Minh Tam \\n",str_about_11:"<color=#F35B81>PROGRAMMEURS</color>",str_about_12:"Tran Binh Hoa \\nHoang Quoc Khanh \\n",str_about_13:"<color=#F35B81>CHEF GAME DESIGNER</color>",str_about_14:"Nguyen Phu Hong Phuc \\n",str_about_15:"<color=#F35B81>GAME DESIGNER</color>",str_about_16:"Truong Gia Huy \\n",str_about_17:"<color=#F35B81>DIRECTEUR ARTISTIQUE</color>",str_about_18:"Leandro Banak \\n",str_about_19:"<color=#F35B81>ARTISTE IU/EU</color>",str_about_20:"Tran Thi Mai Trang \\n",str_about_21:"<color=#F35B81>CHEF ARTISTE 2D</color>",str_about_22:"Le Ngoc Trinh \\n",str_about_23:"<color=#F35B81>ARTISTES 2D</color>",str_about_24:"John Tenoria \\nLe Thanh Hang",str_about_25:"<color=#F35B81>CHEF ARTISTE 3D</color>",str_about_26:"Vo Binh Quan \\n",str_about_27:"<color=#F35B81>ARTISTES 3D</color>",str_about_28:"Nguyen Huu Toan \\nTruong Huynh Thao \\n",str_about_29:"<color=#F35B81>CHEF ANIMATEUR 3D</color>",str_about_30:"Siva Gonti \\n",str_about_31:"<color=#F35B81>ANIMATEUR 3D</color>",str_about_32:"Durga Prasad Kamisetti \\n",str_about_33:"<color=#F35B81>CHEF ARTISTE VFX</color>",str_about_34:"Christopher Pringle \\n",str_about_35:"<color=#F35B81>ARTISTES VFX</color>",str_about_36:"Christopher Pringle \\nYohan Pradeloux \\n",str_about_37:"<color=#F35B81>LOCALISATION</color>",str_about_38:"<color=#F35B81>MANAGER LOCALISATION</color>",str_about_39:"Alexis Green-Painchaud \\n",str_about_40:"<color=#F35B81>COORDINATEURS LOCALISATION</color>",str_about_41:"Catherine Boudreault \\nEric Millette \\nFrederic Moreau \\nAriane Beauparlant \\n",str_about_42:"<color=#F35B81>COORDINATEUR TECHNOLOGIE LOCALISATION</color>",str_about_43:"Frank Schneidawind",str_about_44:"<color=#F35B81>SPÉCIALISTE TECHNIQUE LOCALISATION</color>",str_about_45:"Yannick Denis",str_about_46:"<color=#F35B81>LOCALISATION</color>",str_about_47:"Jean-Baptiste Signard \\nDavid Hardy \\nViviane Descombes \\nChloé Bury \\nAnne-Gaëlle Weber \\n",str_about_48:"<color=#F35B81>SPÉCIALISTES BUGS DE LOCALISATION</color>",str_about_49:"Juan Carlos Ardila \\nPham Diep Van Nhi \\nJaime Silva-Valencia",str_about_50:"<color=#F35B81>ASSURANCE QUALITÉ</color>",str_about_51:"<color=#F35B81>MANAGER AQ STUDIO</color>",str_about_52:"Madek Widodo \\n",str_about_53:"<color=#F35B81>MANAGER DIVISION AQ</color>",str_about_54:"Le Phung Thanh Son \\n",str_about_55:"<color=#F35B81>MANAGER PROJET AQ</color>",str_about_56:"Ratna Kusumaningtyas \\n",str_about_57:"<color=#F35B81>CHEFS ÉQUIPE AQ</color>",str_about_58:"Maulana Ibrahim \\nImam Masrufi \\n",str_about_59:"<color=#F35B81>TESTEURS AQ</color>",str_about_60:"Andri Bagastomo \\nGinanjar Sidik \\nAnggit Sukamto \\nAziz Muzzamil \\nAri Wirawan \\nAmri Arfian \\nKelvin Dennyswara \\nDwi Kustiarno \\nRizky Lambang \\nAdik Nupantoro \\nYordan Ridhanto \\nErdhika Firmana \\nNungki Nugroho \\nHudam Nugraha \\nYudhistira \\nOnny Hermawan \\nEgrit Wijatsongko \\nHerbowo Putro \\nImakulata Kristanti \\nAlba Millentry",str_about_61:"<color=#F35B81>MANAGER AUDIO</color>",str_about_62:"Zabi Khan \\n",str_about_63:"<color=#F35B81>SOUND DESIGNER</color>",str_about_64:"Stefani Leoni \\n",str_about_65:"<color=#F35B81>MANAGERS MARKETING PRODUIT</color>",str_about_66:"Baptiste Tauzin\\nChloe Roddier\\nLy Ba Tho \\n",str_about_67:"<color=#F35B81>JURIDIQUE</color>",str_about_68:"<color=#F35B81>CHEFFE CONSEILLÈRE JURIDIQUE</color>",str_about_69:"Hortense Jouquan \\n",str_about_70:"<color=#F35B81>RESPONSABLE DE LA PROTECTION DES DONNÉES</color>",str_about_71:"Isabelle Le Vot \\n",str_about_72:"<color=#F35B81>CONSEILLÈRE JURIDIQUE</color>",str_about_73:"Alexandra Rochefort \\n",str_about_74:"<color=#F35B81>ÉQUIPE BACKEND</color>",str_about_75:"<color=#F35B81>PRODUCTEURS BACKEND</color>",str_about_76:"Nguyen Tri Nhan \\nPhan Nguyen Tuong Minh \\n",str_about_77:"<color=#F35B81>PROGRAMMEURS BACKEND</color>",str_about_78:"Le Nguyen Trung Hieu \\nDinh Xuan Duy \\nTran Xuan Khoa \\nTran Duy Truong \\nQuang Chan Vi \\nHuynh Cong Duc \\nTran Minh Tien \\nHuynh Ngoc Phuong Anh \\nTruong Binh Tan \\nTran Kim Bao \\nNguyen Duy Minh \\nHan Van Gia Hien \\n",str_about_79:"<color=#F35B81>PROGRAMMEURS GRC</color>",str_about_80:"To Quoc Long \\nLe Thanh Nghi \\n",str_about_81:"<color=#F35B81>ÉQUIPE ANALYSE DE DONNÉES</color>",str_about_82:"Dang Minh Tuan \\nNguyen Duy Anh \\nNguyen Thanh Hung \\nTran Thi Mai",str_about_83:"<color=#F35B81>LICENCES LOGICIELS OPEN SOURCE</color>",str_about_84:"<color=#F35B81>Cocos Creator</color>",str_about_85:"<color=#F35B81>i18n Extension for Cocos Creator</color>",str_about_86:'Copyright (c) 2013-2016 Chukong Technologies Inc.\r\nCopyright (c) 2017-2022 Xiamen Yaji Software Co., Ltd.\r\nhttp://www.cocos.com \r\nPermission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated engine \r\nsource code (the "Software"), a limited,\r\nworldwide, royalty-free, non-assignable,\r\nrevocable and non-exclusive license to \r\nuse Cocos Creator solely to develop \r\ngames on your target platforms. You shall \r\nnot use Cocos Creator software for \r\ndeveloping other software or tools that\'s \r\nused for developing games. You are not \r\ngranted to publish, distribute, sublicense, \r\nand/or sell copies of Cocos Creator. The \r\nsoftware or tools in this License Agreement \r\nare licensed, not sold. \r\nXiamen Yaji Software Co., Ltd. \r\nreserves all rights not expressly granted to you.\\n',str_about_87:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"),\r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to\r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions:\\n\r\nThe above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software.',str_about_88:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_89:"<color=#F35B81>Colyseus</color>",str_about_90:"Copyright (c) 2021 Lucid Sight \\n Copyright (c) 2015-2021 Endel Dreyer \\n \\nMIT License: \\n",str_about_91:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_92:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_93:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_94:"<color=#F35B81>axios</color>",str_about_95:"Copyright (c) 2014-2022 \r\nMatt Zabriskie & Collaborators \\n",str_about_96:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_97:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_98:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_99:"<color=#F35B81>crypto-js</color>",str_about_100:"Copyright (c) 2009-2013 Jeff Mott \\n Copyright (c) 2013-2016 Evan Vosberg \\n",str_about_101:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_102:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_103:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_104:"<color=#F35B81>lodash</color>",str_about_105:"Copyright JS Foundation and other \r\ncontributors <https://js.foundation/> \r\nBased on Underscore.js, \r\ncopyright Jeremy Ashkenas, \r\nDocumentCloud and Investigative \r\nReporters & Editors \r\n<http://underscorejs.org/> \r\nThis software consists of voluntary \r\ncontributions made by many individuals. \r\nFor exact contribution history, see the \r\nrevision history available at \r\nhttps://github.com/lodash/lodash",str_about_106:"The following license applies to all parts of this software except as documented below: \\n",str_about_107:'Permission is hereby granted, free of charge, \r\nto any person obtaining a copy of this \r\nsoftware and associated documentation files \r\n(the "Software"), to deal in the Software \r\nwithout restriction, including without \r\nlimitation the rights to use, copy, modify, \r\nmerge, publish, distribute, sublicense, \r\nand/or sell copies of the Software, and to \r\npermit persons to whom the Software is \r\nfurnished to do so, subject to the following \r\nconditions: \\n',str_about_108:"The above copyright notice and this \r\npermission notice shall be included in all \r\ncopies or substantial portions of the Software.\\n",str_about_109:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_110:"<color=#F35B81>Fonts</color>",str_about_111:"<color=#F35B81>Paytone One</color>",str_about_112:'Copyright 2011 The Paytone Project Authors\r\n(https://github.com/googlefonts/paytoneFont),\r\nwith Reserved Font Names "Paytone" and \r\n"Paytone One".\r\nThis Font Software is licensed under the \r\nSIL Open Font License, Version 1.1. \r\nThis license is copied below, and is also \r\navailable with a FAQ at:\r\nhttp://scripts.sil.org/OFL \r\n\r\nSIL OPEN FONT LICENSE \r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) \r\nare to stimulate worldwide development \r\nof collaborative font projects, \r\nto support the font creation\r\nefforts of academic and linguistic \r\ncommunities, and to provide a \r\nfree and open framework in which \r\nfonts may be shared and improved \r\nin partnership with others.\r\n\r\nThe OFL allows the licensed fonts to be \r\nused, studied, modified and \r\nredistributed freely as long as they are not \r\nsold by themselves. The fonts, including \r\nany derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any \r\nsoftware provided that any reserved\r\nnames are not used by derivative works. \r\nThe fonts and derivatives, however, \r\ncannot be released under any other \r\ntype of license. The requirement for \r\nfonts to remain under this license does \r\nnot apply to any document created using \r\nthe fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection \r\nof Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative \r\nmade by adding to, deleting,\r\nor substituting -- in part or in whole -- any \r\nof the components of the Original \r\nVersion, by changing formats or by \r\nporting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION & CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the \r\nFont Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission \r\nis granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) \r\nor the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge \r\nthe contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply \r\nto any document created\r\nusing the Font Software.\\n',str_about_113:'TERMINATION\r\nThis license becomes null and void \r\nif any of the above conditions \r\nare not met.\\n\r\nDISCLAIMER\r\nTHE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_114:"<color=#F35B81>ElMessiri</color>",str_about_115:"Copyright 2015 The El Messiri \r\nProject Authors \r\n(https://github.com/Gue3bara/El-Messiri)\\n",str_about_116:"This Font Software is licensed under the SIL Open Font License, Version 1.1. \\n\r\nThis license is copied above, and is also available with a FAQ at:\r\nhttp://scripts.sil.org/OFL \\n",str_about_117:"<color=#F35B81>Open Sans Condensed</color>",str_about_118:'Copyright 2011 Ascender corp, \r\nSteve Matteson\\n\r\nLicensed under the Apache License, \r\nVersion 2.0 (the "License"); \r\nyou may not use this file except \r\nin compliance with the License.\\n\r\nYou may obtain a copy of the License at\r\nhttp://www.apache.org/\r\nlicenses/LICENSE-2.0\\n',str_about_119:'Unless required by applicable law or \r\nagreed to in writing, software distributed \r\nunder the License is distributed on an \r\n"AS IS" BASIS, WITHOUT WARRANTIES OR \r\nCONDITIONS OF ANY KIND, either express \r\nor implied. See the License for the \r\nspecific language governing permissions \r\nand limitations under the License. \\n'});o._RF.pop()}}}));

System.register("chunks:///_virtual/GameHelper.ts",["cc","./i18n.ts"],(function(e){"use strict";var n,t,i,r,a,o,c;return{setters:[function(e){n=e.cclegacy,t=e.assetManager,i=e.SpriteFrame,r=e.Texture2D,a=e.director,o=e.Director},function(e){c=e.language}],execute:function(){n._RF.push({},"f4c05RPaLBBuKExIbQr+kvX","GameHelper",void 0),e("GameHelper",function(){function e(){}return e.shuffle=function(e){for(var n,t,i=e.length;0!==i;)t=Math.floor(Math.random()*i),n=e[i-=1],e[i]=e[t],e[t]=n;return e},e.GetSpriteFrameFromUrl=function(e){return new Promise((function(n,a){t.loadRemote(e,{ext:".jpeg",xhrMimeType:"image/png"},(function(e,t){if(e)a(null);else{var o=new i,c=new r;c.image=t,o.texture=c,n(o)}}))}))},e.isLocalLan=function(){return!(!location.hostname.includes("192.168")&&""!=location.hostname)},e.isAndroid=function(){return[/Android/i].some((function(e){return navigator.userAgent.match(e)}))},e.isIOSSafari=function(){var e=window.navigator.userAgent,n=!!e.match(/iPad/i)||!!e.match(/iPhone/i),t=!!e.match(/WebKit/i);return n&&t&&!e.match(/CriOS/i)},e.isMobile=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))},e.ClampInRange=function(e,n,t){return Math.min(t,Math.max(n,e))},e.getRndInteger=function(e,n){return Math.floor(Math.random()*(n-e))+e},e.getRndIntegerInclusive=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},e.getRndFloat=function(e,n){return Math.random()*(n-e)+e},e.getRndFloatInclusive=function(e,n){var t=n+.1;return Math.max(n,Math.random()*(t-e)+e)},e.TimeSpan=function(e,n,t){void 0===e&&(e=0),void 0===n&&(n=0),void 0===t&&(t=0);return 1e3*(60*(60*e+n)+t)},e.zeropad=function(e,n){var t=e<0?"-":"";e<0&&(e=-e);for(var i=n-e.toString().length,r=0;r<i;r++)t+="0";return t+e.toString()},e.ScreenToWorldPoint=function(e){return e},e.SaveScreenShoot=function(e,n){a.on(o.EVENT_AFTER_DRAW,(function t(){var i=document.getElementById("GameCanvas"),r=(i.getContext("experimental-webgl",{preserveDrawingBuffer:!0}),i.width),c=i.height,s=r/c,d=function(e){return 2*parseFloat(e.replace("px",""))},l=r,m=c,u=r,g=c,p=document.getElementById("CaptureCanvas");null==p&&((p=document.createElement("canvas")).id="CaptureCanvas",p.width=l,p.height=m);var h=p.getContext("2d");if(null!=e){var f=d(e.style.width),w=d(e.style.height);s<f/w?(h.scale(-1,1),h.drawImage(e,(f-r)/2,0,-f,w)):(h.scale(-1,1),h.drawImage(e,0,-(w-c)/2,-f,w))}else i&&h.drawImage(i,0,0,u,g);if("Apple"!==window.UAdevicevendor&&"Apple"!==window.manufacturer||"Yandex"!==window.browserName&&"Yandex"!==window.UAbrowsername&&"Chrome"!==window.browserName&&"Chrome"!==window.UAbrowsername)p.toBlob((function(e){var t=URL.createObjectURL(e);n(t)}));else{var v=p.toDataURL("image/jpeg",.5);n(v)}a.off(o.EVENT_AFTER_DRAW,t)}))},e.DetectBrowser=function(){return(this.MobileAndTabletcheck()?-1!=navigator.userAgent.search(/(iPad|iPhone|iphone|iPod)/)?"iOS":"Android":-1!=navigator.platform.indexOf("Win")?"Windows":-1!=navigator.platform.indexOf("Mac")?"Mac":"Unknown")+" - "+(-1!=navigator.userAgent.search(/(Firefox|FxiOS)/)?"Firefox":-1!=navigator.userAgent.search(/(Opera|OPR|OPT)/)?"Opera":-1!=navigator.userAgent.search(/(Edge|Edg)/)?"Edge":-1!=navigator.userAgent.search(/(Chrome|CriOS)/)?"Chrome":-1!=navigator.userAgent.indexOf("Safari")?"Safari":"Browser")},e.MobileAndTabletcheck=function(){var e,n=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n||this.IsIpad()},e.IsIpad=function(){return null!=navigator.userAgent.match(/iPad/i)},e.CheckIsOnBrowser=function(){return void 0!==window.platform&&"browser"==window.platform||void 0===window.platform&&(window.platform="browser",!0)},e.truncate=function(e,n,t){if(void 0===t&&(t=null),e.length<=n)return e;var i=n-(t=t||"..").length,r=Math.ceil(i/2),a=Math.floor(i/2);return e.substr(0,r)+t+e.substr(e.length-a)},e.CheckIsOnDeviceBrowser=function(){return this.CheckIsOnBrowser()&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.OpenPP=function(){var e=c.language;window.open("./docs/privacy-policy/"+e+"/"+{en:"index.html",fr:"Avis de confidentialité M&S.html",de:"Datenschutzrichtlinie - Milky  Schoki Trip_AR - German_final.html",ar:"Privacy Notice - Milky  Schoki Trip_Ar (2).html",ru:"index.html"}[e],"_blank").focus()},e.OpenToU=function(){var e=c.language;window.open("./docs/terms-of-use/"+e+"/"+{en:"index.html",fr:"Conditions d'utilisation.html",de:"Nutzungsbedingungen_WebApp_KMS_AR - German_final.html",ar:"Terms of Use_App Game_KMS_Ar (2).html",ru:"index.html"}[e],"_blank").focus()},e.adjustBodyDisplayFlex=function(e){document.body.style.display=e?"flex":"block"},e}()).EndOfFrameTime=.012,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameoverCharacter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./GameResourceManager.ts","./NetworkManager.ts","./CharacterAnimCtrl.ts"],(function(n){"use strict";var t,i,e,r,o,a,s,c,l,h,C,u,m,k,y,_,p,A,f,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,l=n.Node,h=n.Component,C=n.instantiate,u=n.v3},function(n){m=n.CharacterAccessoryCtrl},function(n){k=n.PLAYER_CHARACTER,y=n.CHARACTER_NAMES},function(n){_=n.GameResourceManager},function(n){p=n.NetworkManager},function(n){A=n.CHARACTER_ANIM,f=n.CharacterAnimCtrl,d=n.CHARACTER_ANIM_CONTEXT}],execute:function(){var M,v,R,I,S,E,b,g;s._RF.push({},"44b755bK55ARplqCQJtCkrI","GameoverCharacter",void 0);var x=c.ccclass,G=c.property;n("GameoverCharacter",(M=x("GameoverCharacter"),v=G(l),R=G(l),M(((g=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"milkyContainer",E,r(t)),e(t,"schokiContainer",b,r(t)),t._animControlMilky=null,t._animControlSchoki=null,t}i(t,n);var s=t.prototype;return s.onLoad=function(){t.Instance=this,this.node.active=!1},s.hide=function(){this.node.active=!1},s.show=function(){this.node.active=!0},s.unloadCharacters=function(){var n,t;null==(n=this._animControlMilky)||n.unloadCharacter(),null==(t=this._animControlSchoki)||t.unloadCharacter(),this._animControlMilky=null,this._animControlSchoki=null},s.initCharacters=function(){var n=o(a().mark((function n(){var t,i,e,r,o,s,c,l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._animControlMilky){n.next=21;break}return this.milkyContainer.removeAllChildren(),n.next=4,_.Instance.loadCharacter(y[k.MILKY]);case 4:if(!(t=n.sent)){n.next=21;break}return i=C(t),this.milkyContainer.addChild(i),i.setPosition(u(0,0,0)),i.setRotationFromEuler(u(0,0,0)),this._animControlMilky=i.getComponent(f),this._animControlMilky.character=k.MILKY,this._animControlMilky.init(A.IDLE,!1),n.next=15,this._animControlMilky.loadAnimations(d.GAMEOVER);case 15:if(!(e=this._animControlMilky.getComponentInChildren(m))){n.next=21;break}return r=p.Instance.milkyAccessory,e.character=k.MILKY,n.next=21,e.updateAccessories(r);case 21:if(this._animControlSchoki){n.next=42;break}return this.schokiContainer.removeAllChildren(),n.next=25,_.Instance.loadCharacter(y[k.SCHOKI]);case 25:if(!(o=n.sent)){n.next=42;break}return s=C(o),this.schokiContainer.addChild(s),s.setPosition(u(0,0,0)),s.setRotationFromEuler(u(0,0,0)),this._animControlSchoki=s.getComponent(f),this._animControlSchoki.character=k.SCHOKI,this._animControlSchoki.init(A.IDLE,!1),n.next=36,this._animControlSchoki.loadAnimations(d.GAMEOVER);case 36:if(!(c=this._animControlSchoki.getComponentInChildren(m))){n.next=42;break}return l=p.Instance.schokiAccessory,c.character=k.SCHOKI,n.next=42,c.updateAccessories(l);case 42:this._animControlMilky&&(this._animControlMilky.isGameOverAnim=!0,this._animControlMilky.loopTime=0,this._animControlMilky.PlayAnim(A.REWARD)),this._animControlSchoki&&(this._animControlSchoki.isGameOverAnim=!0,this._animControlSchoki.loopTime=0,this._animControlSchoki.PlayAnim(A.REWARD));case 44:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(h)).Instance=null,E=t((S=g).prototype,"milkyContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(S.prototype,"schokiContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayExit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./PrivateMode.ts"],(function(t){"use strict";var e,n,a,i,o,s,r,c,u,l,p,x,f,E,I,_,h,b,P,m,d,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,u=t.Node,l=t.v3,p=t.tween,x=t.Component,f=t.log},function(t){E=t.default,I=t.AudioSrc},function(t){_=t.NetworkManager},function(t){h=t.RunningGameManager},function(t){b=t.SoundManager},function(t){P=t.Splash},function(t){m=t.UserDataManager},function(t){d=t.default},function(t){v=t.TutorialAction},function(t){g=t.PrivateMode}],execute:function(){var w,y,S,k,C,T,M;r._RF.push({},"317f5ZtX1lBTr5lLHG03Bd7","GameplayExit",void 0);var N=c.ccclass,B=c.property;t("GameplayExit",(w=N("GameplayExit"),y=B(u),S=B(u),w((T=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,a(e,"buttonExit",T,i(e)),a(e,"exitPanel",M,i(e)),e._tweenExitPanel=null,e._exitPosition=l(0,0),e._buttonEnable=!0,e}n(e,t);var r=e.prototype;return r.start=function(){this.setExitButtonState(!0),this.setExitPanelState(!1,!1),P.isNewUser&&!g.isInviteMode&&(E.CHEAT_ESC_IN_TUTORIAL?this.node.active=!0:this.node.active=!1)},r.setExitButtonState=function(t){this.buttonExit.active=t},r.setExitPanelState=function(t,e){var n=this;return void 0===e&&(e=!0),new Promise((function(a){if(e)n._tweenExitPanel&&n._tweenExitPanel.stop(),n._tweenExitPanel=p(n.exitPanel),t?(n.exitPanel.active=!0,n._exitPosition.y=-175,n._tweenExitPanel.to(.5,{position:n._exitPosition},{easing:"backOut"}),n._tweenExitPanel.call((function(){a()}))):(n._exitPosition.y=200,n._tweenExitPanel.to(.5,{position:n._exitPosition},{easing:"backOut"}),n._tweenExitPanel.call((function(){n.exitPanel.active=!1,a()}))),n._tweenExitPanel.start();else{n.exitPanel.active=t;var i=0;i=t?-100:100,n.exitPanel.setPosition(0,i),a()}}))},r.onExitButtonClicked=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._buttonEnable){t.next=2;break}return t.abrupt("return");case 2:return f("onExitButtonClicked"),b.Instance.playOneShot(I.UI_CLICK),this.setExitButtonState(!1),this._buttonEnable=!1,t.next=8,this.setExitPanelState(!0,!0);case 8:this._buttonEnable=!0;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onExitOKClicked=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._buttonEnable){t.next=2;break}return t.abrupt("return");case 2:this._buttonEnable=!1,h.IsPause=!0,h.Instance.isInTutorial?(h.IsPause=!0,_.Instance.exitRoom(),h.Instance.isInTutorial&&(h.Instance.isInTutorial=!1),P.isNewUser=!1,m.Instance.tutorialData.welcomeTutorial=!0,m.Instance.tutorialData.completeGameCount++,m.Instance.saveTutorialData()):(f("onExitOKClicked"),b.Instance.playOneShot(I.UI_CLICK),h.Instance.milkyFootstepSFX.stop(),h.Instance.schokiFootstepSFX.stop(),b.Instance.stopBgm(),b.Instance.stopAmbient(),b.Instance.stopQteBgm(),d.Send_FEATURE_FINISHED(h.Instance.featureName,h.Instance.featureTimeSpent),h.Instance.isInQte&&d.Send_QTE_INTERACTION(v.NEXT,h.Instance.qteName,h.Instance.fail_amt,h.Instance.success_amt,h.Instance.qte_time_spent),_.Instance.exitRoom());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onExitCancelClicked=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._buttonEnable){t.next=2;break}return t.abrupt("return");case 2:return f("onExitCancelClicked"),b.Instance.playOneShot(I.UI_CLICK),this._buttonEnable=!1,t.next=7,this.setExitPanelState(!1,!0);case 7:this._buttonEnable=!0,this.setExitButtonState(!0);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(x)).prototype,"buttonExit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(C.prototype,"exitPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=C))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts"],(function(e){"use strict";var a,r,n,t,o,s,i,c,l,f,u,d,b,_,P,h,p,m,v,R,E,A,g;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,l=e.TTFFont,f=e.director,u=e.assetManager,d=e.resources,b=e.log,_=e.AnimationClip,P=e.Component},function(e){h=e.PLAYER_CHARACTER,p=e.BACKPACK_SIZE_NAMES,m=e.ENVIRONMENT_NAMES,v=e.TILE_PHASE_NAMES,R=e.POOL_OBJECT_KIND,E=e.POOL_OBJECT_NAMES,A=e.POOL_OBJECT_DATA},function(e){g=e.MainMenuDebug}],execute:function(){var C,w,M,T,O,k,L,y,G,q;i._RF.push({},"ea576NPi0lGAYAQUd6e41o5","GameResourceManager",void 0);var Q=c.ccclass,I=c.property,S="prefabs/Character/Rig/",B="prefabs/Character/",N="prefabs/Environments/",D="prefabs/Powerups/",j="prefabs/Powerups_LowProfile/",x="prefabs/Obstacles/",F="prefabs/Obstacles_LowProfile/",K="prefabs/QTE/",z="prefabs/QTE_LowProfile/",Y="prefabs/Sessions/",H="prefabs/QTE/AP/",J="prefabs/Accessory/",U="prefabs/Backpack/",V="prefabs/Character/",W="prefabs/Animation/Milky",Z="prefabs/Animation/Schoki",X="prefabs/QTE/AP/";e("GameResourceManager",(C=Q("GameResourceManager"),w=I(l),M=I(l),T=I(l),C(((q=function(e){function a(){for(var a,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=e.call.apply(e,[this].concat(o))||this)._characterRigPrefabs={},a._powerupPrefabs={},a._tilePrefabs={},a._obstaclePrefabs={},a._qtePrefabs={},a._sessionPrefabs={},a._obstacleAnimationPrefabs={},a._qteCanvas={},a._accessories={},a._backpacks={},a._characterAnimations={},a._qteBackpackContainer=null,a._qteContainers={},n(a,"paytoneOneFont",L,t(a)),n(a,"arabFont",y,t(a)),n(a,"ruFont",G,t(a)),a.creditIds=[],a.creditsTxt="",a.creditParts=[],a.creditsPartIdx=[30,60,120],a.botIds=[],a.botNameList=[],a}r(a,e);var i=a.prototype;return i.onLoad=function(){f.isPersistRootNode(this.node)||f.addPersistRootNode(this.node),a.Instance=this},i.reset=function(){console.log("[GameResourceManager]","reset"),Object.entries(this._powerupPrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._powerupPrefabs={},Object.entries(this._obstaclePrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._obstaclePrefabs={},Object.entries(this._qtePrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._qtePrefabs={},Object.entries(this._obstacleAnimationPrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._obstacleAnimationPrefabs={},Object.entries(this._tilePrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._tilePrefabs={},Object.entries(this._qteCanvas).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._qteCanvas={},Object.entries(this._qteContainers).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._qteContainers={}},i.releaseMainMenu=function(){this.releaseRigAnimation()},i.releaseRigAnimation=function(){Object.entries(this._characterAnimations).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._characterAnimations={}},i.releaseRig=function(){Object.entries(this._characterRigPrefabs).forEach((function(e){null!=e[1]&&u.releaseAsset(e[1])})),this._characterRigPrefabs={}},i.loadSession=function(e){var a=this;return new Promise((function(r){var n=a._sessionPrefabs[e];if(n)r(n);else{var t=Y+e;d.load(t,(function(n,t){t&&(b("[GameResourceManager]","loadSession",e,"loaded"),a._sessionPrefabs[e]=t,t.addRef()),r(t)}))}}))},i.loadCharacterRig=function(e){var a=this;return new Promise((function(r){var n=a._characterRigPrefabs[e];if(n)r(n);else{var t=S+e;d.load(t,(function(n,t){t?(b("[GameResourceManager]","loadCharacterRig",e,"loaded"),a._characterRigPrefabs[e]=t,t.addRef()):b(n),r(t)}))}}))},i.loadCharacter=function(e){return new Promise((function(a){var r=B+e;d.load(r,(function(r,n){n?b("[GameResourceManager]","loadCharacter",e,"loaded"):b(r),a(n)}))}))},i.loadPrefabByType=function(){var e=o(s().mark((function e(a,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=A[r].type)!=R.POWERUP&&n!=R.COLLECTIBLE){e.next=5;break}return e.next=4,this.loadPowerup(E[r]);case 4:return e.abrupt("return",e.sent);case 5:if(n!=R.OBSTACLE){e.next=9;break}return e.next=8,this.loadObstacle(a,E[r]);case 8:return e.abrupt("return",e.sent);case 9:if(n!=R.QTE){e.next=13;break}return e.next=12,this.loadQTE(E[r]);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)})));return function(a,r){return e.apply(this,arguments)}}(),i.loadObstacleAnimation=function(e,a){var r=this;return new Promise((function(n){var t=""+a+e,o=r._obstacleAnimationPrefabs[t];if(o)n(o);else{var s=x+a+"/"+m[e];d.load(s,(function(e,o){o&&(b("[GameResourceManager]","loadObstacleAnimation",a,"loaded"),r._obstacleAnimationPrefabs[t]=o,o.addRef()),n(o)}))}}))},i.loadObstacle=function(e,a){var r=this;return new Promise((function(n){var t=""+a+e,o=r._obstaclePrefabs[t];if(o)n(o);else{var s=x+a;g.getDeviceProfile().LowEnvironment&&(s=F+a),d.load(s,(function(e,a){a&&(b("[GameResourceManager]","loadObstacle",t,"loaded"),r._obstaclePrefabs[t]=a,a.addRef()),n(a)}))}}))},i.loadPowerup=function(e){var a=this;return new Promise((function(r){var n=a._powerupPrefabs[e];if(n)r(n);else{var t=D+e;g.getDeviceProfile().LowEnvironment&&(t=j+e),d.load(t,(function(n,t){t&&(b("[GameResourceManager]","loadPowerup",e,"loaded"),a._powerupPrefabs[e]=t,t.addRef()),r(t)}))}}))},i.loadQTEContainer=function(e){var a=this;return new Promise((function(r){var n="Players_QTE_"+e,t=a._qteContainers[n];if(t)r(t);else{var o=X+n;d.load(o,(function(e,t){t&&(b("[GameResourceManager]","loadQTEContainer",n,"loaded"),a._qteContainers[n]=t,t.addRef()),r(t)}))}}))},i.isLowProfile=function(){return!!g.getDeviceProfile().LowEnvironment},i.loadQTECanvas=function(e){var a=this;return new Promise((function(r){var n="QTE_"+e,t=a._qteCanvas[n];if(t)r(t);else{var o=H+"QTE_Canvas_"+e;d.load(o,(function(e,t){t&&(b("[GameResourceManager]","loadQTECanvas",n,"loaded"),a._qteCanvas[n]=t,t.addRef()),r(t)}))}}))},i.loadQTE=function(e){var a=this;return new Promise((function(r){var n=a._qtePrefabs[e];if(n)r(n);else{var t=K+e;a.isLowProfile()&&(t=z+e),d.load(t,(function(n,t){t&&(b("[GameResourceManager]","loadQTE",e,"loaded"),a._qtePrefabs[e]=t,t.addRef()),r(t)}))}}))},i.loadTile=function(e,a,r){var n=this;return new Promise((function(t){var o=""+m[e]+a+v[r],s=n._tilePrefabs[o];if(s)t(s);else{var i=N+(m[e]+"/area")+a+"/"+v[r];g.getDeviceProfile().LowEnvironment&&(i=N+(m[e]+"/area")+a+"/LowProfile/"+v[r]),d.load(i,(function(e,a){a&&(b("[GameResourceManager]","loadTile",o,i,"loaded"),n._tilePrefabs[o]=a,a.addRef()),t(a)}))}}))},i.loadAccessory=function(e){var a=this;return new Promise((function(r){var n=a._accessories[e];if(n)r(n);else{var t=J+e;d.load(t,(function(n,t){t?(b("[GameResourceManager]","accessory",e,"loaded"),a._accessories[e]=t,t.addRef()):b(n),r(t)}))}}))},i.loadBackpack=function(e,a){var r=this,n=(e==h.MILKY?"M":"S")+"_"+p[a];return new Promise((function(e){var a=r._backpacks[n];if(a)e(a);else{var t=U+n;d.load(t,(function(a,t){t?(b("[GameResourceManager]","backpack",n,"loaded"),r._backpacks[n]=t,t.addRef()):b(a),e(t)}))}}))},i.loadQTEItemContainer=function(){var e=this;return new Promise((function(a){var r=e._qteBackpackContainer;if(r)a(r);else{var n=V+"QTEContainer";d.load(n,(function(r,n){n?(b("[GameResourceManager]","qteContainer","loaded"),e._qteBackpackContainer=n,n.addRef()):b(r),a(n)}))}}))},i.loadCharacterAnimation=function(e,a){var r=this,n=(e==h.MILKY?W:Z)+"/"+(e==h.MILKY?a.fileMilky:a.fileSchoki)+"/"+a.anim;return new Promise((function(e){var a=r._characterAnimations[n];a?e(a):d.load(n,_,(function(a,t){t?(b("[GameResourceManager]","characterAnim",n,"loaded"),r._characterAnimations[n]=t,t.addRef()):b(a),e(t)}))}))},a}(P)).Instance=null,L=a((k=q).prototype,"paytoneOneFont",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=a(k.prototype,"arabFont",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=a(k.prototype,"ruFont",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=k))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/HandTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,a,o,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Node,l=t.Component}],execute:function(){var c,s,m,h,p,_,f,d,b,v,y,w,g;a._RF.push({},"24497jmdIhDoICvsrfc7kOX","HandTutorial",void 0);var z=o.ccclass,j=o.property;t("HandTutorial",(c=z("HandTutorial"),s=j(u),m=j(u),h=j(u),p=j(u),_=j(u),c((b=e((d=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"m_dash",b,n(e)),r(e,"m_jump",v,n(e)),r(e,"m_throw",y,n(e)),r(e,"m_blink",w,n(e)),r(e,"m_request",g,n(e)),e}i(e,t);var a=e.prototype;return a.isHandShown=function(){return this.node.active&&(this.m_dash.active||this.m_jump.active||this.m_throw.active||this.m_request.active)},a.onLoad=function(){this.m_blink.active=!1,this.hide()},a.hide=function(){this.m_dash.active=!1,this.m_jump.active=!1,this.m_throw.active=!1,this.m_request.active=!1},e}(l)).prototype,"m_dash",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"m_jump",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(d.prototype,"m_throw",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(d.prototype,"m_blink",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"m_request",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/HitZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var n,e,i,o,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Collider,r=t.Component},function(t){s=t.ItemType}],execute:function(){var c;e._RF.push({},"d94bazSb1lJsbCYey2wfnRL","HitZone",void 0);var l=i.ccclass;i.property,t("HitZone",l("HitZone")(c=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).isEnter=!1,n.colliders=[],n}n(e,t);var i=e.prototype;return i.onLoad=function(){},i.onEnable=function(){},i.init=function(){if(this.colliders.length<=0){this.colliders=this.getComponentsInChildren(o);for(var t=0;t<this.colliders.length;t++)this.colliders[t].on("onTriggerEnter",this.onTriggerEnter,this),this.colliders[t].on("onTriggerExit",this.onTriggerExit,this),this.colliders[t].on("onTriggerStay",this.onTriggerStay,this)}},i.onTriggerEnter=function(t){switch(t.otherCollider.getGroup()){case s.COLLECTIBLE:console.log("enter"),this.isEnter=!0}},i.onTriggerExit=function(t){switch(t.otherCollider.getGroup()){case s.COLLECTIBLE:console.log("exit"),this.isEnter=!1}},i.onTriggerStay=function(t){},i.reset=function(){},i.update=function(t){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/HydrantAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObstacleVFX.ts"],(function(t){"use strict";var n,o,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.animation},function(t){c=t.ObstacleVFX}],execute:function(){var r;o._RF.push({},"82852pUuJpBEZj65DQPxBdV","HydrantAction",void 0);var a=e.ccclass;e.property,t("HydrantAction",a("HydrantAction")(r=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onMotionStateEnter=function(t,n){var o=t.getComponent(c);o&&o.turnOn()},e.onMotionStateExit=function(t,n){},e.onMotionStateUpdate=function(t,n){},e.onStateMachineEnter=function(t){},e.onStateMachineExit=function(t){},o}(i.StateMachineComponent))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/HydrantInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObstacleVFX.ts"],(function(t){"use strict";var n,o,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.animation},function(t){r=t.ObstacleVFX}],execute:function(){var a;o._RF.push({},"a2242aoleVBr7GlzuMvbsvN","HydrantInit",void 0);var c=e.ccclass;e.property,t("HydrantInit",c("HydrantInit")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onMotionStateEnter=function(t,n){var o=t.getComponent(r);o&&o.turnOff()},e.onMotionStateExit=function(t,n){},e.onMotionStateUpdate=function(t,n){},e.onStateMachineEnter=function(t){},e.onStateMachineExit=function(t){},o}(i.StateMachineComponent))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/HyperBoostCurve.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CurveManager.ts"],(function(t){"use strict";var e,r,o,c,n,u,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,c=t.v3,n=t.v2,u=t.Component},function(t){s=t.default},function(t){i=t.CurveManager}],execute:function(){var v;r._RF.push({},"128c00VT+9Ena7OCApXNcBt","HyperBoostCurve",void 0);var a=o.ccclass;o.property,t("HyperBoostCurve",a("HyperBoostCurve")(v=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this)._currentCurveVector=n(0,0),e}e(r,t);var o=r.prototype;return o.update=function(t){this._currentCurveVector.x==i.curveVector.x&&this._currentCurveVector.y==i.curveVector.y||!s.CHEAT_CURVED_MOVE||(this._currentCurveVector=i.curveVector,this.updateCurveVector(this._currentCurveVector))},o.updateCurveVector=function(t){if(s.CHEAT_UPDATE_MATERIAL&&!(t.x<-.001||t.x>.001)){var e=c(0,0,0);this.node.getPosition(e),e.x=1e3*t.x*20,this.node.setPosition(e)}},r}(u))||v);r._RF.pop()}}}));

System.register("chunks:///_virtual/i18n.ts",["cc","./I18nResolver.ts"],(function(e){"use strict";var i,t;return{setters:[function(e){i=e.cclegacy},function(e){t=e.I18nResolver}],execute:function(){i._RF.push({},"08c35C6kMNOCqsaEhKH8oE0","i18n",void 0);e("language",new(function(){function e(){this.localize=void 0,this.languages=void 0,this.language=void 0,this.listeners=[]}var i=e.prototype;return i.setLanguage=function(e,i){i&&(this.languages=i),this.language=e,this.localize=new t(this.languages,e).translation,this.listeners.forEach((function(e){return e()}))},i.addListener=function(e){this.listeners.push(e)},i.removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e))},i.initialized=function(){return this.localize&&this.localize.length>0},i.t=function(e){var i,t,n=this.localize[e];if(!n)return e;if("string"!=typeof n){for(var s=arguments.length,l=new Array(s>1?s-1:0),o=1;o<s;o++)l[o-1]=arguments[o];return n.apply(void 0,l)}if(n=n.replaceAll("\\n","\n"),"ar"==this.language)if(n.endsWith("</color> </color>")||n.endsWith("</color></color>"))(n=(n=(n=n.slice(0,-"</color>".length)).trimEnd()).slice(0,-"</color>".length)).startsWith("<color=")&&(i=n.slice(0,"<color=#FFFFFF>".length),t=n.slice("<color=#FFFFFF>".length)),t.endsWith("...")?t="..."+(t=t.slice(0,-3)):t.endsWith(".")?t="."+(t=t.slice(0,-1)):t.endsWith("!")&&(t="!"+(t=t.slice(0,-1))),n=i+t,n+="</color></color>";else if(n.endsWith("</color>")){var r,c;(n=n.slice(0,-"</color>".length)).startsWith("<color=")&&(r=n.slice(0,"<color=#FFFFFF>".length),c=n.slice("<color=#FFFFFF>".length)),c.endsWith("...")?c="..."+(c=c.slice(0,-3)):c.endsWith(".")?c="."+(c=c.slice(0,-1)):c.endsWith("!")&&(c="!"+(c=c.slice(0,-1))),n=r+c,n+="</color>"}else n.endsWith("...")?n="..."+(n=n.slice(0,-3)):n.endsWith(".")?n="."+(n=n.slice(0,-1)):n.endsWith("!")&&(n="!"+(n=n.slice(0,-1)));return n},e}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/I18n2.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"a9b9f6Hj0NFj7UkFTm5xnM6","I18n",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/I18nResolver.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"42495iGYJtLnbynt95AnthP","I18nResolver",void 0);var i="undefined"!=typeof document;t("I18nResolver",function(){function t(t,n){this.cookieName="i18n-language",this.currentLanguage=null,this.translations=t;var e=n||this.getCookie(this.cookieName)||this.getBrowserLanguage();this.language=this.findBestMatch(e)||"default"}var e=t.prototype;return e.setCookie=function(t,n,e,r){if(i)e&&e.toUTCString()},e.getCookie=function(t){if(!i)return null;var n=document.cookie.split(";").map((function(t){return t.trim()})).filter((function(n){return n.match(t+"=.*")}));return n.length>0?n[0].replace(t+"=",""):null},e.getBrowserLanguage=function(){return navigator.language||navigator.userLanguage},e.findBestMatch=function(t){if(this.translations[t])return t;var n=t.split("-")[0];return this.translations[n]?n:null},n(t,[{key:"translation",get:function(){return this.translations[this.currentLanguage]}},{key:"language",get:function(){return this.currentLanguage},set:function(t){this.currentLanguage=t,this.setCookie(this.cookieName,t)}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var n,t,u,c,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,u=o._decorator,c=o.Vec2,r=o.Component}],execute:function(){var a,e;t._RF.push({},"5982d/1xlVA45H/iT1CmYxu","InputManager",void 0);var i=u.ccclass;u.property,o("InputManager",i("InputManager")(((e=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var u=t.prototype;return u.onLoad=function(){this.reset()},u.reset=function(){t.frameCount=0,t.anyDown=!1,t.anyHold=!1,t.anyUp=!1,t.firstTouchDown=!1,t.firstTouchHold=!1,t.firstTouchUp=!1,t.touchLocation=new c(0,0),t.touchCount=0},u.update=function(o){t.firstTouchDown&&(1==t.frameCount?(t.firstTouchDown=!1,t.anyDown=!1,t.frameCount=2,t.firstTouchHold=!0,t.anyHold=!0):0==t.frameCount&&(t.frameCount=1)),t.firstTouchUp&&(2==t.frameCount?(t.firstTouchHold=!1,t.anyHold=!1,t.frameCount=3):3==t.frameCount&&(t.anyUp=!1,t.firstTouchUp=!1,t.touchLocation=c.ZERO,t.frameCount=0))},u.onTouchStart=function(o){t.touchCount++,t.firstTouchDown=!0,t.anyDown=!0,t.touchLocation=o.getLocation()},u.onTouchEndOrCancel=function(o){console.log("onTouchEndOrCancel"),t.touchCount=0,t.anyUp=!0,t.firstTouchUp=!0,t.touchLocation=o.getLocation(),this.reset()},u.onTouchMove=function(o){t.touchLocation=o.getLocation()},t}(r)).frameCount=0,e.anyDown=!1,e.anyHold=!1,e.anyUp=!1,e.firstTouchDown=!1,e.firstTouchHold=!1,e.firstTouchUp=!1,e.touchLocation=new c(0,0),e.touchCount=0,a=e))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Invisible.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./Powerup.ts"],(function(e){"use strict";var i,t,r,n,o,a,u,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator},function(e){u=e.VFX_PLAYER},function(e){l=e.Powerup}],execute:function(){var c,s,p,f,b,v;o._RF.push({},"eb1989qidxJraas8nqgILjV","Invisible",void 0);var _=a.ccclass,m=a.property;e("Invisible",_("Invisible")((p=i((s=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"m_defaultDuration",p,n(i)),r(i,"m_lv1Duration",f,n(i)),r(i,"m_lv2Duration",b,n(i)),r(i,"m_lv3Duration",v,n(i)),i}return t(i,e),i.prototype.onLoad=function(){this.collectVFXType=u.INVISIBLE_COLLECT},i}(l)).prototype,"m_defaultDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),f=i(s.prototype,"m_lv1Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),b=i(s.prototype,"m_lv2Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=i(s.prototype,"m_lv3Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),c=s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts","./Segment.ts","./LevelManager.ts","./Constants.ts","./GameHelper.ts","./MainMenuDebug.ts","./Pooling.ts","./BaseObject.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,s,c,u,g,h,p,P,d,m,f,w,b,S,v,I,C,O,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime,l=e.createClass},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,g=e.CCInteger,h=e.CCFloat,p=e.log,P=e.instantiate,d=e.Component},function(e){m=e.RunningGameManager},function(e){f=e.Segment},function(e){w=e.LevelManager},function(e){b=e.POOL_OBJECT_NAMES,S=e.POOL_OBJECT_TYPE,v=e.default},function(e){I=e.GameHelper},function(e){C=e.MainMenuDebug},function(e){O=e.Pooling},function(e){R=e.BaseObject}],execute:function(){var _,D,E,y,Z,z,L,k,x,T,N,A,G,j,M,F,B,H,V;s._RF.push({},"85f4b1Ipj9PLqEFZxQ6uYbm","ItemPool",void 0);var Y=c.ccclass,J=c.property;e("ItemPool",(_=Y("ItemPool"),D=J(u),E=J(u),y=J({type:g,min:0,max:100,slide:!0}),Z=J({type:h,min:0,max:100,slide:!0}),_(((V=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"poolObstacleContainer",k,r(t)),t.poolSegments=[],t.runningSegments=[],i(t,"poolSegmentContainer",x,r(t)),t.rangeGenerate=-5,t.currentPartPosZ=[],t.lastElementPosZ=0,t.loopPartLength=0,t.loadedPatterns=[],t.loadedPartId=-1,t.m_runningPartId=-1,t.lastPartData=null,i(t,"diceRollPercent",T,r(t)),i(t,"addNewDiceRollPercent",N,r(t)),i(t,"powerupDuration",A,r(t)),i(t,"centerRollPercentage",G,r(t)),i(t,"currentPowerupDuration",j,r(t)),i(t,"nextPowerupRight",M,r(t)),i(t,"willSpawnPowerup",F,r(t)),i(t,"isPowerupActivated",B,r(t)),i(t,"nextDiceRoll",H,r(t)),t.m_runningSegmentId=0,t._loadObstacleCallback=null,t._loadSegmentCallback=null,t}n(t,e);var s=t.prototype;return s.poolingObstacleGet=function(e){var t=this.poolObstacleContainer.children.findIndex((function(t){return t.name==b[e]})),n=null;if(n=-1!=t?this.poolObstacleContainer.children[t]:O.getInstance().getObject(e)){var i=n.getComponent(R);i&&(i.objetType=e)}return n},s.poolingObstaclePut=function(e,t){t&&(t.name=b[e],t.setParent(this.poolObstacleContainer),t.active=!1)},s.spawnPowerup=function(){this.currentPowerupDuration>=this.powerupDuration&&(this.isPowerupActivated||(this.willSpawnPowerup=!1,I.getRndIntegerInclusive(0,100)<=this.diceRollPercent&&(this.willSpawnPowerup=!0,this.nextDiceRoll=I.getRndIntegerInclusive(0,100),this.nextPowerupRight=!(this.nextDiceRoll>=50+this.centerRollPercentage),this.centerRollPercentage>0?this.centerRollPercentage=this.nextPowerupRight?0:this.centerRollPercentage+this.addNewDiceRollPercent:this.centerRollPercentage<0?this.centerRollPercentage=this.nextPowerupRight?this.centerRollPercentage-this.addNewDiceRollPercent:0:this.centerRollPercentage=this.nextPowerupRight?this.centerRollPercentage-this.addNewDiceRollPercent:this.centerRollPercentage+this.addNewDiceRollPercent),this.currentPowerupDuration=0));return this.willSpawnPowerup},s.initPowerupSpawning=function(){this.centerRollPercentage=0,this.currentPowerupDuration=0,this.nextPowerupRight=!1,this.willSpawnPowerup=!0,this.isPowerupActivated=!1},s.updatePowerupSpawning=function(e){this.currentPowerupDuration+=e},s.getLoadedPartID=function(){return this.loadedPartId},s.onLoad=function(){t.Instance=this,this.clear(),0==this.lastElementPosZ&&(this.lastElementPosZ=-w.Instance.m_DistanceFromStartLineToGenerateObs),this.rangeGenerate=-150},s.unloadElements=function(){this.runningSegments.forEach((function(e){e.getComponent(f).unloadElements()}));for(var e=[].concat(this.poolObstacleContainer.children),t=e.length-1;t>=0;t--)this.unloadObstacle(e[t])},s.unloadObstacle=function(e){if(e){var t=S.NONE,n=e.getComponent(R);n&&(t=n.objectType,n.unloadAnim(),console.log("Object",t)),t!=S.NONE&&O.getInstance().putObject(t,e)}},s.clear=function(){this.poolSegmentContainer.removeAllChildren(),this.poolObstacleContainer.removeAllChildren(),this.poolSegments=[],this.runningSegments=[],p("ItemPool","clear")},s.start=function(){},s.onDestroy=function(){},s.init=function(){var e=this;return new Promise(a(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initPowerupSpawning(),m.Instance.isInTutorial?(e.showObsTutorial(),n()):(e.updateLoading(),e.scheduleOnce((function(){e.updateLoading(),n()}),.01));case 2:case"end":return t.stop()}}),t)}))))},s.showObsTutorial=function(){if(m.Instance.isInTutorial){this.lastElementPosZ=-w.Instance.m_TutorialDistanceFromStartLineToGenerateObs;var e=P(w.Instance.currentSessionData.obsTutorial);e.setParent(this.poolSegmentContainer);var t=e.getComponent(f);t.resizeSegment(-1),t.loadElements();var n=e.getPosition();n.z=this.lastElementPosZ-w.Instance.getPadding2Obs()-e.getComponent(f).m_nearestZ,e.setPosition(n),this.lastElementPosZ=n.z+e.getComponent(f).m_furthestZ,e.active=!0,this.runningSegments.push(e),this.lastElementPosZ-=w.Instance.m_DistanceFromStartLineToGenerateObs}},s.loadAllObstacles=function(){var e=this;return new Promise((function(t){for(var n=[],i=S.NONE+1;i<S.COUNT;i++)for(var r=O.getInstance().getObjectSize(i),a=0;a<r;a++){var o=O.getInstance().getObject(i);if(o){n.push(o),o.name=b[i],o.setPosition(0,0,0),o.setScale(1,1,1);var l=o.getComponent(R);l&&(l.objectType=i)}}var s=0;e._loadObstacleCallback=function(){if(s>=n.length)return e.unschedule(e._loadObstacleCallback),e._loadObstacleCallback=null,void e.scheduleOnce((function(){n.forEach((function(e){e.active=!1})),n.length=0,t()}),1);var i=n[s];if(i){var r=i.getComponent(R);r&&r.loadAnim(),i.active=!0,e.poolObstacleContainer.addChild(i)}s++},e.schedule(e._loadObstacleCallback)}))},s.loadAllSegments=function(){var e=this;return new Promise(a(o().mark((function t(n){var i,r,a,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=null,e.currentPartPosZ.splice(0,e.currentPartPosZ.length),a=e.lastElementPosZ,l=0,e._loadSegmentCallback=function(){if(l>w.Instance.currentSessionData.size)return e.unschedule(e._loadSegmentCallback),e._loadSegmentCallback=null,void n();var t=l;l==w.Instance.currentSessionData.size&&(t=w.Instance.currentSessionData.size-1);var o=a;e.lastPartData=w.Instance.currentSessionData.getPartData(t),i=e.lastPartData.m_SegmentList;for(var s=0;s<i.length;s++){var c=i[s],u=(r=P(c.m_Prefab)).getComponent(f);u.segmentID=s,u.removeEditorVisualChildren(),e.poolSegmentContainer.addChild(r),r.active=!1,e.poolSegments.push(r);var g=c.totalTime*c.maxSpeed;u.resizeSegment(g);var h=u.m_nearestZ,p=u.m_furthestZ,d=w.Instance.getPadding2Obs();a=a-d-h+p}e.loopPartLength=o-a,e.currentPartPosZ.push(a),a-=w.Instance.getPadding2Parts(),l++},e.schedule(e._loadSegmentCallback);case 7:case"end":return t.stop()}}),t)}))))},s.updateLoading=function(){var e=m.Instance.playerPivot.getPosition().z+v.PLAYER_POS_Z;0==this.loadedPatterns.length?this.loadedPartId!=this.runningPartId&&-1!=this.loadedPartId||(this.loadedPartId++,this.loadedPatterns=w.Instance.currentSessionData.getPatternNames(this.loadedPartId),this.loadedPartId>=1&&(this.lastElementPosZ-=w.Instance.getPadding2Parts()),this.loadedPartId>=this.currentPartPosZ.length&&(this.currentPartPosZ[this.currentPartPosZ.length]=this.lastElementPosZ-this.loopPartLength)):e<this.lastElementPosZ+v.SEGMENT_LOAD_RANGE*C.getDeviceProfile().ViewScale&&this.generateSegments();for(var t=0,n=0;n<this.currentPartPosZ.length;n++)e<this.currentPartPosZ[n]&&(t=n+1);t>this.runningPartId&&(this.runningPartId=t,this.m_runningSegmentId=0)},s.update=function(e){m.IsPause||(this.updateLoading(),this.updatePowerupSpawning(e))},s.generateSegments=function(){if(0!=this.loadedPatterns.length){for(var e=null,t=0;t<this.poolSegments.length;t++)if(this.poolSegments[t].name==this.loadedPatterns[0]){var n=(e=this.poolSegments.splice(t,1)[0]).active;e.active=!0,e.getComponent(f)&&e.getComponent(f).loadElements(),e.active=n;break}if(null!=e){var i;p("Segment",e.name,e);var r=e.getPosition(),a=e.getComponent(f).m_nearestZ,o=e.getComponent(f).m_furthestZ,l=w.Instance.getPadding2Obs();r.z=this.lastElementPosZ-a,this.lastElementPosZ=r.z+o,e.setPosition(r),this.lastElementPosZ-=l,e.active=!0,null==(i=e.getComponent(f))||i.checkVisibleElements(),this.runningSegments.push(e)}this.loadedPatterns.splice(0,1)}},l(t,[{key:"NextPowerupRight",get:function(){return this.nextPowerupRight}},{key:"WillSpawnPowerup",get:function(){return this.willSpawnPowerup},set:function(e){this.willSpawnPowerup=e}},{key:"IsPowerupActivated",get:function(){return this.isPowerupActivated},set:function(e){this.isPowerupActivated=e}},{key:"runningPartId",get:function(){return this.m_runningPartId},set:function(e){this.m_runningPartId=e,p("m_runningPartId",this.m_runningPartId)}},{key:"runningSegmentId",get:function(){return this.m_runningSegmentId},set:function(e){this.m_runningSegmentId=e,p("m_runningSegmentId",this.m_runningSegmentId)}},{key:"poolLength",get:function(){return this.loadedPatterns.length}}]),t}(d)).Instance=null,k=t((L=V).prototype,"poolObstacleContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"poolSegmentContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"diceRollPercent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),N=t(L.prototype,"addNewDiceRollPercent",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12.5}}),A=t(L.prototype,"powerupDuration",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),G=t(L.prototype,"centerRollPercentage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(L.prototype,"currentPowerupDuration",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(L.prototype,"nextPowerupRight",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=t(L.prototype,"willSpawnPowerup",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=t(L.prototype,"isPowerupActivated",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=t(L.prototype,"nextDiceRoll",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=L))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/LabelCameraUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./MainMenuManager.ts","./ProgressionManager.ts","./MainMenuBlockout.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,l,c,h,u,p,d,b,_,f,U,w,O,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Node,l=t.Enum,c=t.v3,h=t.UIOpacity,u=t.Label,p=t.UITransform,d=t.tween,b=t.Component},function(t){_=t.default},function(t){f=t.MainMenuManager,U=t.MainMenuEvent},function(t){w=t.PROGRESSION_TYPE,O=t.ProgressionManager},function(t){I=t.MainMenuBlockout}],execute:function(){var E,g,C,v,m,y,S,k,M,N,P,D,H,L;o._RF.push({},"419b5ijOHxOc6+KI+9p5FLq","LabelCameraUpdate",void 0);var T,R=s.ccclass,j=s.property;!function(t){t[t.NONE=0]="NONE",t[t.SHOW=1]="SHOW",t[t.HIDE=2]="HIDE"}(T||(T={}));t("LabelCameraUpdate",(E=R("LabelCameraUpdate"),g=j(),C=j(r),v=j({type:l(w)}),m=j(r),E((k=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._camera3D=null,n(e,"followedObjectPath",k,a(e)),n(e,"followedObject",M,a(e)),n(e,"additionalX",N,a(e)),n(e,"additionalY",P,a(e)),n(e,"alwaysShow",D,a(e)),n(e,"progression",H,a(e)),n(e,"container",L,a(e)),e.state=void 0,e._hideTime=0,e._tweenShow=null,e._tweenHide=null,e._uiOpacity=null,e._labelTitle=null,e._updateUICallback=void 0,e._stopUpdateUICallback=void 0,e._progressionUpdateCallback=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t;this.node.setPosition(c(-9999,-9999)),this.followedObject||(this.followedObject=f.Instance.node.parent.getChildByPath(this.followedObjectPath)),this._uiOpacity=this.getComponent(h),this.setState(T.NONE),this._labelTitle=this.node.getComponentInChildren(u),this._updateUICallback=this.onUpdateUI.bind(this),_.GetInstance().addEventListener(U.MOVE_CAMERA_END,this._updateUICallback),this._stopUpdateUICallback=this.onStopUpdateUI.bind(this),_.GetInstance().addEventListener(U.MOVE_CAMERA,this._stopUpdateUICallback),this._progressionUpdateCallback=this.onUpdateUI.bind(this),_.GetInstance().addEventListener(U.UPDATE_PROGRESSION,this._progressionUpdateCallback),this.container=null==(t=this.getComponentInChildren(p))?void 0:t.node},o.onDestroy=function(){_.GetInstance().removeEventListener(U.MOVE_CAMERA_END,this._updateUICallback),this._updateUICallback=null,_.GetInstance().removeEventListener(U.MOVE_CAMERA,this._stopUpdateUICallback),this._stopUpdateUICallback=null,_.GetInstance().removeEventListener(U.UPDATE_PROGRESSION,this._progressionUpdateCallback),this._progressionUpdateCallback=null},o.onStopUpdateUI=function(){this.stopTweens(),this.container&&(this.container.active=!1),this.setState(T.NONE)},o.onCheckProgression=function(){return!(this.progression!=w.NONE&&!O.checkFunctionUnlocked(this.progression))||(this.node.setPosition(-9999,-9999),this.container&&(this.container.active=!1),!1)},o.onUpdateUI=function(){if(this.onCheckProgression()&&this._camera3D&&this.followedObject){var t=this._camera3D.convertToUINode(this.followedObject.getWorldPosition(),this.node.parent);t.x+=this.additionalX,t.y+=this.additionalY,this.node.setPosition(t),this._hideTime=0,this.setState(T.SHOW)}},o.stopTweens=function(){this._tweenShow&&(this._tweenShow.stop(),this._tweenShow=null),this._tweenHide&&(this._tweenHide.stop(),this._tweenHide=null)},o.setState=function(t){switch(t){case T.NONE:this._uiOpacity&&(this._uiOpacity.opacity=0),this.container&&(this.container.active=!1);break;case T.SHOW:t!=this.state&&(this.container&&(this.container.active=!0),this._tweenShow||(this._tweenShow=d(this._uiOpacity).to(.25,{opacity:255}).start()));break;case T.HIDE:}this.state=t},o.update=function(t){this.state==T.SHOW&&(this._hideTime+=t,this._hideTime>=1.75&&this.setState(T.HIDE))},o.start=function(){this._camera3D=I.Instance.camera,this.onUpdateUI()},e}(b)).prototype,"followedObjectPath",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=e(S.prototype,"followedObject",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"additionalX",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(S.prototype,"additionalY",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=e(S.prototype,"alwaysShow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(S.prototype,"progression",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.NONE}}),L=e(S.prototype,"container",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LabelLocalize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FontLocalize.ts","./GameResourceManager.ts","./i18n.ts"],(function(e){"use strict";var t,i,a,l,n,r,o,s,c,u,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Label,s=e.CCString,c=e.Component},function(e){u=e.FontLocalize},function(e){p=e.GameResourceManager},function(e){b=e.language}],execute:function(){var f,h,L,y,g,z,C,d,m;n._RF.push({},"2f27ev51htNaYo4eFer58m4","LabelLocalize",void 0);var v=r.ccclass,k=r.property,F=r.requireComponent;e("default",(f=F(o),h=k(s),L=k(),y=k(),v(g=f((C=t((z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"key",C,l(t)),a(t,"capitalizeAll",d,l(t)),a(t,"capitalizeFirstLetter",m,l(t)),t.label=null,t._labelCallback=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.label=this.getComponent(o),this._labelCallback=this.updateLabel.bind(this),b.addListener(this._labelCallback),this.getComponent(u)||(this.label.font=p.Instance.paytoneOneFont),"onlyFont"!=this.key&&this.updateLabel()},n.onDestroy=function(){b.removeListener(this._labelCallback),this._labelCallback=null},n.updateLabel=function(){if(this.label){var e=b.t(this.key);if(this.capitalizeAll)e=e.toUpperCase();else if(this.capitalizeFirstLetter){for(var t=e.split(" "),i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].slice(1).toLowerCase();e=t.join(" ")}this.label.string=e}},t}(c)).prototype,"key",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=t(z.prototype,"capitalizeAll",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=t(z.prototype,"capitalizeFirstLetter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=z))||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc","./en.ts","./fr.ts","./de.ts","./ru.ts","./ar.ts"],(function(a){"use strict";var t,n,e,r,u,g;return{setters:[function(a){t=a.cclegacy},function(a){n=a.en},function(a){e=a.fr},function(a){r=a.de},function(a){u=a.ru},function(a){g=a.ar}],execute:function(){t._RF.push({},"b0b4a1A5b1JgJgL89wIJ1rX","LanguageData",void 0);a("LanguageData",{en:n,fr:e,de:r,ru:u,ar:g,default:n}),a("LANGUAGE_ID",["en","fr","de","ru","ar"]),a("LANGUAGE_STRING",["str_language_en","str_language_fr","str_language_de","str_language_ru","str_language_ab"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./LanguageData.ts","./MainMenuSettings.ts"],(function(t){"use strict";var n,e,i,a,o,s,r,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,a=t.Sprite,o=t.Label,s=t.Component},function(t){r=t.language},function(t){c=t.LANGUAGE_ID},function(t){u=t.MainMenuSettings}],execute:function(){var g;e._RF.push({},"02cdacObwlKboAiGuDLpUjF","LanguageItemList",void 0);var I,l,p=i.ccclass;i.property;!function(t){t.ICON="ButtonBooster",t.TITLE="Title"}(I||(I={})),function(t){t[t.INACTIVE=0]="INACTIVE",t[t.ACTIVE=1]="ACTIVE"}(l||(l={}));t("LanguageItemList",p("LanguageItemList")(g=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).langId="",n}n(e,t);var i=e.prototype;return i.onLoad=function(){},i.init=function(t,n){this.langId=t;c.indexOf(this.langId);this.node.getChildByName(I.ICON).getComponent(a).spriteFrame=u.Instance.btnLangSpriteFrames[l.INACTIVE],this.node.getChildByName(I.ICON).getChildByName(I.TITLE).getComponent(o).string=r.t(n)},i.onItemClicked=function(){u.Instance.onLanguageItemClicked(this.langId)},i.enableItem=function(t){this.node.getChildByName(I.ICON).getComponent(a).spriteFrame=1==t?u.Instance.btnLangSpriteFrames[l.ACTIVE]:u.Instance.btnLangSpriteFrames[l.INACTIVE]},e}(s))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameResourceManager.ts","./SessionData.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,u,c,m,l,p,_,d,b,f,g,S,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,m=e.Node,l=e.Enum,p=e.game,_=e.Component,d=e.instantiate,b=e.log},function(e){f=e.PLAYER_CHARACTER,g=e.SLUSTER_DIFFICULTY,S=e.EnvironmentType},function(e){h=e.GameResourceManager},function(e){y=e.SessionData}],execute:function(){var D,L,P,v,E,w,T,M,I,O,R,z,C,x,A,k,B,j,F,G,N,H;u._RF.push({},"20360Yy+iBJ9I/xYbhbQbIB","LevelManager",void 0);var Y=c.ccclass,Q=c.property;e("LevelManager",(D=Y("LevelManager"),L=Q(m),P=Q({type:l(f)}),D(((H=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_TestTutorial",w,r(t)),i(t,"m_BeginnerScoreLimit",T,r(t)),i(t,"m_SemiProScoreLimit",M,r(t)),i(t,"m_ProScoreLimit",I,r(t)),i(t,"m_InitialMCSpeed",O,r(t)),i(t,"m_AccelerationPart",R,r(t)),i(t,"m_DynamicObjectSpeed",z,r(t)),i(t,"m_DynamicObjectActiveRange",C,r(t)),i(t,"m_ExtraShieldTime",x,r(t)),t.m_ShieldTime=10,t.m_ShieldPenaltyPerHit=3,t.m_MagnetDuration=10,t.m_StamperDuration=6,t.m_CoinNumber=5,t.m_DuperDuration=6,t.m_DuperMaxDistance=75,i(t,"m_MegaHopDuration",A,r(t)),t.m_startingQTEItem=1,t.m_bonusQTESpawnDistance=750,t.m_RevivalShieldDuration=3,t.m_BonusPowerupLvl=4,t.m_CoinSwipeValue=1,i(t,"m_DistanceFromStartLineToGenerateObs",k,r(t)),i(t,"m_TutorialDistanceFromStartLineToGenerateObs",B,r(t)),i(t,"m_LaneDistance",j,r(t)),i(t,"m_Editor",F,r(t)),i(t,"m_EditorSession",G,r(t)),i(t,"m_EditorCharacter",N,r(t)),t._lastDifficulty=g.BEGINNER,t.headStartCurrentDistance=0,t.headStartMaxDistance=0,t.m_speedMin=0,t.m_padding2Obs=0,t.m_padding2Parts=0,t.m_currentEnvironmentId=S.TROPICAL,t.m_currSessionData=null,t.randomPowerups=[],t}n(t,e);var u=t.prototype;return u.getDynamicObjectSpeed=function(){return this.m_DynamicObjectSpeed},u.getDynamicObjectActiveRange=function(){return this.m_DynamicObjectActiveRange},u.getInvisibleTime=function(){return this.m_ExtraShieldTime},u.getSpeedMin=function(){return 0},u.getCurrentEnvironmentId=function(){return this.m_currentEnvironmentId},u.getPadding2Obs=function(){return this.m_padding2Obs},u.getPadding2Parts=function(){return this.m_padding2Parts},u.generateRandom=function(){this.randomPowerups=[];for(var e=0;e<50;e++)this.randomPowerups.push(Math.random())},u.onLoad=function(){p.isPersistRootNode(this.node)||p.addPersistRootNode(this.node),t.Instance=this,this.m_speedMin=this.m_InitialMCSpeed},u.loadSessionDataByName=function(){var e=o(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!this.m_Editor){e.next=5;break}n=this.m_EditorSession,e.next=8;break;case 5:return e.next=7,h.Instance.loadSession(t);case 7:n=e.sent;case 8:n&&(this.m_currSessionData=d(n).getComponent(y),this.m_padding2Obs=this.m_currSessionData.m_Padding2Obs,this.m_padding2Parts=this.m_currSessionData.m_Padding2Parts,this.m_currentEnvironmentId=this.m_currSessionData.m_EnvironmentType,b("LevelManager","LOAD SESSION",t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a(t,[{key:"BeginnerScoreLimit",get:function(){return this.m_BeginnerScoreLimit}},{key:"SemiProScoreLimit",get:function(){return this.m_SemiProScoreLimit}},{key:"ProScoreLimit",get:function(){return this.m_ProScoreLimit}},{key:"headStartProgress",get:function(){return 0==this.headStartMaxDistance?0:this.headStartCurrentDistance/this.headStartMaxDistance}},{key:"currentSessionData",get:function(){return this.m_currSessionData}}],[{key:"lastSession",get:function(){return this._lastSession},set:function(e){this._lastSession=e}}]),t}(_)).Instance=null,H._lastSession=null,w=t((E=H).prototype,"m_TestTutorial",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=t(E.prototype,"m_BeginnerScoreLimit",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),M=t(E.prototype,"m_SemiProScoreLimit",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=t(E.prototype,"m_ProScoreLimit",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),O=t(E.prototype,"m_InitialMCSpeed",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),R=t(E.prototype,"m_AccelerationPart",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),z=t(E.prototype,"m_DynamicObjectSpeed",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),C=t(E.prototype,"m_DynamicObjectActiveRange",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),x=t(E.prototype,"m_ExtraShieldTime",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),A=t(E.prototype,"m_MegaHopDuration",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),k=t(E.prototype,"m_DistanceFromStartLineToGenerateObs",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),B=t(E.prototype,"m_TutorialDistanceFromStartLineToGenerateObs",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),j=t(E.prototype,"m_LaneDistance",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),F=t(E.prototype,"m_Editor",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=t(E.prototype,"m_EditorSession",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(E.prototype,"m_EditorCharacter",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.MILKY}}),v=E))||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/LifeUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts"],(function(n){"use strict";var i,t,e,s,a,o;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,s=n.Animation,a=n.Component},function(n){o=n.RunningGameManager}],execute:function(){var u;t._RF.push({},"ad2c1pKAHNLHIx+cG/2M72r","LifeUp",void 0);var r=e.ccclass;e.property,n("LifeUp",r("LifeUp")(u=function(n){function t(){for(var i,t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return(i=n.call.apply(n,[this].concat(e))||this).m_animation=null,i.m_isPause=!1,i.isPulled=!1,i}i(t,n);var e=t.prototype;return e.onLoad=function(){this.m_animation=this.node.getComponent(s)},e.reset=function(){this.node.active=!0,this.m_animation&&(this.m_animation.stop(),this.m_animation.play())},e.update=function(n){!this.m_isPause&&o.IsPause?(this.m_animation.pause(),this.m_isPause=!0):!o.IsPause&&this.m_isPause&&(this.m_animation.resume(),this.m_isPause=!1)},t}(a))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateAlbedo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./LightUpdateManager.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,h,c,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Color,h=t.MeshRenderer,c=t.Component},function(t){l=t.EventName},function(t){p=t.default},function(t){u=t.LightUpdateManager}],execute:function(){var g,d,f,L,v;r._RF.push({},"c39a2xbGkBJYKLlRJrirzah","LightUpdateAlbedo",void 0);var y=a.ccclass,b=a.property;t("LightUpdateAlbedo",(g=y("LightUpdateAlbedo"),d=b(s),g((v=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"colors",v,o(e)),e.mesh=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){p.GetInstance().addEventListener(l.CHANGE_LIGHT,this.onChangeLight.bind(this)),this.mesh=this.getComponent(h)},r.start=function(){this.onUpdateLight(u.Instance.lightType)},r.onDestroy=function(){p.GetInstance().removeEventListener(l.CHANGE_LIGHT,this.onChangeLight.bind(this))},r.onChangeLight=function(t){this.onUpdateLight(t.parameters.type)},r.onUpdateLight=function(t){if(this.colors&&0!=this.colors.length&&this.mesh)for(var e=0;;e++){var n=this.mesh.getMaterial(e);if(!n||!n.passes[0])break;n.setProperty("mainColor",this.colors[t])}},e}(c)).prototype,"colors",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=L))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateAmbient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LightUpdateBase.ts","./LightUpdateManager.ts"],(function(e){"use strict";var t,o,n,i,r,s,l,g,a,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Color,g=e.director},function(e){a=e.LIGHT_TRANSITION_TIMES,c=e.LightUpdateBase},function(e){u=e.LightUpdateManager}],execute:function(){var h,p,f,b,d,y,C,w,L;r._RF.push({},"06e01WO+I9M+KtFzycKAwBi","LightUpdateAmbient",void 0);var S=s.ccclass,m=s.property;e("LightUpdateAmbient",(h=S("LightUpdateAmbient"),p=m(l),f=m(l),b=m(l),h((C=t((y=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"groundColors",C,i(t)),n(t,"skyColors",w,i(t)),n(t,"fogColors",L,i(t)),t.tweenSky=null,t.tweenGround=null,t.tweenFog=null,t}return o(t,e),t.prototype.onUpdateLight=function(e,t){if(void 0===t&&(t=!1),this.groundColors&&0!=this.groundColors.length){u.Init||(t=!0);var o=this.groundColors[e],n=this.skyColors[e],i=this.fogColors[e];t?(g.getScene().scene.globals.ambient.groundLightingColor=o,g.getScene().scene.globals.ambient.skyLightingColor=n,g.getScene().scene.globals.fog.fogColor=i):(this.tweenFog&&this.tweenFog.stop(),this.tweenFog=this.tweenColor(g.getScene().scene.globals.fog.fogColor.clone(),i,g.getScene().scene.globals.fog,"fogColor",a[e]),this.tweenSky&&this.tweenSky.stop(),this.tweenSky=this.tweenColor(g.getScene().scene.globals.ambient.skyLightingColor,n,g.getScene().scene.globals.ambient,"skyLightingColor",a[e]))}},t}(c)).prototype,"groundColors",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(y.prototype,"skyColors",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(y.prototype,"fogColors",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts"],(function(t){"use strict";var e,n,r,a,i,s,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,a=t.tween,i=t.Component},function(t){s=t.EventName,o=t.LIGHT_TYPE},function(t){u=t.default}],execute:function(){var c;n._RF.push({},"7a7d4aAeStIc5znMgAa2r/R","LightUpdateBase",void 0);var g=r.ccclass;r.property,t("LIGHT_TRANSITION_TIMES",[15,15,30,5]),t("LightUpdateBase",g("LightUpdateBase")(c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).lightType=o.MORNING,e.listener=null,e}e(n,t);var r=n.prototype;return r.onLoad=function(){this.listener=this.onChangeLight.bind(this),u.GetInstance().addEventListener(s.CHANGE_LIGHT,this.listener),this.onUpdateLight(this.lightType,!0)},r.onDestroy=function(){u.GetInstance().removeEventListener(s.CHANGE_LIGHT,this.listener)},r.onChangeLight=function(t){var e=t.parameters.type,n=t.parameters.force;(this.lightType!=e||n)&&this.onUpdateLight(e,n),this.lightType=e},r.onUpdateLight=function(t,e){},r.tweenMaterial=function(t,e,n,r,i){if(!n.getProperty(r))return null;var s=t.clone();return a({num:0}).to(i,{num:1},{progress:function(a,i,o,u){return s.r=t.r+(e.r-t.r)*u,s.g=t.g+(e.g-t.g)*u,s.b=t.b+(e.b-t.b)*u,s.a=t.a+(e.a-t.a)*u,n.passes&&n.setProperty(r,s),a+(i-a)*u}}).start()},r.tweenColor=function(t,e,n,r,i,s){if(void 0===s&&(s=0),t.r==e.r&&t.g==e.g&&t.b==e.b)return null;var o=t.clone();return a({num:0}).delay(s).to(i,{num:1},{progress:function(a,i,s,u){return o.r=t.r+(e.r-t.r)*u,o.g=t.g+(e.g-t.g)*u,o.b=t.b+(e.b-t.b)*u,o.a=t.a+(e.a-t.a)*u,n[r]=o,a+(i-a)*u}}).start()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateLight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LightUpdateBase.ts","./LightUpdateManager.ts"],(function(t){"use strict";var o,i,e,r,n,l,s,h,c,a,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,s=t.Color,h=t.DirectionalLight},function(t){c=t.LIGHT_TRANSITION_TIMES,a=t.LightUpdateBase},function(t){g=t.LightUpdateManager}],execute:function(){var p,u,d,L,f;n._RF.push({},"f7614m8hzJMS6gstIvvCwp6","LightUpdateLight",void 0);var _=l.ccclass,v=l.property,y=function(){function t(){this.color=void 0}return t.prototype.BindTarget=function(t){this.color=t},t}();t("LightUpdateLight",(p=_("LightUpdateLight"),u=v(s),p((f=o((L=function(t){function o(){for(var o,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return o=t.call.apply(t,[this].concat(n))||this,e(o,"colors",f,r(o)),o.light=null,o.tweenLight=null,o._bindColor=new y,o._tweenColor=null,o}i(o,t);var n=o.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),this.light=this.getComponent(h)},n.onUpdateLight=function(t,o){void 0===o&&(o=!1),g.Init||(o=!0),this.colors&&0!=this.colors.length&&(o?this.light&&(this.light.color=this.colors[t],this._bindColor.color=this.colors[t]):this.light&&(this._tweenColor&&this._tweenColor.stop(),this._tweenColor=this.tweenColor(this.light.color,this.colors[t],this.light,"color",c[t])))},o}(a)).prototype,"colors",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=L))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var e,n,r,i,a,o,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Enum,s=t.Component},function(t){p=t.LIGHT_TYPE}],execute:function(){var u,l,g,h,f,y;a._RF.push({},"4b769qvEAxJd6UTQ3XThQOz","LightUpdateManager",void 0);var d=o.ccclass,L=o.property;t("LightUpdateManager",(u=d("LightUpdateManager"),l=L({type:c(p)}),u(((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"lightType",f,i(e)),e}return n(e,t),e.prototype.onLoad=function(){e.Instance=this},e}(s)).Instance=null,y.Init=!1,f=e((h=y).prototype,"lightType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.MORNING}}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/LightUpdateMesh.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts","./LightUpdateBase.ts","./LightUpdateManager.ts"],(function(e){"use strict";var s,i,t,o,r,a,n,h,p,l,c,f;return{setters:[function(e){s=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,n=e.Color,h=e.MeshRenderer},function(e){p=e.RunningGameManager},function(e){l=e.LIGHT_TRANSITION_TIMES,c=e.LightUpdateBase},function(e){f=e.LightUpdateManager}],execute:function(){var u,m,v,g,d,y,M;r._RF.push({},"87ec2r1ueJMBZ+qOZvqvG83","LightUpdateMesh",void 0);var b=a.ccclass,L=a.property;e("LightUpdateMesh",(u=b("LightUpdateMesh"),m=L(n),v=L(n),u((y=s((d=function(e){function s(){for(var s,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return s=e.call.apply(e,[this].concat(r))||this,t(s,"colors",y,o(s)),t(s,"emissiveColors",M,o(s)),s.mesh=null,s._albedoTweens=[],s._emissiveTweens=[],s}i(s,e);var r=s.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.mesh=this.getComponent(h)},r.onDestroy=function(){e.prototype.onDestroy.call(this),this._emissiveTweens.forEach((function(e){e&&e.stop()})),this._albedoTweens.forEach((function(e){e&&e.stop()}))},r.onUpdateAlbedo=function(e,s){if(void 0===s&&(s=!1),this.colors&&0!=this.colors.length)if(s){if(this.mesh)for(var i=0;;i++){var t=this.mesh.getMaterial(i);if(!(t&&t.passes&&0!=t.passes.length&&t.passes[0]&&t.passes[0].properties.mainColor))break;t.setProperty("mainColor",this.colors[e])}}else if(this.mesh){this._albedoTweens.forEach((function(e){e&&e.stop()}));for(var o=0;;o++){var r=this.mesh.getMaterial(o);if(!r||!r.passes||0==r.passes.length||!r.passes[0]||!r.passes[0].properties.mainColor||p.IsPause)break;this._albedoTweens[o]=this.tweenMaterial(r.getProperty("mainColor"),this.colors[e],r,"mainColor",l[e])}}},r.onUpdateEmissive=function(e,s){if(void 0===s&&(s=!1),this.emissiveColors&&0!=this.emissiveColors.length)if(s){if(this.mesh)for(var i=0;;i++){var t=this.mesh.getMaterial(i);if(!(t&&"AO"!=t.name&&t.passes&&0!=t.passes.length&&t.passes[0]&&t.passes[0].properties.emissive))break;t.setProperty("emissive",this.emissiveColors[e])}}else if(this.mesh){this._emissiveTweens.forEach((function(e){e&&e.stop()}));for(var o=0;;o++){var r=this.mesh.getMaterial(o);if(!r||"AO"==r.name||!r.passes||0==r.passes.length||!r.passes[0]||!r.passes[0].properties.emissive||p.IsPause)break;this._emissiveTweens[o]=this.tweenMaterial(r.getProperty("emissive"),this.emissiveColors[e],r,"emissive",l[e])}}},r.onUpdateLight=function(e,s){void 0===s&&(s=!1),f.Init||(s=!0),this.onUpdateAlbedo(e,s),this.onUpdateEmissive(e,s)},s}(c)).prototype,"colors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=s(d.prototype,"emissiveColors",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=d))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PersistPopup.ts"],(function(t){"use strict";var n,o,i,e,s,a,r,c,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Label,c=t.Component},function(t){l=t.POPUP_INDEX},function(t){u=t.PersistPopup}],execute:function(){var h,d,p,b,f,_;s._RF.push({},"da589rPcgNLLJsNqs3eH45W","Loading",void 0);var g=a.ccclass,C=a.property;t("Loading",(h=g("Loading"),d=C(r),h(((_=function(t){function n(){for(var n,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"labelLoading",f,e(n)),n._buttonCallback=null,n._showCount=0,n}o(n,t);var s=n.prototype;return s.onLoad=function(){n.Instance=this,this.node.active=!1},s.isShow=function(){return this.node.active},s.show=function(t){void 0===t&&(t=""),this.labelLoading.string=t,this.labelLoading.node.active=""!=t,this.node.active=!0,u.Instance.node.setSiblingIndex(l.PERSIST_POPUP),this._showCount<0&&(this._showCount=0),this._showCount++},s.hide=function(){this._showCount--,this._showCount<=0&&(this._buttonCallback=null,this.node.active=!1,this._showCount=0)},s.onButtonClicked=function(){this._buttonCallback&&this._buttonCallback()},n}(c)).Instance=null,f=n((b=_).prototype,"labelLoading",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizeObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(e){"use strict";var t,i,n,o,r,c,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,l=e.Component},function(e){u=e.language}],execute:function(){var s,p,b,f,h,d,y,z,j,g,O;r._RF.push({},"6e452M1QahNV4/SQmk1WTNZ","LocalizeObject",void 0);var L=c.ccclass,v=c.property,m=(s=L("LocalizeObjectData"),p=v(a),s((h=t((f=function(){i(this,"type",h,this),i(this,"ndo",d,this)}).prototype,"type",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=t(f.prototype,"ndo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b);e("LocalizeObject",(y=L("LocalizeObject"),z=v([m]),y((O=t((g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"localizeObjects",O,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){u.addListener(this.updateObject.bind(this)),this.updateObject()},r.updateObject=function(){this.localizeObjects.forEach((function(e){e.ndo.active=e.type==u.language}))},t}(l)).prototype,"localizeObjects",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=g))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/MagicClock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Powerup.ts"],(function(c){"use strict";var t,r,o,e;return{setters:[function(c){t=c.inheritsLoose},function(c){r=c.cclegacy,o=c._decorator},function(c){e=c.Powerup}],execute:function(){var i;r._RF.push({},"2b60fUa8vtJkakrVHCC6IOp","MagicClock",void 0);var n=o.ccclass;o.property,c("MagicClock",n("MagicClock")(i=function(c){function r(){return c.apply(this,arguments)||this}return t(r,c),r}(e))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/Magnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./Powerup.ts"],(function(t){"use strict";var e,n,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.VFX_PLAYER},function(t){c=t.Powerup}],execute:function(){var s;n._RF.push({},"88db2SUpEhHC4rFlfAsKxdV","Magnet",void 0);var u=o.ccclass;o.property,t("Magnet",u("Magnet")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onLoad=function(){this.collectVFXType=r.MAGNET_COLLECT},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./encrypt.ts","./LabelLocalize.ts","./I18n2.ts","./I18nResolver.ts","./i18n.ts","./ArtCheckManager.ts","./ExportLevelDesign.ts","./GameHelper.ts","./QTEItemPosition.ts","./QTECharacterController.ts","./QTEController.ts","./QTEEnvironment.ts","./QTEManagerBase.ts","./QTEPlayer.ts","./QTEPlayerName.ts","./QTEPositionProgress.ts","./QTEProgress.ts","./QTEProgressWave.ts","./QTETransition.ts","./QTETutorialPopup.ts","./QTEVFX.ts","./BirdieVFX.ts","./HitZone.ts","./QTE1Input.ts","./QTE1Manager.ts","./QTE1Player.ts","./QTE2Input.ts","./QTE2Lane.ts","./QTE2Manager.ts","./QTE2Note.ts","./QTE2Player.ts","./QTE3Crab.ts","./QTE3Hat.ts","./QTE3Input.ts","./QTE3LevelDesign.ts","./QTE3Manager.ts","./QTE3Player.ts","./ShowHideUI.ts","./TestBlackScene.ts","./TestSpeedScene.ts","./Test_Modify_Effect.ts","./TrackingConfig.ts","./TrackingData.ts","./TrackingEvents.ts","./TrackingManager.ts","./TrackingMgr.ts","./uuidv4.mjs_cjs=&original=.js","./AccessoryItem.ts","./AccessoryItemList.ts","./CharacterAccessoryCtrl.ts","./BarrelHit.ts","./BarrelIdle.ts","./BarrelInit.ts","./HydrantAction.ts","./HydrantInit.ts","./ObstacleVFXState.ts","./Constants.ts","./AnimationTextureRandom.ts","./AnimationTriggerCtrl.ts","./CurveMaterialConstantSearch.ts","./CurveMaterialManager.ts","./CurveMaterialSearch.ts","./VFXPool.ts","./LanguageData.ts","./ar.ts","./de.ts","./en.ts","./fr.ts","./ru.ts","./EditorElement.ts","./EditorLoading.ts","./LocalizeObject.ts","./CharacterAnimCtrlMainMenu.ts","./FontLocalize.ts","./LabelCameraUpdate.ts","./MainMenuA2H.ts","./MainMenuAchievement.ts","./MainMenuBlockout.ts","./MainMenuDailyRewards.ts","./MainMenuDebug.ts","./MainMenuEvents.ts","./MainMenuLeaderboard.ts","./MainMenuReward.ts","./MainMenuSettings.ts","./MainMenuShop.ts","./MainMenuTouchItem.ts","./MainMenuUnlock.ts","./MainmenuAccessory.ts","./MainmenuBoosterVisible.ts","./MainMenuLeaderboardItem.ts","./NameRichText.ts","./MainmenuLocation.ts","./MainmenuNotification.ts","./Milky.ts","./Progression2DButton.ts","./QRScan.ts","./QRScanRewardManager.ts","./Schoki.ts","./BaseLoading.ts","./EventManager.ts","./GameResourceManager.ts","./MainMenuCanvas.ts","./MainMenuManager.ts","./NetworkManager.ts","./ProgressionManager.ts","./RunningGameManager.ts","./SoundManager.ts","./Splash.ts","./Splash_Editor.ts","./TutorialCanvas.ts","./UserDataManager.ts","./MarketingManager.ts","./Crypto.ts","./Define.ts","./OnlineMgr.ts","./axios.mjs_cjs=&original=.js","./encode_decode.ts","./AI.ts","./AIManager.ts","./AnimationSocketCtrl.ts","./AnimationUpdate.ts","./BackpackAnimCtrl.ts","./BackpackVFX.ts","./BaseObject.ts","./Bee.ts","./CharacterAnimCtrl.ts","./CharacterVFX.ts","./Collectible.ts","./Crab.ts","./Crate.ts","./CurveManager.ts","./EnvironmentPool.ts","./EnvironmentTile.ts","./ProfileTile.ts","./TileObjectRandom.ts","./InputManager.ts","./ItemPool.ts","./LevelManager.ts","./LifeUp.ts","./LightUpdateAlbedo.ts","./LightUpdateAmbient.ts","./LightUpdateBase.ts","./LightUpdateLight.ts","./LightUpdateManager.ts","./LightUpdateMesh.ts","./RotateUpdateLight.ts","./Pooling.ts","./Obstacle.ts","./ObstacleVFX.ts","./Player.ts","./PlayerBackpack.ts","./PlayerMagnet.ts","./PlayerManager.ts","./RemotePlayer.ts","./Rock.ts","./RollingRock.ts","./RollingRockAccelerate.ts","./RollingRockBig.ts","./Segment.ts","./SessionData.ts","./TutorialObs.ts","./DialogueDistanceTrigger.ts","./TutorialHideObject.ts","./TutorialManager.ts","./TutorialRockFail.ts","./BackPack.ts","./BackpackHint.ts","./CharacterUIFollow.ts","./EditBoxFlex.ts","./HandTutorial.ts","./PopupGameOver.ts","./PopupManager_AP.ts","./PopupQTE.ts","./ReadyLabel.ts","./UIManager.ts","./VFXCharacterText.ts","./SpriteAspectRatio.ts","./Sticker.ts","./StickerSelector.ts","./VideoCamera.ts","./Umbrella.ts","./HyperBoostCurve.ts","./VolleyballNet.ts","./BoosterItemList.ts","./Coin.ts","./CoinDrop.ts","./BaseCollectible.ts","./Boots.ts","./CoinDuper.ts","./CollectedCoin.ts","./Invisible.ts","./MagicClock.ts","./Magnet.ts","./MegaHop.ts","./Powerup.ts","./PowerupItemList.ts","./QTECollectible.ts","./Stamper.ts","./SweepSense.ts","./LanguageItemList.ts","./ObstacleParticleVFX.ts","./AchievementItemlist.ts","./DailyMissionManager.ts","./DailyRewardManager.ts","./MissionItemList.ts","./SplashCreateUsername.ts","./SplashDataConflict.ts","./SplashDataConflictSaveItem.ts","./SplashLogin.ts","./SplashMask.ts","./SplashPrivacy.ts","./SplashStart.ts","./TipLoader.ts","./Start.ts","./AnimationPopup.ts","./BoosterProgress.ts","./BoosterSelected.ts","./Boosters.ts","./CharacterSelect.ts","./CoinUpdate.ts","./Dialogue.ts","./ErrorPopup.ts","./GameoverCharacter.ts","./GameplayExit.ts","./Loading.ts","./MatchFriend.ts","./ParentalConsent.ts","./PersistPopup.ts","./PowerupProgress.ts","./PrivacyPolicy.ts","./PrivateMode.ts","./QTEItem.ts","./SelectMode.ts","./Transition.ts","./ParallaxBG.ts","./UIQTE.ts","./UIScale.ts","./VFXManager.ts","./WaitingRoom.ts","./flash.ts","./colyseus.mjs_cjs=&original=.js"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenuA2H.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameHelper.ts","./MainMenuManager.ts"],(function(n){"use strict";var e,t,i,o,a,r,c,u,s,l,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node,u=n.Component},function(n){s=n.GameHelper},function(n){l=n.MainMenuManager,p=n.POPUPTYPE_MM}],execute:function(){var M,f,d,h,v;a._RF.push({},"8aa3at1awNL4Z3OQpv/1G8/","MainMenuA2H",void 0);var _=r.ccclass,E=r.property;n("MainMenuA2H",(M=_("MainMenuA2H"),f=E(c),M((v=e((h=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"iosTutorialNode",v,o(e)),e}t(e,n);var a=e.prototype;return a.onEnable=function(){this.iosTutorialNode&&(this.iosTutorialNode.active=s.isIOSSafari())},a.onOKClicked=function(){var n=new Event("confirm_install_app");window.dispatchEvent(n),l.Instance.checkLastPopupAndShow(p.ADD_TO_HOMESCREEN,!1)},a.onCloseClicked=function(){l.Instance.checkLastPopupAndShow(p.ADD_TO_HOMESCREEN,!1)},e}(u)).prototype,"iosTutorialNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainmenuAccessory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./GameResourceManager.ts","./NetworkManager.ts","./UserDataManager.ts","./CharacterAnimCtrl.ts","./Pooling.ts","./MainMenuBlockout.ts"],(function(e){"use strict";var s,t,i,c,r,n,o,a,l,h,y,A,u,m,k,C,_,f,d,p,g,I,b,S,R,E,v,M;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,c=e.assertThisInitialized,r=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,h=e.Camera,y=e.Node,A=e.Animation,u=e.v3,m=e.Component,k=e.SkeletalAnimation},function(e){C=e.CharacterAccessoryCtrl},function(e){_=e.PLAYER_CHARACTER,f=e.AccessoryType,d=e.ACCESSORY_ITEMS},function(e){p=e.GameResourceManager},function(e){g=e.NetworkManager},function(e){I=e.UserDataManager},function(e){b=e.CharacterAnimCtrl,S=e.CHARACTER_ANIM,R=e.CHARACTER_ANIM_CONTEXT,E=e.CHARACTER_ANIMS},function(e){v=e.Pooling},function(e){M=e.MainMenuBlockout}],execute:function(){var O,w,H,N,T,L,P,D,Y,K;a._RF.push({},"ebb92MrKYFB64akfR3MMvgj","MainmenuAccessory",void 0);var B=l.ccclass,x=l.property,U="camera_lobby",F="camera_select_accessory",z="camera_choosen_character",G="camera_select_character",j="milky_lobby_left",X="milky_lobby_right",q="milky_normal",J="milky_choosen_center",Q="milky_not_choosen",V="milky_choosen_center_rotate",W="schoki_lobby_left",Z="schoki_lobby_right",$="schoki_normal",ee="schoki_choosen_center",se="schoki_not_choosen",te="schoki_choosen_center_rotate",ie=e("CAMERA_STATES",{LOBBY:0,ON_BOARD:1,CHOOSEN_ACCESSORY_CHARACTER:2,SELECT_ACCESSORY_CHARACTER:3,CHOOSEN_ACCESSORY_CHARACTER_ROTATE:4});e("AccessoryProfile",(function(){this.head="",this.body="",this.leg=""})),e("MainmenuAccessory",(O=B("MainmenuAccessory"),w=x(h),H=x(y),N=x(y),O(((K=function(e){function s(){for(var s,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return s=e.call.apply(e,[this].concat(r))||this,i(s,"camera",P,c(s)),i(s,"milkyContainer",D,c(s)),i(s,"schokiContainer",Y,c(s)),s._milkyNode=null,s._schokiNode=null,s._cameraAnimation=null,s._milkyContainerAnimation=null,s._schokiContainerAnimation=null,s._milkyAnim=null,s._schokiAnim=null,s._milkyAccessoryCtrl=null,s._schokiAccessoryCtrl=null,s._state=void 0,s._lastAccessory="",s._lastSchokiAccessory="",s._chosenCharId=_.MILKY,s._chosenType=f.Head,s.currentMilkyProfile={head:"",body:"",leg:""},s.currentSchokiProfile={head:"",body:"",leg:""},s}t(s,e);var a=s.prototype;return a.show=function(){this.node.active=!0},a.hide=function(){this.node.active=!1},a.onLoad=function(){s.Instance=this,this._cameraAnimation=this.camera.getComponent(A),this._milkyContainerAnimation=this.milkyContainer.getComponent(A),this._schokiContainerAnimation=this.schokiContainer.getComponent(A)},a.start=function(){this.updateCharacterAccessory(!1)},a.unloadCharacters=function(){var e,s;null==(e=this._milkyAccessoryCtrl)||e.unloadElements(),null==(s=this._schokiAccessoryCtrl)||s.unloadElements();for(var t=[].concat(this._milkyAnim.clips),i=t.length-1;i>=0;i--){var c=t[i];c.name!=b.getAnimName(S.IDLE)&&(console.log("remove anim",c.name),this._milkyAnim.removeClip(c,!0))}v.getInstance().putRig(_.MILKY,this._milkyNode);for(var r=(t=[].concat(this._schokiAnim.clips)).length-1;r>=0;r--){var n=t[r];n.name!=b.getAnimName(S.IDLE)&&(console.log("remove anim",n.name),this._schokiAnim.removeClip(n,!0))}v.getInstance().putRig(_.SCHOKI,this._schokiNode)},a.initCharacters=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._milkyNode=v.getInstance().getRig(_.MILKY),this._milkyNode&&(this.milkyContainer.addChild(this._milkyNode),this._milkyAnim=this._milkyNode.getComponent(k),this._milkyAccessoryCtrl=this._milkyNode.getComponent(C),this._milkyAccessoryCtrl.character=_.MILKY),this._schokiNode=v.getInstance().getRig(_.SCHOKI),this._schokiNode&&(this.schokiContainer.addChild(this._schokiNode),this._schokiAnim=this._schokiNode.getComponent(k),this._schokiAccessoryCtrl=this._schokiNode.getComponent(C),this._schokiAccessoryCtrl.character=_.SCHOKI);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadAnimations=function(){var e=n(o().mark((function e(){var s,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._milkyAnim){e.next=2;break}return e.abrupt("return");case 2:if(this._schokiAnim){e.next=4;break}return e.abrupt("return");case 4:s=R.ACCESSORY,t=Object.entries(E).filter((function(e){e[0];var t=e[1];return!!(t&&t.context&&t.context.includes(s))})).map((function(e){return e[1]})),this.loadAnimation(this._milkyAnim,_.MILKY,t),this.loadAnimation(this._schokiAnim,_.SCHOKI,t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadAnimation=function(){var e=n(o().mark((function e(s,t,i){var c,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:c=o().mark((function e(c){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i[c],e.next=3,p.Instance.loadCharacterAnimation(t,r);case 3:n=e.sent,s.addClip(n),s.clips.find((function(e){return e.name==r}))||s.addClip(n);case 7:case"end":return e.stop()}}),e)})),r=0;case 4:if(!(r<i.length)){e.next=9;break}return e.delegateYield(c(r),"t0",6);case 6:r++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})));return function(s,t,i){return e.apply(this,arguments)}}(),a.updateCharacterAccessory=function(e){if(e){var t=g.Instance.milkyAccessory,i=g.Instance.schokiAccessory;s.Instance.updateAccessories(!0,t),s.Instance.updateAccessories(!1,i)}else null!=I.Instance.accessoryData&&(this.currentMilkyProfile=I.Instance.accessoryData.wornAccessory.milky,this.currentSchokiProfile=I.Instance.accessoryData.wornAccessory.schoki,this.wearAccessory(this._milkyAccessoryCtrl,this.currentMilkyProfile),this.wearAccessory(this._schokiAccessoryCtrl,this.currentSchokiProfile),this.wearAccessory(M.Instance.milkyAccessoryCtrl,this.currentMilkyProfile),this.wearAccessory(M.Instance.schokiAccessoryCtrl,this.currentSchokiProfile))},a.wearAccessory=function(e,s){e&&s&&(e.unUseAllAccessory(),e.useAccessory(s.head),e.useAccessory(s.body),e.useAccessory(s.leg))},a.changeCameraState=function(e,s){switch(this._state=e,e){case ie.LOBBY:this._cameraAnimation.play(U),this.updateCharacterAccessory(!1);break;case ie.ON_BOARD:this._cameraAnimation.play(G),this.updateCharacterAccessory(!0);break;case ie.SELECT_ACCESSORY_CHARACTER:this._cameraAnimation.play(F),this.updateCharacterAccessory(!1);break;case ie.CHOOSEN_ACCESSORY_CHARACTER:this._cameraAnimation.play(z)}this.chooseCharacter(s)},a.playAnimation=function(e){this.playCharcterAnim(!0,e),this.playCharcterAnim(!1,e)},a.playCharcterAnim=function(e,s){if(this._milkyAnim&&this._schokiAnim){var t=b.getAnimName(s);e?this._milkyAnim.play(t):this._schokiAnim.play(t)}},a.loadAllAccessories=function(){var e=[];for(var s in d)e.push(s);this._milkyAccessoryCtrl.loadAccessories(e),this._schokiAccessoryCtrl.loadAccessories(e)},a.updateAccessories=function(){var e=n(o().mark((function e(s,t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,i=s?this._milkyAccessoryCtrl:this._schokiAccessoryCtrl){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,i.loadAccessories(t);case 6:i.updateAccessories(t);case 7:case"end":return e.stop()}}),e,this)})));return function(s,t){return e.apply(this,arguments)}}(),a.showCharacter=function(e,s){this._milkyAnim&&this._schokiAnim&&(e?this._milkyAnim.node.active=s:this._schokiAnim.node.active=s)},a.chooseCharacter=function(e){switch(this._state){case ie.LOBBY:this._milkyContainerAnimation.play(e?X:j),this._schokiContainerAnimation.play(e?W:Z),this.playCharcterAnim(e,S.IDLE),this.playCharcterAnim(!e,S.IDLE);break;case ie.ON_BOARD:this._milkyContainerAnimation.play(e?X:j),this._schokiContainerAnimation.play(e?W:Z),this.playCharcterAnim(e,S.FIDGET),this.playCharcterAnim(!e,S.FIDGET);break;case ie.SELECT_ACCESSORY_CHARACTER:this._milkyContainerAnimation.play(q),this._schokiContainerAnimation.play($);break;case ie.CHOOSEN_ACCESSORY_CHARACTER:this._milkyContainerAnimation.play(e?J:Q),this._schokiContainerAnimation.play(e?se:ee);break;case ie.CHOOSEN_ACCESSORY_CHARACTER_ROTATE:this._milkyContainerAnimation.play(e?V:Q),this._schokiContainerAnimation.play(e?se:te)}},a.useAccessory=function(e,s){void 0===s&&(s=-1),this._milkyAccessoryCtrl&&this._milkyAccessoryCtrl.useAccessory(e,s),this._schokiAccessoryCtrl&&this._schokiAccessoryCtrl.useAccessory(e,s)},a.unUseAccessory=function(e){this._milkyAccessoryCtrl&&this._milkyAccessoryCtrl.unUseAccessory(e),this._schokiAccessoryCtrl&&this._schokiAccessoryCtrl.unUseAccessory(e)},a.unUseAllAccessory=function(){this._milkyAccessoryCtrl&&this._milkyAccessoryCtrl.unUseAllAccessory(),this._schokiAccessoryCtrl&&this._schokiAccessoryCtrl.unUseAllAccessory(),this._lastAccessory=""},a.checkCharId=function(e){if(this._milkyAccessoryCtrl){if(this._milkyAccessoryCtrl.checkAccessoriesCharId(e))return _.MILKY}if(this._schokiAccessoryCtrl){if(this._schokiAccessoryCtrl.checkAccessoriesCharId(e))return _.SCHOKI}return-1},a.resetAccessory=function(e,t){var i;if(t==_.MILKY)switch(e){case f.Head:i=this.currentMilkyProfile.head,this.useAccessory(this.currentMilkyProfile.head,f.Head);break;case f.Body:i=this.currentMilkyProfile.body,this.useAccessory(this.currentMilkyProfile.body,f.Body);break;case f.Leg:i=this.currentMilkyProfile.leg,this.useAccessory(this.currentMilkyProfile.leg,f.Leg)}else if(t==_.SCHOKI)switch(e){case f.Head:i=this.currentSchokiProfile.head,this.useAccessory(this.currentSchokiProfile.head,f.Head);break;case f.Body:i=this.currentSchokiProfile.body,this.useAccessory(this.currentSchokiProfile.body,f.Body);break;case f.Leg:i=this.currentSchokiProfile.leg,this.useAccessory(this.currentSchokiProfile.leg,f.Leg)}s.Instance._lastAccessory=i},a.rotateCharacter=function(e,s){var t=e?this.milkyContainer:this.schokiContainer,i=u(t.eulerAngles);i.y+=s,t.setRotationFromEuler(i)},a.saveAccessory=function(e,s,t){switch(void 0===s&&(s=-1),void 0===t&&(t=-1),s){case f.Head:t==_.MILKY?I.Instance.accessoryData.wornAccessory.milky.head=e:t==_.SCHOKI&&(I.Instance.accessoryData.wornAccessory.schoki.head=e);break;case f.Body:t==_.MILKY?I.Instance.accessoryData.wornAccessory.milky.body=e:t==_.SCHOKI&&(I.Instance.accessoryData.wornAccessory.schoki.body=e);break;case f.Leg:t==_.MILKY?I.Instance.accessoryData.wornAccessory.milky.leg=e:t==_.SCHOKI&&(I.Instance.accessoryData.wornAccessory.schoki.leg=e)}this.currentMilkyProfile=I.Instance.accessoryData.wornAccessory.milky,this.currentSchokiProfile=I.Instance.accessoryData.wornAccessory.schoki,I.Instance.saveAccessoryData()},r(s,[{key:"state",get:function(){return this._state}}]),s}(m)).Instance=null,P=s((L=K).prototype,"camera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=s(L.prototype,"milkyContainer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=s(L.prototype,"schokiContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=L))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuAchievement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./AchievementItemlist.ts","./TrackingEvents.ts","./TrackingMgr.ts","./MainMenuBlockout.ts"],(function(e){"use strict";var t,n,i,a,r,o,c,u,s,l,p,h,m,f,v,d,I,b,R,S,w,N,g,M,C,T,A,D,L,y,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,s=e.Node,l=e.Prefab,p=e.Label,h=e.Sprite,m=e.SpriteFrame,f=e.ScrollView,v=e.Component,d=e.instantiate},function(e){I=e.language},function(e){b=e.AchievementDefine,R=e.AudioSrc,S=e.MM_ANIM,w=e.RewardType,N=e.BoosterDefine,g=e.BoosterType},function(e){M=e.MainMenuManager,C=e.POPUPTYPE_MM},function(e){T=e.SoundManager},function(e){A=e.UserDataManager},function(e){D=e.AchievementItemlist},function(e){L=e.default},function(e){y=e.FeatureName},function(e){E=e.MainMenuBlockout}],execute:function(){var _,k,O,F,z,P,B,H,x,V,U,G,K,j,W,q,Y,Q,J,X,Z,$,ee,te,ne,ie;c._RF.push({},"40eec/ERqxAMIBfNGqP8tzR","MainMenuAchievement",void 0);var ae=u.ccclass,re=u.property;e("REWARD_COIN_ICON",0),e("REWARD_BOOSTER_ICON",1),e("MainMenuAchievement",(_=ae("MainMenuAchievement"),k=re(s),O=re(l),F=re(p),z=re(s),P=re(h),B=re(p),H=re(s),x=re(p),V=re(m),U=re(m),G=re(f),_(((ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"contentNode",W,a(t)),i(t,"achievementItem",q,a(t)),i(t,"coinNumber",Y,a(t)),i(t,"popupRwReceived",Q,a(t)),i(t,"rwReceivedIcon",J,a(t)),i(t,"rwReceivedLabel",X,a(t)),i(t,"popupInfo",Z,a(t)),i(t,"popupInfoTxt",$,a(t)),i(t,"rewardSprite",ee,a(t)),i(t,"rwReceivedSprite",te,a(t)),i(t,"achiScrollView",ne,a(t)),t.achievementDataList=null,t.itemHeight=0,t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=y.ACHIEVEMENT,t.isMMFeatureSent=!1,t}n(t,e);var c=t.prototype;return c.onLoad=function(){t.Instance=this},c.show=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.updateCoinNumber(),this.contentNode.removeAllChildren(),this.popupRwReceived.active=!1,!A.Instance.achievementData){e.next=7;break}if(!(A.Instance.achievementData.achievementList.length>0)){e.next=7;break}return e.next=7,this.loadData();case 7:this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,L.Send_FEATURE_FINISHED(M.Instance.featureName,M.Instance.featureTimeSpent));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.loadData=function(){var e=r(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.achievementDataList=A.Instance.achievementData.achievementList,this.updateItemStatus(),this.sortItem(),t=0;t<this.achievementDataList.length;t++)n=d(this.achievementItem),this.contentNode.addChild(n),n.getComponent(D).init(this.achievementDataList[t]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onTutorialCheckHaveCompletedItem=function(){return this.achievementDataList[0].isCompleted&&!this.achievementDataList[0].isClaimed?this.contentNode.children[0].getComponent(D).btnClaim.node.getPathInHierarchy():""},c.onTutorialClaim=function(){this.achievementDataList[0].isCompleted&&!this.achievementDataList[0].isClaimed&&this.contentNode.children[0].getComponent(D).onButtonClaimClick()},c.sortItem=function(){this.achievementDataList=this.achievementDataList.sort((function(e,t){return Number(t.isCompleted)-Number(e.isCompleted)})),this.achievementDataList=this.achievementDataList.sort((function(e,t){return Number(e.isClaimed)-Number(t.isClaimed)}))},c.updateItemStatus=function(){for(var e=Object.keys(b).length,t=0;t<this.achievementDataList.length;t++)for(var n=this.achievementDataList[t],i=0;i<e;i++){var a=b[n.id];if(n.id==Number(Object.keys(b)[i])){n.counter>=a.value&&!n.isCompleted&&(n.isCompleted=!0,L.Send_ACHIEVEMENT_FINISHED(a.trackingName),A.Instance.achievementData.achievementList[t]=n,A.Instance.saveAchievementData());break}}},c.updateCoinNumber=function(){this.coinNumber.string=""+A.Instance.coinWallet},c.update=function(e){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(L.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0))},c.onClose=function(){T.Instance.playOneShot(R.UI_BACK),M.Instance.checkLastPopupAndShow(C.ACHIEVEMENT,!1),this.isMMFeatureSent=!1,L.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),E.Instance.playMenuAnim(S.QRSCAN)},c.onButtonMission=function(){M.Instance.checkLastPopupAndShow(C.DAILY_MISSIONS,!0),this.node.active=!1},c.onRewardReceived=function(e,t){switch(e){case w.COINS:this.rwReceivedLabel.string="+"+t,this.rwReceivedIcon.spriteFrame=this.rwReceivedSprite[this.rwReceivedSprite.length-1];break;case w.BOOSTERS:var n=t,i=N[n].name;this.rwReceivedLabel.string=I.t(i);var a=N[n];if(a.type==g.COIN_BOOST){var r=100*a.effect_value;this.rwReceivedLabel.string=this.rwReceivedLabel.string.replace("{number}",""+r)}this.rwReceivedIcon.spriteFrame=this.rwReceivedSprite[n]}this.popupRwReceived.active=!0},c.onClosePopupRwReceived=function(){T.Instance.playOneShot(R.UI_CLICK),this.popupRwReceived.active=!1},c.showPopupInfo=function(e){this.popupInfoTxt.string=e,this.popupInfo.active=!0},c.onPopupInfoOk=function(){this.popupInfo.active=!1},t}(v)).Instance=null,W=t((j=ie).prototype,"contentNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"achievementItem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(j.prototype,"coinNumber",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"popupRwReceived",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"rwReceivedIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(j.prototype,"rwReceivedLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"popupInfo",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"popupInfoTxt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"rewardSprite",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(j.prototype,"rwReceivedSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(j.prototype,"achiScrollView",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=j))||K));c._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuBlockout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameHelper.ts","./EventManager.ts","./MainMenuManager.ts","./UserDataManager.ts","./CharacterAnimCtrl.ts","./Schoki.ts"],(function(n){"use strict";var e,t,i,r,a,s,o,c,u,h,l,m,p,A,M,f,C,d,v,_,y,E,g,w,I,k;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,a=n.createClass,s=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){c=n.cclegacy,u=n._decorator,h=n.Node,l=n.Camera,m=n.tween,p=n.Animation,A=n.Component},function(n){M=n.MM_ANIM,f=n.PLAYER_CHARACTER},function(n){C=n.GameHelper},function(n){d=n.default,v=n.MyEvent},function(n){_=n.MainMenuEvent,y=n.MainMenuManager},function(n){E=n.UserDataManager},function(n){g=n.CHARACTER_ANIM,w=n.CHARACTER_ANIM_CONTEXT,I=n.CHARACTER_ANIMS},function(n){k=n.MainMenuCharacter}],execute:function(){var b,N,T,O,R,x,P,D,L,G,S,Y,B,H,U,z,j,F;c._RF.push({},"0a1d5sJdhpJtYnjieKjiqaN","MainMenuBlockout",void 0);var K=u.ccclass,V=u.property;n("MainMenuBlockout",(b=K("MainMenuBlockout"),N=V(h),T=V(h),O=V(l),R=V(h),x=V(h),P=V(h),b(((F=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a))||this,i(e,"milky",G,r(e)),i(e,"schoki",S,r(e)),i(e,"camera",Y,r(e)),i(e,"presetCameraY",B,r(e)),i(e,"centerIndex",H,r(e)),i(e,"environmentNode",U,r(e)),i(e,"leftArrow",z,r(e)),i(e,"rightArrow",j,r(e)),e._cameraIndex=1,e._tweenCamera=null,e._tweenEnvironment=null,e._mapIndex=0,e._touchable=!0,e._milkyMainMenu=null,e._schokiMainMenu=null,e.mmAnimCtrl=null,e.mmAnimList=[],e}t(e,n);var c=e.prototype;return c.checkTouchable=function(){return this._touchable},c.checkArrows=function(){this.leftArrow.active=!0,this.rightArrow.active=!0},c.nextEnvironment=function(){var n=s(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this._mapIndex+1,t=this.calculateEnvironmentID(e),!this.checkTouchable()){n.next=14;break}return this._touchable=!1,d.GetInstance().dispatchEvent(new v(_.UPDATE_LOCATION,{show:!1})),E.Instance.setEnvironment(t),d.GetInstance().dispatchEvent(new v(_.MOVE_CAMERA_END,{})),d.GetInstance().dispatchEvent(new v(_.UPDATE_PROGRESSION,{})),n.next=10,this.turnEnvironment(e,t);case 10:return this._touchable=!0,this._mapIndex=e,d.GetInstance().dispatchEvent(new v(_.UPDATE_LOCATION,{show:!0})),n.abrupt("return",t);case 14:return n.abrupt("return",-1);case 15:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.prevEnvironment=function(){var n=s(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this._mapIndex-1,t=this.calculateEnvironmentID(e),!this.checkTouchable()){n.next=14;break}return this._touchable=!1,d.GetInstance().dispatchEvent(new v(_.UPDATE_LOCATION,{show:!1})),E.Instance.setEnvironment(t),d.GetInstance().dispatchEvent(new v(_.MOVE_CAMERA_END,{})),d.GetInstance().dispatchEvent(new v(_.UPDATE_PROGRESSION,{})),n.next=10,this.turnEnvironment(e,t);case 10:return this._touchable=!0,this._mapIndex=e,d.GetInstance().dispatchEvent(new v(_.UPDATE_LOCATION,{show:!0})),n.abrupt("return",t);case 14:return n.abrupt("return",-1);case 15:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.calculateEnvironmentID=function(n){return(n+3*(Math.round(Math.abs(n)/3)+1))%3},c.stopEnvironment=function(){this._tweenEnvironment&&this._tweenEnvironment.stop(),this._tweenEnvironment=null},c.turnEnvironment=function(n,e){var t=this;return new Promise((function(i){t.stopEnvironment();var r=t.environmentNode.eulerAngles.clone();r.y=120*n,t._tweenEnvironment=m(t.environmentNode).to(.5,{eulerAngles:r},{easing:"sineOut"}).call((function(){return i(e)})).start(),t.checkArrows(),d.GetInstance().dispatchEvent(new v(_.UPDATE_NOTIFICATION,{}))}))},c.setEnvironmentIndex=function(n){this._mapIndex=n,this.checkArrows(),this.stopEnvironment();var e=this.environmentNode.eulerAngles.clone();e.y=120*n,this.environmentNode.setRotationFromEuler(e),d.GetInstance().dispatchEvent(new v(_.UPDATE_LOCATION,{show:!0}))},c.show=function(){this.node.active=!0},c.hide=function(){this.node.active=!1},c.onLoad=function(){e.Instance=this,this.milky||(this.milky=this.node.getChildByPath("Characters/Milky")),this.schoki||(this.schoki=this.node.getChildByPath("Characters/Schoki")),this.environmentNode||(this.environmentNode=this.node.getChildByPath("MainMenu02/sign/sign")),this.leftArrow||(this.leftArrow=this.node.getChildByPath("MainMenu02/Stage_01/Stage_01/ArrowMeshLeft")),this.rightArrow||(this.rightArrow=this.node.getChildByPath("MainMenu02/Stage_01/Stage_01/ArrowMeshRight")),this.mmAnimCtrl||(this.mmAnimCtrl=this.node.getChildByPath("Characters").getComponent(p)),this._milkyMainMenu=this.milky.getComponent(k),this._schokiMainMenu=this.schoki.getComponent(k),this.mmAnimList=Object.values(M),this.setCameraPage(this.centerIndex),this.setEnvironmentIndex(E.Instance.lobbyData.environment)},c.initCharacters=function(){var n=s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._milkyMainMenu.initCharacter(),this._schokiMainMenu.initCharacter();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.unloadCharacters=function(){var n,e;null==(n=this.milkyAccessoryCtrl)||n.unloadElements(),null==(e=this.schokiAccessoryCtrl)||e.unloadElements(),this._milkyMainMenu.unloadCharacter(),this._schokiMainMenu.unloadCharacter()},c.loadAnimations=function(){var n=s(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=w.BLOCKOUT,t=Object.entries(I).filter((function(n){n[0];var t=n[1];return!!(t&&t.context&&t.context.includes(e))})).map((function(n){return n[1]})),n.next=4,this._milkyMainMenu.loadAnimation(f.MILKY,t);case 4:return n.next=6,this._schokiMainMenu.loadAnimation(f.SCHOKI,t);case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.playAnimation=function(n){this._milkyMainMenu.playAnim(n),this._schokiMainMenu.playAnim(n)},c.turnCameraNextPage=function(){this.turnCameraPage(this._cameraIndex+1)},c.turnCameraPrePage=function(){this.turnCameraPage(this._cameraIndex-1)},c.turnCameraOnCurrentRotation=function(n){void 0===n&&(n=!0);for(var e=this.camera.node.eulerAngles,t=0,i=Math.abs(this.presetCameraY[0]-e.y),r=1;r<this.presetCameraY.length;r++){var a=Math.abs(this.presetCameraY[r]-e.y);a<i&&(t=r,i=a)}this.turnCameraPage(t,n)},c.stopCamera=function(){this._tweenCamera&&this._tweenCamera.stop()},c.setCameraPage=function(n){if(n>=0&&n<this.presetCameraY.length){this._cameraIndex=n,this.stopCamera();var e=this.camera.node.eulerAngles.clone();e.y=this.presetCameraY[n],this.camera.node.setRotationFromEuler(e)}},c.turnCameraPage=function(n,e){if(void 0===e&&(e=!0),n<0&&(n=0),n>=this.presetCameraY.length&&(n=this.presetCameraY.length-1),n>=0&&n<this.presetCameraY.length){1==n&&y.Instance.showRoomNode(!1),this._cameraIndex=n,this.stopCamera();var t=this.camera.node.eulerAngles.clone();t.y=this.presetCameraY[n],this._tweenCamera=m(this.camera.node).to(.5,{eulerAngles:t},{easing:"sineOut"}).call((function(){e&&d.GetInstance().dispatchEvent(new v(_.MOVE_CAMERA_END,{})),1!=n&&y.Instance.showRoomNode(!0)})).start()}},c.playMenuAnim=function(n){switch(n){case M.CHATTING:this.mmAnimCtrl.play(n),this._milkyMainMenu.playAnim(g.CHATTING),this._schokiMainMenu.playAnim(g.CHATTING);break;case M.COLLECTION:case M.QRSCAN:case M.DAILY_MISSION:this.mmAnimCtrl.play(n),this._milkyMainMenu.playAnim(g.LEADERBOARD),this._schokiMainMenu.playAnim(g.LEADERBOARD)}},c.playRandomAnim=function(){if(this.mmAnimList.length>0){var n=C.getRndIntegerInclusive(0,this.mmAnimList.length-1);this.playMenuAnim(this.mmAnimList[n])}},a(e,[{key:"milkyAccessoryCtrl",get:function(){return this._milkyMainMenu?this._milkyMainMenu.accessoryCtrl:null}},{key:"schokiAccessoryCtrl",get:function(){return this._schokiMainMenu?this._schokiMainMenu.accessoryCtrl:null}}]),e}(A)).Instance=null,G=e((L=F).prototype,"milky",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"schoki",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(L.prototype,"camera",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"presetCameraY",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[42,0,-42]}}),H=e(L.prototype,"centerIndex",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(L.prototype,"environmentNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"leftArrow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"rightArrow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));c._RF.pop()}}}));

System.register("chunks:///_virtual/MainmenuBoosterVisible.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./MainMenuManager.ts","./UserDataManager.ts","./Boosters.ts"],(function(e){"use strict";var t,o,r,n,i,a,s,u,c,l,b,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Sprite,u=e.SpriteFrame,c=e.Component},function(e){l=e.default},function(e){b=e.MainMenuEvent},function(e){p=e.UserDataManager},function(e){f=e.Boosters}],execute:function(){var h,d,v,B,m,y,E,M,_;i._RF.push({},"731ackZAFBCe6Z9712yuTv5","MainmenuBoosterVisible",void 0);var g=a.ccclass,D=a.property;e("MainmenuBoosterVisible",(h=g("MainmenuBoosterVisible"),d=D(s),v=D(u),B=D(),h((E=t((y=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"boosterIcon",E,n(t)),r(t,"boosterFrames",M,n(t)),r(t,"invert",_,n(t)),t._updateBoosterCallback=void 0,t}o(t,e);var i=t.prototype;return i.onLoad=function(){this._updateBoosterCallback=this.updateBoosterVisible.bind(this),l.GetInstance().addEventListener(b.UPDATE_SELECTED_BOOSTER,this._updateBoosterCallback),this.updateBoosterVisible()},i.onDestroy=function(){l.GetInstance().removeEventListener(b.UPDATE_SELECTED_BOOSTER,this._updateBoosterCallback),this._updateBoosterCallback=null},i.updateBoosterVisible=function(){var e=p.Instance.lobbyData.booster,t=f.checkBoosterQuantity(e),o=t;o=this.invert?!o:o,this.node.active=o,t&&this.boosterIcon&&this.boosterFrames[e]&&(this.boosterIcon.spriteFrame=this.boosterFrames[e])},t}(c)).prototype,"boosterIcon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(y.prototype,"boosterFrames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(y.prototype,"invert",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=y))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TutorialManager.ts","./MainMenuManager.ts"],(function(n){"use strict";var t,o,a,c,e,i,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,a=n._decorator,c=n.v3,e=n.Component},function(n){i=n.TutorialManager},function(n){u=n.MainMenuManager}],execute:function(){var r;o._RF.push({},"b73b3AdcCVJTbbo/yxj6FYE","MainMenuCanvas",void 0);var s=a.ccclass;a.property,n("MainMenuCanvas",s("MainMenuCanvas")(r=function(n){function o(){for(var t,o=arguments.length,a=new Array(o),e=0;e<o;e++)a[e]=arguments[e];return(t=n.call.apply(n,[this].concat(a))||this)._touchStartLoc=c(),t}t(o,n);var a=o.prototype;return a.onDialogClicked=function(){i.Instance.onTutorialClick()},a.onPlayWithFriend=function(){u.Instance.onButtonPrivate()},a.onPlayOnline=function(){u.Instance.onButtonPublic()},a.onSettings=function(){u.Instance.onSettingsButtonClicked()},a.onTouchStart=function(n){console.log("MainMenuCanvas","onTouchStart",n.getUILocation()),this._touchStartLoc.x=n.getUILocation().x,this._touchStartLoc.y=n.getUILocation().y},a.onTouchEndOrCancel=function(n){console.log("MainMenuCanvas","onTouchEndOrCancel",n.getUILocation());var t=n.getUILocation().x-this._touchStartLoc.x;Math.abs(t)<=25?console.log("button"):t>0?console.log("swipe right"):console.log("swipe left"),this._touchStartLoc.x=0,this._touchStartLoc.y=0},o}(e))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuDailyRewards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameHelper.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./DailyRewardManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts"],(function(e){"use strict";var t,a,n,r,i,o,s,c,l,u,C,d,I,p,m,y,g,h,D,f,N,E,A,L,R,w,b,B,S,M,_,v,T,O,U,W,F,V,x,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.SpriteFrame,u=e.Node,C=e.Button,d=e.Prefab,I=e.Label,p=e.Sprite,m=e.UIOpacity,y=e.math,g=e.instantiate,h=e.Component},function(e){D=e.language},function(e){f=e.AudioSrc,N=e.DailyRewardFirstWeek,E=e.DailyRewardNormal,A=e.RewardType,L=e.AccessoryKey,R=e.SaveDataNames,w=e.ACCESSORY_ITEMS,b=e.BoosterId,B=e.BoosterDefine},function(e){S=e.GameHelper},function(e){M=e.MainMenuManager,_=e.POPUPTYPE_MM},function(e){v=e.SoundManager},function(e){T=e.UserDataManager},function(e){O=e.DailyRewardManager},function(e){U=e.default},function(e){W=e.FeatureName,F=e.IncomeSource,V=e.GameScreen,x=e.ItemName},function(e){G=e.Loading}],execute:function(){var k,P,Y,z,H,K,q,J,j,Q,X,Z,$,ee,te,ae,ne,re;s._RF.push({},"43ad2a8d3FBGLw0wKrLu7cW","MainMenuDailyRewards",void 0);var ie,oe,se,ce,le=c.ccclass,ue=c.property;!function(e){e[e.FUTURE=0]="FUTURE",e[e.CLAIMED=1]="CLAIMED",e[e.UNCLAIMED=2]="UNCLAIMED"}(ie||(ie={})),function(e){e.BG="BG",e.REWARD_ICON="Reward Icon",e.RANDOM_INDICATOR="Random Indicator",e.CLAIMED_ICON="Claimed Icon",e.LABEL_DAY="Label Day",e.LABEL_RW="Label Reward"}(oe||(oe={})),function(e){e[e.UNCLAIMED=255]="UNCLAIMED",e[e.CLAIMED=50]="CLAIMED"}(se||(se={})),function(e){e[e.FUTURE=0]="FUTURE",e[e.UNCLAIMED=1]="UNCLAIMED",e[e.CLAIMED=2]="CLAIMED"}(ce||(ce={}));var Ce=[[23,90,143],[164,90,9],[74,74,74]],de=[[0,173,237],[164,90,9],[74,74,74]];e("MainMenuDailyRewards",(k=le("MainMenuDailyRewards"),P=ue(l),Y=ue(l),z=ue(u),H=ue(C),K=ue(d),q=ue(u),J=ue(I),k(((re=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"bgClaimSprite",X,r(t)),n(t,"rewardSprite",Z,r(t)),n(t,"rewardContainer",$,r(t)),n(t,"btnClaim",ee,r(t)),n(t,"vfxPrefab",te,r(t)),n(t,"popupInfo",ae,r(t)),n(t,"txtInfo",ne,r(t)),t.rewardVfx=null,t.rewardNodes=[],t.currentDayNode=null,t.closeTimer=0,t.CLOSE_DURATION=2,t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=W.DAILY_REWARD,t}a(t,e);var s=t.prototype;return s.onLoad=function(){t.Instance=this},s.onEnable=function(){O.Instance.currentData=T.Instance.dailyRewardData,this.loadDailyReward(),this.featureTimeSpent=0,v.Instance.playOneShot(f.UI_SELECT),this.popupInfo.active=!1},s.onClose=function(){v.Instance.playOneShot(f.UI_CLICK),M.Instance.checkLastPopupAndShow(_.DAILY_REWARD,!1),U.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent)},s.onClaim=function(){var e=i(o().mark((function e(){var t,a,n,r,i,s,c,l,u,C,d,g,h,D,N,E,L,M;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.Instance.dailyRewardData.isClaimed){e.next=4;break}T.Instance.dailyRewardData.isClaimed=!0,e.next=5;break;case 4:return e.abrupt("return");case 5:this.enableClaimBtn(!1),v.Instance.playOneShot(f.UI_CLAIM_REWARD),t={},a=O.Instance.currentRewardList[O.Instance.currentData.loginDay],n=0,r=x.COINS,i=0,s=0,c=-1,l="",u=!1,e.t0=a.rewardType,e.next=e.t0===A.COINS?19:e.t0===A.BOOSTERS?25:e.t0===A.ACCESSORY?31:37;break;case 19:return r=x.COINS,n=a.rewardValue,i=a.rewardValue,T.Instance.updateCoinAmount(T.Instance.coinWallet+a.rewardValue,!1),t[R.CoinData]=JSON.stringify(T.Instance.coinWallet),e.abrupt("break",37);case 25:for(c=S.getRndIntegerInclusive(0,b.REVIVAL),n=a.rewardValue>1?S.getRndIntegerInclusive(1,a.rewardValue):1,C=0;C<B.length;C++)c==B[C].id&&(r=B[C].trackingName);return T.Instance.boosterData.boosterList[c].quantity+=n,t[R.BoosterData]=JSON.stringify(T.Instance.boosterData),e.abrupt("break",37);case 31:if(n=1,l=a.rewardValue,d=w[l],r=d.trackingId,d)if(T.Instance.isOwnedAccessory(l)){for(c=S.getRndIntegerInclusive(0,b.REVIVAL),n=S.getRndIntegerInclusive(1,2),g=0;g<B.length;g++)c==B[g].id&&(r=B[g].trackingName);T.Instance.boosterData.boosterList[c].quantity+=n,t[R.BoosterData]=JSON.stringify(T.Instance.boosterData)}else u=!0,T.Instance.ownAccessory(l),t[R.AccessoryData]=JSON.stringify(T.Instance.accessoryData);return e.abrupt("break",37);case 37:return t[R.DailyRewardData]=JSON.stringify(T.Instance.dailyRewardData),G.Instance.show(),e.next=41,T.Instance.saveMultipleInventories(t);case 41:h=e.sent,G.Instance.hide(),h?(T.Instance.dailyRewardData.isClaimed=!1,this.enableClaimBtn(!0),T.Instance.updateCoinAmount(T.Instance.coinWallet-n,!1),-1!=c&&(T.Instance.boosterData.boosterList[c].quantity-=n),u&&T.Instance.ownAccessory(l,!1),"Update fail. Please try again",this.showPopupInfo("Update fail. Please try again")):(s=T.Instance.coinWallet,U.Send_CURRENCY_INCOMES(F.DAILY_REWARD,n,r,V.DAILY_REWARD,i,s),this.currentDayNode.getChildByName(oe.LABEL_RW).active=!1,this.currentDayNode.getChildByName(oe.CLAIMED_ICON).active=!0,this.rewardVfx&&(this.rewardVfx.active=!1),this.currentDayNode.getChildByName(oe.BG).getComponent(p).spriteFrame=this.bgClaimSprite[ie.CLAIMED],this.currentDayNode.getChildByName(oe.BG).getComponent(m).opacity=se.CLAIMED,this.currentDayNode.getChildByName(oe.REWARD_ICON).getComponent(m).opacity=se.CLAIMED,D=this.currentDayNode.getChildByName(oe.LABEL_RW).getComponent(I),N=this.currentDayNode.getChildByName(oe.LABEL_DAY).getComponent(I),E=ce.FUTURE,L=Ce[ce.CLAIMED],M=de[E],D.setEntityColor(new y.Color(L[0],L[1],L[2])),N.setEntityColor(new y.Color(M[0],M[1],M[2])),this.closeTimer=this.CLOSE_DURATION);case 44:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.update=function(e){this.closeTimer>0&&(this.closeTimer-=e,this.closeTimer<=0&&(this.closeTimer=0,this.onClose())),this.node.active&&(this.featureTimeSpent+=e,this.featureTimeSpent<this.TRACKING_INTERVAL&&this.featureTimeSpent>=this.TRACKING_INTERVAL&&(U.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),this.featureTimeSpent=0))},s.loadDailyReward=function(){if(this.rewardNodes=[].concat(this.rewardContainer.children),this.rewardVfx&&(this.rewardVfx.active=!1),O.Instance.currentData){O.Instance.currentLoginDay=O.Instance.currentData.loginDay,O.Instance.currentData.isFirstWeek?O.Instance.currentRewardList=N:O.Instance.currentRewardList=E;for(var e=0;e<this.rewardNodes.length;e++){var t=this.rewardNodes[e],a=O.Instance.currentRewardList[e],n=t.getChildByName(oe.LABEL_RW).getComponent(I),r=t.getChildByName(oe.LABEL_DAY).getComponent(I),i=t.getChildByName(oe.REWARD_ICON).getComponent(p),o=t.getChildByName(oe.RANDOM_INDICATOR);switch(a.rewardType){case A.COINS:n.string="+"+a.rewardValue,i.spriteFrame=this.rewardSprite[0],i.node.setScale(.8,.8,1),i.node.active=!0,o.active=!1;break;case A.BOOSTERS:n.string=D.t("str_qr_booster"),i.spriteFrame=this.rewardSprite[1],i.node.setScale(.6,.6,1),i.node.active=!1,o.active=!0;break;case A.ACCESSORY:n.string=D.t("str_qr_outfit"),a.rewardValue==L.M_Head_03?i.spriteFrame=this.rewardSprite[3]:a.rewardValue==L.S_Head_09&&(i.spriteFrame=this.rewardSprite[2]),i.node.setScale(.8,.8),i.node.active=!0,o.active=!1}if(e<O.Instance.currentLoginDay){t.getChildByName(oe.LABEL_RW).active=!1,t.getChildByName(oe.CLAIMED_ICON).active=!0,t.getChildByName(oe.BG).getComponent(p).spriteFrame=this.bgClaimSprite[ie.CLAIMED],t.getChildByName(oe.BG).getComponent(m).opacity=se.CLAIMED,t.getChildByName(oe.REWARD_ICON).getComponent(m).opacity=se.CLAIMED;var s=ce.CLAIMED,c=Ce[s],l=de[s];n.setEntityColor(new y.Color(c[0],c[1],c[2])),r.setEntityColor(new y.Color(l[0],l[1],l[2]))}else if(e==O.Instance.currentLoginDay)if(this.currentDayNode=t,O.Instance.currentData.isClaimed){t.getChildByName(oe.LABEL_RW).active=!1,t.getChildByName(oe.CLAIMED_ICON).active=!0,t.getChildByName(oe.BG).getComponent(p).spriteFrame=this.bgClaimSprite[ie.CLAIMED],t.getChildByName(oe.BG).getComponent(m).opacity=se.CLAIMED,t.getChildByName(oe.REWARD_ICON).getComponent(m).opacity=se.CLAIMED,this.enableClaimBtn(!1);var u=ce.CLAIMED,C=Ce[u],d=de[u];n.setEntityColor(new y.Color(C[0],C[1],C[2])),r.setEntityColor(new y.Color(d[0],d[1],d[2]))}else{t.getChildByName(oe.LABEL_RW).active=!0,t.getChildByName(oe.CLAIMED_ICON).active=!1,t.getChildByName(oe.BG).getComponent(p).spriteFrame=this.bgClaimSprite[ie.UNCLAIMED],t.getChildByName(oe.BG).getComponent(m).opacity=se.UNCLAIMED,t.getChildByName(oe.REWARD_ICON).getComponent(m).opacity=se.UNCLAIMED,this.enableClaimBtn(!0),this.rewardVfx||(this.rewardVfx=g(this.vfxPrefab)),this.rewardVfx.setParent(t),this.rewardVfx.setSiblingIndex(1),this.rewardVfx.active=!0;var h=t.getWorldPosition();this.rewardVfx.setWorldPosition(h);var f=ce.UNCLAIMED,R=Ce[f],w=de[f];n.setEntityColor(new y.Color(R[0],R[1],R[2])),r.setEntityColor(new y.Color(w[0],w[1],w[2]))}else if(e>O.Instance.currentLoginDay){t.getChildByName(oe.LABEL_RW).active=!0,t.getChildByName(oe.CLAIMED_ICON).active=!1,t.getChildByName(oe.BG).getComponent(p).spriteFrame=this.bgClaimSprite[ie.FUTURE];var b=ce.FUTURE,B=Ce[b],S=de[b];n.setEntityColor(new y.Color(B[0],B[1],B[2])),r.setEntityColor(new y.Color(S[0],S[1],S[2]))}t.getChildByName(oe.LABEL_DAY).getComponent(I).string=D.t("str_dr_day").replace("{day}",""+(e+1))}}},s.enableClaimBtn=function(e){this.btnClaim.interactable=e,this.btnClaim.node.getChildByName("BG").getComponent(p).grayscale=!e},s.showPopupInfo=function(e){this.txtInfo.string=e,this.popupInfo.active=!0},s.onPopupInfoOk=function(){this.popupInfo.active=!1},t}(h)).Instance=null,X=t((Q=re).prototype,"bgClaimSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(Q.prototype,"rewardSprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(Q.prototype,"rewardContainer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"btnClaim",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"vfxPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"popupInfo",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"txtInfo",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Q))||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuDebug.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./MainMenuManager.ts","./NetworkManager.ts","./RunningGameManager.ts","./Splash.ts","./UserDataManager.ts","./ProfileTile.ts","./DailyMissionManager.ts","./ErrorPopup.ts","./Loading.ts","./MainMenuBlockout.ts"],(function(n){"use strict";var e,t,o,a,i,s,c,r,l,u,I,p,d,f,M,h,g,T,E,P,D,v,b,y,A,w,S,_,k,O,U,m,C,L,N,R,B;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,a=n.assertThisInitialized,i=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){c=n.cclegacy,r=n._decorator,l=n.Toggle,u=n.Node,I=n.Label,p=n.setDisplayStats,d=n.Component},function(n){f=n.QTE_TYPE,M=n.EDeviceprofile,h=n.DeviceProfiles,g=n.AreaType,T=n.TileType,E=n.default,P=n.ACCESSORY_ITEMS,D=n.PopupUnlockState,v=n.ENVIRONMENT_DISPLAY_NAMES,b=n.EnvironmentType},function(n){y=n.default,A=n.MyEvent},function(n){w=n.MainMenuManager,S=n.POPUPTYPE_MM,_=n.MainMenuEvent},function(n){k=n.NetworkManager},function(n){O=n.RunningGameManager},function(n){U=n.Splash},function(n){m=n.UserDataManager},function(n){C=n.PROFILE_UPDATE},function(n){L=n.DailyMissionManager},function(n){N=n.ErrorPopup},function(n){R=n.Loading},function(n){B=n.MainMenuBlockout}],execute:function(){var H,G,Q,W,z,F,K,x,Y,V,j,q,J,X,Z,$;c._RF.push({},"b7cc8vC23lKEYsebN0S2CfU","MainMenuDebug",void 0);var nn,en=r.ccclass,tn=r.property;!function(n){n.COIN_UPDATE="Coin amount updated!",n.BOOSTER_UNLOCKED="All boosters unlocked!",n.TUTORIAL_UNLOCKED="All Tutorial Unlocked!",n.MISSION_F5="Mission refreshed to next day!",n.MISSION_RESET="Mission reset to day 1!"}(nn||(nn={}));n("MainMenuDebug",(H=en("MainMenuDebug"),G=tn(l),Q=tn(u),W=tn(I),z=tn(I),F=tn(I),K=tn(I),H((($=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=n.call.apply(n,[this].concat(i))||this,o(e,"godModeToggle",V,a(e)),o(e,"popupMsg",j,a(e)),o(e,"labelMsg",q,a(e)),o(e,"anonId",J,a(e)),o(e,"showHideLabel",X,a(e)),o(e,"labelProfile",Z,a(e)),e}t(e,n),e.getDeviceProfile=function(){return h[this.deviceProfile]};var c=e.prototype;return c.onLoad=function(){},c.updateProfile=function(){this.labelProfile&&(this.labelProfile.string=e.deviceProfile==M.Loend?"Quality : low":"Quality : high")},c.onQualityButtonClicked=function(){e.willCheckFPS=!1,e.deviceProfile=1-e.deviceProfile,this.updateProfile(),y.GetInstance().dispatchEvent(new A(C,{}))},e.checkProfileArea=function(n){return O.Instance&&O.Instance.isInTutorial?n!=g.AREA1&&(n=g.AREA1):n>e.getDeviceProfile().TotalArea&&(n=g.AREA1),n},e.checkProfileTileType=function(n){return O.Instance&&O.Instance.isInTutorial?n==T.EVENT_TILE&&(n=n.REPEATABLE_TILE):n+1>e.getDeviceProfile().TotalTile&&(n=T.REPEATABLE_TILE),n},c.onEnable=function(){this.popupMsg.active=!1,this.updateGodMode(),this.anonId.string=decodeURIComponent(window.uuid),this.checkLabelShowHide(),this.updateProfile()},c.checkLabelShowHide=function(){this.showHideLabel&&(this.showHideLabel.string=E.IS_SHOW_AP_UI?"SHOW UI":"HIDE UI")},c.onUnlockAllAccessories=function(){for(var n in P)m.Instance.ownAccessory(n);m.Instance.saveAccessoryData()},c.onClose=function(){w.Instance.checkLastPopupAndShow(S.DEBUG,!1),E.IS_BGM_ON&&(w.Instance.stopBgm(),w.Instance.playBgm())},c.onDebugInfo=function(){e.debugInfo=!e.debugInfo,p(e.debugInfo)},c.updateQTELabel=function(){},c.onQTEClicked=function(){e.QTEType==f.Badminton?e.QTEType=f.Music:e.QTEType=f.Badminton,this.updateQTELabel()},c.unlockTutorial=function(){m.Instance.unlockAllTutorial(),m.Instance.saveTutorialData(),this.showPopupMsg(nn.TUTORIAL_UNLOCKED)},c.onTutorialMode=function(){var n=i(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return U.isNewUser=!0,m.Instance.loadTutorialData(null),m.Instance.saveTutorialData(),R.Instance.show(),w.Instance.preloadEnvironment(b.TROPICAL),w.Instance.loadTransition(),n.next=8,k.Instance.createTutorialLocal();case 8:R.Instance.hide();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c.onAddCoin=function(){if(m.Instance.coinWallet<1e5){var n=m.Instance.coinWallet+9999<=1e5?m.Instance.coinWallet+9999:1e5;m.Instance.updateCoinAmount(n)}this.showPopupMsg(nn.COIN_UPDATE)},c.onResetCoin=function(){if(m.Instance.coinWallet>0){m.Instance.updateCoinAmount(0)}this.showPopupMsg(nn.COIN_UPDATE)},c.onClearInventory=function(){m.Instance.loadInventory(null),m.Instance.saveAllInventory(),m.Instance.loadUserData(null),m.Instance.saveUserData(!1)},c.onGodMode=function(){e.GodMode=!e.GodMode},c.onUnockEnvironment=function(){var n=m.Instance.unlockNextEnvironment();1==n?m.Instance.tutorialData.unlockEnv2=D.UNLOCKED_SHOW_POPUP:2==n&&(m.Instance.tutorialData.unlockEnv3=D.UNLOCKED_SHOW_POPUP),N.Instance.show("Unlock environment "+v[m.Instance.userData.unlockedEnvironment],!0,N.HideCallback),B.Instance.checkArrows()},c.onAlternateBGMMode=function(){e.v2BGM=!e.v2BGM},c.updateGodMode=function(){this.godModeToggle.isChecked=e.GodMode},c.unlockAllBoosters=function(){m.Instance.unlockBoosters(),m.Instance.saveBoosterData(),this.showPopupMsg(nn.BOOSTER_UNLOCKED)},c.refreshDailyMission=function(){L.Instance&&(L.Instance.currentDay++,L.Instance.updateResetTime(),L.Instance.generateNewMissions(),this.showPopupMsg(nn.MISSION_F5))},c.resetDailyMission=function(){m.Instance.missionData&&(m.Instance.resetMissionData(),L.Instance.updateResetTime(),L.Instance.generateNewMissions(),this.showPopupMsg(nn.MISSION_RESET))},c.showPopupMsg=function(n){this.labelMsg.string=n,this.popupMsg.active=!0},c.unlockAllProgression=function(){m.Instance.tutorialData.dailyReward=!0,m.Instance.tutorialData.actionPhaseTutorial=!0,m.Instance.tutorialData.dailyMission=!0,m.Instance.tutorialData.buyAccessories=!0,m.Instance.tutorialData.buyBooster=!0,m.Instance.tutorialData.equipBooster=!0,m.Instance.saveTutorialData(),y.GetInstance().dispatchEvent(new A(_.UPDATE_PROGRESSION,{})),this.showPopupMsg("Unlock all progression")},c.onPopupMsgOk=function(){this.popupMsg.active=!1},c.onEnableAddToHomeScreen=function(){m.Instance.a2hData.run2000=!1,m.Instance.a2hData.claimAchievementCount=0,m.Instance.a2hData.claimDailyMissionCount=0,m.Instance.a2hData.shopBuyCount=0,m.Instance.a2hData.lastTimeShow=0,m.Instance.a2hData.showCount=0,m.Instance.saveA2HData()},c.onShowHideUI=function(){E.IS_SHOW_AP_UI=!E.IS_SHOW_AP_UI,this.checkLabelShowHide()},e}(d)).GodMode=!1,$.v2BGM=!1,$.QTEType=f.Music,$.debugInfo=!1,$.willCheckFPS=!0,$.deviceProfile=M.Highend,V=e((Y=$).prototype,"godModeToggle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(Y.prototype,"popupMsg",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(Y.prototype,"labelMsg",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Y.prototype,"anonId",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(Y.prototype,"showHideLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(Y.prototype,"labelProfile",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Y))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuEvents.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Component}],execute:function(){var s;t._RF.push({},"b0883eVOVxHWI4LcbPvlqTG","MainMenuEvents",void 0);var u=o.ccclass;o.property,n("MainMenuEvents",u("MainMenuEvents")(s=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t.prototype.onClose=function(){},t}(r))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuLeaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuManager.ts","./SoundManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./MainMenuBlockout.ts","./MainMenuLeaderboardItem.ts"],(function(e){"use strict";var t,a,r,n,i,o,l,d,u,s,c,b,f,m,h,I,p,_,M,L,S,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,d=e._decorator,u=e.Node,s=e.SpriteFrame,c=e.instantiate,b=e.Component},function(e){f=e.default,m=e.AudioSrc,h=e.MM_ANIM},function(e){I=e.MainMenuManager,p=e.POPUPTYPE_MM},function(e){_=e.SoundManager},function(e){M=e.default},function(e){L=e.FeatureName},function(e){S=e.MainMenuBlockout},function(e){A=e.MainMenuLeaderboardItem}],execute:function(){var E,R,g,y,D,T,N,B,v,k,F,C,O,P,w,G,z,U,K,H;l._RF.push({},"9745fgJnoJGQ52Kp0tG7HDM","MainMenuLeaderboard",void 0);var V,Y=d.ccclass,x=d.property;!function(e){e[e.NONE=0]="NONE",e[e.GLOBAL=1]="GLOBAL",e[e.NEARBY=2]="NEARBY"}(V||(V={}));e("MainMenuLeaderboard",(E=Y("MainMenuLeaderboard"),R=x(A),g=x(A),y=x(A),D=x(A),T=x(u),N=x(u),B=x(u),v=x(s),E(((H=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"leaderboardItem1st",C,n(t)),r(t,"leaderboardItem2nd",O,n(t)),r(t,"leaderboardItem3rd",P,n(t)),r(t,"leadboardItemPlayer",w,n(t)),r(t,"leaderboardItemTemplate",G,n(t)),r(t,"leaderboardLayout",z,n(t)),r(t,"leaderboardFooter",U,n(t)),r(t,"defaultUserSprite",K,n(t)),t._globalData=null,t._nearbyData=null,t._userRankData=null,t._theBestRankData=null,t._state=V.NONE,t._leaderboardItems=[],t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=L.LEADERBOARD,t.isMMFeatureSent=!1,t}a(t,e);var l=t.prototype;return l.onLoad=function(){t.Instance=this,this.leaderboardItemTemplate.active=!1,this._leaderboardItems[0]=this.leaderboardItem1st,this._leaderboardItems[1]=this.leaderboardItem2nd,this._leaderboardItems[2]=this.leaderboardItem3rd;for(var e=3;e<f.LEADERBOARD_SIZE;e++){var a=c(this.leaderboardItemTemplate);a.active=!0,this.leaderboardLayout.addChild(a),this._leaderboardItems[e]=a.getComponent(A),this._leaderboardItems[e].onSelectedCallback=this.onLeadboardItemSelected.bind(this)}},l.onEnable=function(){this.resetLeaderboard(),this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,M.Send_FEATURE_FINISHED(I.Instance.featureName,I.Instance.featureTimeSpent))},l.onLeadboardItemSelected=function(e){console.log("onLeadboardItemSelected",e)},l.onLeaderboardItemPlayerClicked=function(){console.log("onLeaderboardItemPlayerClicked",this._theBestRankData)},l.onClose=function(){_.Instance.playOneShot(m.UI_BACK),I.Instance.checkLastPopupAndShow(p.LEADER_BOARD,!1),this.isMMFeatureSent=!1,M.Send_FEATURE_FINISHED(L.LEADERBOARD,this.featureTimeSpent),S.Instance.playMenuAnim(h.QRSCAN)},l.onPlayButtonClicked=function(){},l.resetLeaderboard=function(){if(this._leaderboardItems.length>0)for(var e=0;e<this._leaderboardItems.length;e++)this._leaderboardItems[e].resetData()},l.loadLeaderBoardGlobal=function(){var e=i(o().mark((function e(t,a){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._state=V.GLOBAL,this._globalData=t,this._theBestRankData=a,null!=(r=this._globalData)&&r.length>0)for(n=0;n<f.LEADERBOARD_SIZE;n++)n<r.length?(i=r[n],this._leaderboardItems[n].node.active=!0,this._leaderboardItems[n].setData(i)):this._leaderboardItems[n].node.active=!1;this.leadboardItemPlayer.setData(this._theBestRankData);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),l.update=function(e){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(M.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0))},t}(b)).Instance=null,C=t((F=H).prototype,"leaderboardItem1st",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(F.prototype,"leaderboardItem2nd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(F.prototype,"leaderboardItem3rd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(F.prototype,"leadboardItemPlayer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"leaderboardItemTemplate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(F.prototype,"leaderboardLayout",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"leaderboardFooter",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"defaultUserSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=F))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuLeaderboardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainMenuLeaderboard.ts"],(function(e){"use strict";var t,i,r,n,a,l,s,o,u,c,h,f,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.RichText,o=e.Sprite,u=e.Node,c=e.assetManager,h=e.SpriteFrame,f=e.Texture2D,b=e.Component},function(e){p=e.MainMenuLeaderboard}],execute:function(){var g,d,m,_,F,v,P,R,y,S,x,k,M,w,T,z,L,B;a._RF.push({},"dff6c7YmllJd5C/5cm5GlxL","MainMenuLeaderboardItem",void 0);var G=l.ccclass,N=l.property,D="#01F7FE",I="#FFFFFF",U="#FFFFFF",A="#FFFFFF",C="#FFFFFF";e("MainMenuLeaderboardItem",(g=G("MainMenuLeaderboardItem"),d=N(s),m=N(s),_=N(s),F=N(o),v=N(o),P=N(u),R=N(u),g((x=t((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"labelRank",x,n(t)),r(t,"labelName1",k,n(t)),r(t,"labelPoints",M,n(t)),r(t,"spriteProfile1",w,n(t)),r(t,"spriteProfile2",T,n(t)),r(t,"evenBG",z,n(t)),r(t,"oddBG",L,n(t)),r(t,"useOutline",B,n(t)),t.onSelectedCallback=null,t._data=null,t._thisUser=!1,t}i(t,e);var a=t.prototype;return a.setData=function(e,t){var i=this;void 0===t&&(t=!1),this._data=e,this._thisUser=t;var r=this._thisUser?D:I,n=e&&e.user_name_1?e.user_name_1:"Milky",a=e&&e.user_name_2?e.user_name_2:"Schoki";null!=this.labelRank&&(this.labelRank.string=this.getRichTextString(e?e.rank+".":"---",r,!1));var l=e?e.point+"":"---";if(e)if(e.rank<4){switch(e.rank){case 1:this.labelPoints.string=this.getRichTextString(l+" m",U,!1);break;case 2:this.labelPoints.string=this.getRichTextString(l+" m",A,!1);break;case 3:this.labelPoints.string=this.getRichTextString(l+" m",C,!1)}this.labelName1.string=this.getRichTextString(this.truncate(n,6)+" & "+this.truncate(a,6),r,!1)}else{this.labelName1.string=this.getRichTextString(this.truncate(n,9)+" & "+this.truncate(a,9),r,!1);var s=this.isEvenNumber(e.rank);null!=this.evenBG&&(this.evenBG.active=s,this.oddBG.active=!s),this.labelPoints.string=this.getRichTextString(l+" m",r,!1)}else this.labelName1.string=this.getRichTextString("------",r,!1),this.labelPoints.string=this.getRichTextString("--- m",r,!1);this._data&&this._data.avatar_uri_1&&""!=this._data.avatar_uri_1?this.getAvatar(this._data.avatar_uri_1).then((function(e){null!=e&&(i.spriteProfile1.spriteFrame=e)})):this.spriteProfile1.spriteFrame=p.Instance.defaultUserSprite[0],this._data&&this._data.avatar_uri_2&&""!=this._data.avatar_uri_2?this.getAvatar(this._data.avatar_uri_2).then((function(e){null!=e&&(i.spriteProfile2.spriteFrame=e)})):this.spriteProfile2.spriteFrame=p.Instance.defaultUserSprite[1]},a.getRichTextString=function(e,t,i){return void 0===i&&(i=!1),i?"<outline color=#ffffff width=4><color="+t+">"+e+"</color></outline>":"<color="+t+">"+e+"</color>"},a.resetData=function(){this.setData(null)},a.truncate=function(e,t,i){return e},a.getAvatar=function(e){return new Promise((function(t,i){if(null==e)return i();c.loadRemote(e,{ext:".jpg"},(function(e,i){if(e)t(null);else{var r=new h,n=new f;n.image=i,r.texture=n,t(r)}}))}))},a.isEvenNumber=function(e){return e%2==0},a.onClick=function(){},t}(b)).prototype,"labelRank",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"labelName1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"labelPoints",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"spriteProfile1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"spriteProfile2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"evenBG",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"oddBG",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(S.prototype,"useOutline",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=S))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainmenuLocation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./EventManager.ts","./MainMenuManager.ts","./UserDataManager.ts"],(function(n){"use strict";var e,t,a,o,i,r,c,l,s,u,p,h,d,f,m,b,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,r=n._decorator,c=n.Node,l=n.Label,s=n.RichText,u=n.clamp,p=n.Component},function(n){h=n.language},function(n){d=n.EnvironmentType,f=n.EnvUnlockCondition},function(n){m=n.default},function(n){b=n.MainMenuEvent},function(n){v=n.UserDataManager}],execute:function(){var L,g,N,_,y,M,C,E,T,k,D;i._RF.push({},"51b71oR2ptNnIPgk6Sh3NHe","MainmenuLocation",void 0);var I=r.ccclass,w=r.property;n("MainmenuLocation",(L=I("MainmenuLocation"),g=w(c),N=w(c),_=w(l),y=w(s),L((E=e((C=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,a(e,"nameNode",E,o(e)),a(e,"progressionNode",T,o(e)),a(e,"labelLocationName",k,o(e)),a(e,"richText",D,o(e)),e._updateLocationCallback=null,e}t(e,n);var i=e.prototype;return i.onLoad=function(){this._updateLocationCallback=this.updateLocation.bind(this),m.GetInstance().addEventListener(b.UPDATE_LOCATION,this._updateLocationCallback)},i.onDestroy=function(){m.GetInstance().removeEventListener(b.UPDATE_LOCATION,this._updateLocationCallback),this._updateLocationCallback=null},i.updateLocation=function(n){n.parameters.show?this.showEnvironment(v.Instance.lobbyData.environment):(this.nameNode.active=!1,this.progressionNode.active=!1)},i.showEnvironment=function(n){var e=u(n,d.TROPICAL,d.SNOW),t=v.Instance.checkEnvironmentUnlocked(e);if(this.nameNode.active=t,this.progressionNode.active=!t,t){this.labelLocationName.string=h.t(["str_map_tropical","str_map_urban","str_map_snow"][e])}else{var a=f[e],o="<color=#1344a5>{1}</color><color=#d43631>{2}</color>";o=(o=o.replace("{1}",Math.floor(v.Instance.progressionData.totalRunMeters)+"/")).replace("{2}",a.value+""),this.richText.string=o}},e}(p)).prototype,"nameNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"progressionNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(C.prototype,"labelLocationName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"richText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameHelper.ts","./LabelCameraUpdate.ts","./MainmenuAccessory.ts","./MainMenuAchievement.ts","./MainMenuBlockout.ts","./MainMenuDailyRewards.ts","./MainMenuDebug.ts","./MainMenuLeaderboard.ts","./MainMenuReward.ts","./MainMenuShop.ts","./MainMenuTouchItem.ts","./MainMenuUnlock.ts","./QRScan.ts","./QRScanRewardManager.ts","./OnlineMgr.ts","./CharacterAnimCtrl.ts","./ProfileTile.ts","./Pooling.ts","./DailyMissionManager.ts","./TutorialManager.ts","./VideoCamera.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Boosters.ts","./ErrorPopup.ts","./Loading.ts","./PrivateMode.ts","./SelectMode.ts","./Transition.ts","./WaitingRoom.ts","./EventManager.ts","./GameResourceManager.ts","./NetworkManager.ts","./ProgressionManager.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts"],(function(e){"use strict";var t,n,a,r,s,o,i,c,u,h,p,l,I,S,d,_,E,b,T,C,P,m,f,A,k,D,O,w,M,R,v,g,L,y,N,U,x,B,H,G,K,F,Y,Q,W,V,q,z,j,J,Z,X,$,ee,te,ne,ae,re,se,oe,ie,ce,ue,he,pe,le,Ie,Se,de,_e,Ee,be,Te,Ce,Pe,me,fe,Ae,ke,De,Oe,we,Me,Re,ve;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,u=e.Node,h=e.Animation,p=e.SpriteFrame,l=e.v3,I=e.input,S=e.Input,d=e.log,_=e.director,E=e.resources,b=e.Vec3,T=e.geometry,C=e.PhysicsSystem,P=e.Label,m=e.Component,f=e.KeyCode,A=e.instantiate},function(e){k=e.language},function(e){D=e.default,O=e.CHARACTER_NAMES,w=e.ROOM_STATE,M=e.AudioSrc,R=e.EnvironmentType,v=e.EnvUnlockCondition,g=e.PopupUnlockState,L=e.PLAYER_CHARACTER,y=e.ItemType,N=e.GAME_MODE,U=e.EDeviceprofile},function(e){x=e.GameHelper},function(e){B=e.LabelCameraUpdate},function(e){H=e.MainmenuAccessory,G=e.CAMERA_STATES},function(e){K=e.MainMenuAchievement},function(e){F=e.MainMenuBlockout},function(e){Y=e.MainMenuDailyRewards},function(e){Q=e.MainMenuDebug},function(e){W=e.MainMenuLeaderboard},function(e){V=e.MainMenuReward},function(e){q=e.MainMenuShop},function(e){z=e.MAINMENU_TOUCH_FUNCTION,j=e.MainMenuTouchItem},function(e){J=e.MainMenuUnlock},function(e){Z=e.QRScan},function(e){X=e.QRScanRewardManager},function(e){$=e.default},function(e){ee=e.CHARACTER_ANIM},function(e){te=e.PROFILE_UPDATE},function(e){ne=e.Pooling},function(e){ae=e.DailyMissionManager},function(e){re=e.TutorialManager,se=e.TUTORIAL_TYPE,oe=e.TUTORIAL_STATE},function(e){ie=e.default},function(e){ce=e.default},function(e){ue=e.FeatureName,he=e.Result,pe=e.MapUsed,le=e.MatchType,Ie=e.PlayMode,Se=e.Character},function(e){de=e.Boosters},function(e){_e=e.ErrorPopup},function(e){Ee=e.Loading},function(e){be=e.PrivateMode},function(e){Te=e.SelectMode},function(e){Ce=e.Transition},function(e){Pe=e.WaitingRoom,me=e.WaitingRoomState},function(e){fe=e.default,Ae=e.MyEvent},function(e){ke=e.GameResourceManager},function(e){De=e.NetworkManager},function(e){Oe=e.PROGRESSION_TYPE,we=e.ProgressionManager},function(e){Me=e.SoundManager},function(e){Re=e.Splash},function(e){ve=e.UserDataManager}],execute:function(){var ge,Le,ye,Ne,Ue,xe,Be,He,Ge,Ke,Fe,Ye,Qe,We,Ve,qe,ze,je,Je,Ze,Xe,$e,et,tt,nt,at,rt,st,ot,it,ct,ut,ht;e({CameraAccessState:void 0,MainMenuEvent:void 0,POPUPTYPE_MM:void 0,ScanQRState:void 0}),i._RF.push({},"37c17vIY6ZFSItLdR56VXPn","MainMenuManager",void 0);var pt,lt,It=c.ccclass,St=c.property,dt="GameCanvas",_t="btnHome",Et="scanFrame",bt="scanLine",Tt="deviceConstraintPopup",Ct="rewardLimitPopup",Pt="panelReward",mt="coinReward",ft="boosterReward",At="accessoriesReward",kt=(e("LABEL_COIN_REWARD","coinRewardLabel"),e("LABEL_BOOSTER_REWARD","boosterRewardLabel"),e("LABEL_ACCESSORIES_REWARD","accessoriesRewardLabel"),"visible"),Dt="block",Ot="inline-block",wt="none";!function(e){e[e.NONE=0]="NONE",e[e.SHOP=1]="SHOP",e[e.DAILY_MISSIONS=2]="DAILY_MISSIONS",e[e.DEBUG=3]="DEBUG",e[e.LEADER_BOARD=4]="LEADER_BOARD",e[e.ACHIEVEMENT=5]="ACHIEVEMENT",e[e.DAILY_REWARD=6]="DAILY_REWARD",e[e.SETTINGS=7]="SETTINGS",e[e.SIGN_IN=8]="SIGN_IN",e[e.SCAN_QR_CODE=9]="SCAN_QR_CODE",e[e.QR_REWARD=10]="QR_REWARD",e[e.PRIVATE_MODE=11]="PRIVATE_MODE",e[e.WAITING_ROOM=12]="WAITING_ROOM",e[e.BOOSTERS=13]="BOOSTERS",e[e.UNLOCK_MAP=14]="UNLOCK_MAP",e[e.ADD_TO_HOMESCREEN=15]="ADD_TO_HOMESCREEN"}(pt||(pt=e("POPUPTYPE_MM",{}))),function(e){e.MOVE_CAMERA="move_camera",e.MOVE_CAMERA_END="move_camera_end",e.UPDATE_SELECTED_BOOSTER="update_selected_booster",e.UPDATE_PROGRESSION="update_progression",e.UPDATE_NOTIFICATION="update_notification",e.UPDATE_LOCATION="update_location",e.UPDATE_COIN="update_coin",e.POPUP_SHOW_AMOUNT="popup_show_amount"}(lt||(lt=e("MainMenuEvent",{})));var Mt,Rt,vt,gt=e("POPUP_MM_PATHS",["","prefabs/UI/MM/Popup Shop","prefabs/UI/MM/Popup Daily Mission","prefabs/UI/MM/Popup Debug","prefabs/UI/MM/Popup Leaderboard","prefabs/UI/MM/Popup Achievement","prefabs/UI/MM/Popup Daily Reward","prefabs/UI/MM/Popup Settings","prefabs/UI/Splash/Popup Login","prefabs/UI/MM/Popup QRScan","prefabs/UI/Splash/Popup QR Reward","prefabs/UI/MM/Popup Private","prefabs/UI/MM/Popup WaitingRoom","prefabs/UI/MM/Popup Boosters","prefabs/UI/MM/Popup Unlock Env","prefabs/UI/MM/Popup AddToHomeScreen"]);!function(e){e[e.BLOCKOUT=0]="BLOCKOUT",e[e.POPUP=1]="POPUP",e[e.CAMERA_ACCESS=2]="CAMERA_ACCESS",e[e.SCAN_QR=3]="SCAN_QR"}(Mt||(Mt={})),function(e){e[e.FOUND=0]="FOUND",e[e.BACK=1]="BACK",e[e.REWARD=2]="REWARD",e[e.TIME_OUT=3]="TIME_OUT"}(Rt||(Rt=e("ScanQRState",{}))),function(e){e[e.REQUEST=0]="REQUEST",e[e.GRANTED=1]="GRANTED",e[e.DENIED=2]="DENIED"}(vt||(vt=e("CameraAccessState",{})));e("MainMenuManager",(ge=It("MainMenuManager"),Le=St(u),ye=St(u),Ne=St(u),Ue=St(u),xe=St(u),Be=St(B),He=St(B),Ge=St(u),Ke=St(h),Fe=St(h),Ye=St(p),Qe=St(u),We=St(u),ge(((ht=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).videoCamera=new ie,t.oldState=Mt.BLOCKOUT,t.state=Mt.BLOCKOUT,t._popups={},a(t,"mainCanvas",ze,r(t)),a(t,"UIContainer",je,r(t)),a(t,"popupContainer",Je,r(t)),a(t,"shopAccBG",Ze,r(t)),a(t,"matchBG",Xe,r(t)),a(t,"touchDistance",$e,r(t)),a(t,"changePageSpeed",et,r(t)),a(t,"isClickingButton",tt,r(t)),a(t,"selectedChar",nt,r(t)),a(t,"unselectedChar",at,r(t)),a(t,"roomNodes",rt,r(t)),a(t,"animDoorPrivate",st,r(t)),a(t,"animDoorPublic",ot,r(t)),a(t,"matchBGFrames",it,r(t)),a(t,"milkySelected",ct,r(t)),a(t,"schokiSelected",ut,r(t)),t._camera=null,t._tempTouch=l(),t._beginTouch=l(),t._showingPopups=[],t.dailyRwData=void 0,t.dailyRwResetTime=0,t.btnHome=null,t.scanFrame=null,t.scanLine=null,t.popupDeviceConstraint=null,t.popupRewardLimit=null,t.popupReward=null,t.btnDCOk=null,t.btnRLOk=null,t._tempFunc=z.NONE,t._touchSpeed=0,t.matchmakingTimeSpent=0,t.isMatchmaking=!1,t.scanTimeSpent=0,t.isScanning=!1,t.SCAN_TIMEOUT_DURATION=10,t.isScanCancelled=!1,t.isFadedOut=!1,t.fadeTimer=0,t.FADE_DURATION=.35,t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=ue.MAIN_MENU,t._profileUpdateCallback=null,t._scenePreloading=!1,t._scenePreloaded=!1,t._sceneLoading=!1,t._sceneLoaded=!1,t._lowFpsInterval=0,t._scanCallback=null,t._scanTimeOutCallback=null,t._qrScanBackDone=!0,t}n(t,e);var i=t.prototype;return i.onDestroy=function(){De.Instance.lobbyCallback=null,De.Instance.roomLobbyInfoCallback=null,De.Instance.playerConnectedCallback=null,De.Instance.roomCreatedCallback=null,De.Instance.leaveRoomCallback=null,De.Instance.roomStateCallback=null,fe.GetInstance().removeEventListener(te,this._profileUpdateCallback),this._profileUpdateCallback=null},i.onLoad=function(){var e=this;t.Instance=this,this.mainCanvas||(this.mainCanvas=this.node.parent.getChildByPath("Canvas")),this.UIContainer||(this.UIContainer=this.node.parent.getChildByPath("Canvas/2D UI")),this.popupContainer||(this.popupContainer=this.node.parent.getChildByPath("Canvas/Popups")),this.shopAccBG||(this.shopAccBG=this.node.parent.getChildByPath("Canvas/ShopAccBG")),this.matchBG||(this.matchBG=this.node.parent.getChildByPath("Canvas/MatchBG")),this.selectedChar||(this.selectedChar=this.node.parent.getChildByPath("Canvas/2D UI/Center/Selected Char").getComponent(B)),this.animDoorPrivate||(this.animDoorPrivate=this.node.parent.getChildByPath("3DBlockout/MainMenu02/Stage_01_Door01/Stage_01_Door01").getComponent(h)),this.animDoorPublic||(this.animDoorPublic=this.node.parent.getChildByPath("3DBlockout/MainMenu02/Stage_01_Door02/Stage_01_Door02").getComponent(h)),this.roomNodes[0]||(this.roomNodes[0]=this.node.parent.getChildByPath("Canvas/2D UI/Bottom/Items/Private")),this.roomNodes[1]||(this.roomNodes[1]=this.node.parent.getChildByPath("Canvas/2D UI/Bottom/Items/Public")),this.milkySelected||(this.milkySelected=this.node.parent.getChildByPath("3DBlockout/Characters/Milky/Circle")),this.schokiSelected||(this.schokiSelected=this.node.parent.getChildByPath("3DBlockout/Characters/Schoki/Circle")),I.on(S.EventType.TOUCH_START,this.onTouchStart,this),I.on(S.EventType.TOUCH_END,this.onTouchEnd,this),I.on(S.EventType.TOUCH_CANCEL,this.onTouchCancel,this),I.on(S.EventType.TOUCH_MOVE,this.onTouchMove,this),D.CHEAT_USE_KEYBOARD&&I.on(S.EventType.KEY_DOWN,this.onKeyDown,this),De.Instance.roomStateCallback=s(o().mark((function t(n){var a,r,s,i,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===w.LOBBY?3:t.t0===w.ONBOARD?11:t.t0===w.READY?20:t.t0===w.DISMISS?26:t.t0===w.CHARACTER_CONFIRM?29:31;break;case 3:if(e.isMatchmaking=!0,e.matchmakingTimeSpent=0,!De.Instance.isPublic){t.next=10;break}return t.next=8,e.checkLastPopupAndShow(pt.WAITING_ROOM);case 8:(a=t.sent)&&(a.getComponent(Pe).show(),a.getComponent(Pe).setState(me.HOST));case 10:return t.abrupt("break",31);case 11:return e.isMatchmaking=!1,Me.Instance.playOneShot(M.PLAYER_JOIN),t.next=15,e.checkLastPopupAndShow(pt.PRIVATE_MODE,!1);case 15:return t.next=17,e.checkLastPopupAndShow(pt.WAITING_ROOM);case 17:return(r=t.sent)&&(r.getComponent(Pe).show(),r.getComponent(Pe).setState(me.MATCHED)),t.abrupt("break",31);case 20:return t.next=22,e.checkLastPopupAndShow(pt.WAITING_ROOM);case 22:return(s=t.sent)&&s.getComponent(Pe).setState(me.LOADED),e.loadTransition(),t.abrupt("break",31);case 26:return De.Instance.exitRoom(),_e.Instance.show(k.t("str_friend_quit"),!0,(function(){_e.Instance.hide()})),t.abrupt("break",31);case 29:return De.Instance.isHost||(i=O[1-De.Instance.selectedCharacter],c=O[De.Instance.selectedCharacter],u=k.t("str_mm_join_conflict").replace("{character name}",i).replace("{other character name}",c),_e.Instance.show(u,!0,(function(){De.Instance.sendRoomState({state:w.CHARACTER_ACCEPT}),_e.Instance.hide()}),!0,(function(){De.Instance.exitRoom(),_e.Instance.hide(),e.checkLastPopupAndShow(pt.PRIVATE_MODE,!1),_e.Instance.show(k.t("str_mm_join_return"),!0,_e.HideCallback)}))),t.abrupt("break",31);case 31:case"end":return t.stop()}}),t)}))),De.Instance.leaveRoomCallback=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d("leaveRoomCallback",n),e.getTopPopup()==pt.WAITING_ROOM&&e.checkLastPopupAndShow(pt.WAITING_ROOM,!1),Ce.instance.node.active||!ne.getInstance().isIniting&&!ne.getInstance().isPreloading||e.stopLoading();case 3:case"end":return t.stop()}}),t)}))),De.Instance.roomCreatedCallback=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),De.Instance.playerConnectedCallback=s(o().mark((function t(n,a){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPopup(pt.WAITING_ROOM);case 2:t.sent.getComponent(Pe).onPlayerConnect(n);case 4:case"end":return t.stop()}}),t)}))),De.Instance.roomLobbyInfoCallback=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),De.Instance.lobbyCallback=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.dailyRwData=ve.Instance.dailyRewardData,this.setHTMLElementDisplay("video",wt),this.initHTMLElements(),this.showButtonHome(!1),this.showScanFrame(!1),this.showPopupReward(!1),this.showPopupDevice(!1),this.showPopupRewardLimit(!1),this.updateUnlockEnvironmentProgres(),this._profileUpdateCallback=this.updateProfile.bind(this),fe.GetInstance().addEventListener(te,this._profileUpdateCallback),D.isFirstLaunch&&(window.gTotalTimeSpent=.01,window.gIngameTimeSpent=.01)},i.updateProfile=function(){_.getScene().scene.globals.shadows.enabled=Q.getDeviceProfile().Shadow},i.updateUnlockEnvironmentProgres=function(){var e=ve.Instance.checkEnvironmentUnlocked(R.URBAN),t=ve.Instance.checkEnvironmentUnlocked(R.SNOW),n=ve.Instance.progressionData.totalRunMeters,a=v[R.URBAN],r=v[R.SNOW];n>=a.value&&(e=!0),n>=r.value&&(t=!0),e&&(ve.Instance.progressionData.isQte2Unlocked=!0,ve.Instance.progressionData.isCoinDuperUnlocked=!0,ve.Instance.progressionData.isStamperUnlocked=!0,ve.Instance.progressionData.totalRunMeters=Math.max(n,a.value),ve.Instance.tutorialData.unlockEnv2==g.LOCKED&&(ve.Instance.tutorialData.unlockEnv2=g.UNLOCKED_SHOW_POPUP),ve.Instance.saveTutorialData()),t&&(ve.Instance.progressionData.isQte3Unlocked=!0,ve.Instance.progressionData.isMegaHopUnlocked=!0,ve.Instance.progressionData.totalRunMeters=Math.max(n,r.value),ve.Instance.tutorialData.unlockEnv3==g.LOCKED&&(ve.Instance.tutorialData.unlockEnv3=g.UNLOCKED_SHOW_POPUP),ve.Instance.saveTutorialData()),ve.Instance.tutorialData.actionPhaseTutorial&&(ve.Instance.tutorialData.dailyReward=!0)},i.onEnable=function(){this.shopAccBG.active=!1,this.matchBG.active=!1},i.start=function(){if(this._camera=F.Instance.camera,this._camera){var e=this._camera.node.eulerAngles;this._camera.node.setRotationFromEuler(l(e.x,0,e.z))}this.init(),this.featureTimeSpent=0},i.onKeyDown=function(){var e=s(o().mark((function e(n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.keyCode,e.next=e.t0===f.KEY_Q?3:e.t0===f.DIGIT_1?5:e.t0===f.DIGIT_2?9:e.t0===f.DIGIT_3?13:e.t0===f.DIGIT_4?17:e.t0===f.DIGIT_5?23:e.t0===f.DIGIT_6?27:e.t0===f.DIGIT_7?32:e.t0===f.DIGIT_8?35:e.t0===f.DIGIT_0?39:e.t0===f.KEY_M?43:e.t0===f.KEY_C?45:e.t0===f.KEY_A?53:e.t0===f.KEY_S?55:e.t0===f.ESCAPE?57:e.t0===f.KEY_J?59:e.t0===f.KEY_K?63:e.t0===f.KEY_L?67:e.t0===f.KEY_I?70:e.t0===f.KEY_H?71:e.t0===f.NUM_0?72:e.t0===f.NUM_1?76:e.t0===f.NUM_2?80:84;break;case 3:return t.Instance.onQRScanAction({action:Rt.FOUND,data:{text:"kinder.com/qr/KM001"}}),e.abrupt("break",84);case 5:return ve.Instance.tutorialData.dailyReward=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("break",84);case 9:return ve.Instance.tutorialData.actionPhaseTutorial=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("break",84);case 13:return ve.Instance.tutorialData.dailyMission=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("break",84);case 17:return ve.Instance.tutorialData.buyAccessories=!0,ve.Instance.tutorialData.buyBooster=!0,ve.Instance.tutorialData.equipBooster=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("break",84);case 23:return ve.Instance.unlockNextEnvironment(),this.updateUnlockEnvironmentProgres(),this.checkLastPopupAndShow(pt.UNLOCK_MAP,!0),e.abrupt("break",84);case 27:return ve.Instance.unlockNextEnvironment(),ve.Instance.progressionData.isQte3Unlocked=!0,ve.Instance.tutorialData.unlockEnv3=g.UNLOCKED_SHOW_POPUP,this.tutorialCheck(),e.abrupt("break",84);case 32:return ve.Instance.tutorialData.unlockEnv3=g.UNLOCKED_SHOW_POPUP,this.onPopupUnlockEnv(),e.abrupt("break",84);case 35:return ae.Instance.currentDay++,ae.Instance.updateResetTime(),ae.Instance.generateNewMissions(),e.abrupt("break",84);case 39:return ve.Instance.tutorialData.completeGameCount++,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("break",84);case 43:return ve.Instance.coinWallet<1e5&&(9999,a=ve.Instance.coinWallet+9999<=1e5?ve.Instance.coinWallet+9999:1e5,ve.Instance.updateCoinAmount(a),_e.Instance.show("9999 coin added",!0,_e.HideCallback)),e.abrupt("break",84);case 45:return ve.Instance.a2hData.run2000=!0,ve.Instance.a2hData.claimAchievementCount=2,ve.Instance.a2hData.claimDailyMissionCount=2,ve.Instance.a2hData.shopBuyCount=2,ve.Instance.a2hData.lastTimeShow=0,ve.Instance.a2hData.showCount=0,ve.Instance.saveA2HData(),e.abrupt("break",84);case 53:return this.checkLastPopupAndShow(pt.ADD_TO_HOMESCREEN,!0),e.abrupt("break",84);case 55:return t.Instance.onQRScanAction({action:Rt.FOUND,data:{text:"https://kinder-maxi-beta.g4b.gameloft.com/qr/KM001"}}),e.abrupt("break",84);case 57:return De.Instance.exitRoom(),e.abrupt("break",84);case 59:return ve.Instance.userData.unlockedEnvironment=R.TROPICAL,d(ve.Instance.userData),ve.Instance.saveUserData(),e.abrupt("break",84);case 63:return ve.Instance.userData.unlockedEnvironment=R.URBAN,d(ve.Instance.userData),ve.Instance.saveUserData(),e.abrupt("break",84);case 67:return Q.deviceProfile=1-Q.deviceProfile,fe.GetInstance().dispatchEvent(new Ae(te,{})),e.abrupt("break",84);case 70:case 71:return e.abrupt("break",84);case 72:return ve.Instance.userData.difficultyCluster=0,ve.Instance.saveUserData(),_e.Instance.show("choose cluster 0",!0,_e.HideCallback),e.abrupt("break",84);case 76:return ve.Instance.userData.difficultyCluster=1,ve.Instance.saveUserData(),_e.Instance.show("choose cluster 1",!0,_e.HideCallback),e.abrupt("break",84);case 80:return ve.Instance.userData.difficultyCluster=2,ve.Instance.saveUserData(),_e.Instance.show("choose cluster 2",!0,_e.HideCallback),e.abrupt("break",84);case 84:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.init=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.Instance.initCharacters();case 2:return e.next=4,F.Instance.loadAnimations();case 4:return F.Instance.playAnimation(ee.CHATTING),e.next=7,H.Instance.initCharacters();case 7:return e.next=9,H.Instance.loadAnimations();case 9:if(H.Instance.playAnimation(ee.IDLE),H.Instance.hide(),H.Instance.updateCharacterAccessory(!1),!Re.CheckInviteCode()){e.next=17;break}return e.next=15,this.showInviteCode();case 15:e.next=19;break;case 17:return e.next=19,this.checkDailyRewardAndTutorial();case 19:this.onSwitchCharacter(ve.Instance.lobbyData.character),Me.Instance.stopSplashBgm(),Ce.hide(),this.playBgm(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_NOTIFICATION,{})),fe.GetInstance().dispatchEvent(new Ae(te,{}));case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.checkDailyRewardAndTutorial=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.Instance.dailyRewardData.isClaimed){e.next=7;break}return e.next=3,this.checkLastPopupAndShow(pt.DAILY_REWARD,!0);case 3:F.Instance.turnCameraPage(1),this.tutorialCheck(se.DAILY_REWARD),e.next=9;break;case 7:F.Instance.turnCameraPage(1),this.tutorialCheck();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.stopLoading=function(){d("[MainMenuManager]","stopLoading")},i.preloadEnvironment=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadResource(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,this.preLoadScene();case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:return this.transitionToRunningScene(),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.loadResource=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke.Instance.reset(),ne.getInstance().reset(),d("[MainMenuManager]","Resource","reset"),d("[MainMenuManager]","Pooling","inited"),d("[MainMenuManager]","Resource","loaded"),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.preLoadScene=function(){var e=this;return new Promise((function(t){e._scenePreloading||e._scenePreloaded?t(!1):(e._scenePreloading=!0,d("[MainMenuManager]","scene","preloading"),_.preloadScene(D.SCENE_RUNNING,(function(){d("[MainMenuManager]","scene","preloaded"),e._scenePreloaded=!0,e._scenePreloading=!1,t(!0)})))}))},i.loadTransition=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopBgm(),e.next=3,Ce.show(!0);case 3:De.Instance.loadingTime=(new Date).getTime(),this.transitionToRunningScene();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.canLoadRunningScene=function(){return Ce.instance.node.active&&!this._sceneLoading&&!this._sceneLoaded},i.transitionToRunningScene=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canLoadRunningScene()){e.next=21;break}return d("[MainMenuManager]","scene","loading"),this._sceneLoading=!0,e.next=5,this.getPopup(pt.WAITING_ROOM);case 5:return(t=e.sent)&&t.getComponent(Pe).hideHomeButton(),ve.Instance.consumeBooster(ve.Instance.lobbyData.booster),ve.Instance.saveBoosterData(),ve.Instance.getBoosterQuantity(ve.Instance.lobbyData.booster)<=0&&(ve.Instance.lobbyData.booster=-1,ve.Instance.saveLobbyData()),e.next=12,Ce.show(!0);case 12:return F.Instance.unloadCharacters(),H.Instance.unloadCharacters(),ke.Instance.releaseMainMenu(),e.next=17,Ce.load(D.SCENE_RUNNING);case 17:ce.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),this._sceneLoaded=!0,this._sceneLoading=!1,d("[MainMenuManager]","scene","loaded");case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.getPopup=function(){var e=s(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,a=null,this._popups&&Object.entries(this._popups).length>0&&(a=this._popups[t]),a&&a.prefab){e.next=9;break}return n=!0,Ee.Instance.show(),e.next=8,this.loadPopupPrefab(t);case 8:a=e.sent;case 9:return a&&!a.instance&&a.prefab&&(a.instance=A(a.prefab),a.instance.setParent(this.popupContainer),a.instance.active=!1),n&&Ee.Instance.hide(),e.abrupt("return",a.instance);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showPopup=function(){var e=s(o().mark((function e(t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),e.next=3,this.getPopup(t);case 3:return(a=e.sent)&&(a.active=n),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.loadPopupPrefab=function(e){var t=this;return new Promise((function(n){var a=gt[e];a&&""!=a?t._popups[e]&&t._popups[e].prefab?n(t._popups[e]):E.load(a,(function(r,s){if(!r)return d("[MainmenuManager]","Loaded Popup",a),t._popups[e]||(t._popups[e]={prefab:null,instance:null}),t._popups[e].prefab=s,void n(t._popups[e]);d("[MainmenuManager]","Load Popup Error",a),n(null)})):n(null)}))},i.getTopPopup=function(){var e=pt.NONE;return this._showingPopups.length>0&&(e=this._showingPopups[this._showingPopups.length-1]),e},i.checkLastPopupAndShow=function(){var e=s(o().mark((function e(t,n){var a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),a=null,r=this.getTopPopup(),!n){e.next=20;break}if(r==t){e.next=15;break}if(r==pt.NONE){e.next=8;break}return e.next=8,this.showPopup(r,!1);case 8:return e.next=10,this.showPopup(t,!0);case 10:a=e.sent,r=t,this._showingPopups.push(t),e.next=18;break;case 15:return e.next=17,this.getPopup(t);case 17:return e.abrupt("return",e.sent);case 18:e.next=30;break;case 20:if(r!=t){e.next=30;break}return e.next=23,this.showPopup(r,!1);case 23:if(a=e.sent,this._showingPopups.pop(),this.isFeaturePopup()&&(this.featureTimeSpent=0),!(this._showingPopups.length>0)){e.next=30;break}return r=this._showingPopups[this._showingPopups.length-1],e.next=30,this.showPopup(r,!0);case 30:return this.checkState(r),this.checkCameraState(r),e.abrupt("return",a);case 33:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),i.checkCameraState=function(e){e==pt.WAITING_ROOM||e==pt.SHOP&&(H.Instance.changeCameraState(G.SELECT_ACCESSORY_CHARACTER,!0),H.Instance.chooseCharacter(ve.Instance.lobbyData.character==L.MILKY))},i.checkState=function(){var e=s(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this._showingPopups.length)>0?(a=this._showingPopups[this._showingPopups.length-1])==pt.SCAN_QR_CODE?this.SetState(Mt.SCAN_QR):a==pt.QR_REWARD||a==pt.PRIVATE_MODE||a==pt.BOOSTERS||a==pt.DAILY_REWARD||a==pt.LEADER_BOARD||a==pt.UNLOCK_MAP||a==pt.ACHIEVEMENT||a==pt.DAILY_MISSIONS||a==pt.ADD_TO_HOMESCREEN?this.SetState(Mt.BLOCKOUT):this.SetState(Mt.POPUP):(this.SetState(Mt.BLOCKOUT),t==pt.DAILY_REWARD?this.tutorialCheck():t==pt.SHOP?this.tutorialCheck(se.EQUIP_BOOSTER):t==pt.PRIVATE_MODE?be.isInviteMode||this.checkDailyRewardAndTutorial():t==pt.ADD_TO_HOMESCREEN||t==pt.WAITING_ROOM||t==pt.SCAN_QR_CODE||re.Instance.isTutorial||this.tutorialCheck(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_NOTIFICATION,{}))),fe.GetInstance().dispatchEvent(new Ae(lt.POPUP_SHOW_AMOUNT,{amount:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showInviteCode=function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee.Instance.show(),Re.isNewUser=!1,ve.Instance.tutorialData.welcomeTutorial=!0,ve.Instance.saveTutorialData(),be.isInviteMode=!0,e.next=7,this.checkLastPopupAndShow(pt.PRIVATE_MODE,!0);case 7:if(t=e.sent,!(n=t.getComponent(be))){e.next=15;break}return e.next=12,n.show();case 12:n.joinRoomCode.string=Re.InvitedCode,Re.InvitedCode="",n.onJoinButtonClicked();case 15:Ee.Instance.hide();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.onTouchStart=function(e){if(re.Instance.isTutorial)re.Instance.onTouchStart(e.getUILocation().x,e.getUILocation().y);else if(this.state==Mt.BLOCKOUT){var t=e.getLocation();Object.assign(this._tempTouch,{x:t.x,y:t.y}),Object.assign(this._beginTouch,{x:t.x,y:t.y}),this.isClickingButton=!0,F.Instance.stopCamera()}},i.onTouchMove=function(e){if(this.state==Mt.BLOCKOUT){if(this._tempTouch){var t=e.getLocation(),n=l(t.x-this._tempTouch.x,t.y-this._tempTouch.y),a=this._camera.node.eulerAngles.clone();a.y+=1*n.x*.075,a.y=Math.min(a.y,55),a.y=Math.max(a.y,-55),this._touchSpeed=t.x-this._tempTouch.x,Object.assign(this._tempTouch,{x:t.x,y:t.y}),this._camera.node.setRotationFromEuler(a),fe.GetInstance().dispatchEvent(new Ae(lt.MOVE_CAMERA,{}))}if(this._beginTouch){var r=l(e.getLocation().x,e.getLocation().y);b.distance(r,this._beginTouch)>this.touchDistance&&(this.isClickingButton=!1)}}},i.onTouchCancel=function(e){re.Instance.isTutorial?re.Instance.onTouchCancel(e.getUILocation().x,e.getUILocation().y):this.onTouchEndOrCancel(e)},i.onTouchEnd=function(e){re.Instance.isTutorial?re.Instance.onTouchEnd(e.getUILocation().x,e.getUILocation().y):this.onTouchEndOrCancel(e)},i.onTouchEndOrCancel=function(e){var t=e.getLocation();if(this.isClickingButton){var n=F.Instance.camera,a=new T.Ray;n.screenPointToRay(t.x,t.y,a);var r=y.UI;if(C.instance.raycastClosest(a,r,100,!0)){var s=C.instance.raycastClosestResult.collider.node.getComponent(j);s&&this.onTouchFunction(s.FuncType)}}if(Math.abs(this._touchSpeed)>this.changePageSpeed)this._touchSpeed>0?F.Instance.turnCameraPrePage():F.Instance.turnCameraNextPage();else if(this._beginTouch){F.Instance.turnCameraOnCurrentRotation(!0)}Object.assign(this._tempTouch,{x:0,y:0}),Object.assign(this._beginTouch,{x:0,y:0}),this.isClickingButton=!1,this._touchSpeed=0},i.onQRScanReward=function(){X.generateReward(),this.checkLastPopupAndShow(pt.QR_REWARD,!0).then((function(e){e&&e.getComponent(X)&&e.getComponent(X).show()}))},i.showMultiPrivate=function(){Te.mode=N.MULTI_PRIVATE,this.showMatchFriend(!0,!1)},i.showPrivate=function(){Te.mode=N.PRIVATE,this.showMatchFriend(!0,!1)},i.onMultiPrivateCreate=function(){D.CHEAT_LOCAL_HOST?De.Instance.createMultiPrivateLocal():De.Instance.createMultiPrivateNew(),this.showMultiPrivate()},i.onMultiPrivateJoin=function(e){this.showMultiPrivate()},i.onMultiPublic=function(){var e=s(o().mark((function e(){var t,n,a,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee.Instance.show(),ve.Instance.lobbyData?ve.Instance.lobbyData.character==L.MILKY?t=""+Se.MILKY:ve.Instance.lobbyData.character==L.SCHOKI&&(t=""+Se.SCHOKI):t=""+Se.MILKY,!(Re.isNewUser||$.isLocalLan()||D.CHEAT_ALWAYS_AI)){e.next=15;break}if(n=this.getMapName(),a=le.BOT,r=Ie.SINGLE,$.isLocalLan()){e.next=11;break}return e.next=9,De.Instance.createAILocal();case 9:e.next=13;break;case 11:return e.next=13,De.Instance.createAIEditor();case 13:e.next=30;break;case 15:return n=this.getMapName(),a=le.PLAYER,r=Ie.MULTI_PUBLIC,e.next=20,De.Instance.createOrJoinPublicMode();case 20:if(!(s=e.sent)){e.next=30;break}return e.next=24,_e.Instance.processError(s);case 24:if(!e.sent){e.next=30;break}return $.logout(),De.Instance.logout(),_.loadScene(D.SCENE_SPLASH),e.abrupt("return");case 30:ce.Send_MATCHMAKING_STARTED(t,n,a,r),Ee.Instance.hide();case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.showMatchFriend=function(e,t){},i.onPlayButtonClicked=function(){},i.onSettingsButtonClicked=function(){this._qrScanBackDone&&(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.SETTINGS)&&this.checkLastPopupAndShow(pt.SETTINGS,!0))},i.onPopupUnlockEnv=function(){this.checkLastPopupAndShow(pt.UNLOCK_MAP,!0)},i.onDebugButtonClicked=function(){Me.Instance.playOneShot(M.UI_CLICK),this.checkLastPopupAndShow(pt.DEBUG,!0)},i.backToSplash=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.Instance.show();case 2:_.loadScene(D.SCENE_SPLASH,(function(){Ee.Instance.hide()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.SetState=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.oldState=this.state,this.state=t,e.t0=this.state,e.next=e.t0===Mt.BLOCKOUT?5:e.t0===Mt.POPUP?9:e.t0===Mt.CAMERA_ACCESS?13:e.t0===Mt.SCAN_QR?15:21;break;case 5:return this.UIContainer.active=!0,F.Instance.show(),H.Instance.hide(),e.abrupt("break",21);case 9:return this.UIContainer.active=!1,F.Instance.hide(),H.Instance.show(),e.abrupt("break",21);case 13:return this.onCameraAccessAction({action:vt.REQUEST}),e.abrupt("break",21);case 15:return this.UIContainer.active=!1,F.Instance.hide(),H.Instance.hide(),this.scanTimeSpent=0,this.isScanning=!1,e.abrupt("break",21);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.setHTMLElementVisibility=function(e,t){void 0===t&&(t="none");var n=document.getElementById(e);return n&&(n.style.visibility=t),n},i.setHTMLElementDisplay=function(e,t){void 0===t&&(t="none");var n=document.getElementById(e);return n&&(n.style.display=t),n},i.setHTMLElementText=function(e,t){void 0===t&&(t="none");var n=document.getElementById(e);return n&&(n.innerHTML=t),n},i.isFeaturePopup=function(){var e=this.getTopPopup();return e!=pt.DEBUG&&e!=pt.SIGN_IN&&e!=pt.PRIVATE_MODE&&e!=pt.WAITING_ROOM&&e!=pt.UNLOCK_MAP},i.update=function(e){Q.deviceProfile==U.Highend&&0==this._showingPopups.length&&Q.willCheckFPS&&(window.fps&&window.fps<D.FPS_THRESHOLE?(console.log(window.fps),this._lowFpsInterval+=e,this._lowFpsInterval>=D.FPS_DETECTION_DURATION&&(Q.deviceProfile=U.Loend,fe.GetInstance().dispatchEvent(new Ae(te,{})))):this._lowFpsInterval=0),0!=this._showingPopups.length&&this.isFeaturePopup()||this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(ce.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0)),this.isMatchmaking&&(this.matchmakingTimeSpent+=e),window.gTotalTimeSpent+=e},i.onCameraAccessAction=function(){var e=s(o().mark((function e(t){var n,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.action,t.data,e.t0=n,e.next=e.t0===vt.REQUEST?5:e.t0===vt.GRANTED?8:e.t0===vt.DENIED?14:16;break;case 5:return Ee.Instance.show(),this.videoCamera.Setup("environment",!1).then((function(e){a.onCameraAccessAction({action:vt.GRANTED}),Ee.Instance.hide()})).catch((function(e){d("PERMISSION error: "+e),d(e),a.onCameraAccessAction({action:vt.DENIED}),Ee.Instance.hide(),a.checkLastPopupAndShow(pt.SCAN_QR_CODE,!0).then((function(){Z.Instance.DoStop(),Z.Instance.OnDeviceConstraint(),a.isScanning=!1}))})),e.abrupt("break",16);case 8:return e.next=10,this.checkLastPopupAndShow(pt.SCAN_QR_CODE,!0);case 10:return this.isScanning=!0,X.checkRewardLimit()?(Z.Instance.DoStop(),Z.Instance.OnRewardLimit()):(this.stopScanSchedules(),this._scanCallback=function(){Z.Instance.DoScan(a.videoCamera.video),a.setHTMLElementVisibility(dt,"hidden"),a.showButtonHome(!0),a.showScanFrame(!0),a.showPopupReward(!0),X.showPotentialReward(),a._scanCallback=null},this.scheduleOnce(this._scanCallback,1)),e.abrupt("break",16);case 14:return this.SetState(Mt.BLOCKOUT),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.onQRScanAction=function(){var e=s(o().mark((function e(t){var n,a,r,s,i,c,u,h,p,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.action,s=t.data,e.t0=r,e.next=e.t0===Rt.FOUND?5:e.t0===Rt.REWARD?28:e.t0===Rt.BACK?31:e.t0===Rt.TIME_OUT?43:56;break;case 5:if(i=!1,c=s.text.includes("/qr/"),u=s.text.split("/qr/")[1],h=ce.GetPackageName(u),c&&u&&""!=u&&null!=h?i=!0:(h="",i=!1),this.isScanning=!1,!i){e.next=26;break}return null==(p=Z.Instance)||p.DoStop(),null==(l=this.videoCamera)||l.Stop(!0),this.setHTMLElementVisibility(dt,kt),this.showButtonHome(!1),this.showScanFrame(!1),this.showPopupReward(!1),this.showPopupDevice(!1),this.showPopupRewardLimit(!1),ce.Send_QR_SCAN(h,he.SUCCESS,this.scanTimeSpent),e.next=23,this.checkLastPopupAndShow(pt.SCAN_QR_CODE,!1);case 23:this.onQRScanAction({action:Rt.REWARD}),e.next=27;break;case 26:ce.Send_QR_SCAN(h,he.FAIL,this.scanTimeSpent);case 27:return e.abrupt("break",56);case 28:return this.stopScanSchedules(),this.onQRScanReward(),e.abrupt("break",56);case 31:return this.stopScanSchedules(),Z.Instance.DoStop(),null==(n=this.videoCamera)||n.Stop(!0),this.setHTMLElementVisibility(dt,kt),this.checkLastPopupAndShow(pt.SCAN_QR_CODE,!1),this.showButtonHome(!1),this.showScanFrame(!1),this.showPopupReward(!1),this.showPopupDevice(!1),this.showPopupRewardLimit(!1),Ee.Instance.hide(),e.abrupt("break",56);case 43:return this.stopScanSchedules(),Z.Instance.DoStop(),null==(a=this.videoCamera)||a.Stop(!0),this.setHTMLElementVisibility(dt,kt),this.checkLastPopupAndShow(pt.SCAN_QR_CODE,!1),this.showButtonHome(!1),this.showScanFrame(!1),this.showPopupReward(!1),this.showPopupDevice(!1),this.showPopupRewardLimit(!1),this.isScanning=!1,ce.Send_QR_SCAN("N/A",he.FAIL,this.scanTimeSpent),e.abrupt("break",56);case 56:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.stopScanSchedules=function(){this._scanCallback&&(this.unschedule(this._scanCallback),this._scanCallback=null),this._scanTimeOutCallback&&(this.unschedule(this._scanTimeOutCallback),this._scanTimeOutCallback=null)},i.initHTMLElements=function(){this.btnHome||(this.btnHome=document.getElementById(_t),this.scanFrame=document.getElementById(Et),this.scanLine=document.getElementById(bt),this.popupDeviceConstraint=document.getElementById(Tt),this.popupRewardLimit=document.getElementById(Ct),this.popupReward=document.getElementById(Pt),this.btnDCOk=document.getElementById("deviceConstraintBtnOk"),this.btnRLOk=document.getElementById("rewardLimitBtnOk")),this.updateQRTextInHTML(),this.btnHome&&(this.btnHome.addEventListener("mouseup",this.onButtonScanHome.bind(this)),this.btnHome.addEventListener("touchend",this.onButtonScanHome.bind(this)))},i.updateQRTextInHTML=function(){var e=k.t("str_qr_instruction"),t=k.t("str_qr_code_scanmore");this.setHTMLElementText("textScanGuide1",e),this.setHTMLElementText("textScanGuide2",t)},i.onButtonScanHome=function(){var e=this;Me.Instance.playOneShot(M.UI_BACK),this.onQRScanAction({action:Rt.BACK}),this.isScanning=!1,this.isScanCancelled||(this.isScanCancelled=!0,ce.Send_QR_SCAN("N/A",he.CANCEL,this.scanTimeSpent)),this._qrScanBackDone=!1,this.scheduleOnce((function(){e._qrScanBackDone=!0}),.1)},i.onButtonDcOk=function(){this.showPopupDevice(!1)},i.onButtonRlOk=function(){this.onQRScanAction({action:Rt.BACK})},i.showButtonHome=function(e){e?this.setHTMLElementDisplay(_t,Dt):this.setHTMLElementDisplay(_t,wt)},i.showScanFrame=function(e){e?(this.setHTMLElementDisplay(Et,Dt),this.setHTMLElementDisplay(bt,Dt),this.scanLine&&(this.scanLine.style.animation="MoveUpDown 1s linear infinite")):(this.setHTMLElementDisplay(Et,wt),this.setHTMLElementDisplay(bt,wt),this.scanLine&&(this.scanLine.style.animation=""))},i.showPopupDevice=function(e){e?this.setHTMLElementDisplay(Tt,Dt):this.setHTMLElementDisplay(Tt,wt)},i.showPopupRewardLimit=function(e){e?this.setHTMLElementDisplay(Ct,Dt):this.setHTMLElementDisplay(Ct,wt)},i.showPopupReward=function(e){e?this.setHTMLElementDisplay(Pt,Dt):this.setHTMLElementDisplay(Pt,wt)},i.showCoinReward=function(e){e?this.setHTMLElementDisplay(mt,Ot):this.setHTMLElementDisplay(mt,wt)},i.showBoosterReward=function(e){e?this.setHTMLElementDisplay(ft,Ot):this.setHTMLElementDisplay(ft,wt)},i.showAccessoriesReward=function(e){e?this.setHTMLElementDisplay(At,Ot):this.setHTMLElementDisplay(At,wt)},i.onButtonPrivate=function(){this.onTouchFunction(z.PRIVATE_MODE)},i.onButtonPublic=function(){this.onTouchFunction(z.PUBLIC_MODE)},i.onButtonShop=function(){this.onTouchFunction(z.SHOP)},i.onBooster=function(){this.onTouchFunction(z.SELECT_BOOSTER)},i.onQRScanButtonClicked=function(){this.onTouchFunction(z.QR_SCAN)},i.onLoaderboardButtonClicked=function(){this.onTouchFunction(z.LEADERBOARD)},i.showRoomNode=function(e){},i.onSwitchCharacter=function(e){this.selectedChar.getComponentInChildren(P)&&(this.selectedChar.getComponentInChildren(P).string=$.userName),e==L.MILKY?(this.selectedChar.followedObject=F.Instance.milky,this.selectedChar.onUpdateUI(),this.milkySelected.active=!0,this.schokiSelected.active=!1):(this.selectedChar.followedObject=F.Instance.schoki,this.selectedChar.onUpdateUI(),this.schokiSelected.active=!0,this.milkySelected.active=!1),e!=ve.Instance.lobbyData.character&&(ve.Instance.lobbyData.character=e,ve.Instance.saveLobbyData())},i.delaySecond=function(e){var t=this;return new Promise((function(n){t.scheduleOnce((function(){n()}),e)}))},i.checkFeatureUnlocked=function(e){return!(!we.checkFunctionUnlocked(e)&&!D.CHEAT_IGNORE_PROGRESSION)},i.onTouchFunction=function(){var e=s(o().mark((function e(t){var n,a,r,s,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===z.NONE?3:e.t0===z.PRIVATE_MODE?4:e.t0===z.PUBLIC_MODE?14:e.t0===z.SHOP?25:e.t0===z.LOCATION_LEFT?30:e.t0===z.LOCATION_RIGHT?36:e.t0===z.DAILY_MISSION?42:e.t0===z.ACHIEVEMENT?47:e.t0===z.LEADERBOARD?58:e.t0===z.QR_SCAN?81:e.t0===z.CHOOSE_MILKY?86:e.t0===z.CHOOSE_SCHOKI?89:e.t0===z.SELECT_BOOSTER?92:100;break;case 3:return e.abrupt("break",100);case 4:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.PLAY_WITH_FRIEND)){e.next=7;break}return e.abrupt("return");case 7:if(!this.animDoorPrivate){e.next=12;break}return Ee.Instance.show(),this.animDoorPrivate.play(),e.next=12,this.delaySecond(1);case 12:return this.checkLastPopupAndShow(pt.PRIVATE_MODE,!0).then((function(e){e.getComponent(be).show(),Ee.Instance.hide()})),e.abrupt("break",100);case 14:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.PLAY_ONLINE)){e.next=17;break}return e.abrupt("return");case 17:if(!this.animDoorPublic){e.next=22;break}return Ee.Instance.show(),this.animDoorPublic.play(),e.next=22,this.delaySecond(1);case 22:return e.next=24,this.onMultiPublic();case 24:return e.abrupt("break",100);case 25:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.STORE)){e.next=28;break}return e.abrupt("return");case 28:return this.checkLastPopupAndShow(pt.SHOP,!0),e.abrupt("break",100);case 30:return Me.Instance.playOneShot(M.CHANGE_MAP),e.next=33,F.Instance.prevEnvironment();case 33:return n=e.sent,console.log(n),e.abrupt("break",100);case 36:return Me.Instance.playOneShot(M.CHANGE_MAP),e.next=39,F.Instance.nextEnvironment();case 39:return a=e.sent,console.log(a),e.abrupt("break",100);case 42:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.DAILY_MISSION)){e.next=45;break}return e.abrupt("return");case 45:return this.checkLastPopupAndShow(pt.DAILY_MISSIONS,!0),e.abrupt("break",100);case 47:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.ACHIEVEMENT)){e.next=50;break}return e.abrupt("return");case 50:return Ee.Instance.show(),e.next=53,this.checkLastPopupAndShow(pt.ACHIEVEMENT,!0);case 53:return r=e.sent.getComponent(K),e.next=56,r.show();case 56:return Ee.Instance.hide(),e.abrupt("break",100);case 58:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.LEADERBOARD)){e.next=61;break}return e.abrupt("return");case 61:return Ee.Instance.show(),e.next=64,$.GetLeaderboardUserRank();case 64:return e.next=66,$.GetLeaderboardTop(D.LEADERBOARD_SIZE);case 66:if(s=e.sent){e.next=75;break}return e.next=70,this.checkLastPopupAndShow(pt.LEADER_BOARD,!0);case 70:i=e.sent,Ee.Instance.hide(),i.getComponent(W).loadLeaderBoardGlobal($.globalRank,$.userRank),e.next=80;break;case 75:return c=s,e.next=78,_e.Instance.processError(c);case 78:e.sent?($.logout(),_.loadScene(D.SCENE_SPLASH,(function(){Ee.Instance.hide()}))):Ee.Instance.hide();case 80:return e.abrupt("break",100);case 81:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.QR_SCAN)){e.next=84;break}return e.abrupt("return");case 84:return x.isMobile()?(this.isScanCancelled=!1,this.updateQRTextInHTML(),this.SetState(Mt.CAMERA_ACCESS)):_e.Instance.show(k.t("str_qr_mobile_only"),!0,(function(){_e.Instance.hide()})),e.abrupt("break",100);case 86:return Me.Instance.playOneShot(M.UI_TOGGLE),this.onSwitchCharacter(L.MILKY),e.abrupt("break",100);case 89:return Me.Instance.playOneShot(M.UI_TOGGLE),this.onSwitchCharacter(L.SCHOKI),e.abrupt("break",100);case 92:if(Me.Instance.playOneShot(M.UI_CLICK),this.checkFeatureUnlocked(Oe.STORE)){e.next=95;break}return e.abrupt("return");case 95:return e.next=97,this.checkLastPopupAndShow(pt.BOOSTERS,!0);case 97:return(u=e.sent)&&u.getComponent(de).show(),e.abrupt("break",100);case 100:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.playBgm=function(){Me.Instance.playMenuBgm(!0)},i.pauseBgm=function(){Me.Instance.pauseMenuBgm()},i.stopBgm=function(){Me.Instance.stopMenuBgm()},i.onTutorialDailyReward=function(){var e=this;return new Promise(s(o().mark((function t(n){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPopup(pt.DAILY_REWARD);case 2:1==(a=t.sent.getComponent(Y)).node.active&&re.Instance.active(!0,se.DAILY_REWARD,s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===oe.DR_STEP_1?3:e.t0===oe.DR_STEP_2?5:10;break;case 3:return re.Instance.setState(oe.DR_STEP_2,a.btnClaim.node.getPathInHierarchy()),e.abrupt("break",10);case 5:return a.onClaim(),F.Instance.turnCameraPage(1),re.Instance.active(!1,se.DAILY_REWARD),n(!0),e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)}))));case 4:case"end":return t.stop()}}),t)}))))},i.onTutorialActionPhase=function(){var e=this;return new Promise((function(t){re.Instance.active(!0,se.ACTION_PHASE,(function(n){switch(n){case oe.AP_STEP_1:Me.Instance.playOneShot(M.UI_TOGGLE),e.onSwitchCharacter(L.SCHOKI),re.Instance.setState(oe.AP_STEP_2);break;case oe.AP_STEP_2:e.onButtonPublic(),re.Instance.active(!1,se.ACTION_PHASE),t(!0)}}))}))},i.onTutorialDailyMission=function(){var e=this;return new Promise((function(t){re.Instance.active(!0,se.DAILY_MISSION,s(o().mark((function n(a){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=a,n.next=n.t0===oe.DM_STEP_1?3:n.t0===oe.DM_STEP_2?7:n.t0===oe.DM_STEP_3?14:n.t0===oe.DM_STEP_4?19:n.t0===oe.DM_STEP_5?24:n.t0===oe.DM_STEP_6?26:n.t0===oe.DM_STEP_7?28:31;break;case 3:return fe.GetInstance().dispatchEvent(new Ae(lt.MOVE_CAMERA,{})),F.Instance.turnCameraPage(2),re.Instance.setState(oe.DM_STEP_2),n.abrupt("break",31);case 7:return Me.Instance.playOneShot(M.UI_CLICK),n.next=10,e.checkLastPopupAndShow(pt.DAILY_MISSIONS,!0);case 10:return r=n.sent.getComponent(V),r.checkTutorial()||re.Instance.setState(oe.DM_STEP_3),n.abrupt("break",31);case 14:return n.next=16,e.getPopup(pt.DAILY_MISSIONS);case 16:return n.sent.getComponent(V).checkTutorial(!0),n.abrupt("break",31);case 19:return n.next=21,e.getPopup(pt.DAILY_MISSIONS);case 21:return n.sent.getComponent(V).checkTutorial(!0),n.abrupt("break",31);case 24:return re.Instance.setState(oe.DM_STEP_6),n.abrupt("break",31);case 26:return re.Instance.setState(oe.DM_STEP_7),n.abrupt("break",31);case 28:return re.Instance.active(!1,se.DAILY_MISSION),t(!0),n.abrupt("break",31);case 31:case"end":return n.stop()}}),n)}))))}))},i.onTutorialBuyBooster=function(){var e=this;return new Promise((function(t){re.Instance.active(!0,se.BUY_BOOSTER,s(o().mark((function n(a){var r,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=a,n.next=n.t0===oe.SHOP_STEP_1_1?3:n.t0===oe.SHOP_STEP_1_2?10:n.t0===oe.SHOP_STEP_1_3?15:n.t0===oe.SHOP_STEP_1_4?22:n.t0===oe.SHOP_STEP_1_5?24:n.t0===oe.SHOP_STEP_1_6?30:n.t0===oe.SHOP_STEP_1_7?36:44;break;case 3:return Me.Instance.playOneShot(M.UI_CLICK),n.next=6,e.checkLastPopupAndShow(pt.SHOP,!0);case 6:return n.sent.getComponent(q).showBackButtonsTutorial(!1),re.Instance.setState(oe.SHOP_STEP_1_2),n.abrupt("break",44);case 10:return n.next=12,e.getPopup(pt.SHOP);case 12:return n.sent.getComponent(q),re.Instance.setState(oe.SHOP_STEP_1_3),n.abrupt("break",44);case 15:return n.next=17,e.getPopup(pt.SHOP);case 17:return(r=n.sent.getComponent(q)).onTabBoosterClicked(),r.onTutorialUpdateFreeBoosterPrice(!0),re.Instance.setState(oe.SHOP_STEP_1_4),n.abrupt("break",44);case 22:return re.Instance.setState(oe.SHOP_STEP_1_5),n.abrupt("break",44);case 24:return n.next=26,e.getPopup(pt.SHOP);case 26:return n.sent.getComponent(q).onTutorialShowBoosterDetail(),re.Instance.setState(oe.SHOP_STEP_1_6),n.abrupt("break",44);case 30:return n.next=32,e.getPopup(pt.SHOP);case 32:return n.sent.getComponent(q).onTutorialShowBoosterDetail(),re.Instance.setState(oe.SHOP_STEP_1_7),n.abrupt("break",44);case 36:return n.next=38,e.getPopup(pt.SHOP);case 38:return(s=n.sent.getComponent(q)).onTUtorialBuyFreeBooster(),s.onTutorialUpdateFreeBoosterPrice(!1),re.Instance.active(!1,se.BUY_BOOSTER),t(!0),n.abrupt("break",44);case 44:case"end":return n.stop()}}),n)}))))}))},i.onTutorialAchievement=function(){var e=this;return new Promise((function(t){re.Instance.active(!0,se.ACHIEVEMENT,s(o().mark((function n(a){var r,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=a,n.next=n.t0===oe.ACHI_STEP_1?3:n.t0===oe.ACHI_STEP_2?7:n.t0===oe.ACHI_STEP_3?15:22;break;case 3:return fe.GetInstance().dispatchEvent(new Ae(lt.MOVE_CAMERA,{})),F.Instance.turnCameraPage(0),re.Instance.setState(oe.ACHI_STEP_2),n.abrupt("break",22);case 7:return Me.Instance.playOneShot(M.UI_CLICK),n.next=10,e.checkLastPopupAndShow(pt.ACHIEVEMENT,!0);case 10:return(r=n.sent.getComponent(K)).show(),""==(s=r.onTutorialCheckHaveCompletedItem())?(ve.Instance.tutorialData.achievement=!0,ve.Instance.saveTutorialData(),re.Instance.active(!1,se.ACHIEVEMENT)):re.Instance.setState(oe.ACHI_STEP_3,s),n.abrupt("break",22);case 15:return n.next=17,e.getPopup(pt.ACHIEVEMENT);case 17:return n.sent.getComponent(K).onTutorialClaim(),re.Instance.active(!1,se.ACHIEVEMENT),t(!0),n.abrupt("break",22);case 22:case"end":return n.stop()}}),n)}))))}))},i.onTutorialSelectMap=function(){var e=this;return new Promise(s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkLastPopupAndShow(pt.UNLOCK_MAP,!0);case 2:t.sent.getComponent(J),re.Instance.active(!0,se.SELECT_MAP,s(o().mark((function t(a){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next=t.t0===oe.SELECT_MAP_1?3:t.t0===oe.SELECT_MAP_2?8:t.t0===oe.SELECT_MAP_3?13:18;break;case 3:return Me.Instance.playOneShot(M.UI_CLICK),t.next=6,e.checkLastPopupAndShow(pt.UNLOCK_MAP,!1);case 6:return re.Instance.setState(oe.SELECT_MAP_2),t.abrupt("break",18);case 8:return fe.GetInstance().dispatchEvent(new Ae(lt.MOVE_CAMERA,{})),F.Instance.turnCameraPage(1),F.Instance.rightArrow.active=!0,re.Instance.setState(oe.SELECT_MAP_3),t.abrupt("break",18);case 13:return Me.Instance.playOneShot(M.CHANGE_MAP),F.Instance.nextEnvironment(),re.Instance.active(!1,se.SELECT_MAP),n(!0),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)}))))},i.onTutorialUnlockEnv3=function(){return new Promise((function(e){}))},i.getMapName=function(){var e=pe.ISLAND;switch(ve.Instance.lobbyData.environment){case R.TROPICAL:e=pe.ISLAND;break;case R.URBAN:e=pe.CITY;break;case R.SNOW:e=pe.MOUNTAIN}return e},i.onTutorialQuipBooster=function(){var e=this;return new Promise((function(n){re.Instance.active(!0,se.EQUIP_BOOSTER,s(o().mark((function a(r){var s;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r,a.next=a.t0===oe.BSTR_STEP_1?3:a.t0===oe.BSTR_STEP_2?11:a.t0===oe.BSTR_STEP_3?18:a.t0===oe.BSTR_STEP_4?25:a.t0===oe.BSTR_STEP_5?27:30;break;case 3:return a.next=5,e.checkLastPopupAndShow(pt.BOOSTERS,!0);case 5:return(s=a.sent.getComponent(de)).getComponent(de).show(),s.onTutorialUpdateBooster(),Me.Instance.playOneShot(M.UI_CLICK),re.Instance.setState(oe.BSTR_STEP_2),a.abrupt("break",30);case 11:return a.next=13,e.getPopup(pt.BOOSTERS);case 13:return a.sent.getComponent(de).onTutorialSelectBooster(),Me.Instance.playOneShot(M.UI_SELECT),re.Instance.setState(oe.BSTR_STEP_3),a.abrupt("break",30);case 18:return ve.Instance.lobbyData.booster=0,ve.Instance.saveLobbyData(),Me.Instance.playOneShot(M.UI_CLICK),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_SELECTED_BOOSTER,{})),t.Instance.checkLastPopupAndShow(pt.BOOSTERS,!1),re.Instance.setState(oe.BSTR_STEP_4),a.abrupt("break",30);case 25:return re.Instance.setState(oe.BSTR_STEP_5),a.abrupt("break",30);case 27:return re.Instance.active(!1,se.EQUIP_BOOSTER),n(!0),a.abrupt("break",30);case 30:case"end":return a.stop()}}),a)}))))}))},i.onTutorialBuyAccessory=function(){return new Promise((function(e){re.Instance.active(!0,se.BUY_ACCESSORIES,s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===oe.SHOP_STEP_2_1?3:t.t0===oe.SHOP_STEP_2_2?6:t.t0===oe.SHOP_STEP_2_3?9:t.t0===oe.SHOP_STEP_2_4?13:t.t0===oe.SHOP_STEP_2_5?16:21;break;case 3:return q.Instance.onTabAccessoryClicked(),re.Instance.setState(oe.SHOP_STEP_2_2),t.abrupt("break",21);case 6:return q.Instance.onSchokiSelected(),re.Instance.setState(oe.SHOP_STEP_2_3,q.Instance.onTutorialGetAccessoryPosition(oe.SHOP_STEP_2_3)),t.abrupt("break",21);case 9:return q.Instance.onTutorialAccessoryStep(n),q.Instance.onTutorialUpdateFreeAccessoryPrice(!0),re.Instance.setState(oe.SHOP_STEP_2_4,q.Instance.onTutorialGetAccessoryPosition(oe.SHOP_STEP_2_4)),t.abrupt("break",21);case 13:return q.Instance.onTutorialAccessoryStep(n),re.Instance.setState(oe.SHOP_STEP_2_5,q.Instance.onTutorialGetAccessoryPosition(oe.SHOP_STEP_2_5)),t.abrupt("break",21);case 16:return q.Instance.onTutorialAccessoryStep(n),re.Instance.active(!1,se.BUY_ACCESSORIES),q.Instance.showBackButtonsTutorial(!0),e(!0),t.abrupt("break",21);case 21:case"end":return t.stop()}}),t)}))))}))},i.tutorialCheck=function(){var e=s(o().mark((function e(t){var n,a,r,s,i,c,u,h,p,l,I,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=se.NONE),!D.CHEAT_IGNORE_MM_TUTORIAL&&!be.isInviteMode){e.next=3;break}return e.abrupt("return");case 3:if(n=ve.Instance.tutorialData.dailyReward,a=ve.Instance.tutorialData.actionPhaseTutorial,r=ve.Instance.tutorialData.dailyMission,s=ve.Instance.tutorialData.equipBooster,i=ve.Instance.tutorialData.buyBooster,c=ve.Instance.tutorialData.buyAccessories,u=ve.Instance.tutorialData.achievement,h=ve.Instance.isAnyAchievementCompleted(),p=ve.Instance.tutorialData.newMap,l=ve.Instance.tutorialData.unlockEnv2==g.UNLOCKED_SHOW_POPUP,I=ve.Instance.checkEnvironmentUnlocked(R.SNOW),S=ve.Instance.tutorialData.unlockEnv3==g.UNLOCKED_SHOW_POPUP,t!=se.DAILY_REWARD||n){e.next=23;break}if(ve.Instance.dailyRewardData.isClaimed){e.next=23;break}return e.next=19,this.onTutorialDailyReward();case 19:return ve.Instance.tutorialData.dailyReward=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.abrupt("return");case 23:if(p||!l){e.next=34;break}return e.next=26,this.onTutorialSelectMap();case 26:return F.Instance.nextEnvironment(),ve.Instance.tutorialData.newMap=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),this.tutorialCheck(),e.abrupt("return");case 34:if(!I||!S){e.next=37;break}return this.onPopupUnlockEnv(),e.abrupt("return");case 37:if(t!=se.BUY_ACCESSORIES){e.next=44;break}if(c){e.next=43;break}return e.next=41,this.onTutorialBuyAccessory();case 41:ve.Instance.tutorialData.buyAccessories=!0,ve.Instance.saveTutorialData();case 43:return e.abrupt("return");case 44:if(ve.Instance.dailyRewardData.isClaimed&&!(Y.Instance&&Y.Instance.node&&Y.Instance.node.active)){e.next=48;break}e.next=98;break;case 48:if(a){e.next=56;break}return e.next=51,this.onTutorialActionPhase();case 51:ve.Instance.tutorialData.actionPhaseTutorial=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.next=98;break;case 56:if(r){e.next=69;break}if(!(ve.Instance.tutorialData.completeGameCount>=1)){e.next=66;break}return e.next=60,this.onTutorialDailyMission();case 60:ve.Instance.tutorialData.dailyMission=!0,ve.Instance.tutorialData.completeGameCount=0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.next=67;break;case 66:case 67:e.next=98;break;case 69:if(s){e.next=89;break}if(!(ve.Instance.tutorialData.completeGameCount>=2)){e.next=86;break}if(i&&c){e.next=79;break}return e.next=74,this.onTutorialBuyBooster();case 74:ve.Instance.tutorialData.buyBooster=!0,ve.Instance.saveTutorialData(),this.tutorialCheck(se.BUY_ACCESSORIES),e.next=84;break;case 79:return e.next=81,this.onTutorialQuipBooster();case 81:ve.Instance.tutorialData.equipBooster=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{}));case 84:e.next=87;break;case 86:case 87:e.next=98;break;case 89:if(u||!h){e.next=97;break}return e.next=92,this.onTutorialAchievement();case 92:ve.Instance.tutorialData.achievement=!0,ve.Instance.saveTutorialData(),fe.GetInstance().dispatchEvent(new Ae(lt.UPDATE_PROGRESSION,{})),e.next=98;break;case 97:case 98:this.showA2H();case 99:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showA2H=function(){0==this._showingPopups.length&&this.qualifiedForAddToHomeScreen()&&this.canShowA2H()&&(this.checkLastPopupAndShow(pt.ADD_TO_HOMESCREEN,!0),ve.Instance.a2hData.lastTimeShow=Date.now(),ve.Instance.a2hData.showCount++,ve.Instance.saveA2HData())},i.canShowA2H=function(){var e=ve.Instance.a2hData,t=(Date.now()-e.lastTimeShow)/864e5,n=e.run2000,a=e.claimDailyMissionCount>=2,r=e.claimAchievementCount>=1,s=e.shopBuyCount>=1,o=t>=3,i=e.showCount<2;return(n||a||r||s)&&o&&i?(console.log("canShowA2H",!0),!0):(console.log("canShowA2H",!1),!1)},i.qualifiedForAddToHomeScreen=function(){if(console.log("qualified_for_progressive_web_app",window.qualified_for_progressive_web_app),console.log("window.isInStandaloneMode",window.isInStandaloneMode),!window.isInStandaloneMode){if(window.qualified_for_progressive_web_app)return!0;if(x.isIOSSafari())return!0}return!1},i.onA2HCClicked=function(){var e=new Event("confirm_install_app");window.dispatchEvent(e)},t}(m)).Instance=null,ze=t((qe=ht).prototype,"mainCanvas",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(qe.prototype,"UIContainer",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(qe.prototype,"popupContainer",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(qe.prototype,"shopAccBG",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(qe.prototype,"matchBG",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(qe.prototype,"touchDistance",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),et=t(qe.prototype,"changePageSpeed",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),tt=t(qe.prototype,"isClickingButton",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=t(qe.prototype,"selectedChar",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(qe.prototype,"unselectedChar",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(qe.prototype,"roomNodes",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=t(qe.prototype,"animDoorPrivate",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(qe.prototype,"animDoorPublic",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(qe.prototype,"matchBGFrames",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=t(qe.prototype,"milkySelected",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(qe.prototype,"schokiSelected",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=qe))||Ve));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainmenuNotification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./MainMenuManager.ts","./UserDataManager.ts","./DailyMissionManager.ts"],(function(i){"use strict";var n,t,e,o,a,c,s,r,l,u,N,f,I;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,c=i._decorator,s=i.Node,r=i.Enum,l=i.Component},function(i){u=i.default},function(i){N=i.MainMenuEvent},function(i){f=i.UserDataManager},function(i){I=i.DailyMissionManager}],execute:function(){var p,T,E,h,M,y,d;i("NOTIFICATION_TYPE",void 0),a._RF.push({},"e1b2ek8HClGFoXw/QQhze0l","MainmenuNotification",void 0);var A,O=c.ccclass,b=c.property;!function(i){i[i.NONE=0]="NONE",i[i.DAILY_MISSION=1]="DAILY_MISSION",i[i.ACHIEVEMENT=2]="ACHIEVEMENT",i[i.DESTINATION=3]="DESTINATION",i[i.SHOP=4]="SHOP"}(A||(A=i("NOTIFICATION_TYPE",{})));i("MainmenuNotification",(p=O("MainmenuNotification"),T=b(s),E=b({type:r(A)}),p((y=n((M=function(i){function n(){for(var n,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return n=i.call.apply(i,[this].concat(a))||this,e(n,"notificationNode",y,o(n)),e(n,"notiType",d,o(n)),n._notificationCallback=null,n}t(n,i);var a=n.prototype;return a.onLoad=function(){this._notificationCallback=this.updateNotification.bind(this),u.GetInstance().addEventListener(N.UPDATE_NOTIFICATION,this._notificationCallback),this.setNotifiEnable(!1)},a.onDestroy=function(){u.GetInstance().removeEventListener(N.UPDATE_NOTIFICATION,this._notificationCallback),this._notificationCallback=null},a.updateNotification=function(){var i=!1;this.notiType==A.DAILY_MISSION?i=I.Instance.hasUnclaimedMission():this.notiType==A.ACHIEVEMENT?i=f.Instance.isAnyAchievementCompleted():this.notiType==A.DESTINATION?i=f.Instance.hasNewEnvironment():this.notiType==A.SHOP&&(i=f.Instance.isAnyNewAccessory()),this.setNotifiEnable(i)},a.setNotifiEnable=function(i){this.notificationNode&&(this.notificationNode.active=i)},n}(l)).prototype,"notificationNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(M.prototype,"notiType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=M))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./DailyMissionManager.ts","./MissionItemList.ts","./TutorialManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./VFXManager.ts","./MainMenuBlockout.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,u,c,l,p,m,f,h,d,I,M,T,S,b,g,v,D,N,y,C,_,L,E,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Node,l=t.Prefab,p=t.Label,m=t.ScrollView,f=t.Component,h=t.instantiate},function(t){d=t.DailyMissionDefine,I=t.AudioSrc,M=t.MM_ANIM},function(t){T=t.MainMenuManager,S=t.POPUPTYPE_MM},function(t){b=t.SoundManager},function(t){g=t.UserDataManager},function(t){v=t.DailyMissionManager},function(t){D=t.MissionItemList},function(t){N=t.TutorialManager,y=t.TUTORIAL_STATE,C=t.TUTORIAL_TYPE},function(t){_=t.default},function(t){L=t.FeatureName},function(t){E=t.VFXManager},function(t){A=t.MainMenuBlockout}],execute:function(){var w,F,P,R,k,x,z,O,U,V,H,B,G,Y,K,W,X,j,q,J,Q,Z;s._RF.push({},"448d7qy851C+bVD3zUuGfWp","MainMenuReward",void 0);var $=u.ccclass,tt=u.property;t("MainMenuReward",(w=$("MainMenuReward"),F=tt(c),P=tt(l),R=tt(p),k=tt(c),x=tt(p),z=tt(m),O=tt(c),U=tt(p),V=tt(p),w(((Z=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"contentNode",G,a(e)),i(e,"missionItem",Y,a(e)),i(e,"coinNumber",K,a(e)),i(e,"dailyTimer",W,a(e)),i(e,"dailyTimerLabel",X,a(e)),i(e,"dmScrollView",j,a(e)),i(e,"popupInfo",q,a(e)),i(e,"popupTxt",J,a(e)),i(e,"missionFinishedTxt",Q,a(e)),e.state=-1,e.isMissionRefreshed=!1,e.missionDataList=null,e.itemHeight=0,e.itemScale=0,e.featureTimeSpent=0,e.TRACKING_INTERVAL=60,e.featureName=L.DAILY_MISSION,e.isMMFeatureSent=!1,e}n(e,t);var s=e.prototype;return s.onLoad=function(){e.Instance=this},s.onEnable=function(){var t=o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.popupInfo.active=!1,this.updateCoinNumber(),this.dailyTimer.active=!0,this.missionFinishedTxt.node.active=!1,this.contentNode.removeAllChildren(),!g.Instance.missionData){t.next=13;break}if(!(g.Instance.missionData.missionList.length>0)){t.next=12;break}return this.missionFinishedTxt.node.active=!1,t.next=10,this.loadData();case 10:t.next=13;break;case 12:this.missionFinishedTxt.node.active=!0;case 13:this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,_.Send_FEATURE_FINISHED(T.Instance.featureName,T.Instance.featureTimeSpent)),E.Instance.node.active=!0;case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.loadData=function(){var t=o(r().mark((function t(){var e,n,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.missionDataList=g.Instance.missionData.missionList,this.updateItemStatus(),this.sortItem(),e=!0,n=0;n<this.missionDataList.length;n++)i=h(this.missionItem),this.contentNode.addChild(i),(a=i.getComponent(D)).init(this.missionDataList[n]),a.node.active&&(e=!1);this.missionFinishedTxt.node.active=e;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.checkTutorial=function(t){if(void 0===t&&(t=!1),N.Instance.tutorialState==y.DM_STEP_2||N.Instance.tutorialState==y.DM_STEP_3||N.Instance.tutorialState==y.DM_STEP_4){var e=this.contentNode.children.filter((function(t){return!t.getComponent(D).isCompleted})),n=this.contentNode.children.filter((function(t){var e=t.getComponent(D);return!(!e.isCompleted||e.isClaimed)}));if(n.length>0){var i=n[0].getComponent(D);if(!t)return N.Instance.setState(y.DM_STEP_3,i.btnClaim.node.getPathInHierarchy()),!0;i.onButtonClaim(),this.checkTutorial()}else{if(!(e.length>0))return N.Instance.active(!1,C.DAILY_MISSION),g.Instance.tutorialData.dailyMission=!0,g.Instance.saveTutorialData(),!0;var a=e[0].getComponent(D);if(!t)return N.Instance.setState(y.DM_STEP_4,a.btnClaim.node.getPathInHierarchy()),!0;a.onButtonGo(),N.Instance.setState(y.DM_STEP_5)}}return!1},s.updateItemStatus=function(){for(var t=0;t<this.missionDataList.length;t++)for(var e=this.missionDataList[t],n=0;n<d.length;n++){var i=d[n];if(e.id==d[n].id){e.counter>=i.value[e.difficulty]&&!e.isCompleted&&(e.isCompleted=!0);break}}},s.sortItem=function(){this.missionDataList.sort((function(t,e){return Number(e.isCompleted)-Number(t.isCompleted)})),this.missionDataList.sort((function(t,e){return Number(t.isClaimed)-Number(e.isClaimed)}))},s.updateCoinNumber=function(){this.coinNumber.string=""+g.Instance.coinWallet},s.update=function(t){if(this.updateDailyTimer(),this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=t,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(_.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),this.featureTimeSpent=0)),N.Instance.tutorialState==y.DM_STEP_3){var e=this.contentNode.children[0].getComponent(D).btnClaim.node.getWorldPosition();N.Instance.updateClickTarget(e)}},s.onClose=function(){b.Instance.playOneShot(I.UI_BACK),b.Instance.stopCoinSFX(),T.Instance.checkLastPopupAndShow(S.DAILY_MISSIONS,!1),this.isMMFeatureSent=!1,_.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),Math.random()<.5?A.Instance.playMenuAnim(M.DAILY_MISSION):A.Instance.playMenuAnim(M.COLLECTION),E.Instance.node.active=!1},s.onButtonAchievement=function(){T.Instance.checkLastPopupAndShow(S.ACHIEVEMENT,!0)},s.updateDailyTimer=function(){var t=v.Instance.getTimeStr();this.dailyTimerLabel.string=""+t},s.onMissionClaimed=function(){for(var t=!0,e=0;e<this.contentNode.children.length;e++){this.contentNode.children[e].active&&(t=!1)}this.missionFinishedTxt.node.active=t},s.showPopup=function(t){this.popupTxt.string=t,this.popupInfo.active=!0},s.onPopupOk=function(){this.popupInfo.active=!1},e}(f)).Instance=null,G=e((B=Z).prototype,"contentNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(B.prototype,"missionItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(B.prototype,"coinNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(B.prototype,"dailyTimer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(B.prototype,"dailyTimerLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"dmScrollView",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(B.prototype,"popupInfo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(B.prototype,"popupTxt",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(B.prototype,"missionFinishedTxt",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=B))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameHelper.ts","./LanguageData.ts","./GameResourceManager.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./OnlineMgr.ts","./LanguageItemList.ts","./ErrorPopup.ts","./Loading.ts","./TrackingEvents.ts","./TrackingMgr.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,l,u,c,g,p,h,d,f,b,I,S,m,_,L,C,N,M,y,T,O,F,w,v,A,E,G,B,P,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Sprite,g=e.Label,p=e.Prefab,h=e.SpriteFrame,d=e.RichText,f=e.ScrollView,b=e.Vec2,I=e.Component},function(e){S=e.language},function(e){m=e.SIGNIN_METHOD_NAMES,_=e.default,L=e.AudioSrc,C=e.SaveDataNames},function(e){N=e.GameHelper},function(e){M=e.LANGUAGE_ID,y=e.LANGUAGE_STRING},function(e){T=e.GameResourceManager},function(e){O=e.MainMenuManager,F=e.POPUPTYPE_MM},function(e){w=e.SoundManager},function(e){v=e.UserDataManager},function(e){A=e.default},function(e){E=e.LanguageItemList},function(e){G=e.ErrorPopup},function(e){B=e.Loading},function(e){P=e.default},function(e){U=e.FeatureName}],execute:function(){var D,z,k,R,X,x,K,V,H,J,Y,j,Q,q,W,Z,$,ee,te,ne,ie,ae,re,oe,se,le,ue,ce,ge,pe,he,de,fe,be,Ie,Se,me,_e,Le,Ce,Ne,Me,ye,Te,Oe;s._RF.push({},"b4309rnIRRJ64pPmNtoyhlA","MainMenuSettings",void 0);var Fe,we=l.ccclass,ve=l.property;!function(e){e.COIN_UPDATE="Coin amount updated!",e.BOOSTER_UNLOCKED="All boosters unlocked!"}(Fe||(Fe={}));var Ae=e("SIGNIN_METHOD_CONFIG",((D={})[m.Facebook]={iconFrameName:"fb-icon"},D[m.Google]={iconFrameName:"google-icon"},D[m.Anonymous]={iconFrameName:"guest-icon"},D)),Ee={en:"str_language_en",fr:"str_language_fr",de:"str_language_de",ru:"str_language_ru",ar:"str_language_ab"};e("MainMenuSettings",(z=we("MainMenuSettings"),k=ve(u),R=ve(u),X=ve(c),x=ve(c),K=ve(g),V=ve(g),H=ve(p),J=ve(g),Y=ve(h),j=ve(u),Q=ve(h),q=ve(g),W=ve(c),Z=ve(u),$=ve(u),ee=ve(u),te=ve(d),ne=ve(f),ie=ve(h),ae=ve(u),z(((Oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"popupLang",se,a(t)),i(t,"popupCredits",le,a(t)),i(t,"btnMusic",ue,a(t)),i(t,"btnSFX",ce,a(t)),i(t,"lblMusic",ge,a(t)),i(t,"lblSFX",pe,a(t)),i(t,"languageItem",he,a(t)),i(t,"labelLanguage",de,a(t)),i(t,"langSprite",fe,a(t)),i(t,"listLanguageNode",be,a(t)),t.listLanguage=[],i(t,"iconSpriteFrames",Ie,a(t)),i(t,"labelAccount",Se,a(t)),i(t,"iconSprite",me,a(t)),i(t,"loginNode",_e,a(t)),i(t,"logoutNode",Le,a(t)),i(t,"logoutConfirmPopup",Ce,a(t)),i(t,"labelCredits",Ne,a(t)),i(t,"creditsView",Me,a(t)),i(t,"btnLangSpriteFrames",ye,a(t)),i(t,"btnDebug",Te,a(t)),t.creditsPart=[],t.creditsIdx=0,t.creditsPartIdx=[30,60,103],t.isCreditsLoaded=!1,t.startPos=null,t.contentH=0,t.speedScrolling=100,t.scrollTime=5,t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=U.SETTINGS,t.isMMFeatureSent=!1,t._labelCallback=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._labelCallback=this.updateLabel.bind(this),S.addListener(this._labelCallback),t.Instance=this,this.creditsPart=T.Instance.creditParts,this.creditsView.node.on("scroll-ended",this.loadAdditionalCredits,this),this.checkLoginStatus(),this.labelLanguage.string=S.t(Ee[S.language]),this.creditsIdx=0},s.onEnable=function(){this.popupLang.active=!1,this.popupCredits.active=!1,this.updateBtnMusic(),this.updateBtnSFX(),this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,P.Send_FEATURE_FINISHED(O.Instance.featureName,O.Instance.featureTimeSpent)),this.btnDebug.active=!!_.IS_DEBUG},s.onDestroy=function(){S.removeListener(this._labelCallback),this._labelCallback=null},s.updateLabel=function(){this.updateBtnMusic(),this.updateBtnSFX()},s.checkLoginStatus=function(){var e=A.isLogin()&&!A.isNewUser();if(this.logoutNode.active=e,this.loginNode.active=!e,e){var t=Ae[A.signInMethod].iconFrameName;this.iconSprite.spriteFrame=this.iconSpriteFrames.find((function(e){return e.name==t})),this.labelAccount.string=A.userName}else this.labelAccount.string=S.t("str_settings_account")},s.onClose=function(){w.Instance.playOneShot(L.UI_BACK),O.Instance.checkLastPopupAndShow(F.SETTINGS,!1),this.isMMFeatureSent=!1,P.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent)},s.onMusicToggle=function(){w.Instance.playOneShot(L.UI_TOGGLE),_.IS_BGM_ON=!_.IS_BGM_ON,localStorage.setItem("BGM",""+_.IS_BGM_ON),this.updateBtnMusic(),_.IS_BGM_ON?O.Instance.playBgm():(O.Instance.pauseBgm(),w.Instance.stopEndBgm(),w.Instance.stopLoadingBgm(),w.Instance.stopQteBgm(),w.Instance.stopSplashBgm(),w.Instance.stopCoinSFX())},s.onSFXToggle=function(){_.IS_SFX_ON=!_.IS_SFX_ON,localStorage.setItem("SFX",""+_.IS_SFX_ON),_.IS_SFX_ON||w.Instance.stopAmbient(),w.Instance.playOneShot(L.UI_TOGGLE),this.updateBtnSFX()},s.onSignIn=function(){},s.onSignOut=function(){this.logoutConfirmPopup.active=!0,w.Instance.playOneShot(L.UI_CLICK)},s.onSignoutYes=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.Instance.playOneShot(L.UI_CLICK),w.Instance.stopMenuBgm(),this.logoutConfirmPopup.active=!1,B.Instance.show(),t=!0,A.signInMethod!=m.Anonymous){e.next=8;break}return e.next=8,v.Instance.saveLocalInventories();case 8:t?(A.logout(),B.Instance.hide(),O.Instance.checkLastPopupAndShow(F.SIGN_IN,!0)):(B.Instance.hide(),G.Instance.show("Error",!0,G.HideCallback));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onSignoutNo=function(){w.Instance.playOneShot(L.UI_CLICK),this.logoutConfirmPopup.active=!1},s.onLanguage=function(){w.Instance.playOneShot(L.UI_CLICK),this.popupLang.active=!0;var e=S.language,t=M.indexOf(e);this.listLanguage=[];for(var n=0;n<this.listLanguageNode.length;n++){var i=this.listLanguageNode[n].addComponent(E);i.init(M[n],y[n]),n==t&&i.enableItem(!0),this.listLanguage.push(i)}},s.OnLanguageClose=function(){w.Instance.playOneShot(L.UI_BACK),this.popupLang.active=!1},s.onCredit=function(){var e=this;switch(w.Instance.playOneShot(L.UI_CLICK),this.popupCredits.active=!0,this.isCreditsLoaded||(this.isCreditsLoaded=!0,this.loadCredits()),this.scrollTime=5,this.creditsIdx){case 0:this.scrollTime=5;break;case 1:this.scrollTime+=15;break;case 2:this.scrollTime+=75}this.creditsView.scrollToTop(0),this.scheduleOnce((function(){e.creditsView.scrollTo(new b(0,-200),e.scrollTime)}),1.5)},s.OnCreditsClose=function(){w.Instance.playOneShot(L.UI_BACK),this.popupCredits.active=!1},s.onPolicy=function(){w.Instance.playOneShot(L.UI_CLICK),N.OpenPP()},s.onTerms=function(){w.Instance.playOneShot(L.UI_CLICK),N.OpenToU()},s.onDebug=function(){w.Instance.playOneShot(L.UI_CLICK),O.Instance.checkLastPopupAndShow(F.DEBUG,!0),O.Instance.stopBgm()},s.onLanguageItemClicked=function(e){w.Instance.playOneShot(L.UI_SELECT);for(var t=0;t<this.listLanguage.length;t++)if(this.listLanguage[t].langId===e){this.listLanguage[t].enableItem(!0);var n=M.indexOf(e);S.setLanguage(M[n]),v.setUserDataKey(C.LANGUAGE,JSON.stringify(M[n])),this.labelLanguage.string=S.t(Ee[M[n]])}else this.listLanguage[t].enableItem(!1)},s.updateBtnMusic=function(){this.btnMusic.grayscale=1!=_.IS_BGM_ON,this.lblMusic.string=1==_.IS_BGM_ON?S.t("str_settings_on"):S.t("str_settings_offf")},s.updateBtnSFX=function(){this.btnSFX.grayscale=1!=_.IS_SFX_ON,this.lblSFX.string=1==_.IS_SFX_ON?S.t("str_settings_on"):S.t("str_settings_offf")},s.loadCredits=function(){""===this.labelCredits.string&&(this.labelCredits.string=this.creditsPart[this.creditsIdx])},s.loadAdditionalCredits=function(){console.log("bottom"),this.creditsIdx>=this.creditsPart.length-1||(this.creditsIdx++,this.labelCredits.string+=this.creditsPart[this.creditsIdx],this.creditsView.stopAutoScroll(),1==this.creditsIdx?this.scrollTime+=15:2==this.creditsIdx&&(this.scrollTime+=75),this.creditsView.scrollTo(new b(0,-200),this.scrollTime))},s.strSplitOnLength=function(e,t){if(e.length<=0)return[];for(var n=e.split(/([\s\n\r]+)/),i=[],a=0,r=0;r<n.length;++r)i[a]||(i[a]=""),t<n[r].length+i[a].length&&a++,i[a]+=n[r];return i},s.splitCredits=function(){return 0},s.onCreditsScrollStop=function(){console.log("a")},s.update=function(e){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(P.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0)),this.popupCredits.active},t}(I)).Instance=null,se=t((oe=Oe).prototype,"popupLang",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(oe.prototype,"popupCredits",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(oe.prototype,"btnMusic",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(oe.prototype,"btnSFX",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(oe.prototype,"lblMusic",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(oe.prototype,"lblSFX",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(oe.prototype,"languageItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(oe.prototype,"labelLanguage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(oe.prototype,"langSprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(oe.prototype,"listLanguageNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=t(oe.prototype,"iconSpriteFrames",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=t(oe.prototype,"labelAccount",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(oe.prototype,"iconSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(oe.prototype,"loginNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(oe.prototype,"logoutNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(oe.prototype,"logoutConfirmPopup",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(oe.prototype,"labelCredits",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(oe.prototype,"creditsView",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(oe.prototype,"btnLangSpriteFrames",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t(oe.prototype,"btnDebug",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=oe))||re));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AccessoryItemList.ts","./Constants.ts","./MainMenuManager.ts","./UserDataManager.ts","./BoosterItemList.ts","./PowerupItemList.ts","./MainmenuAccessory.ts","./i18n.ts","./SoundManager.ts","./MainMenuTouchItem.ts","./CharacterAnimCtrl.ts","./TutorialManager.ts","./MainMenuBlockout.ts","./TrackingMgr.ts","./TrackingEvents.ts"],(function(t){"use strict";var e,n,i,o,a,r,c,s,l,u,h,p,b,S,I,m,C,f,y,d,T,E,A,g,_,O,v,P,N,L,B,M,w,R,H,k,U,D,G,z,K,F,Y,x,V,W,q,j,J,Q,X;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Node,h=t.Prefab,p=t.Label,b=t.SpriteFrame,S=t.ScrollView,I=t.UIOpacity,m=t.Input,C=t.v3,f=t.Vec3,y=t.geometry,d=t.PhysicsSystem,T=t.instantiate,E=t.Button,A=t.Sprite,g=t.UITransform,_=t.resources,O=t.Component},function(t){v=t.AccessoryItemList},function(t){P=t.ItemType,N=t.PLAYER_CHARACTER,L=t.AudioSrc,B=t.MM_ANIM,M=t.AccessoryType,w=t.ACCESSORY_ITEMS},function(t){R=t.MainMenuManager,H=t.POPUPTYPE_MM},function(t){k=t.UserDataManager},function(t){U=t.BoosterItemList},function(t){D=t.PowerupItemList},function(t){G=t.MainmenuAccessory,z=t.CAMERA_STATES},function(t){K=t.language},function(t){F=t.SoundManager},function(t){Y=t.MainMenuTouchItem,x=t.MAINMENU_TOUCH_FUNCTION},function(t){V=t.CHARACTER_ANIM},function(t){W=t.TutorialManager,q=t.TUTORIAL_STATE},function(t){j=t.MainMenuBlockout},function(t){J=t.FeatureName,Q=t.ItemName},function(t){X=t.default}],execute:function(){var Z,$,tt,et,nt,it,ot,at,rt,ct,st,lt,ut,ht,pt,bt,St,It,mt,Ct,ft,yt,dt,Tt,Et,At,gt,_t,Ot,vt,Pt,Nt,Lt,Bt,Mt,wt,Rt,Ht,kt,Ut,Dt,Gt,zt,Kt,Ft,Yt,xt,Vt,Wt,qt,jt,Jt,Qt,Xt,Zt,$t,te,ee,ne,ie,oe,ae,re,ce,se,le,ue,he,pe,be;t({LEG_SPRITE:void 0,POWERUP_SPRITE:void 0}),s._RF.push({},"36cabSjKrdEVoq/FGq3jst2","MainMenuShop",void 0);var Se,Ie,me,Ce=l.ccclass,fe=l.property;!function(t){t[t.POWERUP=0]="POWERUP",t[t.BOOSTER=1]="BOOSTER",t[t.ACCESSORY=2]="ACCESSORY"}(Se||(Se={})),function(t){t[t.SHIELD=0]="SHIELD",t[t.MAGNET=1]="MAGNET",t[t.COIN_DUPER=2]="COIN_DUPER",t[t.STAMPER=3]="STAMPER",t[t.MEGA_HOP=4]="MEGA_HOP"}(Ie||(Ie=t("POWERUP_SPRITE",{}))),function(t){t[t.MILKY_NON=0]="MILKY_NON",t[t.MILKY_SELECTED=1]="MILKY_SELECTED",t[t.SCHOKI_NON=2]="SCHOKI_NON",t[t.SCHOKI_SELECTED=3]="SCHOKI_SELECTED"}(me||(me=t("LEG_SPRITE",{})));t("MainMenuShop",(Z=Ce("MainMenuShop"),$=fe(u),tt=fe(u),et=fe(u),nt=fe(u),it=fe(u),ot=fe(u),at=fe(u),rt=fe(u),ct=fe(h),st=fe(h),lt=fe(h),ut=fe(p),ht=fe(u),pt=fe(u),bt=fe(u),St=fe(u),It=fe(u),mt=fe(u),Ct=fe(u),ft=fe(u),yt=fe(u),dt=fe(u),Tt=fe(u),Et=fe(u),At=fe(b),gt=fe(b),_t=fe(b),Ot=fe(b),vt=fe(p),Pt=fe(p),Nt=fe(S),Lt=fe(S),Bt=fe(p),Z(((be=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bg",Rt,o(e)),i(e,"shopItemBg",Ht,o(e)),i(e,"characterSelect",kt,o(e)),i(e,"scrollview",Ut,o(e)),i(e,"contentNode",Dt,o(e)),i(e,"scrollviewAccessory",Gt,o(e)),i(e,"contentAccesoryNode",zt,o(e)),i(e,"popupAccessory",Kt,o(e)),i(e,"powerupItem",Ft,o(e)),i(e,"boosterItem",Yt,o(e)),i(e,"accessoryItem",xt,o(e)),i(e,"coinNumber",Vt,o(e)),i(e,"popupConfirm",Wt,o(e)),i(e,"popupError",qt,o(e)),i(e,"tabPowerup",jt,o(e)),i(e,"tabBooster",Jt,o(e)),i(e,"tabAccessory",Qt,o(e)),i(e,"tabHead",Xt,o(e)),i(e,"tabBody",Zt,o(e)),i(e,"tabBottom",$t,o(e)),i(e,"milkySpotlight",te,o(e)),i(e,"schokiSpotlight",ee,o(e)),i(e,"btnHome",ne,o(e)),i(e,"btnBack",ie,o(e)),i(e,"baseBoosterSprite",oe,o(e)),i(e,"powerupSprite",ae,o(e)),i(e,"boosterSprite",re,o(e)),i(e,"accessoryLegSprite",ce,o(e)),i(e,"LabelPowerUp",se,o(e)),i(e,"SelectLabelPowerUp",le,o(e)),i(e,"shopScrollView",ue,o(e)),i(e,"accessoryScrollView",he,o(e)),i(e,"errorMsg",pe,o(e)),e.powerupDataList=null,e.boosterDataList=null,e.accessoryDataList=null,e.selectBoosterId=-1,e.powerupAmount=0,e.boosterAmount=0,e.accAmount=0,e.itemHeight=0,e.state=-1,e.confirmItem=null,e._milkySelected=!0,e._lastLocation=null,e.isClickingButton=!1,e._tempTouch=null,e._beginTouch=null,e.touchDistance=25,e.featureTimeSpent=0,e.TRACKING_INTERVAL=60,e.featureName=J.SHOP,e.isMMFeatureSent=!1,e.listTrackingId_Shield=[Q.SHIELD1,Q.SHIELD2,Q.SHIELD3,Q.SHIELD4,Q.SHIELD5],e.listTrackingId_Magnet=[Q.MAGNET1,Q.MAGNET2,Q.MAGNET3,Q.MAGNET4,Q.MAGNET5],e.listTrackingId_CoinDuper=[Q.COIN_DUPER1,Q.COIN_DUPER2,Q.COIN_DUPER3,Q.COIN_DUPER4,Q.COIN_DUPER5],e.listTrackingId_Stamper=[Q.STAMPER1,Q.STAMPER2,Q.STAMPER3,Q.STAMPER4,Q.STAMPER5],e.listTrackingId_MegaHop=[Q.MEGA_HOP1,Q.MEGA_HOP2,Q.MEGA_HOP3,Q.MEGA_HOP4,Q.MEGA_HOP5],e}n(e,t);var s=e.prototype;return s.showBackButtonsTutorial=function(t){this.btnBack.getComponent(I).opacity=t?255:0,this.btnHome.getComponent(I).opacity=t?255:0},s.onLoad=function(){e.Instance=this,this.node.on(m.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(m.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(m.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(m.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onEnable=function(){this.popupConfirm.active=!1,this.popupError.active=!1,this.updateCoinNumber(),this.setState(Se.POWERUP,!0),this.featureTimeSpent=0,this.isMMFeatureSent||(this.isMMFeatureSent=!0,X.Send_FEATURE_FINISHED(R.Instance.featureName,R.Instance.featureTimeSpent))},s.onTouchStart=function(t){var e=t.getLocation();this._lastLocation=C(e.x,e.y),this._tempTouch=C(e.x,e.y),this._beginTouch=C(e.x,e.y),this.isClickingButton=!0},s.onTouchMove=function(t){if(this.state==Se.ACCESSORY&&this._lastLocation){var e=C(t.getUILocation().x,t.getUILocation().y),n=e.x-this._lastLocation.x,i=C(t.getLocation().x,t.getLocation().y);if(this._beginTouch)f.distance(i,this._beginTouch)>this.touchDistance&&(this.isClickingButton=!1);this.isClickingButton||G.Instance.rotateCharacter(this._milkySelected,.25*n),this._lastLocation=e}},s.onTouchEnd=function(t){var e=C(t.getLocation().x,t.getLocation().y);if(this.isClickingButton){var n=G.Instance.camera,i=new y.Ray;n.screenPointToRay(e.x,e.y,i);var o=P.UI;if(d.instance.raycastClosest(i,o,100,!0)){var a=d.instance.raycastClosestResult.collider.node.getComponent(Y);a&&this.onTouchFunction(a.FuncType)}}this._tempTouch=null,this._beginTouch=null,this.isClickingButton=!1},s.onTouchFunction=function(){var t=r(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===x.CHOOSE_MILKY?3:t.t0===x.CHOOSE_SCHOKI?5:7;break;case 3:return this.onMilkySelected(),t.abrupt("break",7);case 5:return this.onSchokiSelected(),t.abrupt("break",7);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.setState=function(t,e){if(void 0===e&&(e=!1),this.state!=t||0!=e)switch(this.state=t,this.state){case Se.POWERUP:if(R.Instance.shopAccBG.active=!1,this.bg.active=!0,this.shopItemBg.active=!0,this.scrollview.active=!0,this.scrollviewAccessory.active=!1,this.popupAccessory.active=!1,this.characterSelect.active=!1,this.btnHome.active=!0,this.btnBack.active=!1,this.contentNode.removeAllChildren(),this.enableTab(this.tabPowerup,!1),this.enableTab(this.tabBooster,!0),this.enableTab(this.tabAccessory,!0),k.Instance.powerupData&&k.Instance.powerupData.powerupList.length>0){this.powerupDataList=k.Instance.powerupData.powerupList,this.powerupAmount=0;for(var n=0;n<this.powerupDataList.length;n++){var i=T(this.powerupItem);this.contentNode.addChild(i),i.getComponent(D).init(this.powerupDataList[n]),this.powerupAmount++}}this.loadShopItem(),this.updateShopItem();break;case Se.BOOSTER:if(W.Instance.tutorialState==q.SHOP_STEP_1_3&&W.Instance.setState(q.SHOP_STEP_1_4),R.Instance.shopAccBG.active=!1,this.bg.active=!0,this.shopItemBg.active=!0,this.scrollview.active=!0,this.scrollviewAccessory.active=!1,this.popupAccessory.active=!1,this.characterSelect.active=!1,this.btnHome.active=!0,this.btnBack.active=!1,this.contentNode.removeAllChildren(),this.selectBoosterId=-1,this.enableTab(this.tabPowerup,!0),this.enableTab(this.tabBooster,!1),this.enableTab(this.tabAccessory,!0),k.Instance.boosterData&&k.Instance.boosterData.boosterList.length>0){this.boosterDataList=k.Instance.boosterData.boosterList,this.boosterAmount=0;for(var o=0;o<this.boosterDataList.length;o++){var a=T(this.boosterItem);this.contentNode.addChild(a);var r=a.getComponent(U);r.init(this.boosterDataList[o]),r.isInShop&&this.boosterAmount++}}this.loadShopItem(),this.updateShopItem();break;case Se.ACCESSORY:W.Instance.tutorialState==q.SHOP_STEP_2_1&&W.Instance.setState(q.SHOP_STEP_2_2),R.Instance.shopAccBG.active=!0,this.bg.active=!1,this.shopItemBg.active=!1,this.scrollview.active=!1,this.scrollviewAccessory.active=!0,this.popupAccessory.active=!0,this.characterSelect.active=!0,this.btnHome.active=!1,this.btnBack.active=!0,this.enableTab(this.tabPowerup,!1),this.enableTab(this.tabBooster,!1),this.enableTab(this.tabAccessory,!1),G.Instance.showCharacter(!0,!0),G.Instance.showCharacter(!1,!0),G.Instance.loadAllAccessories(),k.Instance.lobbyData.character==N.MILKY?this.selectCharacter(N.MILKY):this.selectCharacter(N.SCHOKI),this.onTabHeadClicked()}else this.state!=Se.POWERUP&&this.state!=Se.BOOSTER||this.updateShopItem()},s.enableTab=function(t,e){t.getComponent(E).enabled=e,t.getChildByName("SelectLabel").active=!e,t.getChildByName("SelectBG").active=!e},s.onMilkySelected=function(){F.Instance.playOneShot(L.UI_TOGGLE),this.selectCharacter(N.MILKY)},s.onSchokiSelected=function(){F.Instance.playOneShot(L.UI_TOGGLE),this.selectCharacter(N.SCHOKI)},s.selectCharacter=function(t){if(t==N.MILKY){G.Instance.playCharcterAnim(!0,V.FIDGET),G.Instance.playCharcterAnim(!1,V.IDLE),this._milkySelected=!0,this.milkySpotlight.active=!0,this.schokiSpotlight.active=!1,G.Instance._chosenCharId=N.MILKY,this.tabBottom.getChildByName("BG").getComponent(A).spriteFrame=this.accessoryLegSprite[me.MILKY_NON],this.tabBottom.getChildByName("SelectBG").getComponent(A).spriteFrame=this.accessoryLegSprite[me.MILKY_SELECTED],this.contentAccesoryNode.removeAllChildren();var e=G.Instance._chosenCharId,n=G.Instance._chosenType;this.loadAvailableAccessories(e,n),G.Instance.changeCameraState(z.CHOOSEN_ACCESSORY_CHARACTER,!0)}else if(t==N.SCHOKI){G.Instance.playCharcterAnim(!1,V.FIDGET),G.Instance.playCharcterAnim(!0,V.IDLE),this._milkySelected=!1,this.milkySpotlight.active=!1,this.schokiSpotlight.active=!0,G.Instance._chosenCharId=N.SCHOKI,this.tabBottom.getChildByName("BG").getComponent(A).spriteFrame=this.accessoryLegSprite[me.SCHOKI_NON],this.tabBottom.getChildByName("SelectBG").getComponent(A).spriteFrame=this.accessoryLegSprite[me.SCHOKI_SELECTED],this.contentAccesoryNode.removeAllChildren();var i=G.Instance._chosenCharId,o=G.Instance._chosenType;this.loadAvailableAccessories(i,o),G.Instance.changeCameraState(z.CHOOSEN_ACCESSORY_CHARACTER,!1)}},s.onRotateButton=function(){var t=G.Instance.state==z.CHOOSEN_ACCESSORY_CHARACTER_ROTATE?z.CHOOSEN_ACCESSORY_CHARACTER:z.CHOOSEN_ACCESSORY_CHARACTER_ROTATE;G.Instance.changeCameraState(t,this._milkySelected)},s.updateCoinNumber=function(){this.coinNumber.string=""+k.Instance.coinWallet},s.loadShopItem=function(){switch(this.state){case Se.POWERUP:case Se.BOOSTER:case Se.ACCESSORY:}},s.updateShopItem=function(){switch(this.state){case Se.POWERUP:for(var t=0;t<this.contentNode.children.length;t++)this.contentNode.children[t].getComponent(D).updateButtonBuy();break;case Se.BOOSTER:for(var e=0;e<this.contentNode.children.length;e++)this.contentNode.children[e].getComponent(U).updateButtonBuy();break;case Se.ACCESSORY:for(var n=0;n<this.contentAccesoryNode.children.length;n++)this.contentAccesoryNode.children[n].getComponent(v).updateButtonBuy()}},s.update=function(t){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=t,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(X.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0))},s.showBoosterInfo=function(t){},s.showError=function(t){this.popupError.active=!0,this.errorMsg.string=K.t(t)},s.onClose=function(){R.Instance.shopAccBG.active=!1,F.Instance.playOneShot(L.UI_BACK),R.Instance.checkLastPopupAndShow(H.SHOP,!1),this.isMMFeatureSent=!1,X.Send_FEATURE_FINISHED(J.SHOP,this.featureTimeSpent),j.Instance.playMenuAnim(B.CHATTING)},s.onBack=function(){F.Instance.playOneShot(L.UI_BACK),this.popupAccessory.active=!1,this.setState(Se.POWERUP),G.Instance.changeCameraState(z.SELECT_ACCESSORY_CHARACTER,!0)},s.onPopupErrorOk=function(){F.Instance.playOneShot(L.UI_CLICK),this.popupError.active=!1},s.onTabPowerupClicked=function(){F.Instance.playOneShot(L.UI_SELECT),this.setState(Se.POWERUP)},s.onTabBoosterClicked=function(){F.Instance.playOneShot(L.UI_SELECT),this.setState(Se.BOOSTER)},s.onTabAccessoryClicked=function(){this.setState(Se.ACCESSORY)},s.onTutorialUpdateFreeAccessoryPrice=function(t){this.contentAccesoryNode.children.length>2&&this.contentAccesoryNode.children[2].getComponent(v).updateTutorialFreePrice(t)},s.onTutorialAccessoryStep=function(t){if(this.contentAccesoryNode.children.length>2){var e=this.contentAccesoryNode.children[2].getComponent(v);e&&(t==q.SHOP_STEP_2_3?e.onClick():t==q.SHOP_STEP_2_4?e.onTutorialBuy():t==q.SHOP_STEP_2_5&&e.onEquip())}},s.onTutorialGetAccessoryPosition=function(t){if(this.contentAccesoryNode.children.length>2){var e=this.contentAccesoryNode.children[2].getComponent(v);if(e){if(t==q.SHOP_STEP_2_3)return e.node.getPathInHierarchy();if(t==q.SHOP_STEP_2_4)return e.btnBuy.node.getPathInHierarchy();if(t==q.SHOP_STEP_2_5)return e.btnEquip.node.getPathInHierarchy()}}return""},s.onTutorialUpdateFreeBoosterPrice=function(t){this.contentNode.children.length>0&&this.contentNode.children[0].getComponent(U).updateTutorialFreePrice(t)},s.onTutorialShowBoosterDetail=function(){this.contentNode.children.length>0&&this.contentNode.children[0].getComponent(U).onItemClicked()},s.onTUtorialBuyFreeBooster=function(){this.contentNode.children.length>0&&this.contentNode.children[0].getComponent(U).onButtonBuyTutoral()},s.onTabHeadClicked=function(){F.Instance.playOneShot(L.UI_SELECT),this.contentAccesoryNode.removeAllChildren(),G.Instance._chosenType=M.Head;var t=G.Instance._chosenCharId;this.loadAvailableAccessories(t,G.Instance._chosenType),this.enableTab(this.tabHead,!1),this.enableTab(this.tabBody,!0),this.enableTab(this.tabBottom,!0)},s.onTabBodyClicked=function(){F.Instance.playOneShot(L.UI_SELECT),this.contentAccesoryNode.removeAllChildren(),G.Instance._chosenType=M.Body;var t=G.Instance._chosenCharId;this.loadAvailableAccessories(t,G.Instance._chosenType),this.enableTab(this.tabHead,!0),this.enableTab(this.tabBody,!1),this.enableTab(this.tabBottom,!0)},s.onTabLegClicked=function(){F.Instance.playOneShot(L.UI_SELECT),this.contentAccesoryNode.removeAllChildren(),G.Instance._chosenType=M.Leg;var t=G.Instance._chosenCharId;this.loadAvailableAccessories(t,G.Instance._chosenType),this.enableTab(this.tabHead,!0),this.enableTab(this.tabBody,!0),this.enableTab(this.tabBottom,!1)},s.loadAvailableAccessories=function(t,e){var n=this;k.Instance.accessoryData&&(this.accessoryDataList=w,this.accAmount=0,Object.entries(this.accessoryDataList).forEach((function(i,o){var a=i[0],r=i[1],c=w[a];if(c&&c.character==t&&c.type==e){var s=T(n.accessoryItem);s.name="AccessoryListItem"+o,n.contentAccesoryNode.addChild(s),s.getComponent(v).init(r,a),n.accAmount++,n.itemHeight=s.getComponent(g).height}})),this.loadShopItem(),this.updateShopItem())},s.updateAccessoryOnEquip=function(t){for(var e=0;e<this.contentAccesoryNode.children.length;e++){this.contentAccesoryNode.children[e].getComponent(v).updateItemStatus()}},s.onButtonBuyBoosterClicked=function(){F.Instance.playOneShot(L.UI_CLICK),this.popupConfirm.active=!0},s.showPopupConfirm=function(t){this.popupConfirm.active=!0,this.confirmItem=t},s.onPopupConfirmOk=function(){F.Instance.playOneShot(L.UI_BUY),this.confirmItem&&this.confirmItem.onItemBought(),this.popupConfirm.active=!1},s.onPopupConfirmCancel=function(){F.Instance.playOneShot(L.UI_CLICK),this.popupConfirm.active=!1,this.confirmItem=null},s.getAvatar=function(t){var e="/general/"+t+"/spriteFrame";return new Promise((function(t,n){_.load(e,b,(function(e,n){t(n)}))}))},a(e,[{key:"milkySelected",get:function(){return this._milkySelected}}]),e}(O)).Instance=null,Rt=e((wt=be).prototype,"bg",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(wt.prototype,"shopItemBg",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(wt.prototype,"characterSelect",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(wt.prototype,"scrollview",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(wt.prototype,"contentNode",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(wt.prototype,"scrollviewAccessory",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(wt.prototype,"contentAccesoryNode",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(wt.prototype,"popupAccessory",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(wt.prototype,"powerupItem",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(wt.prototype,"boosterItem",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(wt.prototype,"accessoryItem",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(wt.prototype,"coinNumber",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(wt.prototype,"popupConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(wt.prototype,"popupError",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(wt.prototype,"tabPowerup",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(wt.prototype,"tabBooster",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(wt.prototype,"tabAccessory",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(wt.prototype,"tabHead",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(wt.prototype,"tabBody",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=e(wt.prototype,"tabBottom",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(wt.prototype,"milkySpotlight",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=e(wt.prototype,"schokiSpotlight",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=e(wt.prototype,"btnHome",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(wt.prototype,"btnBack",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(wt.prototype,"baseBoosterSprite",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=e(wt.prototype,"powerupSprite",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=e(wt.prototype,"boosterSprite",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=e(wt.prototype,"accessoryLegSprite",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=e(wt.prototype,"LabelPowerUp",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=e(wt.prototype,"SelectLabelPowerUp",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=e(wt.prototype,"shopScrollView",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=e(wt.prototype,"accessoryScrollView",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(wt.prototype,"errorMsg",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=wt))||Mt));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuTouchItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,O,i,E,u,c,o;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,O=e.assertThisInitialized,i=e.createClass},function(e){E=e.cclegacy,u=e._decorator,c=e.Enum,o=e.Component}],execute:function(){var T,I,a,C,_;e("MAINMENU_TOUCH_FUNCTION",void 0),E._RF.push({},"a3521KnznJPTr8uybKsgMX9","MainMenuTouchItem",void 0);var N,s=u.ccclass,M=u.property;!function(e){e[e.NONE=0]="NONE",e[e.PRIVATE_MODE=1]="PRIVATE_MODE",e[e.PUBLIC_MODE=2]="PUBLIC_MODE",e[e.LOCATION_SELECT=3]="LOCATION_SELECT",e[e.LOCATION_LEFT=4]="LOCATION_LEFT",e[e.LOCATION_RIGHT=5]="LOCATION_RIGHT",e[e.SHOP=6]="SHOP",e[e.QR_SCAN=7]="QR_SCAN",e[e.LEADERBOARD=8]="LEADERBOARD",e[e.ACHIEVEMENT=9]="ACHIEVEMENT",e[e.DAILY_MISSION=10]="DAILY_MISSION",e[e.SELECT_BOOSTER=11]="SELECT_BOOSTER",e[e.CHOOSE_MILKY=12]="CHOOSE_MILKY",e[e.CHOOSE_SCHOKI=13]="CHOOSE_SCHOKI"}(N||(N=e("MAINMENU_TOUCH_FUNCTION",{})));e("MainMenuTouchItem",(T=s("MainMenuTouchItem"),I=M({type:c(N)}),T((_=n((C=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),E=0;E<t;E++)i[E]=arguments[E];return n=e.call.apply(e,[this].concat(i))||this,r(n,"funcType",_,O(n)),n}return t(n,e),i(n,[{key:"FuncType",get:function(){return this.funcType}}]),n}(o)).prototype,"funcType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.NONE}}),a=C))||a));E._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuUnlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts"],(function(t){"use strict";var e,n,i,r,a,o,p,s,l,u,c,h,M,E,_,S,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,p=t.Sprite,s=t.Label,l=t.SpriteFrame,u=t.Component},function(t){c=t.language},function(t){h=t.PopupUnlockState,M=t.AudioSrc},function(t){E=t.MainMenuManager,_=t.POPUPTYPE_MM},function(t){S=t.SoundManager},function(t){b=t.UserDataManager}],execute:function(){var f,m,O,I,w,P,U,N,g,C,L,v,T,k,y,D,d,R;a._RF.push({},"31e07ZIfq9O/6YsI7q5dCmb","MainMenuUnlock",void 0);var A,F=o.ccclass,z=o.property;t("REWARD_COIN_ICON",0),t("REWARD_BOOSTER_ICON",1);!function(t){t[t.COIN_DUPER=0]="COIN_DUPER",t[t.STAMPER=1]="STAMPER",t[t.MEGA_HOP=2]="MEGA_HOP",t[t.QTE2=3]="QTE2",t[t.QTE3=4]="QTE3",t[t.ENV2=5]="ENV2",t[t.ENV3=6]="ENV3"}(A||(A={}));t("MainMenuUnlock",(f=F("MainMenuUnlock"),m=z(p),O=z(p),I=z(p),w=z(p),P=z(s),U=z(s),N=z(l),f(((R=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"mapSprite",L,r(e)),i(e,"powerup1",v,r(e)),i(e,"powerup2",T,r(e)),i(e,"qteIcon",k,r(e)),i(e,"mapLabel",y,r(e)),i(e,"powerupContainerLabel",D,r(e)),i(e,"listSprite",d,r(e)),e.achievementDataList=null,e.itemHeight=0,e.featureTimeSpent=0,e.isTutorialSelecMap=!1,e.isUnlockMap3=!1,e}n(e,t);var a=e.prototype;return a.onLoad=function(){e.Instance=this},a.onEnable=function(){return this.isTutorialSelecMap=!1,this.isUnlockMap3=!1,b.Instance.tutorialData.unlockEnv2==h.UNLOCKED_SHOW_POPUP?(S.Instance.playOneShot(M.UNLOCK_ENVIRONMENT_MM),this.powerup1.spriteFrame=this.listSprite[A.COIN_DUPER],this.powerup2.spriteFrame=this.listSprite[A.STAMPER],this.qteIcon.spriteFrame=this.listSprite[A.QTE2],this.mapSprite.spriteFrame=this.listSprite[A.ENV2],this.powerupContainerLabel.string=c.t("str_new_env_popup4"),this.powerup2.node.active=!0,this.mapLabel.string=c.t("str_map_urban"),void(this.isTutorialSelecMap=!0)):b.Instance.tutorialData.unlockEnv3==h.UNLOCKED_SHOW_POPUP?(this.isUnlockMap3=!0,S.Instance.playOneShot(M.UNLOCK_ENVIRONMENT_MM),this.powerup1.spriteFrame=this.listSprite[A.MEGA_HOP],this.qteIcon.spriteFrame=this.listSprite[A.QTE3],this.mapSprite.spriteFrame=this.listSprite[A.ENV3],this.powerupContainerLabel.string=c.t("str_new_env_popup5"),this.powerup2.node.active=!1,this.mapLabel.string=c.t("str_map_snow"),b.Instance.tutorialData.unlockEnv3=h.UNLOCKED,void b.Instance.saveTutorialData()):void E.Instance.checkLastPopupAndShow(_.UNLOCK_MAP,!1)},a.onOk=function(){S.Instance.playOneShot(M.UI_CLICK),E.Instance.checkLastPopupAndShow(_.UNLOCK_MAP,!1),this.isUnlockMap3&&(E.Instance.tutorialCheck(),this.isUnlockMap3=!1)},e}(u)).Instance=null,L=e((C=R).prototype,"mapSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"powerup1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"powerup2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(C.prototype,"qteIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(C.prototype,"mapLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"powerupContainerLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(C.prototype,"listSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=C))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/MarketingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,c,u,p,l,y,f,I,h,m,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,a=e.inheritsLoose,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,c=e.Enum,u=e.input,p=e.Input,l=e.KeyCode,y=e.Component},function(e){f=e.LIGHT_TYPE,I=e.SWIPEType,h=e.EventName},function(e){m=e.default,E=e.MyEvent}],execute:function(){var b,d,g,G,N,_,C,T,v,w,M,D,H,k,L,O;i._RF.push({},"219e6Pn7yBDypejnDoSoaWm","MarketingManager",void 0);var P=o.ccclass,z=o.property,A=(b=P("PresetCamera"),d=z(s),g=z(s),G=z({type:c(f)}),b((C=t((_=function(){n(this,"parentNode",C,this),n(this,"camera",T,this),n(this,"lightType",v,this)}).prototype,"parentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(_.prototype,"camera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(_.prototype,"lightType",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.MORNING}}),N=_))||N);e("MarketingManager",(w=P("MarketingManager"),M=z([A]),D=z(s),w((L=t((k=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"presetCameras",L,r(t)),n(t,"mainCamera",O,r(t)),t._presetCamIndex=0,t}a(t,e);var i=t.prototype;return i.onLoad=function(){u.on(p.EventType.KEY_DOWN,this.onKeyDown,this),this.updatePresetCamera(this._presetCamIndex)},i.onKeyDown=function(e){I.NONE;switch(e.keyCode){case l.DIGIT_1:m.GetInstance().dispatchEvent(new E(h.CHANGE_LIGHT,{type:f.MORNING}));break;case l.DIGIT_2:m.GetInstance().dispatchEvent(new E(h.CHANGE_LIGHT,{type:f.NOON}));break;case l.DIGIT_3:m.GetInstance().dispatchEvent(new E(h.CHANGE_LIGHT,{type:f.AFTERNOON}));break;case l.DIGIT_4:m.GetInstance().dispatchEvent(new E(h.CHANGE_LIGHT,{type:f.NIGHT}));break;case l.KEY_Q:case l.KEY_E:}},i.updatePresetCamera=function(e){},t}(y)).prototype,"presetCameras",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(k.prototype,"mainCamera",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=k))||H));i._RF.pop()}}}));

System.register("chunks:///_virtual/MatchFriend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainmenuAccessory.ts","./MainMenuManager.ts","./NetworkManager.ts","./SoundManager.ts","./UserDataManager.ts","./SelectMode.ts"],(function(t){"use strict";var e,o,n,i,a,s,r,c,h,l,u,b,p,d,f,g,I,v,S,B,C,y,L,R,w,m,E,A,_,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,c=t.Button,h=t.Node,l=t.Sprite,u=t.UIOpacity,b=t.Component},function(t){p=t.language},function(t){d=t.PLAYER_CHARACTER,f=t.LobbyMessages,g=t.GAME_MODE,I=t.AudioSrc,v=t.BoosterDefine,S=t.BoosterType,B=t.ROOM_STATE,C=t.ENVIRONMENT_DISPLAY_NAMES,y=t.RoomMessages,L=t.CHARACTER_NAMES},function(t){R=t.MainmenuAccessory},function(t){w=t.MainMenuManager},function(t){m=t.NetworkManager,E=t.LOBBY_INFO_PROPS},function(t){A=t.SoundManager},function(t){_=t.UserDataManager},function(t){N=t.SelectMode}],execute:function(){var M,T,O,D,k,Y,G,U,H,P,z,x,K,F,q,J,Q,V,j,W,X,Z,$,tt,et,ot,nt,it,at,st,rt,ct,ht,lt,ut,bt,pt,dt,ft,gt,It,vt,St,Bt,Ct,yt,Lt,Rt,wt,mt,Et,At,_t,Nt;t("MATCHING_STATE",void 0),a._RF.push({},"d0ed5s1QFBKMp47HOPh1LtL","MatchFriend",void 0);var Mt,Tt=s.ccclass,Ot=s.property;!function(t){t[t.NONE=0]="NONE",t[t.LOBBY=1]="LOBBY",t[t.CREATE=2]="CREATE",t[t.JOIN=3]="JOIN",t[t.READY=4]="READY",t[t.READY_CANCEL=5]="READY_CANCEL",t[t.START=6]="START"}(Mt||(Mt=t("MATCHING_STATE",{})));var Dt,kt=t("LEVEL_DESIGN_FILENAMES",["Session_Begin-001","Session_Begin-002","Session_Begin-003","Session_Semi-001","Session_Semi-002","Session_Semi-003","Session_Pro-001","Session_Pro-002","Session_Pro-003"]),Yt=t("LEVEL_DESIGN_NAMES",["Begin 01","Begin 02","Begin 03","Semi 01","Semi 02","Semi 03","Pro 01","Pro 02","Pro 03"]);!function(t){t.HIGHLIGHT_BG="HighlightBG",t.BUTTON_SPRITE="ButtonBooster",t.BG="BG",t.QUANTITY="Quantity"}(Dt||(Dt={}));t("MatchFriend",(M=Tt("MatchFriend"),T=Ot(r),O=Ot(c),D=Ot(c),k=Ot(c),Y=Ot(c),G=Ot(c),U=Ot(c),H=Ot(c),P=Ot(c),z=Ot(c),x=Ot(h),K=Ot(h),F=Ot(h),q=Ot(h),J=Ot(h),Q=Ot(l),V=Ot(l),j=Ot(r),W=Ot(r),X=Ot(r),Z=Ot(r),$=Ot(h),tt=Ot(r),et=Ot(r),ot=Ot(l),M(((Nt=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"labelCode",at,i(e)),n(e,"buttonBack",st,i(e)),n(e,"buttonGo",rt,i(e)),n(e,"buttonReady",ct,i(e)),n(e,"buttonSelectBooster",ht,i(e)),n(e,"buttonLeftArrow",lt,i(e)),n(e,"buttonRightArrow",ut,i(e)),n(e,"buttonLeftMapArrow",bt,i(e)),n(e,"buttonRightMapArrow",pt,i(e)),n(e,"buttonSwitchChar",dt,i(e)),n(e,"popupMultiPrivate",ft,i(e)),n(e,"popupSwitchCharacter",gt,i(e)),n(e,"popupSelectBooster",It,i(e)),n(e,"popupExit",vt,i(e)),n(e,"popupError",St,i(e)),n(e,"thisTickReady",Bt,i(e)),n(e,"otherTickReady",Ct,i(e)),n(e,"labelButtonReady",yt,i(e)),n(e,"labelSelectLevel",Lt,i(e)),n(e,"labelSelectEnv",Rt,i(e)),n(e,"labelError",wt,i(e)),n(e,"boosterGrid",mt,i(e)),n(e,"boosterDesc",Et,i(e)),n(e,"labelSwitchChar",At,i(e)),n(e,"otherBooosterIcon",_t,i(e)),e.boosterLocationList=void 0,e.chosenBoosterNode=null,e.chosenBoosterId=-1,e.otherChoosenBoosterNode=null,e.otherChoosenBoosterID=-1,e._selectLD=0,e._envID=0,e._state=Mt.NONE,e._connectedCount=0,e._playerInfos=[],e}o(e,t);var a=e.prototype;return a.onLoad=function(){this.boosterLocationList=this.boosterGrid.children,this.hide()},a.hide=function(){this.popupMultiPrivate.active=!1,this.popupSelectBooster.active=!1,this.popupSwitchCharacter.active=!1,this.popupExit.active=!1,this.popupError.active=!1,this.otherTickReady.grayscale=!0,this.thisTickReady.grayscale=!0},a.show=function(t){this._connectedCount=0,this.reset(),t?this.changeState(Mt.START):this.changeState(Mt.CREATE)},a.init=function(){},a.reset=function(){this.labelCode.string="------",this.setBoosterSelectedIndex(-1,!0),this.setBoosterSelectedIndex(-1,!1),R.Instance.chooseCharacter(!0)},a.onRoomLobbyConnected=function(){var t=m.Instance.lobbyInfo;this.onRoomLobbyUpdated({field:E.clientBooster,value:t.clientBooster}),this.onRoomLobbyUpdated({field:E.hostBooster,value:t.hostBooster}),this.onRoomLobbyUpdated({field:E.hostCharacter,value:t.hostCharacter}),this.onRoomLobbyUpdated({field:E.selectedMap,value:t.selectedMap}),this.onRoomLobbyUpdated({field:E.environment,value:t.environment})},a.setReadyOnOff=function(t,e){t.grayscale=!e,t.getComponent(u).opacity=e?255:150},a.onRoomLobbyUpdated=function(t){switch(t.field){case E.clientBooster:this.setBoosterSelectedIndex(t.value,!1);break;case E.hostBooster:this.setBoosterSelectedIndex(t.value,!0);break;case E.hostCharacter:var e=(m.Instance.isHost?t.value:1-t.value)==d.MILKY;R.Instance.chooseCharacter(e),R.Instance.updateCharacterAccessory(!0);break;case E.selectedMap:this.onSelectLevelDesgin(t.value);break;case E.environment:this.onSelectEnvironment(t.value)}},a.onRoomMessageReceived=function(t){t&&(this.onRoomMessageReceivedHost(t),this.onRoomMessageReceivedClient(t),this.onRoomMessageReceivedAI(t))},a.onRoomMessageReceivedHost=function(t){if(m.Instance.isHost){var e=t.action,o=t.data;switch(e){case f.SwitchCharacterAccept:m.Instance.updateLobbyInfo({hostCharacter:1-m.Instance.selectedCharacter}),this.onSwitchDone();break;case f.SwitchCharacterDeny:this.onSwitchDone();break;case f.Ready:this.changeState(Mt.READY,t.data);break;case f.ReadyCancel:this.changeState(Mt.READY_CANCEL,o)}}},a.onRoomMessageReceivedClient=function(t){if(!m.Instance.isHost){var e=t.action,o=t.data;switch(e){case f.SwitchCharacterRequest:this.showSwitchChar(t.character);break;case f.Start:this.changeState(Mt.START,o);break;case f.SelectLevel:this.onSelectLevelDesgin(t.level)}}},a.onRoomMessageReceivedAI=function(t){if(!m.Instance.isPvp){var e=t.action;t.data;switch(e){case f.SwitchCharacterRequest:this.onRoomMessageReceived({action:f.SwitchCharacterAccept})}}},a.changeState=function(t,e){switch(void 0===e&&(e=null),this._state=t,this.labelButtonReady.string=p.t("str_mm_ready").toUpperCase(),this.setReadyOnOff(this.otherTickReady,!1),this.setReadyOnOff(this.thisTickReady,!1),this.setButtonInteractible(this.buttonSwitchChar,!1),this.setButtonInteractible(this.buttonGo,!1),t){case Mt.CREATE:_.Instance.saveBoosterSelection(-1,-1),this.popupMultiPrivate.active=!0,this.buttonGo.node.active=!1,this.buttonReady.node.active=!1,this.buttonLeftArrow.node.active=!0,this.buttonRightArrow.node.active=!0,this.buttonLeftMapArrow.node.active=!0,this.buttonRightMapArrow.node.active=!0,this.buttonSwitchChar.node.active=!0;break;case Mt.JOIN:_.Instance.saveBoosterSelection(-1,-1),this.popupMultiPrivate.active=!1,this.buttonGo.node.active=!1,this.buttonReady.node.active=!0,this.buttonLeftArrow.node.active=!1,this.buttonRightArrow.node.active=!1,this.buttonLeftMapArrow.node.active=!1,this.buttonRightMapArrow.node.active=!1,this.buttonSwitchChar.node.active=!1;break;case Mt.START:var o=m.Instance.isHost,n=o?m.Instance.lobbyInfo.hostBooster:m.Instance.lobbyInfo.clientBooster,i=o?m.Instance.lobbyInfo.clientBooster:m.Instance.lobbyInfo.hostBooster;_.Instance.saveBoosterSelection(n,i),this.setReadyOnOff(this.otherTickReady,!0),this.setReadyOnOff(this.thisTickReady,!0);break;case Mt.LOBBY:R.Instance.updateCharacterAccessory(!0)}this.onHostState(t,e),this.onClientState(t,e)},a.onHostState=function(t,e){if(void 0===e&&(e=null),m.Instance.isHost)switch(t){case Mt.LOBBY:this.popupMultiPrivate.active=!1,this.buttonGo.node.active=!0,this.buttonReady.node.active=!1,this.buttonLeftArrow.node.active=!0,this.buttonRightArrow.node.active=!0,this.buttonLeftMapArrow.node.active=!0,this.buttonRightMapArrow.node.active=!0,this.buttonSwitchChar.node.active=!0,this.setButtonInteractible(this.buttonSwitchChar,!0);break;case Mt.READY:e&&e.powerup,this.setReadyOnOff(this.thisTickReady,!0),this.setButtonInteractible(this.buttonGo,!0),this.setButtonInteractible(this.buttonSwitchChar,!0);break;case Mt.READY_CANCEL:this.setButtonInteractible(this.buttonSwitchChar,!0);break;case Mt.START:this.setButtonInteractible(this.buttonSwitchChar,!1),this.setButtonInteractible(this.buttonGo,!1)}},a.onClientState=function(t,e){if(void 0===e&&(e=null),!m.Instance.isHost)switch(t){case Mt.LOBBY:this.popupMultiPrivate.active=!1,this.buttonGo.node.active=!1,this.buttonReady.node.active=!0,this.buttonLeftArrow.node.active=!1,this.buttonRightArrow.node.active=!1,this.buttonLeftMapArrow.node.active=!1,this.buttonRightMapArrow.node.active=!1,this.buttonSwitchChar.node.active=!1;break;case Mt.READY:this.labelButtonReady.string=p.t("str_cancel").toUpperCase(),this.setReadyOnOff(this.otherTickReady,!0);break;case Mt.READY_CANCEL:break;case Mt.START:this.setButtonInteractible(this.buttonReady,!1),e&&e.powerup}},a.updateCode=function(t){this._state==Mt.CREATE&&(this.labelCode.string=t,this.buttonBack.interactable=!0)},a.onLobbyCreate=function(){var t=this;this.changeState(Mt.CREATE),N.mode!=g.PRIVATE||(this.changeState(Mt.LOBBY),this.scheduleOnce((function(){t.changeState(Mt.READY)}),1))},a.onLobbyJoin=function(){this.changeState(Mt.JOIN)},a.onCreateCancel=function(){m.Instance.exitRoom()},a.onJoinCancel=function(){this.node.active=!1},a.onHomeButton=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupExit.active=!0},a.onExitPopupNo=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupExit.active=!1},a.onExitPopupYes=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupExit.active=!1,m.Instance.exitRoom()},a.onSelectBooster=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupSelectBooster.active=!0,this.loadBoosters()},a.onBoosterSelected=function(t){A.Instance.playOneShot(I.UI_SELECT);var e=t.target;if(this.chosenBoosterNode==e)return this.chosenBoosterNode.getChildByName("HighlightBG").active=!1,this.chosenBoosterNode=null,void(this.boosterDesc.string="");this.chosenBoosterNode&&(this.chosenBoosterNode.getChildByName("HighlightBG").active=!1),this.chosenBoosterNode=e,this.chosenBoosterNode.getChildByName("HighlightBG").active=!0;var o=this.boosterLocationList.indexOf(this.chosenBoosterNode);if(console.log("booster type: "+o),o<v.length){this.boosterDesc.string=""+p.t(v[o].desc);var n=v[o].effect_value;v[o].type==S.COIN_BOOST&&(n*=100),this.boosterDesc.string=this.boosterDesc.string.replace("{number}",""+n)}else this.boosterDesc.string=""},a.onSelectBoosterClose=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupSelectBooster.active=!1},a.onSelectBoosterOk=function(){A.Instance.playOneShot(I.UI_CLICK);var t={id:-1,host:m.Instance.isHost};if(this.chosenBoosterNode){var e=this.boosterLocationList.indexOf(this.chosenBoosterNode);if(e>=v.length)return this.popupError.active=!0,void(this.labelError.string="Sorry, this booster is not available.");if(!(_.Instance.boosterData.boosterList[e].quantity>0))return this.popupError.active=!0,void(this.labelError.string="Sorry, this booster is not available.");t.id=e}m.Instance.isHost?m.Instance.updateLobbyInfo({hostBooster:t.id}):m.Instance.updateLobbyInfo({clientBooster:t.id})},a.setBoosterSelectedIndex=function(t,e){if(e==m.Instance.isHost){if(t>=0){var o=this.boosterLocationList[t].getChildByName(Dt.BUTTON_SPRITE).getComponent(l).spriteFrame;this.chosenBoosterId=t,this.buttonSelectBooster.node.getChildByName("Booster Icon").getComponent(l).spriteFrame=o,this.buttonSelectBooster.node.getChildByName("Booster Icon").active=!0}else this.chosenBoosterId=-1,this.buttonSelectBooster.node.getChildByName("Booster Icon").active=!1;this.popupSelectBooster.active=!1}else if(t>=0){var n=this.boosterLocationList[t].getChildByName(Dt.BUTTON_SPRITE).getComponent(l).spriteFrame;this.otherChoosenBoosterID=t,this.otherBooosterIcon.spriteFrame=n,this.otherBooosterIcon.node.active=!0}else this.chosenBoosterId=-1,this.otherBooosterIcon.node.active=!1},a.onErrorPopupOk=function(){this.popupError.active=!1},a.onCopyButton=function(){A.Instance.playOneShot(I.UI_CLICK)},a.onGoButton=function(){A.Instance.playOneShot(I.UI_CLICK),this.changeState(Mt.START),m.Instance.sendLobbyMessage({action:f.Start,data:{powerup:_.Instance.powerupData}}),m.Instance.isPvp||m.Instance.sendRoomState({state:B.READY}),console.log("booster selection: "),console.log(this.chosenBoosterId,this.otherChoosenBoosterID)},a.onSelectLevelDesgin=function(t){this._selectLD=t,this.labelSelectLevel.string=Yt[this._selectLD],e.SelectLevelDesignName=kt[this._selectLD]},a.onSelectEnvironment=function(t){this._envID=t,this.labelSelectEnv.string=C[t],w.Instance.preloadEnvironment(t)},a.onLeftChangeMap=function(){var t=this._selectLD;t-=1,t=Math.max(t,0),m.Instance.updateLobbyInfo({selectedMap:t})},a.onRightChangeMap=function(){var t=this._selectLD;t+=1,t=Math.min(t,Yt.length-1),m.Instance.updateLobbyInfo({selectedMap:t})},a.onLeftEnvButton=function(){var t=this._envID-1;t=t<0?2:t,m.Instance.updateLobbyInfo({environment:t})},a.onRightEnvButton=function(){var t=this._envID+1;t=t>2?0:t,m.Instance.updateLobbyInfo({environment:t})},a.onReadyButton=function(){A.Instance.playOneShot(I.UI_CLICK),m.Instance.isHost||(this._state==Mt.READY?(this.changeState(Mt.READY_CANCEL),m.Instance.sendMessage(y.Lobby,{action:f.ReadyCancel}),m.Instance.sendMessage(y.State,{state:B.LOBBY})):this._state!=Mt.READY_CANCEL&&this._state!=Mt.LOBBY||(this.changeState(Mt.READY),m.Instance.sendMessage(y.Lobby,{action:f.Ready,data:{powerup:_.Instance.powerupData}})))},a.onSwitchDone=function(){this.setButtonInteractible(this.buttonSwitchChar,!0)},a.onSwitchCharacterButton=function(){A.Instance.playOneShot(I.UI_CLICK),this.setButtonInteractible(this.buttonSwitchChar,!1),m.Instance.sendLobbyMessage({action:f.SwitchCharacterRequest,character:1-m.Instance.selectedCharacter})},a.showSwitchChar=function(t){this.popupSwitchCharacter.active=!0,this.labelSwitchChar.string=p.t("str_mm_join_conflict");var e=L[t],o=L[1-t];this.labelSwitchChar.string=this.labelSwitchChar.string.replace("{character name}",e),this.labelSwitchChar.string=this.labelSwitchChar.string.replace("{other character name}",o)},a.onSwitchCharNo=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupSwitchCharacter.active=!1,m.Instance.sendLobbyMessage({action:f.SwitchCharacterDeny})},a.onSwitchCharYes=function(){A.Instance.playOneShot(I.UI_CLICK),this.popupSwitchCharacter.active=!1,m.Instance.sendLobbyMessage({action:f.SwitchCharacterAccept})},a.onSwitchCharacter=function(){},a.setButtonInteractible=function(t,e){t.interactable=e,t.getComponent(l).grayscale=!e},a.loadBoosters=function(){var t;t=_.Instance.boosterData.boosterList;for(var e=0;e<this.boosterLocationList.length;e++)this.boosterLocationList[e].getChildByName(Dt.BUTTON_SPRITE).getComponent(l).grayscale=!0,this.boosterLocationList[e].getChildByName(Dt.BG).active=!1,this.boosterLocationList[e].getChildByName(Dt.QUANTITY).active=!1,this.boosterLocationList[e].getChildByName(Dt.HIGHLIGHT_BG).active=!1;if(this.boosterDesc.string="",this.chosenBoosterNode){this.chosenBoosterNode.getChildByName("HighlightBG").active=!0;var o=this.boosterLocationList.indexOf(this.chosenBoosterNode);if(console.log("booster type: "+o),o<v.length){this.boosterDesc.string=""+p.t(v[o].desc);var n=v[o].effect_value;v[o].type==S.COIN_BOOST&&(n*=100),this.boosterDesc.string=this.boosterDesc.string.replace("{number}",""+n)}else this.boosterDesc.string=""}if(t.length>0)for(var i=0;i<this.boosterLocationList.length;i++){if(t[i].quantity>0)this.boosterLocationList[i].getChildByName(Dt.BUTTON_SPRITE).getComponent(l).grayscale=!1,t[i].quantity>1&&(this.boosterLocationList[i].getChildByName(Dt.BG).active=!0,this.boosterLocationList[i].getChildByName(Dt.QUANTITY).active=!0,this.boosterLocationList[i].getChildByName(Dt.QUANTITY).getComponent(r).string=t[i].quantity<=99?""+t[i].quantity:"99+")}console.log("booster list"),console.log(this.boosterLocationList)},e}(b)).SelectLevelDesignName=kt[0],at=e((it=Nt).prototype,"labelCode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(it.prototype,"buttonBack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(it.prototype,"buttonGo",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(it.prototype,"buttonReady",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(it.prototype,"buttonSelectBooster",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(it.prototype,"buttonLeftArrow",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(it.prototype,"buttonRightArrow",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(it.prototype,"buttonLeftMapArrow",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(it.prototype,"buttonRightMapArrow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(it.prototype,"buttonSwitchChar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(it.prototype,"popupMultiPrivate",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(it.prototype,"popupSwitchCharacter",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(it.prototype,"popupSelectBooster",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(it.prototype,"popupExit",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(it.prototype,"popupError",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(it.prototype,"thisTickReady",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(it.prototype,"otherTickReady",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(it.prototype,"labelButtonReady",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(it.prototype,"labelSelectLevel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(it.prototype,"labelSelectEnv",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(it.prototype,"labelError",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(it.prototype,"boosterGrid",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(it.prototype,"boosterDesc",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(it.prototype,"labelSwitchChar",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(it.prototype,"otherBooosterIcon",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=it))||nt));a._RF.pop()}}}));

System.register("chunks:///_virtual/MegaHop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./Powerup.ts"],(function(o){"use strict";var t,e,n,c,r;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){c=o.VFX_PLAYER},function(o){r=o.Powerup}],execute:function(){var u;e._RF.push({},"16b11+ynIBLpokQSodiNuc2","MegaHop",void 0);var i=n.ccclass;n.property,o("MegaHop",i("MegaHop")(u=function(o){function e(){return o.apply(this,arguments)||this}return t(e,o),e.prototype.onLoad=function(){this.collectVFXType=c.MEGA_HOP_COLLECT},e}(r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Milky.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CharacterAnimCtrl.ts","./Schoki.ts"],(function(t){"use strict";var n,r,i,e,o,c,s,u;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){e=t.cclegacy,o=t._decorator},function(t){c=t.PLAYER_CHARACTER},function(t){s=t.CHARACTER_ANIM},function(t){u=t.MainMenuCharacter}],execute:function(){var a;e._RF.push({},"6b3f60oU5lOOINO0vkJuOQY","Milky",void 0);var l,h=o.ccclass;o.property;!function(t){t[t.IDLE=0]="IDLE",t[t.WALK=1]="WALK"}(l||(l={}));t("MainMenuBlockoutMilky",h("MainMenuBlockoutMilky")(a=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.initCharacter=function(){var n=r(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._type=c.MILKY,t.prototype.initCharacter.call(this),this.animCtrl&&(this.animCtrl.init(s.CHATTING,!1),this.node.setPosition(.194,0,0),this.node.setRotationFromEuler(0,0,0));case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e}(u))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MissionItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuBlockout.ts","./MainMenuReward.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./DailyMissionManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./EventManager.ts","./VFXManager.ts","./GameHelper.ts","./Loading.ts"],(function(t){"use strict";var e,n,i,a,s,r,o,c,u,l,h,d,f,m,p,I,b,g,C,M,v,y,D,S,w,k,A,_,R,N,L,x,O,P,E,T,z,F,G,H,B,U,Y,V,X,W,J;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,u=t.Sprite,l=t.RichText,h=t.Label,d=t.Node,f=t.Button,m=t.Size,p=t.UITransform,I=t.Vec3,b=t.resources,g=t.SpriteFrame,C=t.Component,M=t.director},function(t){v=t.language},function(t){y=t.DailyMissionDefine,D=t.MISSION_ID,S=t.MISSION_DIFFICULTY,w=t.DAILY_MISSION_REWARD,k=t.MISSION_DEST,A=t.AchievementId,_=t.SaveDataNames,R=t.AudioSrc,N=t.AchievementDefine},function(t){L=t.MainMenuBlockout},function(t){x=t.MainMenuReward},function(t){O=t.MainMenuManager,P=t.POPUPTYPE_MM,E=t.MainMenuEvent},function(t){T=t.SoundManager},function(t){z=t.UserDataManager},function(t){F=t.DailyMissionManager},function(t){G=t.default},function(t){H=t.ItemName,B=t.GameScreen},function(t){U=t.default,Y=t.MyEvent},function(t){V=t.VFXManager,X=t.VFX_TYPE},function(t){W=t.GameHelper},function(t){J=t.Loading}],execute:function(){var j,K,q,Q,Z,$,tt,et,nt,it,at,st,rt,ot,ct,ut,lt,ht,dt;o._RF.push({},"42659hIKyRH04pcmoXuFHjJ","MissionItemList",void 0);var ft=c.ccclass,mt=c.property;t("MissionItemList",(j=ft("MissionItemList"),K=mt(u),q=mt(l),Q=mt(l),Z=mt(h),$=mt(d),tt=mt(f),et=mt(f),nt=mt(d),j((st=e((at=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"icon",st,a(e)),i(e,"desc",rt,a(e)),i(e,"counter",ot,a(e)),i(e,"rewardText",ct,a(e)),i(e,"tickIcon",ut,a(e)),i(e,"btnGo",lt,a(e)),i(e,"btnClaim",ht,a(e)),i(e,"rewardIcon",dt,a(e)),e.currentData=null,e.isCompleted=!1,e.isClaimed=!1,e.difficulty=0,e.missionIndex=-1,e._baseRichTextSize=new m(0,0),e}n(e,t);var o=e.prototype;return o.onLoad=function(){},o.resizeText=function(){var t=this.desc.getComponent(p).contentSize.width,e=this._baseRichTextSize.width/t;e=Math.min(1,e),this.desc.node.setScale(e,e)},o.init=function(t){var e=this;this.isCompleted=!1,this.isClaimed=!1,this.btnClaim.node.active=!1,this.btnGo.node.active=!1,this.tickIcon.active=!1,this.btnClaim.interactable=!1,this.btnGo.interactable=!1;for(var n=!1,i=0;i<y.length;i++)if(t.id==y[i].id){this.currentData=y[i],this.difficulty=t.difficulty,this.isCompleted=t.isCompleted,this.isClaimed=t.isClaimed,this.missionIndex=t.index,y[i].id==D.accessory_run&&(n=!0);break}if(this.getAvatar(this.currentData.spriteName).then((function(t){e.icon.spriteFrame=t,e.icon.node.active=!0})),n)switch(this.difficulty){case S.EASY:this.desc.string=""+v.t("accessory_run_easy");break;case S.NORMAL:this.desc.string=""+v.t("accessory_run");break;case S.HARD:this.desc.string=""+v.t("accessory_run_hard")}else this.desc.string=""+v.t(this.currentData.name);this.rewardText.string=""+this.getRewardValueByDiff();var a,s=0;s=t.counter,a=this.currentData.value[this.difficulty],this.desc.string=this.desc.string.replace("{number}",""+a),s=s>a?a:s,this.counter.string="<color=#01FEFF>"+s+"</color>/<color=#ffffff>"+a+"</color>",this.isCompleted?(this.btnGo.node.active=!1,this.isClaimed?(this.btnClaim.node.active=!1,this.tickIcon.active=!0):(this.btnClaim.node.active=!0,this.btnClaim.interactable=!0,this.tickIcon.active=!0)):(this.btnClaim.node.active=!1,this.btnGo.node.active=!0,this.btnGo.interactable=!0,this.tickIcon.active=!1);var r=this.counter.node.getComponent(p).width,o=this.tickIcon.getComponent(p).width,c=new I(r/2+o/2+2.5,0,0);this.tickIcon.setPosition(c),this.isCompleted&&this.isClaimed&&(this.node.active=!1)},o.onButtonGo=function(){var t=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.btnGo.interactable=!1,t.t0=this.currentData.go,t.next=t.t0===k.MAIN_MENU?4:t.t0===k.SHOP?9:12;break;case 4:return x.Instance.onClose(),U.GetInstance().dispatchEvent(new Y(E.MOVE_CAMERA,{})),t.next=8,L.Instance.turnCameraPage(1);case 8:return t.abrupt("break",12);case 9:return x.Instance.onClose(),O.Instance.checkLastPopupAndShow(P.SHOP,!0),t.abrupt("break",12);case 12:T.Instance.stopCoinSFX();case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onButtonClaim=function(){var t=s(r().mark((function t(){var e,n,i,a,s,o,c,u,l,h,d,f,m,p,I,b=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isClaimed){t.next=2;break}return t.abrupt("return");case 2:if(this.btnClaim.interactable=!1,T.Instance.playOneShot(R.UI_CLAIM_REWARD),e={},null==(n=z.Instance.missionData.missionList.findIndex((function(t){return t.index==b.missionIndex})))||-1==n){t.next=12;break}z.Instance.missionData.missionList[n].isCompleted=!0,z.Instance.missionData.missionList[n].isClaimed=!0,e[_.MissionData]=JSON.stringify(z.Instance.missionData),t.next=13;break;case 12:return t.abrupt("return");case 13:for(i=[],a=A.achievement_dl_1;a<=A.achievement_dl_3;a++)(s=z.Instance.getAchievement(a)).isCompleted||(s.counter++,s=z.Instance.updateAchievementProgress(s,!1),i.push(s));return e[_.AchievementData]=JSON.stringify(z.Instance.achievementData),o=this.getRewardValueByDiff(),z.Instance.updateCoinAmount(z.Instance.coinWallet+o,!1),e[_.CoinData]=JSON.stringify(z.Instance.coinWallet),z.Instance.a2hData.claimDailyMissionCount++,e[_.AddToHomeScreen]=JSON.stringify(z.Instance.a2hData),J.Instance.show(),t.next=24,z.Instance.saveMultipleInventories(e);case 24:if(c=t.sent,J.Instance.hide(),c){if(this.btnClaim.interactable=!0,z.Instance.missionData.missionList[n].isCompleted=!1,z.Instance.missionData.missionList[n].isClaimed=!1,i.length>0)for(u=0;u<i.length;u++)(l=i[u]).counter--,l.isCompleted=!1;z.Instance.updateCoinAmount(z.Instance.coinWallet-o,!1),z.Instance.a2hData.claimDailyMissionCount--,"Update fail. Please try again",x.Instance.showPopup("Update fail. Please try again")}else{if(x.Instance.updateCoinNumber(),i.length>0)for(h=0;h<i.length;h++)d=i[h],f=N[d.id],d.isCompleted&&z.Instance.sendTrackingAchievementFinished(f.trackingName);G.Send_CURRENCY_INCOMES(this.currentData.trackingId,o,H.COINS,B.DAILY_MISSION,o,z.Instance.coinWallet),m=M.getScene().getChildByPath("Canvas/Popups/Popup Daily Mission/Container/Header/Coin/Coin Sprite"),p=o/20,p=W.ClampInRange(p,5,20),V.Instance.bezierControlX=50,V.Instance.bezierControlY=50,V.Instance.playVFX(X.COIN,this.rewardIcon,m,p),null!=(I=F.Instance.replaceMission(n))?this.init(I):(this.isClaimed=!0,this.btnClaim.node.active=!1,this.btnGo.node.active=!1,this.tickIcon.active=!0,this.node.active=!1),x.Instance.onMissionClaimed()}case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getRewardValueByDiff=function(){var t=0;switch(this.difficulty){case S.EASY:t=w.EASY;break;case S.NORMAL:t=w.NORMAL;break;case S.HARD:t=w.HARD}return t},o.getAvatar=function(t){var e="/rewardIcons/"+t+"/spriteFrame";return new Promise((function(t,n){b.load(e,g,(function(e,n){t(n)}))}))},e}(C)).prototype,"icon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(at.prototype,"desc",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(at.prototype,"counter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(at.prototype,"rewardText",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(at.prototype,"tickIcon",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(at.prototype,"btnGo",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(at.prototype,"btnClaim",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(at.prototype,"rewardIcon",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=at))||it));o._RF.pop()}}}));

System.register("chunks:///_virtual/NameRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,s,o,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,s=t._decorator,o=t.UITransform,h=t.Component}],execute:function(){var r;n._RF.push({},"f4541ZluopHjZWXF9bMsTzH","NameRichText",void 0);var c=s.ccclass,a=(s.property,s.executeInEditMode);t("NameRichText",c("NameRichText")(r=a(r=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._width=0,e._parentWidth=0,e._speed=-50,e._space=25,e}e(n,t);var s=n.prototype;return s.onEnable=function(){this.reset()},s.onDisable=function(){this.reset()},s.onLoad=function(){this.reset()},s.start=function(){this.reset()},s.needMoveText=function(){return this.width>this.parentWidth},s.reset=function(){this.needMoveText()?this.node.setPosition(this.left,0):this.node.setPosition(0,0)},s.update=function(t){if(this.needMoveText()){this._speed<0?this.node.position.x<this.right&&(this._speed=Math.abs(this._speed)):this._speed>0&&this.node.position.x>this.left&&(this._speed=-Math.abs(this._speed));var e=this.node.position.x+this._speed*t;this.node.setPosition(e,0)}},i(n,[{key:"width",get:function(){return this._width=this.getComponent(o).contentSize.width,this._width}},{key:"parentWidth",get:function(){return this._parentWidth=this.node.parent.getComponent(o).contentSize.width,this._parentWidth}},{key:"left",get:function(){return-this.parentWidth/2+this.width/2+this._space}},{key:"right",get:function(){return this.parentWidth/2-this.width/2-this._space}}]),n}(h))||r)||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./colyseus.mjs_cjs=&original=.js","./lodash.mjs_cjs=&original=.js","./i18n.ts","./Constants.ts","./GameHelper.ts","./MainmenuAccessory.ts","./Crypto.ts","./OnlineMgr.ts","./LevelManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./GameResourceManager.ts","./MainMenuManager.ts","./RunningGameManager.ts","./Splash.ts","./UserDataManager.ts","./colyseus.js","./lodash.js"],(function(t){"use strict";var e,n,o,s,a,r,i,c,l,u,h,f,_,p,I,b,m,k,C,d,y,g,v,P,R,A,w,M,E,S,L,T,D,O,x,N,q,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime,i=t.createClass},function(t){c=t.cclegacy,l=t._decorator,u=t.game,h=t.Component},null,null,function(t){f=t.language},function(t){_=t.ROOM_STATE,p=t.RoomMessages,I=t.RoomStateProperties,b=t.PLAYER_CHARACTER,m=t.PowerupType,k=t.EnvironmentType,C=t.default,d=t.GameModes},function(t){y=t.GameHelper},function(t){g=t.AccessoryProfile},function(t){v=t.onlineDec},function(t){P=t.default,R=t.Login_Error_Type},function(t){A=t.LevelManager},function(t){w=t.default},function(t){M=t.Character,E=t.MatchType,S=t.PlayMode,L=t.Result},function(t){T=t.GameResourceManager},function(t){D=t.MainMenuManager},function(t){O=t.RunningGameManager},function(t){x=t.Splash},function(t){N=t.UserDataManager},function(t){q=t.default},function(t){B=t.default}],execute:function(){var H,j,U,Q,G;c._RF.push({},"8c7bc542sVNQ4E6s+tic9Lk","NetworkManager",void 0);var J,V=l.ccclass,Y=l.property;!function(t){t[t.CREATE_OR_JOIN_PUBLIC=0]="CREATE_OR_JOIN_PUBLIC",t[t.CREATE_MULTI_PRIVATE=1]="CREATE_MULTI_PRIVATE",t[t.JOIN_PRIVATE=2]="JOIN_PRIVATE"}(J||(J={}));var z="localhost",K=function(){this.posZ=9999,this.score=0,this.coin=0,this.backpackSize=1},F=function(){this.hostCharacter=0,this.hostBooster=-1,this.clientBooster=-1,this.selectedMap=0,this.environment=0,this.lastLevelDesigns=[],this.hostPowerups=[],this.clientPowerups=[]},Z=function(){this.host=!1,this.userID="",this.userName="",this.state=_.LOBBY,this.accessory=void 0,this.unlockedEnvironment=0};t("LOBBY_INFO_PROPS",{hostCharacter:"hostCharacter",hostBooster:"hostBooster",clientBooster:"clientBooster",selectedMap:"selectedMap",environment:"environment"}),t("NetworkManager",V("NetworkManager")(((G=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"port",U,s(e)),o(e,"useSSL",Q,s(e)),e._server=null,e._isHost=!0,e._sessionIDs=[],e._lastState=_.DISMISS,e._state=_.DISMISS,e._randomPowerups=[],e._randomQTEs=[],e._gpInfo=new K,e._lobbyInfo=new F,e._thisPlayerInfo=new Z,e._otherPlayerInfo=new Z,e._qtes=[],e._isAI=!1,e.loadingTime=(new Date).getTime(),e._unlockedPowerups=[],e._unlockedQTE=1,e._connectInfo=null,e._joinRoomID="",e._roomStateCallback=null,e._gameInfoCallback=null,e._roomLobbyInfoCallback=null,e._leaveRoomCallback=null,e._playerStateCalblack=null,e._roomCreatedCallback=null,e._playerConnectedCallback=null,e._actionCallback=null,e._lobbyCallback=null,e._pingCallback=null,e._qteChangedCallback=null,e._logcallback=null,e}n(e,t);var c=e.prototype;return c.sendRoomState=function(t){this.isPvp?this.sendMessage(p.State,t):(this._lastState=this._state,this._state=t.state,this._state==_.REPLAY&&this.replayAIInfo(),this._roomStateCallback&&this._roomStateCallback(this._state))},c.updateLobbyInfo=function(t){},c.sendLobbyMessage=function(t){this.isPvp?this.sendMessage(p.Lobby,t):this._lobbyCallback&&this._lobbyCallback(t)},c.addQTE=function(t){return this.isPvp&&this.room.state.qtes?(this.sendMessage(p.updateQTE,{action:"add",qte:t}),!0):this._qtes.length<3&&!this._qtes.includes(t)&&(this._qtes.push(t),this._qteChangedCallback&&this._qteChangedCallback(this._qtes),!0)},c.getUsableQTE=function(){return this.isPvp&&this.room.state.qtes&&this.room.state.qtes.length>0?this.room.state.qtes[0]:this._qtes.length>0?this._qtes[0]:0},c.consumeQTE=function(){this.isPvp&&this.room.state.qtes?this.sendMessage(p.updateQTE,{action:"shift"}):this._qtes.length>0&&(this._qtes.shift(),this._qteChangedCallback&&this._qteChangedCallback(this._qtes))},c.increaseBackpackSize=function(){this.isPvp?this.sendMessage(p.updateGP,{backpackSize:1}):(this.gpInfo.backpackSize++,this._gameInfoCallback&&this._gameInfoCallback(this.gpInfo))},c.updateGameInfo=function(t){var e=this;this.isPvp?this.sendMessage(p.updateGP,t):(Object.entries(t).forEach((function(t){var n=t[0],o=t[1];e._gpInfo[n]=o})),this._gameInfoCallback&&this._gameInfoCallback(t))},c.getLocalJoinRoomCode=function(){return this.room&&this.room.id?this.room.id.slice(0,4):""},c.onRoomConnected=function(t){var e=this;this._sessionIDs=[],this.room.onMessage(p.Log,a(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=JSON.parse(e))&&n.response&&n.response.config&&n.response.config.data.data)){t.next=5;break}return t.next=4,v(n.response.config.data.data);case 4:t.sent;case 5:case"end":return t.stop()}}),t)})))),this.room.onMessage(p.Action,(function(t){e._actionCallback&&e._actionCallback(JSON.parse(t))})),this.room.onMessage(p.Lobby,(function(t){e._lobbyCallback&&e._lobbyCallback(JSON.parse(t))})),this.room.onMessage(p.Ping,(function(t){e._pingCallback&&e._pingCallback()})),this.room.state.info.onChange=function(t){t.forEach((function(t){e._gameInfoCallback&&e._gameInfoCallback(t)}))},this.room.state.lobbyInfo.onChange=function(t){t.forEach((function(t){e._roomLobbyInfoCallback&&e._roomLobbyInfoCallback(t)}))},this.room.state.qtes.onAdd=function(t,n){e._qtes.includes(t)||e._qtes.push(t),e._qteChangedCallback&&e._qteChangedCallback(e.QTEs)},this.room.state.qtes.onRemove=function(t,n){-1!=e._qtes.indexOf(t)&&e._qtes.splice(e._qtes.indexOf(t),1),e._qteChangedCallback&&e._qteChangedCallback(e.QTEs)},this.room.state.listen(I.AI,(function(t){t&&(e._isAI=!0,e.resetAIInfo(),e._playerConnectedCallback&&e._playerConnectedCallback(!1))})),this.room.state.listen(I.State,(function(t){console.log("[NetworkManager]","state",t),e._lastState=e._state,e._roomStateCallback&&e._roomStateCallback(t),e._state=t})),this.room.state.players.onAdd=function(t,n){if(e.isPvp)if(e._isAI=!1,n!=e.room.sessionId)t.listen(p.State,(function(t){e._playerStateCalblack&&e._playerStateCalblack(t)}));else{e._isHost=t.host;for(var o=0;o<e.room.state.random.powerups.length;o++)e._randomPowerups[o]=e.room.state.random.powerups[o];for(var s=0;s<e.room.state.random.qtes.length;s++)e._randomQTEs[s]=e.room.state.random.qtes[s]}e._sessionIDs.push(n),e._playerConnectedCallback&&e._playerConnectedCallback(n==e.room.sessionId?e._isHost:!e._isHost,n)},this.room.state.players.onRemove=function(t,e){},this.room.onLeave((function(t){e.room=null,e._leaveRoomCallback&&e._leaveRoomCallback(t)}))},c.onLoad=function(){u.isPersistRootNode(this.node)||u.addPersistRootNode(this.node),e.Instance=this},c.testAIConnected=function(){this.resetAIInfo(),this._playerConnectedCallback&&this._playerConnectedCallback(!1)},c.initServer=function(t,e){void 0===e&&(e=!1),this.client=e?new q.Client((this.useSSL?"wss":"ws")+"://"+t+([443,80].includes(this.port)||this.useSSL?"":":"+this.port)):new q.Client("wss://"+t)},c.sendMessage=function(t,e){this.room&&this.room.send(t,JSON.stringify(e))},c.logout=function(){this._connectInfo=null,this._lobbyInfo=null},c.connect=function(){var t=a(r().mark((function t(e,n){var o,s,a,i,c,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,t.prev=1,this.room=null,e!=J.CREATE_OR_JOIN_PUBLIC){t.next=24;break}return s=N.Instance.lobbyData.character==b.MILKY?d.publicM:d.publicS,a=N.Instance.lobbyData.character==b.MILKY?d.publicS:d.publicM,t.next=8,this.client.getAvailableRooms(a);case 8:if(i=t.sent,c=B.shuffle(i.filter((function(t){return 1==t.clients}))),this._connectInfo=this.getConnectInfo(!0),!(c.length>0)){t.next=18;break}return l=c[0],t.next=15,this.client.joinById(l.roomId,this._connectInfo);case 15:this.room=t.sent,t.next=21;break;case 18:return t.next=20,this.client.create(s,this._connectInfo);case 20:this.room=t.sent;case 21:this.onRoomConnected(this.room),t.next=47;break;case 24:if(e!=J.CREATE_MULTI_PRIVATE){t.next=41;break}return this._connectInfo=this.getConnectInfo(!1),t.next=28,this.client.create(d.private,this._connectInfo);case 28:if(this.room=t.sent,this.onRoomConnected(this.room),!C.CHEAT_LOCAL_HOST){t.next=34;break}this._joinRoomID=this.getLocalJoinRoomCode(),t.next=38;break;case 34:return t.next=36,P.RequestRoomCode({url:this._server.address,room:this.room.id});case 36:o=t.sent,this._joinRoomID=P.privateCode;case 38:this._roomCreatedCallback&&this._roomCreatedCallback(this._joinRoomID),t.next=47;break;case 41:if(e!=J.JOIN_PRIVATE){t.next=47;break}return this._connectInfo=this.getConnectInfo(!1),t.next=45,this.client.joinById(n,this._connectInfo);case 45:this.room=t.sent,this.onRoomConnected(this.room);case 47:t.next=53;break;case 49:t.prev=49,t.t0=t.catch(1),console.error("Could not join!",t.t0),400==t.t0.code&&t.t0.message==R.ROOM_AUTH_SAME_ID?o={error:t.t0.message}:4212==t.t0.code&&(o={error:R.ROOM_NOT_FOUND});case 53:return t.abrupt("return",o);case 54:case"end":return t.stop()}}),t,this,[[1,49]])})));return function(e,n){return t.apply(this,arguments)}}(),c.getConnectInfo=function(t){var e={milky:N.Instance.accessoryData&&N.Instance.accessoryData.wornAccessory?N.Instance.accessoryData.wornAccessory.milky:null,schoki:N.Instance.accessoryData&&N.Instance.accessoryData.wornAccessory?N.Instance.accessoryData.wornAccessory.schoki:null},n=N.Instance.lobbyData;return{public:t,userID:P.userID,userName:P.userName,accessory:e,character:n.character,environment:n.environment,booster:n.booster,accessToken:P.accessToken,unlockedEnvironment:N.Instance.userData.unlockedEnvironment,powerups:[].concat(N.Instance.powerupData.powerupList),lastLevelDesign:N.Instance.userData.lastLevelDesign,difficultyCluster:N.Instance.userData.difficultyCluster}},c.joinMultiPrivateNew=function(){var t=a(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,this._isHost=!1,!P.isLogin()){t.next=12;break}return t.next=6,P.GetRoomInfoFromCode(e);case 6:if((n=t.sent)||!P.privateRoomInfo){t.next=12;break}return this.initServer(P.privateRoomInfo.url),t.next=11,this.connect(J.JOIN_PRIVATE,P.privateRoomInfo.room);case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.createAIEditor=function(){var t=a(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.resetAIInfo(),e._connectInfo=null,e._lobbyInfo={hostCharacter:A.Instance.m_EditorCharacter,environment:k.TROPICAL,hostBooster:-1,selectedMap:0},e._isAI=!0,e._roomStateCallback&&e._roomStateCallback(_.ONBOARD),e._playerConnectedCallback&&e._playerConnectedCallback(!0),e._playerConnectedCallback&&e._playerConnectedCallback(!1),t(!0)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.createTutorialLocal=function(){var t=a(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.resetAIInfo(),e._connectInfo=null,e._lobbyInfo={hostCharacter:b.MILKY,environment:k.TROPICAL,hostBooster:-1,selectedMap:0},e._roomStateCallback&&e._roomStateCallback(_.ONBOARD),e._playerConnectedCallback&&e._playerConnectedCallback(!0),e._playerConnectedCallback&&e._playerConnectedCallback(!1),t(!0)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.createAILocal=function(){var t=a(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.resetAIInfo(),P.isLocalLan()&&(e._lobbyInfo.hostCharacter=N.Instance.lobbyData.character),e._roomStateCallback&&e._roomStateCallback(_.ONBOARD),e._playerConnectedCallback&&e._playerConnectedCallback(!0),e._playerConnectedCallback&&e._playerConnectedCallback(!1),t(!0)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.resetAIInfo=function(){this._gpInfo=new K,this._thisPlayerInfo=new Z,this._lobbyInfo=new F,this._otherPlayerInfo=new Z,this._qtes=[];var t=y.getRndIntegerInclusive(1,T.Instance.botIds.length);this._otherPlayerInfo.userName=f.t(T.Instance.botIds[t]),this._otherPlayerInfo.host=!1,this._connectInfo&&(this._lobbyInfo={hostCharacter:this._connectInfo.character,environment:this._connectInfo.environment,hostBooster:this._connectInfo.booster,selectedMap:this.getRandomAILD(this._connectInfo.difficultyCluster,this._connectInfo.lastLevelDesign),hostPowerups:this._connectInfo.powerups}),P.isLocalLan()&&(this._lobbyInfo.environment=this.getConnectInfo(!0).environment,this._lobbyInfo.selectedMap=this.getRandomAILD(this.getConnectInfo(!0).difficultyCluster,this.getConnectInfo(!0).lastLevelDesign))},c.replayAIInfo=function(){var t=this.lobbyInfo.hostCharacter,e=this.lobbyInfo.environment;this.resetAIInfo(),this.lobbyInfo.hostCharacter=t,this.lobbyInfo.environment=e,this.lobbyInfo.selectedMap=this.getRandomAILD(this.getConnectInfo(!1).difficultyCluster,this.getConnectInfo(!1).lastLevelDesign),this.lobbyInfo.hostBooster=-1,this.lobbyInfo.clientBooster=-1},c.getRandomAILD=function(t,e){for(var n=[],o=3*t;o<3*(t+1);o++)n.push(o);return(n=n.filter((function(t){return t!=e}))).length>0?n[0]:0},c.joinMultiPrivateLocal=function(){var t=a(r().mark((function t(e){var n,o,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._isHost=!1,this.initServer(z,!0),n=null,t.prev=3,t.next=6,this.client.getAvailableRooms(d.private);case 6:if(o=t.sent,s=null,o.forEach((function(t){t.roomId.includes(e)&&(s=t)})),!s){t.next=13;break}return t.next=12,this.connect(J.JOIN_PRIVATE,s.roomId);case 12:n=t.sent;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.error("joinMultiPrivateLocal",t.t0);case 18:return t.abrupt("return",n);case 19:case"end":return t.stop()}}),t,this,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),c.createMultiPrivateLocal=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._isHost=!0,this.initServer(z,!0),t.next=4,this.connect(J.CREATE_MULTI_PRIVATE);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.createOrJoinPublicMode=function(){var t=a(r().mark((function t(){var n,o,s,a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isHost=!1,!C.CHEAT_LOCAL_HOST){t.next=5;break}this.initServer(z,!0),t.next=16;break;case 5:if(this.initNewGameServer()){t.next=16;break}return n=this.getCharacterTrackingId(),"",o=D.Instance.getMapName(),s=e.Instance.isAI?E.BOT:E.PLAYER,a=e.Instance.isPublic?S.MULTI_PUBLIC:S.MULTI_PRIVATE,i=L.FAIL,0,w.Send_MATCHMAKING_FINISHED(n,o,s,a,i,0,""),t.abrupt("return",null);case 16:return t.next=18,this.connect(J.CREATE_OR_JOIN_PUBLIC);case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.createMultiPrivateNew=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isHost=!0,!this.initNewGameServer()){t.next=6;break}return t.next=5,this.connect(J.CREATE_MULTI_PRIVATE);case 5:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.initNewGameServer=function(){if(P.isLogin()){var t=P.servers;if(t.length>0){for(var e=t[0],n=1;n<t.length;n++)e.ccp>t[n].ccu&&(e=t[n]);return this._server=e,this.initServer(e.address),!0}}return!1},c.exitRoom=function(){this.room?this.room.leave(!0):this._leaveRoomCallback&&this._leaveRoomCallback(),this._joinRoomID=""},c.getCharacterTrackingId=function(){return e.Instance.selectedCharacter==b.MILKY?""+M.MILKY:e.Instance.selectedCharacter==b.SCHOKI?""+M.SCHOKI:"N/A"},i(e,[{key:"playerCount",get:function(){return this._sessionIDs.length}},{key:"otherPlayerInfo",get:function(){var t=this,e=null;return this.isPvp?(this.room.state.players.forEach((function(n,o){o!=t.room.sessionId&&(e=n)})),e):this._otherPlayerInfo}},{key:"thisPlayerInfo",get:function(){var t=this,e=null;return this.isPvp?(this.room.state.players.forEach((function(n,o){o==t.room.sessionId&&(e=n)})),e):this._thisPlayerInfo}},{key:"unlockedPowerup",get:function(){var t=0;return this._unlockedPowerups.length=0,this.isPvp?this.room.state.players.forEach((function(e,n){t=Math.max(t,e.unlockedEnvironment)})):t=N.Instance.userData.unlockedEnvironment,this._unlockedPowerups.push(m.SHIELD),this._unlockedPowerups.push(m.MAGNET),t>=k.URBAN&&(this._unlockedPowerups.push(m.COIN_DUPER),this._unlockedPowerups.push(m.STAMPER)),t>=k.SNOW&&this._unlockedPowerups.push(m.MEGA_HOP),this._unlockedPowerups}},{key:"unlockedQte",get:function(){this._unlockedQTE=1;var t=0;return this.isPvp?this.room.state.players.forEach((function(e,n){t=Math.max(t,e.unlockedEnvironment)})):t=N.Instance.userData.unlockedEnvironment,this._unlockedQTE=t+1,this._unlockedQTE}},{key:"milkyAccessory",get:function(){return this.isPvp?this.selectedCharacter==b.MILKY?N.Instance.accessoryData.wornAccessory.milky:this.otherPlayerInfo?this.otherPlayerInfo.accessory.milky:new g:N.Instance.accessoryData.wornAccessory.milky}},{key:"schokiAccessory",get:function(){return this.isPvp?this.selectedCharacter==b.SCHOKI?N.Instance.accessoryData.wornAccessory.schoki:this.otherPlayerInfo?this.otherPlayerInfo.accessory.schoki:new g:N.Instance.accessoryData.wornAccessory.schoki}},{key:"isPvp",get:function(){return this.room&&this.room.state&&!this.room.state.AI}},{key:"isAI",get:function(){return this._isAI}},{key:"isOnlineRoom",get:function(){return this.room&&this.room.state}},{key:"isHost",get:function(){return!this.isPvp||this._isHost}},{key:"lastState",get:function(){return this._lastState}},{key:"state",get:function(){return this.isPvp?this.room.state.state:this._state}},{key:"isPublic",get:function(){return!this.isPvp||this.room.state.isPublic}},{key:"lobbyInfo",get:function(){return x.isNewUser||P.isLocalLan()||!this.room||!this.room.state||O.Instance&&O.Instance.isInTutorial?this._lobbyInfo:this.room.state.lobbyInfo}},{key:"selectedCharacter",get:function(){return this.isPvp?this._isHost?this.room.state.lobbyInfo.hostCharacter:1-this.room.state.lobbyInfo.hostCharacter:A.Instance.m_Editor?A.Instance.m_EditorCharacter:this._lobbyInfo.hostCharacter}},{key:"gpInfo",get:function(){return this.isPvp?this.room.state.info:this._gpInfo}},{key:"infoScore",get:function(){return this.gpInfo.score}},{key:"infoPosZ",get:function(){return this.gpInfo.posZ}},{key:"infoBackpackSize",get:function(){return this.gpInfo.backpackSize}},{key:"QTEs",get:function(){return this.isPvp?this.room.state.qtes.map((function(t){return t})):this._qtes}},{key:"randomPowerups",get:function(){if(this.isPvp){var t=this._randomPowerups.shift();return this._randomPowerups.push(t),t}return Math.random()}},{key:"randomQTEs",get:function(){if(this.isPvp){var t=this._randomQTEs.shift();return this._randomQTEs.push(t),t}return Math.random()}},{key:"JoinRoomID",get:function(){return this._joinRoomID}},{key:"qteChangedCallback",set:function(t){this._qteChangedCallback=t}},{key:"lobbyCallback",set:function(t){this._lobbyCallback=t}},{key:"pingCallback",set:function(t){this._pingCallback=t}},{key:"playerStateCallback",set:function(t){this._playerStateCalblack=t}},{key:"roomStateCallback",set:function(t){this._roomStateCallback=t}},{key:"roomCreatedCallback",set:function(t){this._roomCreatedCallback=t}},{key:"playerConnectedCallback",set:function(t){this._playerConnectedCallback=t}},{key:"actionCallback",set:function(t){this._actionCallback=t}},{key:"logCallback",set:function(t){this._logcallback=t}},{key:"roomInfoCallback",set:function(t){this._gameInfoCallback=t}},{key:"roomLobbyInfoCallback",set:function(t){this._roomLobbyInfoCallback=t}},{key:"leaveRoomCallback",set:function(t){this._leaveRoomCallback=t}}]),e}(h)).Instance=null,U=e((j=G).prototype,"port",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2567}}),Q=e(j.prototype,"useSSL",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=j))||H);c._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./AIManager.ts","./BaseObject.ts","./Collectible.ts","./ItemPool.ts","./LevelManager.ts","./Pooling.ts","./PlayerManager.ts"],(function(t){"use strict";var i,n,e,a,s,o,r,c,l,u,h,_,p,A,m,d,I,f,g,v,N,C,b,k,P,O,y,E,S,T;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Enum,c=t.Node,l=t.v3,u=t.randomRange,h=t.animation,_=t.tween,p=t.log},function(t){A=t.ObstacleAnimation,m=t.SWIPEType,d=t.default,I=t.PLAYER_CHARACTER,f=t.EnvironmentType,g=t.AudioSrc,v=t.POOL_OBJECT_TYPE},function(t){N=t.NetworkManager},function(t){C=t.RunningGameManager},function(t){b=t.SoundManager},function(t){k=t.AIManager},function(t){P=t.BaseObject},function(t){O=t.Collectible},function(t){y=t.ItemPool},function(t){E=t.LevelManager},function(t){S=t.Pooling},function(t){T=t.PlayerManager}],execute:function(){var B,R,H,w,M,L,z,W,G,V;s._RF.push({},"bb1cccVvORAN5obbVJ8vknk","Obstacle",void 0);var D=o.ccclass,J=o.property,j=(t("RANGE_NOTIFY_BACKPACK_TUTORIAL",60),t("RANGE_THROW_BACKPACK",30),t("RANGE_DASH",10),t("ANIMATION_ENABLE_RANGE",128),t("ANIMATION_VARIABLES",{Init:"Init",Idle:"Idle",Hit:"Hit",Action:"Action"}));t("Obstacle",(B=D("Obstacle"),R=J({type:r(A)}),H=J(c),w=J(c),B((z=i((L=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,e(i,"animID",z,a(i)),e(i,"animNode",W,a(i)),e(i,"animationContainer",G,a(i)),i._currentAnimCtrl=null,i._animIdle=!1,i._animInit=!1,e(i,"CONVERT_OBS_RANGE",V,a(i)),i._rangeToActivate=100,i._willActivateAI=!1,i._aiProcessing=!1,i._willNotifyTutorial=!1,i._notified=!1,i._notifyType=m.NONE,i._tempEnterAnticipating=!1,i._enterAnticipating=!1,i._anticipatingSuccess=!0,i._tempAIHasBackpack=!1,i._AIJustHasBackpack=!1,i._tempPlyerHasBackpack=!1,i._playerJustHasBackpack=!1,i._randomPassrate=1,i._willPassObject=!0,i._tweenConvertObs=null,i._isConvert=!1,i._side=null,i.m_isPause=!0,i._originPosition=l(0,0,0),i._initAnimationRange=d.OBSTACLE_ANIMATION_INIT_RANGE,i._idleAnimationRange=d.OBSTACLE_ANIMATION_IDLE_RANGE,i}n(i,t);var s=i.prototype;return s.onLoad=function(){this._originPosition=this.node.getPosition()},s.start=function(){},s.onIdle=function(){},s.reset=function(){if(this.CONVERT_OBS_RANGE=50,this._tempEnterAnticipating=!1,this._enterAnticipating=!1,this._willNotifyTutorial=!1,this._anticipatingSuccess=!0,this._tempAIHasBackpack=!1,this._AIJustHasBackpack=!1,this._tempPlyerHasBackpack=!1,this._playerJustHasBackpack=!1,this._notified=!1,this._randomPassrate=u(0,1),this._willPassObject=!0,this.checkWillNotify(),this.checkWillActivateAI(),this._animIdle=!1,this._animInit=!1,null==this._side){var t=this.node.parent.getPosition().x;t<0?this._side=I.MILKY:t>0&&(this._side=I.SCHOKI)}this.loadAnim()},s.loadAnim=function(){this.animNode||(this.animNode=S.getInstance().getAnim(this.animID),this.animNode&&(this.animationContainer&&this.animationContainer.removeAllChildren(),this.animationContainer&&this.animationContainer.addChild(this.animNode),this._currentAnimCtrl=this.animNode.getComponent(h.AnimationController),this._currentAnimCtrl&&(this._currentAnimCtrl.node.active=!0)))},s.unloadAnim=function(){this.animNode&&(S.getInstance().putAnim(this.animID,this.animNode),this.animNode=null)},s.getPlayerSide=function(){var t=N.Instance.lobbyInfo.hostCharacter;return N.Instance.isHost||(t=1-t),t},s.checkWillNotify=function(){},s.checkWillActivateAI=function(){},s.checkAnticipating=function(){if(!this._anticipatingSuccess)return!1;var t=T.Instance.isThrowing,i=T.Instance.otherPlayer.hasBackpack&&!t;this._AIJustHasBackpack=0==this._tempAIHasBackpack&&1==i,this._tempAIHasBackpack=i;var n=T.Instance.otherPlayer.hasBackpack&&!t;if(this._playerJustHasBackpack=0==this._tempPlyerHasBackpack&&1==n,this._tempPlyerHasBackpack=n,this._enterAnticipating){if(this._AIJustHasBackpack)return this._anticipatingSuccess=!1,!1;this._randomPassrate>k.Instance.passRate&&(this._willPassObject=!1)}return!0},s.updateNotify=function(t){},s.updateAI=function(t){},s.updateAnticipating=function(t){if(this._willActivateAI){var i=T.Instance.node.getWorldPosition(),n=this.node.getWorldPosition(),e=i.z<n.z+k.Instance.anticipatingDistance;1!=e||0!=this._tempEnterAnticipating||C.Instance.isInTutorial||(this._enterAnticipating=!0),this._tempEnterAnticipating=e}},s.updateMovement=function(t){},s.updateAnimation=function(t,i){(void 0===i&&(i=0),i<this._initAnimationRange&&!this._animInit&&(this._animInit=!0,this.setAnimationVariable(j.Init,!0)),i<this._idleAnimationRange&&!this._animIdle)&&(this._animIdle=!0,this.setAnimationVariable(j.Idle,!0),N.Instance.lobbyInfo.environment==f.SNOW&&128==this._idleAnimationRange&&b.Instance.playTreeTrunkSFX())},s.update=function(t){if(!C.IsPause){var i=C.Instance.playerPivot.getWorldPosition(),n=this.node.getWorldPosition(),e=i.z-n.z;if(this.updateAnimation(t,e),this.updateMovement(t),this.updateNotify(t),e=Math.abs(i.z-n.z),(T.Instance.isStamperActive||C.Instance.isHeadStartActive||C.Instance.isCheatSpeed)&&!this._isConvert){var a=this.CONVERT_OBS_RANGE;(C.Instance.isHeadStartActive||C.Instance.isCheatSpeed)&&(a*=4),e<a&&this.StamperTween()}N.Instance.isPvp||(this.updateAnticipating(t),this.checkAnticipating()&&this.updateAI(t))}},s.StamperTween=function(){var t=this;this._isConvert=!0,this._tweenConvertObs&&this._tweenConvertObs.stop(),this._tweenConvertObs=_(this.node.parent).to(.5,{scale:l(.1,.1)},{easing:"backIn"}).call((function(){b.Instance.playOneShot(g.OBSTACLE_TO_COINS);var i=E.Instance.m_CoinNumber,n=t.node.getWorldPosition(),e=n.y+2.5;(C.Instance.isHeadStartActive||C.Instance.isCheatSpeed)&&(i=0);for(var a=t.node.parent.parent,s=0;s<i;s++){var o=new c;a.addChild(o);var r=null;if((r=y.Instance.poolingObstacleGet(v.COIN_1)).setParent(o),r.setPosition(0,0,0),r.setScale(.1,.1,.1),0==s)o.setWorldPosition(n.x,e,n.z);else{var l=2*(s-1)*Math.PI/(i-1),u=3*Math.sin(l),h=3*Math.cos(l);u=n.x+u,h=n.z+h,o.setWorldPosition(u,e,h)}var _=r.getComponent(O);_&&(_.side=t._side,_.convertedObsTween())}t.node.parent.active=!1})).start()},s.onHit=function(){this.setAnimationVariable(j.Hit,!0)},s.setAnimationVariable=function(t,i){this._currentAnimCtrl&&(p("setAnimationVariable",t,i),this._currentAnimCtrl.setValue(t,i))},s.playAnim=function(t,i,n,e){return new Promise((function(t){t()}))},i}(P)).prototype,"animID",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.BEE}}),W=i(L.prototype,"animNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(L.prototype,"animationContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(L.prototype,"CONVERT_OBS_RANGE",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),M=L))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleParticleVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,c,a,n,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,l=t.ParticleSystem,o=t.Component}],execute:function(){var s,p,u,f,y;a._RF.push({},"6f0acqEZ8JHcpqWo7KSBl5Z","ObstacleParticleVFX",void 0);var h=n.ccclass,b=n.property;t("ObstacleParticleVFX",(s=h("ObstacleParticleVFX"),p=b(l),s((y=e((f=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,i(e,"particles",y,c(e)),e}return r(e,t),e.prototype.playVFX=function(){this.particles.forEach((function(t){t.play()}))},e}(o)).prototype,"particles",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=f))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,c,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,o=t._decorator,a=t.Node,s=t.Component}],execute:function(){var u,l,f,p,v;c._RF.push({},"1e8ebEGh19Iw7oDjVPaCnPg","ObstacleVFX",void 0);var h=o.ccclass,b=o.property;t("ObstacleVFX",(u=h("ObstacleVFX"),l=b(a),u((v=e((p=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c))||this,n(e,"vfxs",v,i(e)),e}r(e,t);var c=e.prototype;return c.turnOn=function(){this.vfxs.forEach((function(t){t&&(t.active=!0)}))},c.turnOff=function(){this.vfxs.forEach((function(t){t&&(t.active=!1)}))},e}(s)).prototype,"vfxs",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleVFXState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObstacleParticleVFX.ts"],(function(t){"use strict";var e,n,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.animation},function(t){c=t.ObstacleParticleVFX}],execute:function(){var i;n._RF.push({},"e072dJhwhhKl405b33hMFmm","ObstacleVFXState",void 0);var r=o.ccclass;o.property,t("ObstacleVFXState",r("ObstacleVFXState")(i=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onMotionStateEnter=function(t,e){t.node.getComponent(c)&&t.node.getComponent(c).playVFX()},o.onMotionStateExit=function(t,e){},o.onMotionStateUpdate=function(t,e){},o.onStateMachineEnter=function(t){},o.onStateMachineExit=function(t){},n}(a.StateMachineComponent))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./axios.mjs_cjs=&original=.js","./Crypto.ts","./UserDataManager.ts","./Constants.ts","./GameHelper.ts","./TrackingMgr.ts","./axios.js"],(function(e){"use strict";var t,n,r,s,a,c,o,i,u,h,l,p,f,_,d,k,v;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e.log,c=e.warn},null,function(e){o=e.generateID,i=e.initCrypt,u=e.onlineEnc,h=e.onlineDec,l=e.logError},function(e){p=e.UserDataManager},function(e){f=e.SaveDataNames,_=e.default},function(e){d=e.GameHelper},function(e){k=e.default},function(e){v=e.default}],execute:function(){var x,T;e("Login_Error_Type",void 0),s._RF.push({},"54a389rfKxIg4Rl97I03f63","OnlineMgr",void 0),function(e){e.ACCOUNT_LOGGED_IN_ON_ANOTHER_DEVICE_ERROR="ACCOUNT_LOGGED_IN_ON_ANOTHER_DEVICE_ERROR",e.BadRequest="BAD_REQUEST",e.LoginError="LOGIN_ERROR",e.UserBannedError="USER_BANNED_ERROR",e.UPDATE_USER_INPUT_BADWORD="UPDATE_USER_INPUT_BADWORD",e.UPDATE_USERNAME_UNSUPPORTED_CHARACTERS="UPDATE_USERNAME_UNSUPPORTED_CHARACTERS",e.UPDATE_USERNAME_LENGTH_LIMIT="UPDATE_USERNAME_LENGTH_LIMIT",e.UPDATE_USERNAME_DIGITS_LIMIT="UPDATE_USERNAME_DIGITS_LIMIT",e.INVALID_PARAMS_ERROR="INVALID_PARAMS_ERROR",e.CODE_NOT_FOUND="CODE NOT FOUND",e.SERVER_ERROR="SERVER_ERROR",e.ROOM_AUTH_SAME_ID="ROOM_AUTH_SAME_ID",e.UNAUTHORIZED="UNAUTHORIZED",e.ROOM_NOT_FOUND="ROOM_NOT_FOUND"}(T||(T=e("Login_Error_Type",{})));var R=e("LOGIN_ERRORS",((x={})[T.ACCOUNT_LOGGED_IN_ON_ANOTHER_DEVICE_ERROR]={defaultText:"Account is logged in on another device",localizeID:"str_account_another_device"},x[T.BadRequest]={defaultText:"Bad request",localizeID:null},x[T.LoginError]={defaultText:"Login error",localizeID:null},x[T.UserBannedError]={defaultText:"You account has been banned. The ban will expire on {time}.",localizeID:"str_ban_descr"},x[T.UPDATE_USER_INPUT_BADWORD]={defaultText:"Your nickname contains words that are not allowed.",localizeID:"str_select_name_error2"},x[T.UPDATE_USERNAME_UNSUPPORTED_CHARACTERS]={defaultText:"Your nickname can only contain letters (Aa-Zz), numbers (0-9), periods (.), and underscores (_).",localizeID:"str_select_name_error1"},x[T.UPDATE_USERNAME_LENGTH_LIMIT]={defaultText:"Your nickname should have 4-12 characters",localizeID:"str_select_name_error4"},x[T.UPDATE_USERNAME_DIGITS_LIMIT]={defaultText:"Your nickname has more than 7 numbers.",localizeID:"str_select_name_error3"},x[T.INVALID_PARAMS_ERROR]={defaultText:"Failed to connect to game server. Please check your connection and try again.",localizeID:"str_connection_lost"},x[T.CODE_NOT_FOUND]={defaultText:"The code is invalid!",localizeID:"str_mm_join_wrong"},x[T.SERVER_ERROR]={defaultText:"Failed to connect to game server. Please check your connection and try again.",localizeID:"str_connection_lost"},x[T.ROOM_AUTH_SAME_ID]={defaultText:"Account is logged in on another device",localizeID:"str_account_another_device"},x[T.UNAUTHORIZED]={defaultText:"UNAUTHORIZED",localizeID:""},x[T.ROOM_NOT_FOUND]={defaultText:"Room not found",localizeID:""},x)),g=e("default",function(){function e(){}return e.init=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._inited||this.isLocalLan()){e.next=17;break}return t=!1,e.prev=2,e.next=5,i();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a(e.t0);case 11:if(t){e.next=13;break}return e.abrupt("return",!1);case 13:location&&"localhost"===location.hostname&&(v.defaults.baseURL=this.getLocalAPIEndPoint()),v.defaults.headers.post["Content-Type"]="application/json",this._inited=!0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),e.isLocalLan=function(){return!(!location.hostname.includes("192.168")&&!location.hostname.includes("10.219")&&""!=location.hostname)},e.isInited=function(){return this._inited},e.isLogin=function(){return!(!this._accessToken||""==this._accessToken)},e.hasProfile=function(){return this.userID&&""!=this.userID},e.hasUserName=function(){return this.userName&&""!=this.userName},e.isNewUser=function(){return!e.isLocalLan()&&(null==e.signInMethod||""==e.signInMethod)},e.logout=function(){this._accessToken="",this.signInMethod="",this.refreshToken="",this.userName="",this.userID="",this.servers=[],this._userRank=null,this._globalRank=null,p.setUserDataKey(f.KMS_Anon,""),p.Instance.loadInventory(null),p.Instance.loadUserData(null)},e.getLocalAPIEndPoint=function(){return"https://kinder-maxi-"+_.SERVER_CHANNEL+".g4b.gameloft.com"},e.getId=function(){var e,t,n=p.getLocalDataKey(f.KMS_Anon);return n&&42===n.length&&(e=n.substring(0,21),t=n.substring(21)),e&&t||(e=o(21),t=o(21),p.setUserDataKey(f.KMS_Anon,e+t)),["anonymous:"+e,t]},e.goSignIn=function(e,t){void 0===t&&(t="");var n="/api/oauth2/cognito/authorize/"+e,r=window.top.outerHeight/2+window.top.screenY-300,s=window.top.outerWidth/2+window.top.screenX-270;return window.location.host.includes("localhost")&&(n="/?code="+t+"?callback"),window.open(n,"android","popup,width=540,height=600,top="+r+",left="+s)},e.parseJwt=function(e){try{var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}catch(e){a("parseJwt",e)}return!1},e.genRequestToken=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({random_number:Math.floor(1e5+9e5*Math.random()),timestamp:Math.round(Date.now()/1e3),urn:t}),e.abrupt("return",u(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.isTokenExpired=function(){var e=this.refreshToken;if(e&&""!=e){var t=this.parseJwt(e);if(!((new Date).getTime()>1e3*t.exp))return a("fresh token not expired"),!1;a("fresh token expired")}return!0},e.catchError=function(){var e=n(r().mark((function e(t){var n,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response&&t.response.data){e.next=3;break}return e.abrupt("return",null);case 3:return e.t0=JSON,e.next=6,h(n);case 6:if(e.t1=e.sent,s=e.t0.parse.call(e.t0,e.t1),a=null,Object.entries(R).forEach((function(e){var t=e[0];e[1];s==t&&(a={error:s}),s.error==t&&(a=s),s.error&&s.error.error==t&&(a=s.error)})),!a){e.next=14;break}return e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.GetClientProfile=function(){var e=n(r().mark((function e(){var t,n,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.genRequestToken("/api/profile/client-get-profile");case 4:return n=e.sent,e.next=7,v.post("/api/profile/client-get-profile",{},{headers:{"x-request-token":n,"x-access-token":this._accessToken}});case 7:return s=e.sent,e.t0=JSON,e.next=11,h(s.data);case 11:e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),this.userID=c.user_id,a("userID",this._userID),this._userName=c.user_name,this._gameSave=c.game_save,this._inventory=c.inventory,a("[BE] Get Client Profile successfully.",c),e.next=26;break;case 21:return e.prev=21,e.t2=e.catch(1),e.next=25,this.catchError(e.t2);case 25:t=e.sent;case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(){return e.apply(this,arguments)}}(),e.GetLeaderboardUserRank=function(){var e=n(r().mark((function e(){var t,n,s,c,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n="/api/leaderboard/getRank",e.prev=2,e.next=5,this.genRequestToken(n);case 5:return s=e.sent,e.next=8,v.post(n,{},{headers:{"x-request-token":s,"x-access-token":this._accessToken}});case 8:return c=e.sent,e.t0=JSON,e.next=12,h(c.data);case 12:e.t1=e.sent,o=e.t0.parse.call(e.t0,e.t1),a("Get Leaderboard User Rank",o),this._userRank=o,e.next=23;break;case 18:return e.prev=18,e.t2=e.catch(2),e.next=22,this.catchError(e.t2);case 22:t=e.sent;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),e.GetLeaderboardTop=function(){var e=n(r().mark((function e(t){var n,s,c,o,i,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,s="/api/leaderboard/getTop",e.prev=2,e.next=5,u(JSON.stringify({top:t}));case 5:return c=e.sent,e.next=8,this.genRequestToken(s);case 8:return o=e.sent,e.next=11,v.post(s,{data:c},{headers:{"x-request-token":o,"x-access-token":this._accessToken}});case 11:return i=e.sent,e.t0=JSON,e.next=15,h(i.data);case 15:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),a("Get Leaderboard Top",l),this._globalRank=l,e.next=26;break;case 21:return e.prev=21,e.t2=e.catch(2),e.next=25,this.catchError(e.t2);case 25:n=e.sent;case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,this,[[2,21]])})));return function(t){return e.apply(this,arguments)}}(),e.GetGameServer=function(){var e=n(r().mark((function e(){var t,n,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.genRequestToken("/api/servers/get-active");case 4:return n=e.sent,e.next=7,v.post("/api/servers/get-active",{},{headers:{"x-request-token":n,"x-access-token":this._accessToken}});case 7:return s=e.sent,e.t0=JSON,e.next=11,h(s.data);case 11:e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),this.servers=c.servers,a("get Game Server done.",this.servers),e.next=22;break;case 17:return e.prev=17,e.t2=e.catch(1),e.next=21,this.catchError(e.t2);case 21:t=e.sent;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),e.GetRoomInfoFromCode=function(){var e=n(r().mark((function e(t){var n,s,a,c,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,u(JSON.stringify({code:t}));case 4:return s=e.sent,e.next=7,this.genRequestToken("/api/privatecode");case 7:return a=e.sent,e.next=10,v.get("/api/privatecode?data="+s,{headers:{"x-request-token":a,"x-access-token":this._accessToken}});case 10:return c=e.sent,e.t0=JSON,e.next=14,h(c.data);case 14:e.t1=e.sent,(o=e.t0.parse.call(e.t0,e.t1))&&o.data&&(this._privateRoomInfo=o.data.data),e.next=25;break;case 19:return e.prev=19,e.t2=e.catch(1),this._privateRoomInfo=null,e.next=24,this.catchError(e.t2);case 24:n=e.sent;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),e.UpdateUsername=function(){var e=n(r().mark((function e(t){var n,s,c,o,i,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,s="/api/profile/update-username",e.next=5,u(JSON.stringify({user_name:t}));case 5:return c=e.sent,e.next=8,this.genRequestToken(s);case 8:return o=e.sent,e.next=11,v.post(s,{data:c},{headers:{"x-request-token":o,"x-access-token":this._accessToken}});case 11:return i=e.sent,e.t0=JSON,e.next=15,h(i.data);case 15:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),this._userName=t,a("[BE] Update User Name successfully.",l),e.next=27;break;case 21:return e.prev=21,e.t2=e.catch(1),this._userName="",e.next=26,this.catchError(e.t2);case 26:n=e.sent;case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),e.UpdateMultipleInventories=function(){var e=n(r().mark((function e(t){var n,s,c,o,i,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,s="/api/profile/update-inventory",e.next=5,u(JSON.stringify(t));case 5:return c=e.sent,e.next=8,this.genRequestToken(s);case 8:return o=e.sent,e.next=11,v.post(s,{data:c},{headers:{"x-request-token":o,"x-access-token":this._accessToken}});case 11:return i=e.sent,e.t0=JSON,e.next=15,h(i.data);case 15:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),a("[BE] Update Game Inventory successfully.",t,l),e.next=25;break;case 20:return e.prev=20,e.t2=e.catch(1),e.next=24,this.catchError(e.t2);case 24:n=e.sent;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),e.UpdateInventory=function(){var e=n(r().mark((function e(t,n){var s,c,o,i,l,p,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,e.prev=1,c="/api/profile/update-inventory",(o={})[t]=n,e.next=7,u(JSON.stringify(o));case 7:return i=e.sent,e.next=10,this.genRequestToken(c);case 10:return l=e.sent,e.next=13,v.post(c,{data:i},{headers:{"x-request-token":l,"x-access-token":this._accessToken}});case 13:return p=e.sent,e.t0=JSON,e.next=17,h(p.data);case 17:e.t1=e.sent,f=e.t0.parse.call(e.t0,e.t1),a("[BE] Update Game Inventory successfully.",t,n,f),e.next=27;break;case 22:return e.prev=22,e.t2=e.catch(1),e.next=26,this.catchError(e.t2);case 26:s=e.sent;case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this,[[1,22]])})));return function(t,n){return e.apply(this,arguments)}}(),e.UpdateGameSave=function(){var e=n(r().mark((function e(t){var n,s,c,o,i,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,s="/api/profile/update-game-save",e.next=5,u(JSON.stringify({game_save:t}));case 5:return c=e.sent,e.next=8,this.genRequestToken(s);case 8:return o=e.sent,e.next=11,v.post(s,{data:c},{headers:{"x-request-token":o,"x-access-token":this._accessToken}});case 11:return i=e.sent,e.t0=JSON,e.next=15,h(i.data);case 15:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),a("[BE] Update Game Save successfully.",l,t),e.next=25;break;case 20:return e.prev=20,e.t2=e.catch(1),e.next=24,this.catchError(e.t2);case 24:n=e.sent;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),e.RefreshAnonAccessToken=function(){var e=n(r().mark((function e(){var t,n,s,o,i,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.refreshToken,e.prev=1,e.next=4,u(JSON.stringify({refresh_token:t}));case 4:return n=e.sent,e.next=7,this.genRequestToken("/api/authen/v2/refresh-token");case 7:return s=e.sent,e.next=10,v.post("/api/authen/v2/refresh-token",{data:n},{headers:{"x-request-token":s}});case 10:return o=e.sent,e.t0=JSON,e.next=14,h(o.data);case 14:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),this._accessToken=i.access_token,a("[BE] Refresh access token successfully.",d.truncate(this._refreshToken,10,"..."),d.truncate(this._accessToken,10,"...")),e.next=25;break;case 20:e.prev=20,e.t2=e.catch(1),this._accessToken=null,(p=e.t2.response&&e.t2.response.data)?l(p):c("[BE] Error:",e.t2);case 25:return e.abrupt("return",null!=this._accessToken);case 26:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),e.RefreshCognitoAccessToken=function(){var e=n(r().mark((function e(){var t,n,s,a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.refreshToken,e.prev=1,e.next=4,u(JSON.stringify({refresh_token:t}));case 4:return n=e.sent,e.next=7,this.genRequestToken("/api/oauth2/cognito/refresh-token");case 7:return s=e.sent,e.next=10,v.post("/api/oauth2/cognito/refresh-token",{data:n},{headers:{"x-request-token":s}});case 10:return a=e.sent,e.t0=JSON,e.next=14,h(a.data);case 14:e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),this._accessToken=c.access_token,e.next=22;break;case 19:e.prev=19,e.t2=e.catch(1),this._accessToken=null;case 22:return e.abrupt("return",null!=this._accessToken);case 23:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(){return e.apply(this,arguments)}}(),e.RequestAccessToken=function(){var t=n(r().mark((function t(n,s){var c,o,i,l,p,f,_,d,k,x;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s&&(s=""),c=null,t.prev=2,!n){t.next=24;break}if(!s||""==s){t.next=22;break}return t.next=7,u(JSON.stringify({code:s}));case 7:return o=t.sent,t.next=10,e.genRequestToken("/api/oauth2/cognito/login");case 10:return i=t.sent,t.next=13,v.post("/api/oauth2/cognito/login",{data:o},{headers:{"x-request-token":i}});case 13:return l=t.sent,t.t0=JSON,t.next=17,h(l.data);case 17:t.t1=t.sent,p=t.t0.parse.call(t.t0,t.t1),e._accessToken=p.access_token,e.refreshToken=p.refresh_token,a("[BE] Authenticate successfully.",p);case 22:t.next=44;break;case 24:return f=e.getId(),e._anonId=f[0],t.next=28,u(JSON.stringify({id:e._anonId,password:f[1]}));case 28:return _=t.sent,t.next=31,e.genRequestToken("/api/authen/v2/login");case 31:return d=t.sent,t.next=34,v.post("/api/authen/v2/login",{data:_},{headers:{"x-request-token":d}});case 34:return k=t.sent,t.t2=JSON,t.next=38,h(k.data);case 38:t.t3=t.sent,x=t.t2.parse.call(t.t2,t.t3),this._accessToken=x.access_token,this.refreshToken=x.refresh_token,this.userName=x.user_name,a("[BE] Authenticate successfully.",x,this._anonId);case 44:t.next=52;break;case 46:return t.prev=46,t.t4=t.catch(2),this._accessToken=null,t.next=51,this.catchError(t.t4);case 51:c=t.sent;case 52:return t.abrupt("return",c);case 53:case"end":return t.stop()}}),t,this,[[2,46]])})));return function(e,n){return t.apply(this,arguments)}}(),e.RequestRoomCode=function(){var e=n(r().mark((function e(t){var n,s,a,c,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,u(JSON.stringify({data:t}));case 4:return s=e.sent,e.next=7,this.genRequestToken("/api/privatecode");case 7:return a=e.sent,e.next=10,v.post("/api/privatecode",{data:s},{headers:{"x-request-token":a,"x-access-token":this._accessToken}});case 10:return c=e.sent,e.t0=JSON,e.next=14,h(c.data);case 14:e.t1=e.sent,o=e.t0.parse.call(e.t0,e.t1),this._privateCode=o.code,e.next=23;break;case 19:e.prev=19,e.t2=e.catch(1),this._privateCode=null,n=this.catchError(e.t2);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),e.VerifyAccessToken=function(){var e=n(r().mark((function e(){var t,n,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.genRequestToken("/api/authen/validate-access-token");case 4:return n=e.sent,e.next=7,v.post("/api/authen/validate-access-token",{},{headers:{"x-request-token":n,"x-access-token":this._accessToken}});case 7:return s=e.sent,e.t0=JSON,e.next=11,h(s.data);case 11:e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),a("[BE] VerifyAccessToken successfully.",c),e.next=21;break;case 16:return e.prev=16,e.t2=e.catch(1),e.next=20,this.catchError(e.t2);case 20:t=e.sent;case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),t(e,null,[{key:"accessToken",get:function(){return this._accessToken}},{key:"gameSave",get:function(){return this._gameSave}},{key:"userName",get:function(){return this._userName},set:function(e){this._userName=e}},{key:"userID",get:function(){return this._userID},set:function(e){this._userID=e,k.setUserId(e)}},{key:"inventory",get:function(){return this._inventory}},{key:"userRank",get:function(){return this._userRank}},{key:"globalRank",get:function(){return this._globalRank}},{key:"privateRoomInfo",get:function(){return this._privateRoomInfo}},{key:"privateCode",get:function(){return this._privateCode}},{key:"signInMethod",get:function(){return this._signInMethod&&""!=this._signInMethod||(this._signInMethod=p.getLocalDataKey(f.SignIn_Method)),this._signInMethod},set:function(e){this._signInMethod=e,p.setUserDataKey(f.SignIn_Method,e)}},{key:"refreshToken",get:function(){return this._refreshToken&&""!=this._refreshToken||(this._refreshToken=p.getLocalDataKey(f.Refresh_Token)),this._refreshToken},set:function(e){this._refreshToken=e,p.setUserDataKey(f.Refresh_Token,e)}}]),e}());g._anonId=void 0,g._inited=!1,g._accessToken=void 0,g._gameSave=void 0,g._userName=void 0,g._userID=void 0,g._inventory=void 0,g._userRank=void 0,g._globalRank=void 0,g._privateRoomInfo=void 0,g._privateCode=void 0,g._signInMethod=null,g._refreshToken=null,g.servers=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/ParallaxBG.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,o,a,s,l,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.instantiate,u=t.v3,c=t.Component}],execute:function(){var b,g,p,h,d,f,_,m,v,P;o._RF.push({},"7e475iVa6NEtpFs5is9cRFg","ParallaxBG",void 0);var y=a.ccclass,x=a.property;t("ParallaxBG",(b=y("ParallaxBG"),g=x(s),p=x(s),b((f=i((d=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"bgTemplate",f,r(i)),n(i,"bgContainer",_,r(i)),n(i,"bgAmount",m,r(i)),n(i,"distance",v,r(i)),n(i,"speed",P,r(i)),i._bgWidth=1442,i._left=1080,i._bgs=[],i}e(i,t);var o=i.prototype;return o.onLoad=function(){this._bgWidth=1442,this.bgTemplate.active=!1,this._left=this.node.getWorldPosition().x-this._bgWidth;for(var t=0;t<this.bgAmount;t++){var i=l(this.bgTemplate);i.active=!0,i.setPosition(u(t*this._bgWidth,0,0)),this.bgContainer.addChild(i),this._bgs.push(i)}},o.update=function(t){var i=this.bgContainer.getPosition();i.x-=this.speed*t,this.bgContainer.setPosition(i);var e=this._bgs.sort((function(t,i){return t.getPosition().x-i.getPosition().x}))[0];if(e.getWorldPosition().x+this._bgWidth/2<this._left+this.distance){var n=e.getPosition();n.x+=this.bgAmount*this._bgWidth,e.setPosition(n)}},i}(c)).prototype,"bgTemplate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(d.prototype,"bgContainer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(d.prototype,"bgAmount",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=i(d.prototype,"distance",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=i(d.prototype,"speed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/ParentalConsent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,a,i,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Node,s=e.Component}],execute:function(){var l,u,p,f,y;a._RF.push({},"05d51jjYSJEWLyLrW/mKK81","ParentalConsent",void 0);var d=i.ccclass,C=i.property;e("ParentalConsent",(l=d("ParentalConsent"),u=C(c),l((y=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"parentalConsentTxt",y,o(t)),t}return n(t,e),t.prototype.onConsentAccepted=function(){},t}(s)).prototype,"parentalConsentTxt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/PersistPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var n,o,e,s,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.director,i=t.Component},function(t){r=t.POPUP_INDEX}],execute:function(){var c,u;o._RF.push({},"8c5dfcPvoNO2KkFDH7ldInt","PersistPopup",void 0);var p=e.ccclass;e.property,t("PersistPopup",p("PersistPopup")(((u=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){s.isPersistRootNode(this.node)||s.addPersistRootNode(this.node),o.Instance=this},e.updateSibIndex=function(){this.node.setSiblingIndex(r.PERSIST_POPUP)},o}(i)).Instance=null,c=u))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./MainMenuDebug.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./UserDataManager.ts","./Dialogue.ts","./SelectMode.ts","./BackpackAnimCtrl.ts","./CharacterAnimCtrl.ts","./CharacterVFX.ts","./Collectible.ts","./Powerup.ts","./QTECollectible.ts","./LevelManager.ts","./Obstacle.ts","./PlayerMagnet.ts","./PlayerManager.ts","./DailyMissionManager.ts","./UIManager.ts"],(function(t){"use strict";var e,n,i,s,a,c,o,r,l,h,u,_,p,I,A,C,k,d,S,y,f,m,P,v,g,E,M,T,D,O,R,H,N,L,F,U,B,J,w,X,b,V,x,G,K,Q,W,Y,j,q,z;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,o=t.Collider,r=t.log,l=t.Component,h=t.Vec3,u=t.v3},function(t){_=t.CharacterAccessoryCtrl},function(t){p=t.ROOM_STATE,I=t.SKILL,A=t.VFX_CHARACTER,C=t.default,k=t.PLAYER_CHARACTER,d=t.GAME_MODE,S=t.GameActions,y=t.MISSION_ID,f=t.SWIPEType,m=t.ItemType,P=t.AudioSrc,v=t.AchievementId},function(t){g=t.MainMenuDebug},function(t){E=t.NetworkManager},function(t){M=t.RunningGameManager},function(t){T=t.SoundManager},function(t){D=t.UserDataManager},function(t){O=t.Dialogue,R=t.DIALOGUE_TYPE},function(t){H=t.SelectMode},function(t){N=t.BackpackAnimCtrl},function(t){L=t.CHARACTER_ANIM,F=t.CharacterAnimCtrl,U=t.CHARACTER_ANIM_CONTEXT},function(t){B=t.CharacterVFX},function(t){J=t.Collectible},function(t){w=t.Powerup},function(t){X=t.QTECollectible},function(t){b=t.LevelManager},function(t){V=t.Obstacle},function(t){x=t.PlayerMagnet},function(t){G=t.INITIAL_JUMP_GRAVITY,K=t.INITIAL_DASH_TIME,Q=t.PlayerManager,W=t.INITIAL_JUMP_SPEED,Y=t.INITIAL_JUMP_SPEED_2,j=t.INITIAL_JUMP_DOWN_SPEED},function(t){q=t.DailyMissionManager},function(t){z=t.UIManager}],execute:function(){var Z;a._RF.push({},"3816cFZTXROM5aoe7PRpLQY","Player",void 0);var $=c.ccclass;c.property,t("Player",$("Player")(Z=function(t){function a(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._animCtrl=null,e._vfxCtrl=null,e._backpackAnimCtrl=null,e._accessoryCtrl=null,e._character=void 0,e._hasBackpack=!1,e._currentDashTime=0,e._speedJump=0,e._jumpCounter=0,e._playerInitalPosition=null,e._isActingSkill=!1,e._skill=I.NONE,e._isInvisible=!1,e._duperDuration=0,e._needBackpack=!1,e._isHeadstartActive=!1,e._isCoinBoostActive=!1,e._coinBoostValue=0,e._isQTEHeadstartActive=!1,e._isRevivalActive=!1,e._isLongerPowerupActive=!1,e._isCoinSwipeActive=!1,e._isDashing=!1,e.inited=!1,e}e(a,t);var c=a.prototype;return c.start=function(){for(var t=this.getComponentsInChildren(o),e=0;e<t.length;e++)t[e].on("onTriggerEnter",this.onTriggerEnter,this),t[e].on("onTriggerExit",this.onTriggerExit,this),t[e].on("onTriggerStay",this.onTriggerStay,this)},c.reset=function(){this._needBackpack=!1},c.canJump=function(){return!this._hasBackpack},c.canDash=function(){return!!this._hasBackpack},c.canThrow=function(){return!!this._hasBackpack},c.canRequestBackpack=function(){return!this._hasBackpack},c.init=function(){var t=i(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._character=e,this._playerInitalPosition=new h(this.node.position),this._currentDashTime=0,this._jumpCounter=0,this._isActingSkill=!1,this.node.eulerAngles=u(0,180,0),this._animCtrl=this.getComponentInChildren(F),!this._animCtrl){t.next=12;break}return this._animCtrl.character=e,this._animCtrl.init(L.IDLE,!1),t.next=12,this._animCtrl.loadAnimations(U.AP);case 12:return this._animCtrl.character=e,this._vfxCtrl=this.getComponentInChildren(B),this._accessoryCtrl=this.getComponentInChildren(_),this._accessoryCtrl&&(n=e==k.MILKY?E.Instance.milkyAccessory:E.Instance.schokiAccessory,this._accessoryCtrl.character=e,this._accessoryCtrl.updateAccessories(n)),this._backpackAnimCtrl=this.getComponentInChildren(N),t.next=19,this._backpackAnimCtrl.loadBackpacks(this._character);case 19:return t.next=21,this._backpackAnimCtrl.loadQTE();case 21:this.inited=!0;case 22:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.update=function(t){if(this.inited)if(M.IsPause&&E.Instance.state!=p.QTE&&E.Instance.state!=p.GAMEOVER){if(!M.Instance.isInTutorial&&this._isActingSkill&&this._skill==I.JUMP){this._skill==I.JUMP&&(this._speedJump+=G*t);var e=this.node.getPosition();e.y+=this._speedJump*t,this.node.setPosition(e),this.node.getPosition().y<=this._playerInitalPosition.y&&(e.y=this._playerInitalPosition.y,this.node.setPosition(e),this._isActingSkill=!1,this._skill=I.NONE,this._jumpCounter=0)}}else if(this._isActingSkill)if(this._skill==I.JUMP){this._skill==I.JUMP&&(this._speedJump+=+G*t);var n=this.node.getPosition();n.y+=this._speedJump*t,this.node.setPosition(n),this.node.getPosition().y<=this._playerInitalPosition.y&&(n.y=this._playerInitalPosition.y,this.node.setPosition(n),this._isActingSkill=!1,this._skill=I.NONE,this.animCtrl.PlayAnim(L.RUN),this.vfxCtrl.playVFX(A.SAND_LANDING,!0,!1),this.vfxCtrl.playVFX(A.CHARACTER,!0,!1),T.Instance.playLandSound(),C.IS_SFX_ON&&(M.Instance.isInQte||(this._character==k.MILKY?M.Instance.milkyFootstepSFX.play():M.Instance.schokiFootstepSFX.play())),this._jumpCounter=0)}else if(this._skill==I.DASH||this._skill==I.DASH_CANCEL)this._currentDashTime+=t,this._currentDashTime>=K&&(H.mode==d.PRIVATE&&Q.Instance.otherPlayer.character==this.character&&M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DASH_CANCEL}),0==this._isDashing&&M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DASH_CANCEL}));else if(this._skill==I.JUMP_DOWN){this._speedJump+=G*t;var i=this.node.getPosition();i.y+=this._speedJump*t,this.node.setPosition(i),this.node.getPosition().y<=this._playerInitalPosition.y&&(i.y=this._playerInitalPosition.y,this.node.setPosition(i),this._isActingSkill=!1,this._skill=I.NONE,this.animCtrl.PlayAnim(L.RUN),this.vfxCtrl.playVFX(A.SAND_LANDING,!0,!1),this.vfxCtrl.playVFX(A.CHARACTER,!0,!1),T.Instance.playLandSound(),C.IS_SFX_ON&&(M.Instance.isInQte||(this._character==k.MILKY?M.Instance.milkyFootstepSFX.play():M.Instance.schokiFootstepSFX.play())),this._jumpCounter=0)}},c.onSkill=function(t){var e=this;if(!Q.Instance.isMegaHopActive&&!M.Instance.isHeadStartActive)if(t==I.JUMP&&this.canJump())this._jumpCounter++,this.jumpCounter<=1?(this._isActingSkill=!0,this._skill=I.JUMP,this._animCtrl.PauseAnim(),this._animCtrl.PlayAnim(L.JUMP),this._speedJump=W):this.jumpCounter<=2&&(this._speedJump=Y),T.Instance.playJumpSound(),this._character==k.MILKY?M.Instance.milkyFootstepSFX.pause():M.Instance.schokiFootstepSFX.pause();else if(t==I.DASH&&this.canDash()){if(this._isActingSkill=!0,this._skill=I.DASH,this._animCtrl.PlayAnim(L.DASH_START),this.vfxCtrl.playVFX(A.DASH,!0,!1),this._isDashing=!0,T.Instance.playSlideSound(),this._character==k.MILKY?M.Instance.milkyFootstepSFX.pause():M.Instance.schokiFootstepSFX.pause(),!M.Instance.isInTutorial&&!b.Instance.m_Editor){var n=q.Instance.getActiveMissionIndex(y.dash);null!=n&&-1!=n&&q.Instance.updateMission(n),null!=(n=q.Instance.getActiveMissionIndex(y.dash_one_run))&&-1!=n&&q.Instance.updateMission(n)}}else if(t==I.DASH_CANCEL&&this._skill==I.DASH)this._isActingSkill=!1,this._skill=I.NONE,this._animCtrl.PlayAnim(L.RUN,null,0,(function(){C.IS_SFX_ON&&(M.Instance.isInQte||(e._character==k.MILKY?M.Instance.milkyFootstepSFX.play():M.Instance.schokiFootstepSFX.play()))}),!0,.25),this._currentDashTime=0,this._isDashing=!1,r("DASH_CANCEL");else if(t==I.DOUBLE_JUMP&&this.canJump()&&this._skill==I.JUMP){if(this._jumpCounter++,this.jumpCounter<=2&&(this._speedJump=Y,this.animCtrl.PlayAnim(L.JUMP),this._vfxCtrl.playVFX(A.DOUBLE_JUMP,!0,!1),T.Instance.playJumpSound()),!M.Instance.isInTutorial&&!b.Instance.m_Editor){M.Instance.double_jump_one_run++;var i=q.Instance.getActiveMissionIndex(y.double_jump);null!=i&&-1!=i&&q.Instance.updateMission(i)}}else t==I.JUMP_DOWN&&(this._isActingSkill=!0,this._skill=I.JUMP_DOWN,this.animCtrl.PlayAnim(L.JUMP),this._speedJump=j)},c.control=function(t){if(!Q.Instance.isMegaHopActive&&!M.Instance.isHeadStartActive)if(this._isActingSkill)this._skill==I.JUMP&&this.canJump()&&t==f.UP?M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DOUBLE_JUMP}):this._skill!=I.JUMP&&this._skill!=I.DOUBLE_JUMP||t!=f.DOWN?this._skill==I.DASH&&t==f.NONE&&(this._currentDashTime>=K?M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DASH_CANCEL}):this._isDashing=!1):M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.JUMP_DOWN});else if(t==f.UP)this.canJump()&&M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.JUMP});else if(t==f.DOWN)this.canDash()&&M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DASH});else if(this.canSwipeTypeCanThrow(t)&&this.canThrow()){var e=this.character==k.MILKY?k.SCHOKI:k.MILKY;if(M.Instance.sendAction({action:S.SetBackpackSide,dest:e,force:!1}),!M.Instance.isInTutorial&&!b.Instance.m_Editor){M.Instance.pass_bp_one_run++;var n=q.Instance.getActiveMissionIndex(y.pass_backpack);null!=n&&-1!=n&&q.Instance.updateMission(n)}}else this.canSwipeTypeCanRequest(t)&&this.canRequestBackpack()&&M.Instance.sendAction({action:S.RequestBackpack,character:this.character})},c.canSwipeTypeCanThrow=function(t){return t==f.LEFT&&this.character==k.SCHOKI||t==f.RIGHT&&this.character==k.MILKY},c.canSwipeTypeCanRequest=function(t){return t==f.RIGHT&&this.character==k.SCHOKI||t==f.LEFT&&this.character==k.MILKY},c.checkCanMatchSwipeType=function(t,e){return t==e||t==f.UP&&e==f.UP_X2},c.controlInTutorial=function(t){if(this.checkCanMatchSwipeType(t,M.Instance.m_needswipeType)||C.CHEAT_IGNORE_CHECK_TUTORIAL_CONTROL){var e=!1;if(t==f.UP&&this.canJump())this._isActingSkill=!0,Q.Instance.ResumeAnim(),M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.JUMP}),e=!0;else if(t==f.DOWN&&this.canDash())Q.Instance.ResumeAnim(),M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.DASH}),e=!0;else if(t==f.RIGHT&&this.canThrow()){Q.Instance.ResumeAnim();var n=this.character==k.MILKY?k.SCHOKI:k.MILKY;M.Instance.sendAction({action:S.SetBackpackSide,dest:n,force:!1}),e=!0}else t==f.LEFT&&this.canRequestBackpack()?(Q.Instance.ResumeAnim(),e=!0,M.Instance.sendAction({action:S.RequestBackpack,character:this.character})):t==f.DOWN&&this._skill==I.JUMP&&(Q.Instance.otherPlayer.animCtrl.ResumeAnim(),M.Instance.sendAction({action:S.Skill,character:this.character,skill:I.JUMP_DOWN}),e=!0);e&&(M.Instance.timeScale=1,M.IsPause=!1,M.Instance.m_needswipeType=f.NONE,!M.Instance.isInQte&&C.IS_SFX_ON&&(M.Instance.milkyFootstepSFX.play(),M.Instance.schokiFootstepSFX.play()),z.Instance&&z.Instance.showHandTutorial(!1),O.instance.Close())}},c.onPowerup=function(t){t==m.INVISIBLE?Q.Instance.ActivateShield():t==m.MAGNET?x.Instance.activate():t==m.STAMPER?Q.Instance.ActivateStamper():t==m.COIN_DUPER?Q.Instance.ActivateCoinDuper():t==m.MEGA_HOP&&Q.Instance.ActivateMegaHop()},c.onCollectCoin=function(t,e){if(void 0===e&&(e=!0),t&&t.getComponent(J)){var n=t.getComponent(J).amount;t.active=!1,T.Instance.playCollectSound(),e&&M.Instance.sendAction({action:S.CollectCoin,backpack:!1,amount:n}),t.getComponent(J).playCollectVFX(),5==n&&M.Instance.mid_coin_one_run++}},c.onCollectPowerup=function(t){},c.onCollectQTE=function(t,e){if(void 0===e&&(e=!0),t&&t.getComponent(X)){var n=t.getComponent(X);n.playCollectVFX();var i=n.QTE_Type;t.active=!1,T.Instance.playOneShot(P.REVIVE_ITEM),M.Instance.qte_collected++,e&&E.Instance.addQTE(i),M.Instance.isInTutorial&&(M.IsPause=!0,M.Instance.milkyFootstepSFX.pause(),M.Instance.schokiFootstepSFX.pause(),Q.Instance.PauseAnim(),O.instance.Show(R.collect_qte,(function(){M.IsPause=!1,Q.Instance.ResumeAnim()}),!0))}},c.onTriggerEnter=function(t){if(!M.IsPause&&!M.Instance.isHeadStartActive){var e;switch(t.otherCollider.getGroup()){case m.COLLECTIBLE:this.onCollectCoin(t.otherCollider.node);break;case m.SMALL_OBSTACLE:if(!(Q.Instance._passObstacle||this._isInvisible||Q.Instance.isMegaHopActive||g.GodMode))if(r("event.otherCollider.node",t.otherCollider.node),Q.Instance.isShieldActive)Q.Instance.shieldTimer=0,T.Instance.playOneShot(P.SHIELD_DISAPPEAR);else{var n=t.otherCollider.getComponent(V);n&&n.onHit(),this.isRevivalActive?(this.isRevivalActive=!1,Q.Instance.ActivateRevivalShield()):M.Instance.sendAction({action:S.Collision,group:m.SMALL_OBSTACLE,player:!0}),T.Instance.playOneShot(P.HIT_OBSTACLE),M.Instance.milkyFootstepSFX.stop(),M.Instance.schokiFootstepSFX.stop(),T.Instance.playDizzySound(),this.vfxCtrl.playVFX(A.HIT,!0,!1)}break;case m.INVISIBLE:t.otherCollider.node.active=!1,T.Instance.playOneShot(P.POWERUP_SHIELD),M.Instance.sendAction({action:S.PowerUp,type:m.INVISIBLE,isHost:E.Instance.isHost}),t.otherCollider.node.getComponent(w).playCollectVFX();break;case m.MAGNET:t.otherCollider.node.active=!1,T.Instance.playOneShot(P.POWERUP_MAGNET),M.Instance.sendAction({action:S.PowerUp,type:m.MAGNET,isHost:E.Instance.isHost}),t.otherCollider.node.getComponent(w).playCollectVFX();break;case m.STAMPER:t.otherCollider.node.active=!1,T.Instance.playOneShot(P.POWERUP_STAMPER),M.Instance.sendAction({action:S.PowerUp,type:m.STAMPER,isHost:E.Instance.isHost});break;case m.COIN_DUPER:t.otherCollider.node.active=!1,T.Instance.playOneShot(P.POWERUP_COIN_DUPER),M.Instance.sendAction({action:S.PowerUp,type:m.COIN_DUPER,isHost:E.Instance.isHost}),t.otherCollider.node.getComponent(w).playCollectVFX();break;case m.MEGA_HOP:t.otherCollider.node.active=!1,T.Instance.playOneShot(P.POWERUP_MEGA_HOP),M.Instance.sendAction({action:S.PowerUp,type:m.MEGA_HOP,isHost:E.Instance.isHost}),t.otherCollider.node.getComponent(w).playCollectVFX();break;case m.QTE:this.onCollectQTE(t.otherCollider.node)}if(!M.Instance.isInTutorial&&!b.Instance.m_Editor)switch(t.otherCollider.getGroup()){case m.QTE:break;case m.INVISIBLE:case m.MAGNET:case m.SPRINGBOOTS:case m.STAMPER:case m.COIN_DUPER:case m.MEGA_HOP:case m.SWEEPSENSE:case m.MAGICCLOCK:for(var i=v.achievement_power_1;i<=v.achievement_power_3;i++){var s=D.Instance.getAchievement(i);s.isCompleted||(s.counter++,D.Instance.updateAchievementProgress(s))}null!=(e=q.Instance.getActiveMissionIndex(y.power_up))&&-1!=e&&q.Instance.updateMission(e)}}},c.onTriggerStay=function(t){M.IsPause||this._isInvisible},c.onTriggerExit=function(t){M.IsPause||this._isInvisible},c.DisableInvisible=function(){this.animCtrl.PlayBlinkEffect(!0)},c.ActivateInvisible=function(t){this.vfxCtrl.playVFX(A.SHIELD,!0,!1)},c.ActivateRevivalShield=function(){this.vfxCtrl.playVFX(A.SHIELD,!0,!1)},c.ActivateExtraShield=function(){this.vfxCtrl.playVFX(A.SHIELD,!0,!1)},c.ActivateMegaHop=function(){this.vfxCtrl.playVFX(A.HYPER_BOOST,!0,!1)},c.ResetDash=function(){},c.showBackpack=function(t){this._backpackAnimCtrl&&this._backpackAnimCtrl.show(t),this.hasBackpack=t},n(a,[{key:"animCtrl",get:function(){return this._animCtrl},set:function(t){this._animCtrl=t}},{key:"vfxCtrl",get:function(){return this._vfxCtrl},set:function(t){this._vfxCtrl=t}},{key:"backpackAnimCtrl",get:function(){return this._backpackAnimCtrl},set:function(t){this._backpackAnimCtrl=t}},{key:"accessoryCtrl",get:function(){return this._accessoryCtrl}},{key:"character",get:function(){return this._character},set:function(t){this._character=t}},{key:"hasBackpack",get:function(){return this._hasBackpack},set:function(t){this._hasBackpack=t}},{key:"jumpCounter",get:function(){return this._jumpCounter},set:function(t){this._jumpCounter=t}},{key:"playerInitialPosition",get:function(){return this._playerInitalPosition}},{key:"isActingSkill",get:function(){return this._isActingSkill}},{key:"skill",get:function(){return this._skill}},{key:"isInvisible",get:function(){return this._isInvisible}},{key:"duperDuration",get:function(){return this._duperDuration},set:function(t){this._duperDuration=t}},{key:"needBackpack",get:function(){return this._needBackpack},set:function(t){this._needBackpack=t,r(this.node.parent.name,"NeedBackpack",this._needBackpack)}},{key:"isHeadstartActive",get:function(){return this._isHeadstartActive},set:function(t){this._isHeadstartActive=t}},{key:"isCoinBoostActive",get:function(){return this._isCoinBoostActive},set:function(t){this._isCoinBoostActive=t}},{key:"coinBoostValue",get:function(){return this._coinBoostValue},set:function(t){this._coinBoostValue=t}},{key:"isQTEHeadstartActive",get:function(){return this._isQTEHeadstartActive},set:function(t){this._isQTEHeadstartActive=t}},{key:"isRevivalActive",get:function(){return this._isRevivalActive},set:function(t){this._isRevivalActive=t}},{key:"isLongerPowerupActive",get:function(){return this._isLongerPowerupActive},set:function(t){this._isLongerPowerupActive=t}},{key:"isCoinSwipeActive",get:function(){return this._isCoinSwipeActive},set:function(t){this._isCoinSwipeActive=t}},{key:"isDashing",set:function(t){this._isDashing=t}}]),a}(l))||Z);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBackpack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts","./EventManager.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./UserDataManager.ts","./QTEItemPosition.ts","./CharacterAnimCtrl.ts","./Collectible.ts","./QTECollectible.ts","./LevelManager.ts","./PlayerManager.ts","./DailyMissionManager.ts"],(function(e){"use strict";var t,n,i,a,s,o,r,c,l,h,d,u,_,p,m,C,I,f,T,g,E,A,P,v,b,k,S,O,y,M,R,B,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Node,c=e.Vec3,l=e.Collider,h=e.ParticleSystem,d=e.tween,u=e.v3,_=e.Component},function(e){p=e.EventName,m=e.PLAYER_CHARACTER,C=e.ItemType,I=e.AudioSrc,f=e.GameActions,T=e.AchievementId,g=e.MISSION_ID},function(e){E=e.MainMenuDebug},function(e){A=e.default},function(e){P=e.NetworkManager},function(e){v=e.RunningGameManager},function(e){b=e.SoundManager},function(e){k=e.UserDataManager},function(e){S=e.QTEItemPosition},function(e){O=e.CharacterAnimCtrl},function(e){y=e.Collectible},function(e){M=e.QTECollectible},function(e){R=e.LevelManager},function(e){B=e.PlayerManager},function(e){N=e.DailyMissionManager}],execute:function(){var D,w,H,W,L,z,G,K,U,Q,x,V,q;s._RF.push({},"e1239cDuwROFbsY0qbu9DaZ","PlayerBackpack",void 0);var F,X=o.ccclass,Y=o.property;!function(e){e[e.NONE=0]="NONE",e[e.BACK=1]="BACK",e[e.BACK_TO_HAND=2]="BACK_TO_HAND",e[e.THROW=3]="THROW",e[e.HAND_TO_BACK=4]="HAND_TO_BACK"}(F||(F={}));e("PlayerBackpack",(D=X("PlayerBackpack"),w=Y(r),H=Y(r),W=Y(r),L=Y(r),z=Y(r),D((U=t((K=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"vfxGain",U,a(t)),i(t,"vfxTrail",Q,a(t)),i(t,"container",x,a(t)),t._duration=1,t._elapsedTime=0,t._startPosition=c.ZERO,t._callback=null,t._fromAnimCtrl=null,t._endAnimCtrl=null,t._state=F.NONE,t._tweenSize=null,i(t,"backPacks",V,a(t)),i(t,"qteItems",q,a(t)),t._updateQTEListener=void 0,t._updateBackpackSize=void 0,t._size=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._updateQTEListener=this.updateQTE.bind(this),this._updateBackpackSize=this.updateBackpack.bind(this),A.GetInstance().addEventListener(p.UPDATE_QTE,this._updateQTEListener),A.GetInstance().addEventListener(p.UPDATE_BACKPACK,this._updateBackpackSize);for(var e=this.getComponentsInChildren(l),t=0;t<e.length;t++)e[t].on("onTriggerEnter",this.onTriggerEnter,this),e[t].on("onTriggerExit",this.onTriggerExit,this),e[t].on("onTriggerStay",this.onTriggerStay,this);this.updateQTEItems([])},s.start=function(){this.enableVFX(this.vfxGain,!1),this.enableVFX(this.vfxTrail,!1)},s.onDestroy=function(){A.GetInstance().removeEventListener(p.UPDATE_QTE,this._updateQTEListener),A.GetInstance().removeEventListener(p.UPDATE_BACKPACK,this._updateBackpackSize),this._updateBackpackSize=null,this._updateQTEListener=null},s.show=function(){this.container.active=!0},s.hide=function(){this.container.active=!1},s.updateBackpack=function(e){this.changeSize(e.parameters.size)},s.updateQTE=function(e){this.updateQTEItems(e.parameters.qtes)},s.enableVFX=function(e,t){E.getDeviceProfile().VFX||(t=!1),e&&(e.active=t);var n=e?e.getComponentsInChildren(h):[];n.length>0&&n.forEach((function(e){t?e.play():e.stop()}))},s.updateQTEItems=function(e){for(var t=0;t<this.qteItems.length;t++){this.qteItems[t].active=!1;for(var n=0;n<e.length;n++)t==e[n]-1&&0==this.qteItems[t].active&&(this.qteItems[t].active=!0,this.qteItems[t].getComponent(S).runCollectAction())}},s.changeSize=function(e,t,n){var i=this;void 0===n&&(n=!0),this._size!=e&&e&&(e<1||e>3||(this._tweenSize&&this._tweenSize.stop(),this._tweenSize=d(this.node),this._tweenSize.call((function(){i.backPacks.forEach((function(t,n){n!=e-1?0!=t.active&&(t.active=!1):1!=t.active&&(t.active=!0)})),i.qteItems.forEach((function(t,n){var i=t.getComponent(S);i&&i.updatePosition(e-1)}))})),n&&this._tweenSize.to(.25,{scale:u(1.5,1.5,1.5)},{easing:"sineOut"}).to(.25,{scale:u(1,1,1)},{easing:"sineIn"}),this._tweenSize.start()))},s.moveTo=function(e,t,n,i,a){this._callback=i,this._duration=n,this._startPosition=this.node.getWorldPosition().clone(),this._elapsedTime=0,this._fromAnimCtrl=e.getComponentInChildren(O),this._endAnimCtrl=t.getComponentInChildren(O),this._state=F.BACK_TO_HAND,a&&1==a?(this.node.setWorldPosition(this._endAnimCtrl.hand.getWorldPosition()),this._callback&&(this._callback(),this._callback=null),this._state=F.BACK):this.enableVFX(this.vfxTrail,!0)},s.update=function(e){if(this._state==F.BACK_TO_HAND)this._elapsedTime<.15&&(this._elapsedTime+=e,this.node.setWorldPosition(this._fromAnimCtrl.hand.getWorldPosition()),this.node.setWorldRotation(this._fromAnimCtrl.hand.getWorldRotation()),this._elapsedTime>=.15&&(this._state=F.THROW,this._elapsedTime=0));else if(this._state==F.THROW){if(this._elapsedTime<this._duration){this._elapsedTime+=e;var t=this._elapsedTime/this._duration;t=t>1?1:t;var n=u(0,0,0);this._startPosition=this._fromAnimCtrl.hand.getWorldPosition(),c.lerp(n,this._startPosition,this._endAnimCtrl.hand.getWorldPosition(),t),this.node.setWorldPosition(n),this._elapsedTime>=this._duration&&(this.enableVFX(this.vfxGain,!0),this.enableVFX(this.vfxTrail,!1),this._callback(),this._callback=null,this._state=F.HAND_TO_BACK,this._elapsedTime=0)}}else this._state==F.HAND_TO_BACK?this._elapsedTime<.25&&(this._elapsedTime+=e,this.node.setWorldPosition(this._endAnimCtrl.hand.getWorldPosition()),this.node.setWorldRotation(this._endAnimCtrl.hand.getWorldRotation()),this._elapsedTime>=.25&&(this._state=F.BACK,this._elapsedTime=0)):this._state==F.BACK&&(this.node.setWorldPosition(this._endAnimCtrl.back.getWorldPosition()),this.node.setWorldRotation(this._endAnimCtrl.back.getWorldRotation()))},s.getBackpackSideOnCollision=function(){return B.Instance.backpackSide==m.MILKY?m.SCHOKI:m.MILKY},s.onTriggerEnter=function(e){if(!v.IsPause){var t;switch(e.otherCollider.getGroup()){case C.COLLECTIBLE:var n=e.otherCollider.node.getComponent(y).amount;B.Instance.thisPlayer.isCoinSwipeActive&&B.Instance.otherPlayer.isCoinSwipeActive&&(n*=2),e.otherCollider.node.parent.active=!1,b.Instance.playCollectSound(),v.Instance.sendAction({action:f.CollectCoin,backpack:!0,amount:n}),v.Instance.mid_coin_one_run++;break;case C.INVISIBLE:v.Instance.sendAction({action:f.PowerUp,type:C.INVISIBLE,isHost:P.Instance.isHost}),b.Instance.playOneShot(I.POWERUP_SHIELD),e.otherCollider.node.active=!1;break;case C.MAGNET:e.otherCollider.node.active=!1,b.Instance.playOneShot(I.POWERUP_MAGNET),v.Instance.sendAction({action:f.PowerUp,type:C.MAGNET,isHost:P.Instance.isHost});break;case C.STAMPER:e.otherCollider.node.active=!1,b.Instance.playOneShot(I.POWERUP_STAMPER),v.Instance.sendAction({action:f.PowerUp,type:C.STAMPER,isHost:P.Instance.isHost});break;case C.COIN_DUPER:e.otherCollider.node.active=!1,b.Instance.playOneShot(I.POWERUP_COIN_DUPER),v.Instance.sendAction({action:f.PowerUp,type:C.COIN_DUPER,isHost:P.Instance.isHost});break;case C.MEGA_HOP:e.otherCollider.node.active=!1,b.Instance.playOneShot(I.POWERUP_MEGA_HOP),v.Instance.sendAction({action:f.PowerUp,type:C.MEGA_HOP,isHost:P.Instance.isHost});break;case C.QTE:var i=e.otherCollider.node.getComponent(M).QTE_Type;e.otherCollider.node.active=!1,b.Instance.playOneShot(I.REVIVE_ITEM),P.Instance.addQTE(i)}if(!v.Instance.isInTutorial&&!R.Instance.m_Editor)switch(e.otherCollider.getGroup()){case C.INVISIBLE:case C.MAGNET:case C.SPRINGBOOTS:case C.STAMPER:case C.COIN_DUPER:case C.MEGA_HOP:case C.SWEEPSENSE:case C.MAGICCLOCK:for(var a=T.achievement_power_1;a<=T.achievement_power_3;a++){var s=k.Instance.getAchievement(a);s.isCompleted||(s.counter++,k.Instance.updateAchievementProgress(s))}null!=(t=N.Instance.getActiveMissionIndex(g.power_up))&&-1!=t&&N.Instance.updateMission(t)}}},s.onTriggerStay=function(e){v.IsPause},s.onTriggerExit=function(e){v.IsPause},t}(_)).prototype,"vfxGain",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"vfxTrail",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(K.prototype,"container",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(K.prototype,"backPacks",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(K.prototype,"qteItems",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=K))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerMagnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./LevelManager.ts","./PlayerManager.ts","./UIManager.ts"],(function(t){"use strict";var e,n,i,a,r,o,s,c,l,u,g,h,_,T,f,I,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,l=t.Collider,u=t.tween,g=t.v3,h=t.Component},function(t){_=t.SessionInfo},function(t){T=t.RunningGameManager},function(t){f=t.LevelManager},function(t){I=t.PlayerManager},function(t){C=t.UIManager}],execute:function(){var m,p,A,y,d,E,v,w,P;t("MAGNET_STATE",void 0),o._RF.push({},"161f8Y1wLVJlqQ/P2i+g3bY","PlayerMagnet",void 0);var b,M=s.ccclass,L=s.property;!function(t){t[t.IDLE=0]="IDLE",t[t.ACTIVE=1]="ACTIVE",t[t.WAIT=2]="WAIT"}(b||(b=t("MAGNET_STATE",{})));t("PlayerMagnet",(m=M("PlayerMagnet"),p=L(c),m(((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"modelNode",d,a(e)),e.maxCoinCapacity=50,i(e,"MAX_BACKPACK_CAPACITY",E,a(e)),i(e,"WAIT_DURATION",v,a(e)),i(e,"PULL_RANGE",w,a(e)),e._state=void 0,e._magnetTimer=0,e._waitTimer=0,e._currentCoinCapacity=0,e._tweenFloat=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){e.Instance=this;for(var t=this.getComponentsInChildren(l),n=0;n<t.length;n++)t[n].on("onTriggerEnter",this.onTriggerEnter,this),t[n].on("onTriggerExit",this.onTriggerExit,this),t[n].on("onTriggerStay",this.onTriggerStay,this)},o.init=function(){this._setState(b.IDLE)},o._setState=function(t){if(this._state!=t)switch(this._state=t,this._state){case b.IDLE:this.node.active=!1,this._magnetTimer=0,this._waitTimer=0,this._currentCoinCapacity=0;break;case b.ACTIVE:console.log("magnet active"),this.node.active=!0,this._floatingTween();break;case b.WAIT:this._waitTimer=0,console.log("magnet wait")}},o.update=function(t){switch(this._state){case b.IDLE:break;case b.ACTIVE:if(!T.IsPause){if(this._magnetTimer+=t,this._magnetTimer>=f.Instance.m_MagnetDuration)return this._addCoin(),void this._setState(b.WAIT);break}case b.WAIT:this._waitTimer+=t,this._waitTimer>=this.WAIT_DURATION&&this._setState(b.IDLE)}},o.activate=function(){this.isActive()?(this._magnetTimer=0,this._addCoin()):(this._magnetTimer=0,this._setState(b.ACTIVE))},o.deactivate=function(){this._setState(b.IDLE)},o.isActive=function(){return this._state==b.ACTIVE},o.increaseCoin=function(){this._currentCoinCapacity++},o._addCoin=function(){var t=this._currentCoinCapacity;T.Instance.CoinCollectCounter+=t,C.Instance.updateUILabel(_.COIN,T.Instance.CoinCollectCounter),this._currentCoinCapacity=0},o._floatingTween=function(){console.log("_floatingTween");this._tweenFloat&&this._tweenFloat.stop();var t=this.modelNode.getPosition().y;this._tweenFloat=u(this.modelNode).repeatForever(u().to(1,{position:g(0,t-.2)},{easing:"linear"}).delay(.1).to(1,{position:g(0,t+.2)},{easing:"linear"}).delay(.1).to(.5,{position:g(0,t)},{easing:"linear"})).start()},o.onTriggerEnter=function(t){T.IsPause||I.Instance.thisPlayer.onTriggerEnter(t)},o.onTriggerStay=function(t){T.IsPause},o.onTriggerExit=function(t){T.IsPause},r(e,[{key:"state",get:function(){return this._state}},{key:"margetTimer",get:function(){return this._magnetTimer}},{key:"margetProgress",get:function(){return 1-this._magnetTimer/f.Instance.m_MagnetDuration}}]),e}(h)).Instance=null,d=e((y=P).prototype,"modelNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(y.prototype,"MAX_BACKPACK_CAPACITY",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=e(y.prototype,"WAIT_DURATION",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),w=e(y.prototype,"PULL_RANGE",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),A=y))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameHelper.ts","./MainMenuDebug.ts","./EventManager.ts","./GameResourceManager.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts","./AI.ts","./CharacterAnimCtrl.ts","./PowerupItemList.ts","./CurveManager.ts","./ProfileTile.ts","./InputManager.ts","./LevelManager.ts","./Player.ts","./PlayerBackpack.ts","./PlayerMagnet.ts","./RemotePlayer.ts","./DailyMissionManager.ts"],(function(e){"use strict";var t,i,a,n,s,r,c,o,h,l,u,_,p,I,v,T,y,d,m,P,E,A,f,S,C,g,D,k,O,M,b,R,H,w,L,N,B,K,G,U,Y,x,V,Q,W,F,X,z,J,j,Z,q,$,ee,te,ie,ae,ne,se,re,ce,oe;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.asyncToGenerator,r=e.regeneratorRuntime,c=e.createClass},function(e){o=e.cclegacy,h=e._decorator,l=e.CCBoolean,u=e.Node,_=e.Prefab,p=e.log,I=e.input,v=e.Input,T=e.KeyCode,y=e.setDisplayStats,d=e.instantiate,m=e.v3,P=e.Component},function(e){E=e.SWIPEType,A=e.PLAYER_CHARACTER,f=e.default,S=e.SKILL,C=e.GameActions,g=e.ItemType,D=e.ROOM_STATE,k=e.QTE_TYPE,O=e.EventName,M=e.LIGHT_TYPE,b=e.GameStatus,R=e.VFX_CHARACTER,H=e.CHARACTER_NAMES,w=e.AchievementId,L=e.MISSION_ID,N=e.BoosterId,B=e.BoosterDefine,K=e.BoosterMultiplier,G=e.PowerupType,U=e.PowerupDefine},function(e){Y=e.GameHelper},function(e){x=e.MainMenuDebug},function(e){V=e.default,Q=e.MyEvent},function(e){W=e.GameResourceManager},function(e){F=e.NetworkManager},function(e){X=e.RunningGameManager},function(e){z=e.SoundManager},function(e){J=e.Splash},function(e){j=e.UserDataManager},function(e){Z=e.AI},function(e){q=e.CHARACTER_ANIM},function(e){$=e.PowerupData},function(e){ee=e.CurveManager},function(e){te=e.PROFILE_UPDATE},function(e){ie=e.InputManager},function(e){ae=e.LevelManager},function(e){ne=e.Player},function(e){se=e.PlayerBackpack},function(e){re=e.PlayerMagnet},function(e){ce=e.RemotePlayer},function(e){oe=e.DailyMissionManager}],execute:function(){var he,le,ue,_e,pe,Ie,ve,Te,ye,de,me,Pe,Ee,Ae;o._RF.push({},"bda7foG2TZHJab3Ej0gqLbi","PlayerManager",void 0);var fe,Se=h.ccclass,Ce=h.property,ge=(e("INITIAL_DASH_TIME",.75),e("INITIAL_JUMP_SPEED",35),e("INITIAL_JUMP_SPEED_2",35),e("INITIAL_JUMP_SPEED_3",45),e("INITIAL_JUMP_DOWN_SPEED",-40),e("INITIAL_JUMP_GRAVITY",-95),e("SWIPE_THRESHOLD",20)),De=(e("ANIM_BEFORE_THROW",.15),e("ANIM_THROWING",.15));e("ANIM_BEFORE_RECEIVE",.2);!function(e){e[e.MILKY=0]="MILKY",e[e.MILKY_TO_SCHOKI=1]="MILKY_TO_SCHOKI",e[e.SCHOKI=2]="SCHOKI",e[e.SCHOKI_TO_MILKY=3]="SCHOKI_TO_MILKY"}(fe||(fe={}));e("PlayerManager",(he=Se("PlayerManager"),le=Ce(l),ue=Ce(u),_e=Ce(u),pe=Ce(se),Ie=Ce(_),he(((Ae=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"_passObstacle",ye,n(t)),a(t,"playerPivot",de,n(t)),a(t,"gameContainer",me,n(t)),a(t,"m_backpack",Pe,n(t)),a(t,"m_magnet",Ee,n(t)),t._backpackState=fe.MILKY,t._chosenCharacter=0,t._tweenBackpack=null,t._swipeType=E.NONE,t._isThrowing=!1,t._touchStartTargetPosition=null,t._backpackSide=A.MILKY,t._thisPlayer=void 0,t._otherPlayer=void 0,t._players=[],t._thisBoosterID=void 0,t._otherBoosterID=void 0,t._isRevivalShield=!1,t._isShieldActive=!1,t._shieldTimer=0,t._shieldTotalTime=1,t._playerMagnet=void 0,t._isStamperActive=!1,t._stamperTimer=0,t._isDuperActive=!1,t._duperTimer=0,t._isMegaHopActive=!1,t._megaHopTimer=0,t._playerInited=!1,t._curveDelayDuration=0,t}i(t,e);var o=t.prototype;return o.canJump=function(){return this._thisPlayer.character!=this._backpackSide},o.canDash=function(){return this._thisPlayer.character==this._backpackSide},o.canThrow=function(){return!(!this._thisPlayer.character||this.isThrowing)},o.unloadElements=function(){var e,t,i,a;this._thisPlayer&&(null==(e=this._thisPlayer.animCtrl)||e.unloadCharacter(),null==(t=this._thisPlayer.accessoryCtrl)||t.unloadElements());this._otherPlayer&&(null==(i=this._otherPlayer.animCtrl)||i.unloadCharacter(),null==(a=this._otherPlayer.accessoryCtrl)||a.unloadElements());this._thisPlayer=null,this._otherPlayer=null,this._players.length=0},o.clear=function(){this.node.removeAllChildren(),p("[PlayerManager]","clear")},o.onLoad=function(){t.Instance=this,f.CHEAT_USE_KEYBOARD&&(I.on(v.EventType.KEY_DOWN,this.onKeyDown,this),I.on(v.EventType.KEY_UP,this.onKeyUp,this)),I.on(v.EventType.TOUCH_START,this.onTouchStart,this),I.on(v.EventType.TOUCH_END,this.onTouchEndOrCancel,this),I.on(v.EventType.TOUCH_CANCEL,this.onTouchEndOrCancel,this),I.on(v.EventType.TOUCH_MOVE,this.onTouchMove,this),t.curveDirection=-1,this._curveDelayDuration=f.CURVE_DELAY,this.backpack||(this.m_backpack=this.node.getChildByName("BackPack").getComponent(se))},o.onDestroy=function(){},o.start=function(){},o.resetGame=function(){this.isShieldActive=!1,this.isStamperActive=!1,this.isDuperActive=!1,this.isMegaHopActive=!1,re.Instance.deactivate(),this.thisPlayer&&(this.thisPlayer.reset(),this.otherPlayer.reset()),this.checkBoosterEffect(),this.checkPowerupEffect()},o.onTouchStart=function(e){if(!X.IsPause||X.Instance.isInTutorial||!this._playerInited){var t=e.getLocation();this._touchStartTargetPosition=Y.ScreenToWorldPoint(t);E.NONE;ie.touchCount++,ie.firstTouchDown=!0,ie.anyDown=!0}},o.onTouchMove=function(e){if(!X.IsPause||X.Instance.isInTutorial||!this._playerInited){var t=e.getLocation();if(this._swipeType==E.NONE){var i=Y.ScreenToWorldPoint(t),a=Math.abs(this._touchStartTargetPosition.y-i.y),n=Math.abs(this._touchStartTargetPosition.x-i.x),s=E.NONE;this._thisPlayer.isActingSkill?this._thisPlayer.skill==S.JUMP&&a>ge&&a>n&&(s=i.y>this._touchStartTargetPosition.y?E.UP:E.DOWN,X.Instance.isInTutorial?X.Instance.m_needswipeType!=E.NONE&&X.Instance.m_needswipeType==s&&(this._swipeType=s,this.thisPlayer.controlInTutorial(s)):(this._swipeType=s,this._thisPlayer.control(s))):(s=a>ge&&a>n?i.y>this._touchStartTargetPosition.y?E.UP:E.DOWN:n>ge&&n>a?i.x<this._touchStartTargetPosition.x?E.LEFT:E.RIGHT:E.NONE,X.Instance.isInTutorial?(X.Instance.m_needswipeType!=E.NONE&&X.Instance.m_needswipeType==s||f.CHEAT_IGNORE_CHECK_TUTORIAL_CONTROL)&&(this._swipeType=s,this.thisPlayer.controlInTutorial(s)):(this._swipeType=s,this._thisPlayer.control(s)))}}},o.onTouchEndOrCancel=function(e){X.IsPause&&!X.Instance.isInTutorial&&this._playerInited||this._thisPlayer&&(this._swipeType=E.NONE,this._thisPlayer.control(this._swipeType),ie.touchCount=0,ie.anyUp=!0,ie.firstTouchUp=!0)},o.onKeyDown=function(e){var t=E.NONE;switch(ie.touchCount++,ie.firstTouchDown=!0,ie.anyDown=!0,e.keyCode){case T.KEY_U:j.Instance.unlockNextEnvironment();var i=j.Instance.unlockNextEnvironment();console.log("envi",i,"unlocked");break;case T.DIGIT_1:V.GetInstance().dispatchEvent(new Q(O.CHANGE_LIGHT,{type:M.MORNING}));break;case T.DIGIT_2:case T.DIGIT_3:break;case T.DIGIT_4:V.GetInstance().dispatchEvent(new Q(O.CHANGE_LIGHT,{type:M.NIGHT}));break;case T.DIGIT_5:X.Instance.isCheatSpeed?X.Instance.isCheatSpeed=!1:(X.Instance.isCheatSpeed=!0,X.Instance.speed=40),X.DEBUG_GODMODE=!1,p("God mode",X.DEBUG_GODMODE);break;case T.DIGIT_6:X.Instance.isCheatSpeed?(X.Instance.isCheatSpeed=!1,X.DEBUG_GODMODE=!1):(X.Instance.isCheatSpeed=!0,X.Instance.speed=200,X.DEBUG_GODMODE=!0),p("God mode",X.DEBUG_GODMODE);break;case T.DIGIT_7:X.DEBUG_GODMODE=!X.DEBUG_GODMODE,p("God mode",X.DEBUG_GODMODE);break;case T.KEY_B:F.Instance.increaseBackpackSize();break;case T.KEY_L:x.deviceProfile=1-x.deviceProfile,V.GetInstance().dispatchEvent(new Q(te,{}));break;case T.KEY_Q:F.Instance.addQTE(k.Badminton);break;case T.KEY_E:F.Instance.addQTE(k.Music);break;case T.KEY_C:F.Instance.addQTE(k.Crab);break;case T.KEY_R:F.Instance.consumeQTE();break;case T.KEY_P:X.IsPause=!X.IsPause;break;case T.KEY_A:t=E.LEFT;break;case T.KEY_D:t=E.RIGHT;break;case T.KEY_W:t=E.UP;break;case T.KEY_S:t=E.DOWN;break;case T.KEY_T:break;case T.KEY_O:this.thisPlayer.ActivateRevivalShield(),this.otherPlayer.ActivateRevivalShield();break;case T.TAB:x.debugInfo=!x.debugInfo,y(x.debugInfo);break;case T.ARROW_UP:this._otherPlayer.isActingSkill?X.Instance.sendAction({action:C.Skill,character:this._otherPlayer.character,skill:S.DOUBLE_JUMP}):X.Instance.sendAction({action:C.Skill,character:this._otherPlayer.character,skill:S.JUMP});break;case T.ARROW_DOWN:X.Instance.sendAction({action:C.Skill,character:this._otherPlayer.character,skill:S.DASH});break;case T.KEY_G:F.Instance.sendRoomState({state:D.GAMEOVER});break;case T.ESCAPE:if(X.Instance.isInTutorial)X.IsPause=!0,F.Instance.exitRoom(),X.Instance.isInTutorial&&(X.Instance.isInTutorial=!1),J.isNewUser=!1,j.Instance.tutorialData.welcomeTutorial=!0,j.Instance.tutorialData.completeGameCount++,j.Instance.saveTutorialData();else 0==F.Instance.getUsableQTE()?F.Instance.sendRoomState({state:D.GAMEOVER}):F.Instance.sendRoomState({state:D.QTE});break;case T.KEY_M:X.Instance.sendAction({action:C.PowerUp,type:g.MAGNET,isHost:F.Instance.isHost})}X.Instance.isInTutorial&&X.Instance.m_needswipeType!=E.NONE&&this.thisPlayer.checkCanMatchSwipeType(t,X.Instance.m_needswipeType)&&this.thisPlayer.controlInTutorial(t),X.IsPause||X.Instance.gameStatus==b.RUNNING&&(X.Instance.isInTutorial||this._swipeType==E.NONE&&(this._thisPlayer.control(t),this._swipeType=t))},o.onKeyUp=function(e){this._swipeType=E.NONE,this._thisPlayer&&this._thisPlayer.control(this._swipeType),ie.touchCount=0,ie.anyUp=!0,ie.firstTouchUp=!0},o.onSkill=function(e,t){this._players[e].onSkill(t)},o.setCurveDirection=function(e){t.curveDirection=e},o.update=function(e){if(!X.IsPause||X.Instance.isInTutorial)if(this._isShieldActive&&(this._shieldTimer-=e,this._shieldTimer<=0&&(this._shieldTimer<=0&&(this._shieldTimer=0),this._isShieldActive=!1,this._isRevivalShield=!1,this.thisPlayer.vfxCtrl.enableVFX(this.thisPlayer.vfxCtrl.vfxShield,!1),this.otherPlayer.vfxCtrl.enableVFX(this.otherPlayer.vfxCtrl.vfxShield,!1))),this._isStamperActive&&(this._stamperTimer-=e,this._stamperTimer<=0&&(this._isStamperActive=!1)),this._isDuperActive&&(this._duperTimer-=e,this._duperTimer<=0&&(this._isDuperActive=!1)),this._isMegaHopActive&&(this._megaHopTimer-=e,this._megaHopTimer<=0&&(this._isMegaHopActive=!1,t.Instance.thisPlayer.vfxCtrl.playVFX(R.HYPER_BOOST,!1),this.ActivateExtraShield())),0!=t.curveDirection){var i=ee.curveVector.clone();i.x=ee.curveVector.x+f.CURVE_PER_SEC*e*t.curveDirection,i.y=ee.curveVector.y;var a=!1;i.x<1*ee.Instance.minX?(i.x=1*ee.Instance.minX,a=!0):i.x>1*ee.Instance.maxX&&(i.x=1*ee.Instance.maxX,a=!0),a?F.Instance.isHost&&(X.Instance.sendAction({action:C.ChangeCurveDirection,direction:0}),this._curveDelayDuration=f.CURVE_DELAY):X.IsPause||ee.Instance.updateCurve(i.x,i.y)}else if(F.Instance.isHost){var n=this._curveDelayDuration;this._curveDelayDuration>0&&(this._curveDelayDuration-=e),n*this._curveDelayDuration<=0&&X.Instance.sendAction({action:C.ChangeCurveDirection,direction:ee.curveVector.x>0?-1:1})}},o.getLanePositionX=function(e){return e<0?-ae.Instance.m_LaneDistance:0==e?0:ae.Instance.m_LaneDistance},o.setBackpackState=function(e,t){var i=this,a=fe.MILKY;a=e==t?e==A.MILKY?fe.MILKY:fe.SCHOKI:t==A.MILKY?fe.SCHOKI_TO_MILKY:fe.MILKY_TO_SCHOKI;var n=this._players[A.MILKY],s=this._players[A.SCHOKI];switch(a){case fe.MILKY:null==n||n.showBackpack(!0),null==s||s.showBackpack(!1),this.m_backpack.hide(),this._isThrowing=!1,this.m_backpack.moveTo(n.node,n.node,0,null,!0);break;case fe.MILKY_TO_SCHOKI:return n.showBackpack(!1),s.showBackpack(!1),this.m_backpack.show(),this._isThrowing=!0,this.m_backpack.moveTo(n.node,s.node,De,(function(){i._isThrowing=!1})),n.animCtrl.PlayAnim(q.THROW,null,0,(function(){n.animCtrl.currentAnim==q.THROW&&n.animCtrl.PlayAnim(q.RUN)})),s.animCtrl.PlayAnim(q.RECEIVE,null,0,(function(){s.animCtrl.currentAnim==q.RECEIVE&&s.animCtrl.PlayAnim(q.RUN)})),s.animCtrl.getAnimDuration(q.RECEIVE);case fe.SCHOKI:n.showBackpack(!1),s.showBackpack(!0),this.m_backpack.hide(),this.m_backpack.moveTo(s.node,s.node,0,null,!0);break;case fe.SCHOKI_TO_MILKY:return n.showBackpack(!1),s.showBackpack(!1),this.m_backpack.show(),this.m_backpack.moveTo(s.node,n.node,De,(function(){i._isThrowing=!1})),s.animCtrl.PlayAnim(q.THROW,null,0,(function(){s.animCtrl.currentAnim==q.THROW&&s.animCtrl.PlayAnim(q.RUN)})),n.animCtrl.PlayAnim(q.RECEIVE,null,0,(function(){n.animCtrl.currentAnim==q.RECEIVE&&n.animCtrl.PlayAnim(q.RUN)})),n.animCtrl.getAnimDuration(q.RECEIVE)}return 0},o.setBackpackSide=function(e,t){var i=this;void 0===t&&(t=!1);var a=1-e,n=e;if(t)this._backpackSide=e,this.setBackpackState(e,e);else if(0==this._isThrowing&&this._backpackSide!=e){this._isThrowing=!0,z.Instance.playPassBackpackSound();var s=this.setBackpackState(a,n);this._backpackSide=e,this.scheduleOnce((function(){i.setBackpackState(n,n)}),s*f.RUNNING_BACKPACK_THROW_ANIM_SCALE)}},o.initPlayers=function(e){var t=this;return new Promise(s(r().mark((function i(a){var n,s,c,o,h,l,_,p,I;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t._playerInited){i.next=2;break}return i.abrupt("return");case 2:return n=4*f.MAP_SCALE_X,(s=new u).setPosition(m(-n,0,f.PLAYER_POS_Z)),s.setRotationFromEuler(m(0,0,0)),t.playerPivot.addChild(s),i.next=9,W.Instance.loadCharacter(H[A.MILKY]);case 9:return c=i.sent,o=d(c),s.addChild(o),(h=new u).setPosition(m(n,0,f.PLAYER_POS_Z)),h.setRotationFromEuler(m(0,0,0)),t.playerPivot.addChild(h),i.next=18,W.Instance.loadCharacter(H[A.SCHOKI]);case 18:if(c=i.sent,o=d(c),h.addChild(o),t.initMagnet(),!e){i.next=36;break}return l=s.addComponent(ne),t._players[A.MILKY]=l,i.next=27,l.init(A.MILKY);case 27:return t._thisPlayer=l,_=null,_=1==F.Instance.isPvp?h.addComponent(ce):h.addComponent(Z),t._players[A.SCHOKI]=_,i.next=33,_.init(A.SCHOKI);case 33:t._otherPlayer=_,i.next=47;break;case 36:return p=h.addComponent(ne),t._players[A.SCHOKI]=p,i.next=40,p.init(A.SCHOKI);case 40:return t._thisPlayer=p,I=null,I=1==F.Instance.isPvp?s.addComponent(ce):s.addComponent(Z),t._players[A.MILKY]=I,i.next=46,I.init(A.MILKY);case 46:t._otherPlayer=I;case 47:t.checkBoosterEffect(),t.checkPowerupEffect(),V.GetInstance().dispatchEvent(new Q(O.UPDATE_BACKPACK,{size:F.Instance.infoBackpackSize})),V.GetInstance().dispatchEvent(new Q(O.UPDATE_QTE,{qtes:F.Instance.QTEs})),t._playerInited=!0,a();case 53:case"end":return i.stop()}}),i)}))))},o.initMagnet=function(){var e=new u;e.setPosition(m(-1,14,-2)),this.playerPivot.addChild(e);var t=d(this.m_magnet);e.addChild(t),this._playerMagnet=t.getComponent(re),this._playerMagnet.init()},o.PauseAnim=function(){this._thisPlayer.animCtrl.PauseAnim(),this._otherPlayer.animCtrl.PauseAnim()},o.ResumeAnim=function(){this._thisPlayer.animCtrl.ResumeAnim(),this._otherPlayer.animCtrl.ResumeAnim()},o.ActivateInvisible=function(e){void 0===e&&(e=!1),this._isShieldActive=!0,this._shieldTimer=3,this._shieldTotalTime=3,this.thisPlayer.ActivateInvisible(e),this.otherPlayer.ActivateInvisible(e)},o.ActivateRevivalShield=function(){this._isShieldActive=!0,this._isRevivalShield=!0,this._shieldTimer=ae.Instance.m_RevivalShieldDuration,this._shieldTotalTime=ae.Instance.m_RevivalShieldDuration,this.thisPlayer.ActivateRevivalShield(),this.otherPlayer.ActivateRevivalShield()},o.ActivateExtraShield=function(){this._isShieldActive=!0,this._shieldTimer=ae.Instance.m_ExtraShieldTime,this._shieldTotalTime=ae.Instance.m_RevivalShieldDuration,this.thisPlayer.ActivateExtraShield(),this.otherPlayer.ActivateExtraShield()},o.ActivateShield=function(e){this._isShieldActive=!0,this._shieldTimer=ae.Instance.m_ShieldTime,this._shieldTotalTime=ae.Instance.m_ShieldTime,this._players.forEach((function(e){e.animCtrl.vfxCtrl.playVFX(R.SHIELD,!0,!1)}))},o.ActivateStamper=function(e){this.isStamperActive=!0,this._stamperTimer=ae.Instance.m_StamperDuration},o.ActivateCoinDuper=function(e){this.isDuperActive=!0,this._duperTimer=ae.Instance.m_DuperDuration},o.ActivateMegaHop=function(e){this._isMegaHopActive=!0,this._megaHopTimer=ae.Instance.m_MegaHopDuration,this.thisPlayer.ActivateMegaHop()},o.PlayAnim=function(e,t,i,a){this.thisPlayer.animCtrl.PlayAnim(e,t,i,a),this.otherPlayer.animCtrl.PlayAnim(e)},o.rotateChacter=function(e){this.otherPlayer.animCtrl.rotateChacter(e),this.thisPlayer.animCtrl.rotateChacter(e)},o.checkBoosterEffect=function(){var e=F.Instance.isHost?F.Instance.lobbyInfo.hostBooster:F.Instance.lobbyInfo.clientBooster,t=F.Instance.isPvp?F.Instance.isHost?F.Instance.lobbyInfo.clientBooster:F.Instance.lobbyInfo.hostBooster:-1;if(X.Instance.isHeadStartActive=!1,X.Instance.isQTEHeadStartActive=!1,X.Instance.isCoinSwipeActive=!1,this.thisPlayer.isHeadstartActive=!1,this.thisPlayer.isCoinBoostActive=!1,this.thisPlayer.isQTEHeadstartActive=!1,this.thisPlayer.isRevivalActive=!1,this.thisPlayer.isLongerPowerupActive=!1,this.thisPlayer.isCoinSwipeActive=!1,this.otherPlayer.isHeadstartActive=!1,this.otherPlayer.isCoinBoostActive=!1,this.otherPlayer.isQTEHeadstartActive=!1,this.otherPlayer.isRevivalActive=!1,this.otherPlayer.isLongerPowerupActive=!1,this.otherPlayer.isCoinSwipeActive=!1,this._thisBoosterID=e,this._otherBoosterID=t,-1!=e){for(var i=w.achievement_pass_1;i<=w.achievement_pass_3;i++){var a=j.Instance.getAchievement(i);a.isCompleted||(a.counter++,j.Instance.updateAchievementProgress(a),j.Instance.saveAchievementData())}var n=oe.Instance.getActiveMissionIndex(L.booster_active);null!=n&&-1!=n&&oe.Instance.updateMission(n)}switch(e){case N.HEADSTART_01:case N.HEADSTART_02:case N.HEADSTART_03:this.thisPlayer.isHeadstartActive=!0;break;case N.COIN_BOOST_01:case N.COIN_BOOST_02:case N.COIN_BOOST_03:this.thisPlayer.isCoinBoostActive=!0;break;case N.QTE_HEADSTART_01:case N.QTE_HEADSTART_02:this.thisPlayer.isQTEHeadstartActive=!0;break;case N.REVIVAL:this.thisPlayer.isRevivalActive=!0}switch(t){case N.HEADSTART_01:case N.HEADSTART_02:case N.HEADSTART_03:this.otherPlayer.isHeadstartActive=!0;break;case N.COIN_BOOST_01:case N.COIN_BOOST_02:case N.COIN_BOOST_03:this.otherPlayer.isCoinBoostActive=!0;break;case N.QTE_HEADSTART_01:case N.QTE_HEADSTART_02:this.otherPlayer.isQTEHeadstartActive=!0;break;case N.REVIVAL:this.otherPlayer.isRevivalActive=!0}if(this.thisPlayer.isHeadstartActive||this.otherPlayer.isHeadstartActive){var s;s=(this.thisPlayer.isHeadstartActive?B[e].effect_value:0)+(this.otherPlayer.isHeadstartActive?B[t].effect_value:0),ae.Instance.headStartCurrentDistance=s,ae.Instance.headStartMaxDistance=s,X.Instance.isHeadStartActive=!0,p("combined headstart effect: "+s)}if(this.thisPlayer.isCoinBoostActive||this.otherPlayer.isCoinBoostActive){var r=0,c=-1!=e?B[e].effect_value:0,o=-1!=t?B[t].effect_value:0;this.thisPlayer.coinBoostValue=this.thisPlayer.isCoinBoostActive?c:0,this.otherPlayer.coinBoostValue=this.otherPlayer.isCoinBoostActive?o:0;var h=K.COIN_BOOST;e==t&&(r=this.thisPlayer.coinBoostValue+this.thisPlayer.coinBoostValue*h,this.thisPlayer.coinBoostValue=r,this.otherPlayer.coinBoostValue=r),p("thisPlayer coin boost effect: "+this.thisPlayer.coinBoostValue),p("otherPlayer coin boost effect: "+this.otherPlayer.coinBoostValue)}(this.thisPlayer.isQTEHeadstartActive||this.otherPlayer.isQTEHeadstartActive)&&(X.Instance.isQTEHeadStartActive=!0,ae.Instance.m_startingQTEItem=1,this.thisPlayer.isQTEHeadstartActive&&this.otherPlayer.isQTEHeadstartActive?e==t&&(e==N.QTE_HEADSTART_01?ae.Instance.m_startingQTEItem=2:e==N.QTE_HEADSTART_02&&(ae.Instance.m_startingQTEItem=3)):e!=N.QTE_HEADSTART_02&&t!=N.QTE_HEADSTART_02||(ae.Instance.m_startingQTEItem=3)),(this.thisPlayer.isRevivalActive||this.otherPlayer.isRevivalActive)&&(this.thisPlayer.isRevivalActive&&this.otherPlayer.isRevivalActive?ae.Instance.m_RevivalShieldDuration=12:ae.Instance.m_RevivalShieldDuration=B[N.REVIVAL].effect_value)},o.checkPowerupEffect=function(){var e={powerupList:[]},t={powerupList:[]};F.Instance.lobbyInfo.hostPowerups&&F.Instance.lobbyInfo.hostPowerups.forEach((function(t){e.powerupList.push(Object.assign(new $,{type:t.type,upgrade:t.upgrade}))})),F.Instance.lobbyInfo.clientPowerups&&F.Instance.lobbyInfo.clientPowerups.forEach((function(e){t.powerupList.push(Object.assign(new $,{type:e.type,upgrade:e.upgrade}))})),null!=j.Instance.powerupData&&(p("This Powerup Data "),p(t),p("Other Powerup Data "),p(e),this.calculateShield(t,e),this.calculateMagnet(t,e),this.calculateStamper(t,e),this.calculateCoinDuper(t,e),this.calculateMegaHop(t,e))},o.getTreeLevel=function(e,t){if(!e||!e.powerupList||e.powerupList.length<=t)return 0;var i=0;return i=(i=e.powerupList[t].upgrade)>-1?i:0},o.calculateShield=function(e,t){var i=this.getTreeLevel(e,G.SHIELD),a=null!=t?this.getTreeLevel(t,G.SHIELD):0,n=i>a?i:a,s=U[G.SHIELD].upgrade.value[n],r=U[G.SHIELD].upgrade.base_value+s;ae.Instance.m_ShieldTime=r},o.calculateMagnet=function(e,t){var i=this.getTreeLevel(e,G.MAGNET),a=null!=t?this.getTreeLevel(t,G.MAGNET):0,n=i>a?i:a,s=U[G.MAGNET].upgrade.value[n],r=U[G.MAGNET].upgrade.base_value+s;ae.Instance.m_MagnetDuration=r},o.calculateStamper=function(e,t){var i=this.getTreeLevel(e,G.STAMPER),a=null!=t?this.getTreeLevel(t,G.STAMPER):0,n=i>a?i:a,s=U[G.STAMPER].upgrade.value[n],r=U[G.STAMPER].upgrade.base_value+s;ae.Instance.m_StamperDuration=r},o.calculateCoinDuper=function(e,t){var i=this.getTreeLevel(e,G.COIN_DUPER),a=null!=t?this.getTreeLevel(t,G.COIN_DUPER):0,n=i>a?i:a,s=U[G.COIN_DUPER].upgrade.value[n],r=U[G.COIN_DUPER].upgrade.base_value+s;ae.Instance.m_DuperDuration=r},o.checkShowSelectedBooster=function(e){V.GetInstance().dispatchEvent(new Q(O.SHOW_BOOSTER,{boosters:[this._thisBoosterID,this._otherBoosterID],type:e}))},o.calculateMegaHop=function(e,t){var i=this.getTreeLevel(e,G.MEGA_HOP),a=null!=t?this.getTreeLevel(t,G.MEGA_HOP):0,n=i>a?i:a,s=U[G.MEGA_HOP].upgrade.value[n],r=U[G.MEGA_HOP].upgrade.base_value+s;ae.Instance.m_MegaHopDuration=r},c(t,[{key:"chosenCharacter",get:function(){return this._chosenCharacter}},{key:"passObstacle",get:function(){return this._passObstacle},set:function(e){this._passObstacle=e}},{key:"backpack",get:function(){return this.m_backpack}},{key:"isThrowing",get:function(){return this._isThrowing},set:function(e){this._isThrowing=e}},{key:"backpackSide",get:function(){return this._backpackSide}},{key:"thisBoosterID",get:function(){return this._thisBoosterID}},{key:"otherBoosterID",get:function(){return this._otherBoosterID}},{key:"isRevivalShield",get:function(){return this._isRevivalShield},set:function(e){this._isRevivalShield=e}},{key:"isShieldActive",get:function(){return this._isShieldActive},set:function(e){this._isShieldActive=e}},{key:"shieldTimer",get:function(){return this._shieldTimer},set:function(e){this._shieldTimer=e}},{key:"shieldProgress",get:function(){return this._shieldTimer/this._shieldTotalTime}},{key:"isMargetActivate",get:function(){return!!this._playerMagnet}},{key:"isStamperActive",get:function(){return this._isStamperActive},set:function(e){this._isStamperActive=e,this._stamperTimer=0}},{key:"stamperProgress",get:function(){return this._stamperTimer/ae.Instance.m_StamperDuration}},{key:"isDuperActive",get:function(){return this._isDuperActive},set:function(e){this._isDuperActive=e,this._duperTimer=0}},{key:"duperTimer",get:function(){return this._duperTimer}},{key:"duperProgress",get:function(){return this._duperTimer/ae.Instance.m_DuperDuration}},{key:"isMegaHopActive",get:function(){return this._isMegaHopActive},set:function(e){this._isMegaHopActive=e}},{key:"megaHopProgress",get:function(){return this._megaHopTimer/ae.Instance.m_MegaHopDuration}},{key:"thisPlayer",get:function(){return this._thisPlayer}},{key:"otherPlayer",get:function(){return this._otherPlayer}}]),t}(P)).Instance=null,Ae.curveDirection=1,ye=t((Te=Ae).prototype,"_passObstacle",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=t(Te.prototype,"playerPivot",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(Te.prototype,"gameContainer",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Te.prototype,"m_backpack",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Te.prototype,"m_magnet",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Te))||ve));o._RF.pop()}}}));

System.register("chunks:///_virtual/Pooling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts","./GameResourceManager.ts","./Splash.ts","./PrivateMode.ts"],(function(e){"use strict";var t,n,i,r,o,a,u,c,l,s,p,f,h,g,b,d,T,y,v,m,_,P,A,k,x,E,w,z,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.asyncToGenerator,i=e.regeneratorRuntime,r=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,u=e.createClass},function(e){c=e.cclegacy,l=e._decorator,s=e.Enum,p=e.instantiate,f=e.NodePool,h=e.log,g=e.director,b=e.Component},function(e){d=e.POOL_OBJECT_TYPE,T=e.ObstacleAnimation,y=e.TileType,v=e.AreaType,m=e.PLAYER_CHARACTER,_=e.POOL_OBJECT_NAMES,P=e.ENVIRONMENT_NAMES,A=e.TILE_PHASE_NAMES,k=e.CHARACTER_RIG_NAMES,x=e.OBSTACLE_ELEMENT_NAMES},function(e){E=e.MainMenuDebug},function(e){w=e.GameResourceManager},function(e){z=e.Splash},function(e){I=e.PrivateMode}],execute:function(){var S,L,O,R,C,M,N,j,D,B,G,H,Y,F,J,K,U,V,Z,q,Q,W,X,$,ee,te,ne,ie,re,oe,ae,ue,ce,le,se,pe,fe,he,ge,be;c._RF.push({},"a68bcz/L3RK6ZY3f0l2d0Kp","Pooling",void 0);var de=l.ccclass,Te=l.property,ye=(L=t((S=function(){function e(){o(this,"amount",L,this),o(this,"initPoolSize",O,this),o(this,"inited",R,this),o(this,"prefab",C,this),o(this,"currentSize",M,this),this._pool=null}var t=e.prototype;return t.size=function(){return this.initPoolSize},t.realSize=function(){},t.get=function(){if(!this.prefab)return null;var e=this._pool.get()||p(this.prefab);return this.currentSize=this._pool.size(),e},t.put=function(e){this.prefab&&(this._pool.put(e),this.currentSize=this._pool.size())},t.reset=function(){this.inited=!1,this.prefab=null,this._pool&&(this._pool.clear(),this.currentSize=this._pool.size())},t.init=function(e,t){var r=this;return void 0===t&&(t=1),new Promise(n(i().mark((function n(o,a){var u,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.inited){n.next=3;break}return o(!0),n.abrupt("return");case 3:if(e){n.next=6;break}return o(!1),n.abrupt("return");case 6:for(r.prefab=e,r._pool=new f,r.initPoolSize=Math.ceil(r.amount*t),u=0;u<r.initPoolSize;u++)c=p(r.prefab),r._pool.put(c);r.currentSize=r._pool.size(),r.inited=!0,h("Pooling","init",e.name,r.initPoolSize),o(!0);case 14:case"end":return n.stop()}}),n)}))))},e}()).prototype,"amount",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(S.prototype,"initPoolSize",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(S.prototype,"inited",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=t(S.prototype,"prefab",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"currentSize",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S),ve=(N=de("PoolingData"),j=Te({type:s(d)}),N((G=t((B=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"id",G,a(t)),t}return r(t,e),t}(ye)).prototype,"id",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.NONE}}),D=B))||D),me=(H=de("PoolingAnimation"),Y=Te({type:s(T)}),H((K=t((J=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"animID",K,a(t)),t}return r(t,e),t}(ye)).prototype,"animID",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.BEE}}),F=J))||F),_e=(U=de("PoolingTile"),V=Te({type:s(y)}),Z=Te({type:s(v)}),U((W=t((Q=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"tileType",W,a(t)),o(t,"areaType",X,a(t)),t}return r(t,e),t}(ye)).prototype,"tileType",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.START_TILE}}),X=t(Q.prototype,"areaType",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.AREA1}}),q=Q))||q),Pe=($=de("PoolingCharacter"),ee=Te({type:s(m)}),$((ie=t((ne=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"character",ie,a(t)),t}return r(t,e),t}(ye)).prototype,"character",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);e("Pooling",(re=de("Pooling"),oe=Te([ve]),ae=Te([_e]),ue=Te([me]),ce=Te([Pe]),re(((be=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"poolingObject",pe,a(t)),o(t,"poolingTile",fe,a(t)),o(t,"poolingAnimation",he,a(t)),o(t,"poolingCharacter",ge,a(t)),t._preloading=!1,t._isIniting=!1,t._isInitedEnv=-1,t._stopLoadingCallback=null,t}r(t,e),t.getInstance=function(){return t.instance};var c=t.prototype;return c.onLoad=function(){t.instance=this,g.addPersistRootNode(this.node)},c.reset=function(){h("[Pooling]","reset"),this._isIniting=!1,this._preloading=!1,this._isInitedEnv=-1,this.poolingAnimation.forEach((function(e){return e.reset()})),h("[Pooling]","Animation","reset"),this.poolingObject.forEach((function(e){return e.reset()})),h("[Pooling]","Object","reset"),this.poolingTile.forEach((function(e){return e.reset()})),h("[Pooling]","Tile","reset")},c.stopLoading=function(e){this._stopLoadingCallback=e,this._isIniting||this._preloading||this.checkStopLoading()},c.checkStopLoading=function(){return!this._stopLoadingCallback||(this._isIniting=!1,this._preloading=!1,this._isInitedEnv=-1,this._stopLoadingCallback(),this._stopLoadingCallback=null,h("[Pooling]","stop loading successfully"),!1)},c.preload=function(){var e=n(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h("[Pooling]","preload",t),!z.isNewUser||I.isInviteMode){e.next=15;break}n=[v.AREA1],r=[y.START_TILE,y.REPEATABLE_TILE],o=0;case 5:if(!(o<this.poolingTile.length)){e.next=14;break}if(a=this.poolingTile[o],!n.includes(a.areaType)||!r.includes(a.tileType)){e.next=11;break}return e.next=10,w.Instance.loadTile(t,a.areaType,a.tileType);case 10:e.sent;case 11:o++,e.next=5;break;case 14:return e.abrupt("return",!0);case 15:if(!this._preloading){e.next=17;break}return e.abrupt("return",!1);case 17:return this._preloading=!0,this._preloading=!1,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.init=function(){var e=n(i().mark((function e(t,n){var r,o,a,u,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),h("[Pooling]","init",t),!z.isNewUser||I.isInviteMode){e.next=20;break}r=[v.AREA1],o=[y.START_TILE,y.REPEATABLE_TILE],a=0;case 6:if(!(a<this.poolingTile.length)){e.next=19;break}if(u=this.poolingTile[a],!r.includes(u.areaType)||!o.includes(u.tileType)){e.next=16;break}return e.next=11,w.Instance.loadTile(t,u.areaType,u.tileType);case 11:return c=e.sent,e.next=14,u.init(c,E.getDeviceProfile().NodeAmountScale);case 14:l=e.sent,h("[Pooling]","Tile",P[u.areaType],A[u.tileType],l);case 16:a++,e.next=6;break;case 19:return e.abrupt("return",!0);case 20:if(!this._isIniting){e.next=22;break}return e.abrupt("return",!1);case 22:return this._isIniting=!0,e.next=25,this.initObstacles(t);case 25:if(e.sent,n){e.next=28;break}return e.abrupt("return",!1);case 28:return e.next=30,this.initAnimation(t);case 30:if(e.sent,n){e.next=33;break}return e.abrupt("return",!1);case 33:return e.next=35,this.initTiles(t);case 35:if(e.sent,n){e.next=38;break}return e.abrupt("return",!1);case 38:return this._isInitedEnv=t,this._isIniting=!1,e.abrupt("return",!0);case 41:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),c.initCharacter=function(){var e=n(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.poolingCharacter.length)){e.next=11;break}return n=this.poolingCharacter[t],e.next=5,w.Instance.loadCharacterRig(k[n.character]);case 5:return r=e.sent,e.next=8,n.init(r);case 8:t++,e.next=1;break;case 11:h("initCharacter","done");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.initAnimation=function(){var e=n(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.poolingAnimation.length)){e.next=15;break}return r=this.poolingAnimation[n],e.next=5,w.Instance.loadObstacleAnimation(t,x[r.animID]);case 5:return o=e.sent,e.next=8,r.init(o,E.getDeviceProfile().NodeAmountScale);case 8:if(a=e.sent,h("[Pooling]","Animation",r.animID,a),this.checkStopLoading()){e.next=12;break}return e.abrupt("return",!1);case 12:n++,e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.initTiles=function(){var e=n(i().mark((function e(t){var n,r,o,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.poolingTile.length)){e.next=19;break}if(r=this.poolingTile[n],o=!1,a=E.checkProfileArea(r.areaType),u=E.checkProfileTileType(r.tileType),a!=r.areaType||u!=r.tileType){e.next=14;break}return e.next=9,w.Instance.loadTile(t,a,r.tileType);case 9:return c=e.sent,e.next=12,r.init(c,E.getDeviceProfile().NodeAmountScale);case 12:o=e.sent,h("[Pooling]","Tile",r.areaType,r.tileType,o);case 14:if(this.checkStopLoading()){e.next=16;break}return e.abrupt("return",!1);case 16:n++,e.next=1;break;case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.initObstacles=function(){var e=n(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.poolingObject.length)){e.next=15;break}return r=this.poolingObject[n],e.next=5,w.Instance.loadPrefabByType(t,r.id);case 5:return o=e.sent,e.next=8,r.init(o,E.getDeviceProfile().NodeAmountScale);case 8:if(a=e.sent,h("[Pooling]","Object",_[r.id],a),this.checkStopLoading()){e.next=12;break}return e.abrupt("return",!1);case 12:n++,e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.getTileSize=function(e,t){e=E.checkProfileArea(e);var n=this.poolingTile.find((function(n){return n.areaType==e&&n.tileType==t}));return n?n.size():0},c.getRig=function(e){console.log("Pooling","Rig","get",e);var t=this.poolingCharacter.find((function(t){return t.character==e}));return t?t.get():null},c.putRig=function(e,t){console.log("Pooling","Rig","put",e);var n=this.poolingCharacter.find((function(t){return t.character==e}));n?n.put(t):h("pool not exist","character",e)},c.getTile=function(e,t){console.log("getTile",e,t),e=E.checkProfileArea(e),t=E.checkProfileTileType(t);var n=this.poolingTile.find((function(n){return n.areaType==e&&n.tileType==t}));return n?n.get():null},c.putTile=function(e,t,n){e=E.checkProfileArea(e);var i=this.poolingTile.find((function(n){return n.areaType==e&&n.tileType==t}));i?i.put(n):console.warn("Pool not exist:",e,t)},c.getObjectSize=function(e){var t=this.poolingObject.find((function(t){return t.id===e}));return t?t.size():0},c.getObject=function(e){var t=this.poolingObject.find((function(t){return t.id===e}));return t&&console.log("getObject",_[e]),t?t.get():null},c.putObject=function(e,t){var n=this.poolingObject.find((function(t){return t.id===e}));n?(n.put(t),h("putObject",e,_[e])):console.warn("Pool not exist:",e)},c.getAnim=function(e){var t=this.poolingAnimation.find((function(t){return t.animID===e}));return t?t.get():null},c.putAnim=function(e,t){var n=this.poolingAnimation.find((function(t){return t.animID===e}));n?n.put(t):console.warn("Pool not exist:",e)},u(t,[{key:"isPreloading",get:function(){return this._preloading}},{key:"isIniting",get:function(){return this._isIniting}},{key:"isInitedEnv",get:function(){return this._isInitedEnv}}]),t}(b)).instance=null,pe=t((se=be).prototype,"poolingObject",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(se.prototype,"poolingTile",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(se.prototype,"poolingAnimation",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=t(se.prototype,"poolingCharacter",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=se))||le));c._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts","./Constants.ts","./SoundManager.ts","./NetworkManager.ts","./LevelManager.ts","./VideoCamera.ts","./i18n.ts","./UserDataManager.ts","./CollectedCoin.ts","./StickerSelector.ts","./Sticker.ts","./Loading.ts","./UIManager.ts","./GameHelper.ts","./CoinDrop.ts","./GameoverCharacter.ts","./OnlineMgr.ts","./ErrorPopup.ts","./TrackingEvents.ts","./TrackingMgr.ts","./DailyMissionManager.ts","./PlayerManager.ts","./BoosterSelected.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,c,l,h,u,d,p,m,f,b,v,C,S,E,g,y,w,I,k,_,A,D,T,O,P,M,R,N,L,B,U,x,z,H,F,G,V,W,q,Y,K,Q,j,X,J,Z,$,ee,te,ne,ie,ae,oe;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,l=e.Node,h=e.Label,u=e.Button,d=e.RichText,p=e.Animation,m=e.Prefab,f=e.SpriteFrame,b=e.Input,v=e.Sprite,C=e.v3,S=e.size,E=e.UITransform,g=e.view,y=e.instantiate,w=e.Vec3,I=e.Vec2,k=e.clamp,_=e.resources,A=e.Component,D=e.director},function(e){T=e.RunningGameManager},function(e){O=e.default,P=e.AudioSrc,M=e.MISSION_ID,R=e.ActionPhoto,N=e.PLAYER_CHARACTER,L=e.ROOM_STATE,B=e.AreaType,U=e.EnvironmentType,x=e.AchievementId},function(e){z=e.SoundManager},function(e){H=e.NetworkManager},function(e){F=e.LevelManager},function(e){G=e.default},function(e){V=e.language},function(e){W=e.UserDataManager},function(e){q=e.CollectedCoin},function(e){Y=e.StickerSelector},function(e){K=e.Sticker},function(e){Q=e.Loading},function(e){j=e.UIManager},function(e){X=e.GameHelper},function(e){J=e.CoinDrop},function(e){Z=e.GameoverCharacter},function(e){$=e.default},function(e){ee=e.ErrorPopup},function(e){te=e.default},function(e){ne=e.FeatureName},function(e){ie=e.DailyMissionManager},function(e){ae=e.PlayerManager},function(e){oe=e.BOOSTER_SHOW_TYPE}],execute:function(){var se,re,ce,le,he,ue,de,pe,me,fe,be,ve,Ce,Se,Ee,ge,ye,we,Ie,ke,_e,Ae,De,Te,Oe,Pe,Me,Re,Ne,Le,Be,Ue,xe,ze,He,Fe,Ge,Ve,We,qe,Ye,Ke,Qe,je,Xe,Je,Ze,$e,et,tt,nt,it,at,ot,st,rt,ct,lt,ht,ut,dt,pt;r._RF.push({},"8ed0eBGkPtBB76Ni8h9oyMj","PopupGameOver",void 0);var mt,ft,bt,vt=c.ccclass,Ct=c.property,St="GameCanvas",Et="visible",gt="hidden",yt="img-download",wt="tutorial-image",It="tutorial-title";!function(e){e[e.MENU=0]="MENU",e[e.CAMERA_ACCESS=1]="CAMERA_ACCESS",e[e.SCAN=2]="SCAN",e[e.PHOTO=3]="PHOTO",e[e.DOWNLOAD=4]="DOWNLOAD"}(mt||(mt={})),function(e){e[e.REQUEST=0]="REQUEST",e[e.GRANTED=1]="GRANTED",e[e.DENIED=2]="DENIED"}(ft||(ft={})),function(e){e[e.NONE=-1]="NONE",e[e.SCALE=0]="SCALE",e[e.ROTATE=1]="ROTATE",e[e.MOVE=2]="MOVE"}(bt||(bt={}));e("PopupGameOver",(se=vt("PopupGameOver"),re=Ct(l),ce=Ct(l),le=Ct(l),he=Ct(l),ue=Ct(l),de=Ct(l),pe=Ct(l),me=Ct(l),fe=Ct(l),be=Ct(h),ve=Ct(h),Ce=Ct(u),Se=Ct(u),Ee=Ct(h),ge=Ct(h),ye=Ct(d),we=Ct(d),Ie=Ct(p),ke=Ct(l),_e=Ct(h),Ae=Ct(l),De=Ct(l),Te=Ct(l),Oe=Ct(Y),Pe=Ct(l),Me=Ct(m),Re=Ct(l),Ne=Ct([f]),Le=Ct(l),se(((pt=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).oldState=mt.MENU,t.state=mt.MENU,i(t,"mainCanvas",xe,a(t)),i(t,"viewEndScreen",ze,a(t)),i(t,"viewCamera",He,a(t)),i(t,"viewPhoto",Fe,a(t)),i(t,"viewDownload",Ge,a(t)),i(t,"BG",Ve,a(t)),i(t,"bottomBG",We,a(t)),i(t,"cameraBg",qe,a(t)),i(t,"circleFrame",Ye,a(t)),i(t,"labelDistance",Ke,a(t)),i(t,"labelDistancePhoto",Qe,a(t)),i(t,"buttonReplay",je,a(t)),i(t,"buttonCamera",Xe,a(t)),i(t,"labelCollectedCoin",Je,a(t)),i(t,"labelOtherPlayer",Ze,a(t)),i(t,"labelCongrats",$e,a(t)),i(t,"labelCongratsPhoto",et,a(t)),i(t,"animOtherPlayer",tt,a(t)),i(t,"buttonsPhoto",nt,a(t)),i(t,"labelTotalCoin",it,a(t)),i(t,"startLoc",at,a(t)),i(t,"endLoc",ot,a(t)),i(t,"coinContainer",st,a(t)),i(t,"stickerSelector",rt,a(t)),i(t,"stickerContainer",ct,a(t)),i(t,"prefabSticker",lt,a(t)),i(t,"frameNode",ht,a(t)),i(t,"spriteSticker",ut,a(t)),i(t,"poseContainer",dt,a(t)),t.itemSelected=null,t.itemStickers=[],t.controlType=void 0,t.selectOffset=void 0,t.isPressedDownload=!1,t.btnSelfie=null,t.btnClose=null,t.circleFrameHTML=null,t.videoCamera=new G,t.currentCharacter=null,t.downloadUrl=null,t.currentCoin=0,t.collectedCoin=0,t.targetCoin=0,t.coinDelta=0,t.coinDropEffect=null,t.coinTimer=0,t.COIN_FLY_DURATION=2,t.coinAmount=5,t.isPulled=!1,t.isTrackingSelfie=!1,t.picture_taken=0,t.sticker_name="",t.selfie_time_spent=0,t.list_sticker=[],t.button_timer=0,t.BTN_COOLDOWN_DURATION=2,t.isClicked=!1,t.download_timer=0,t.isDownloadClicked=!1,t.endscreen_time_spent=0,t.buttonSnapEvent=void 0,t.buttonCloseEvent=void 0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){t.Instance=this,this.node.on(b.EventType.TOUCH_START,this.OnTouchStart,this),this.node.on(b.EventType.TOUCH_MOVE,this.OnTouchMove,this),this.node.on(b.EventType.TOUCH_END,this.OnTouchEnd,this);for(var e=0;e<this.spriteSticker.length;e++){var n=this.AddText(e,e,!1);this.stickerSelector.AddPage(n)}this.stickerSelector.hide(),this.viewCamera.active=!1,this.viewPhoto.active=!1,this.viewDownload.active=!1,this.coinDropEffect=this.coinContainer.getComponent(J)},r.setOtherPlayerEnable=function(e){this.labelOtherPlayer.node.active=e,this.animOtherPlayer.node.active=e},r.reset=function(e){void 0===e&&(e=!0),this.coinContainer.removeAllChildren(),this.setOtherPlayerEnable(!1);var t=T.Instance.previousCoinCounter;this.currentCoin=t;var n=T.Instance?T.Instance.CoinCollectCounter:0;this.collectedCoin=n,this.coinDelta=this.collectedCoin/100,this.targetCoin=t+this.collectedCoin,e&&(this.collectedCoin=Math.round(this.collectedCoin/2)),this.labelTotalCoin.string=""+this.currentCoin,this.labelCollectedCoin.string=this.collectedCoin+"",this.labelDistance.string=Math.floor(H.Instance?H.Instance.infoScore:0)+"m",this.labelDistancePhoto.string=this.labelDistance.string,this.coinTimer=0,this.BG.active=!0,this.bottomBG.active=!0,this.viewEndScreen.active=!0,this.viewCamera.active=!1,this.viewPhoto.active=!1,this.setButtonReplayState(!0),this.labelCongrats.string="<outline color=#ffffff width=5><color=#FB5B82>"+V.t("str_congrats").toUpperCase()+"</color></outline>",this.labelCongratsPhoto.string="<outline color=#ffffff width=5><color=#f35b81>"+V.t("str_share_caption").toUpperCase()+"</color></outline>"},r.show=function(){O.isFirstLaunch&&(window.gIngameTimeSpent=window.gTotalTimeSpent),O.isFirstLaunch=!1,z.Instance&&(z.Instance.stopBgm(),z.Instance.stopQteBgm(),z.Instance.playEndBgm(!0),z.Instance.playOneShot(P.CONGRATS));var e=this.collectedCoin;e>15&&(e=15),this.coinDropEffect.AMOUNT=e,this.coinContainer.setWorldPosition(this.startLoc.getWorldPosition().x,this.startLoc.getWorldPosition().y,0),this.coinDropEffect.addHitEffect(),this.coinDropEffect.activate(),this.isClicked=!1,this.showViewEndscreen(),this.isDownloadClicked=!1,this.endscreen_time_spent=0,ae.Instance.checkShowSelectedBooster(oe.GAMEOVER)},r.update=function(e){this.node.active&&(this.endscreen_time_spent+=e),this.isDownloadClicked&&this.download_timer<this.BTN_COOLDOWN_DURATION&&(this.download_timer+=e,this.download_timer>=this.BTN_COOLDOWN_DURATION&&(this.isDownloadClicked=!1)),this.isClicked&&this.button_timer<this.BTN_COOLDOWN_DURATION&&(this.button_timer+=e,this.button_timer>=this.BTN_COOLDOWN_DURATION&&(this.isClicked=!1)),this.coinTimer<this.COIN_FLY_DURATION?this.coinTimer+=e:(!this.isPulled&&this.collectedCoin>0&&(this.isPulled=!0),this.updateCoinAmount(e))},r.updateCoinAmount=function(e){(T.Instance?T.Instance.CoinCollectCounter:0)>0&&this.isPulled&&(this.currentCoin<this.targetCoin&&(this.currentCoin+=this.coinDelta,this.labelTotalCoin.string=""+Math.floor(this.currentCoin)),this.collectedCoin>0&&(this.collectedCoin-=this.coinDelta,this.collectedCoin=Math.max(this.collectedCoin,0),this.labelCollectedCoin.string=""+Math.floor(this.collectedCoin)),this.currentCoin>=this.targetCoin&&this.collectedCoin<=0&&this.isPulled&&(this.collectedCoin=0,z.Instance.stopCoinSFX(),this.labelCollectedCoin.string=""+Math.floor(this.collectedCoin),this.isPulled=!1))},r.activateCoinAnim=function(e){for(var t=.1,n=0;n<this.coinContainer.children.length;n++){var i=this.coinContainer.children[n].getComponent(q);i.isPulled=e,i.node.active=e,1==e&&(i.delayTimer=t,t+=.1)}},r.checkVerify=function(){var e=o(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.Instance.show(),e.next=3,$.VerifyAccessToken();case 3:if(!(t=e.sent)){e.next=13;break}return e.next=7,ee.Instance.processError(t);case 7:if(!e.sent){e.next=13;break}return Z.Instance.hide(),$.logout(),D.loadScene(O.SCENE_SPLASH,(function(){Q.Instance.hide()})),e.abrupt("return",!1);case 13:return Q.Instance.hide(),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.onButtonHomeClicked=function(){var e=o(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClicked){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.checkVerify();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(this.isClicked=!0,this.button_timer=0,z.Instance.stopEndBgm(),!this.viewCamera.active&&!this.viewPhoto.active){e.next=11;break}return e.abrupt("return");case 11:(t=document.getElementById("video"))&&(t.style.display="none"),te.Send_FEATURE_FINISHED(T.Instance.featureName,T.Instance.featureTimeSpent),z.Instance.stopCoinSFX(),z.Instance.playOneShot(P.UI_BACK),H.Instance.exitRoom();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onButtonRestartClicked=function(){var e=o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClicked){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.checkVerify();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(this.isClicked=!0,this.button_timer=0,z.Instance.stopEndBgm(),!this.viewCamera.active&&!this.viewPhoto.active){e.next=11;break}return e.abrupt("return");case 11:z.Instance.playOneShot(P.UI_CLICK),z.Instance.stopCoinSFX(),F.Instance.m_Editor?(H.Instance.sendRoomState({state:L.REPLAY}),D.loadScene(O.SCENE_SEGMENT_EDITOR)):(this.setButtonReplayState(!1),H.Instance.sendRoomState({state:L.REPLAY}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onButtonCameraClicked=function(){if(!this.isClicked)if(z.Instance.pauseEndBgm(),this.isClicked=!0,this.button_timer=0,X.isMobile()){if(Z.Instance.hide(),this.viewCamera.active||this.viewPhoto.active)return;z.Instance.playOneShot(P.UI_CLICK),this.SetState(mt.CAMERA_ACCESS)}else ee.Instance.show(V.t("str_qr_mobile_only"),!0,(function(){ee.Instance.hide()}))},r.onButtonShareClicked=function(){if(!this.isClicked&&!this.viewCamera.active&&!this.viewPhoto.active){this.isClicked=!0,this.button_timer=0;var e=ie.Instance.getActiveMissionIndex(M.share);null!=e&&-1!=e&&ie.Instance.updateMission(e),te.Send_FEATURE_FINISHED(ne.SHARE,this.endscreen_time_spent),this.endscreen_time_spent=0,z.Instance.playOneShot(P.UI_CLICK);var t="Congratulations! You have run "+Math.floor(T.distance)+"m",n=window.gameShareUrl||"https://maxi-beta.kinder.com/";n+="/?isfb=1";var i="https://facebook.com/sharer/sharer.php?display=popup&u="+encodeURIComponent(n)+"&quote="+encodeURIComponent(t);window.open(i,"sharer","toolbar=0,status=0,resizable=1,width=800,height=600")}},r.setButtonReplayState=function(e){e?(this.buttonReplay.interactable=!0,this.buttonReplay.getComponent(v).grayscale=!1):(this.buttonReplay.interactable=!1,this.buttonReplay.getComponent(v).grayscale=!0)},r.onDismiss=function(){this.setButtonReplayState(!1);H.Instance.otherPlayerInfo&&H.Instance.otherPlayerInfo.userName;this.setOtherPlayerEnable(!0),this.labelOtherPlayer.string=V.t("str_friend_quit"),this.animOtherPlayer.pause(),this.animOtherPlayer.node.setPosition(C(0,0,0))},r.onOtherReplay=function(){this.setButtonReplayState(!0);H.Instance.otherPlayerInfo&&H.Instance.otherPlayerInfo.userName;this.setOtherPlayerEnable(!0),this.labelOtherPlayer.string=V.t("str_friend_replay"),this.animOtherPlayer.play()},r.SetState=function(e){var t=this;switch(this.oldState=this.state,this.state=e,this.state){case mt.MENU:break;case mt.CAMERA_ACCESS:this.onCameraAccessAction({action:ft.REQUEST});break;case mt.SCAN:this.mainCanvas.active=!1,this.isTrackingSelfie=!0,this.sticker_name="",this.selfie_time_spent=0,this.btnSelfie&&(this.buttonSnapEvent&&(this.btnSelfie.removeEventListener("touchend",this.buttonSnapEvent),this.btnSelfie.removeEventListener("mouseup",this.buttonSnapEvent)),this.buttonSnapEvent=this.onButtonSnapClicked.bind(this),X.isMobile()?this.btnSelfie.addEventListener("touchend",this.buttonSnapEvent):this.btnSelfie.addEventListener("mouseup",this.buttonSnapEvent),this.buttonCloseEvent&&(this.btnClose.removeEventListener("touchend",this.buttonCloseEvent),this.btnClose.removeEventListener("mouseup",this.buttonCloseEvent)),this.buttonCloseEvent=this.onButtonCloseClicked.bind(this),X.isMobile()?this.btnClose.addEventListener("touchend",this.buttonCloseEvent):this.btnClose.addEventListener("mouseup",this.buttonCloseEvent)),this.showViewCamera(),this.scheduleOnce((function(){t.setHTMLElementDisplay(St,gt),t.btnSelfie&&(t.btnSelfie.style.visibility="visible",t.btnClose.style.visibility="visible",t.circleFrameHTML.style.visibility="visible")}),1);break;case mt.DOWNLOAD:}},r.setHTMLElementDisplay=function(e,t){void 0===t&&(t="none");var n=document.getElementById(e);return n&&(n.style.visibility=t),n},r.onCameraAccessAction=function(e){var t=this,n=e.action;e.data;switch(n){case ft.REQUEST:this.videoCamera.Setup("user",!0).then((function(e){t.onCameraAccessAction({action:ft.GRANTED}),Q.Instance.hide()})).catch((function(e){console.log("PERMISSION error: "+e),console.log(e),t.onCameraAccessAction({action:ft.DENIED}),Q.Instance.hide()}));break;case ft.GRANTED:this.SetState(mt.SCAN);break;case ft.DENIED:this.SetState(mt.MENU)}},r.showViewEndscreen=function(){var e;z.Instance.playEndBgm(!0),this.mainCanvas.active=!0,T.Instance.gameContainer.active=!1,j.Instance.uiContainer.active=!1,j.Instance.qteContainer.active=!1,j.Instance.qteTransition.active=!1,this.viewEndScreen.active=!0,this.viewCamera.active=!1,this.viewPhoto.active=!1,null==(e=Z.Instance)||e.show()},r.showViewCamera=function(){this.mainCanvas.active=!1,T.Instance.gameContainer.active=!1,j.Instance.uiContainer.active=!1,j.Instance.qteContainer.active=!1,j.Instance.qteTransition.active=!1,this.viewEndScreen.active=!1,this.viewCamera.active=!1,this.viewPhoto.active=!1},r.showViewPhoto=function(){this.mainCanvas.active=!0,this.RemoveAllDecoration(),this.isPressedDownload=!1,T.Instance.gameContainer.active=!1,j.Instance.uiContainer.active=!1,j.Instance.qteContainer.active=!1,j.Instance.qteTransition.active=!1,this.viewEndScreen.active=!1,this.viewCamera.active=!1,this.viewPhoto.active=!0,this.togglePhotoUI(!0)},r.togglePhotoUI=function(e){this.buttonsPhoto.active=e},r.onButtonSnapClicked=function(){var e=o(s().mark((function e(){var t,n,i,a,o,r,c,l,h,u,d,p,m,f,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state!=mt.MENU){e.next=2;break}return e.abrupt("return");case 2:return this.SetState(mt.MENU),Q.Instance.show(),e.next=6,this.capture();case 6:return t=e.sent,z.Instance.playOneShot(P.UI_TAKE_PICTURE),this.picture_taken++,this.setHTMLElementDisplay(St,Et),this.showViewPhoto(),this.videoCamera.Stop(!0),this.btnSelfie&&(this.btnSelfie.style.visibility="hidden",this.btnClose.style.visibility="hidden",this.circleFrameHTML.style.visibility="hidden"),n=H.Instance.selectedCharacter,i=X.getRndIntegerInclusive(1,8),a=H.Instance.lobbyInfo.environment+1,o=1,e.next=19,this.loadPose(n,i);case 19:return r=e.sent,c=y(r),this.poseContainer.removeAllChildren(),this.poseContainer.addChild(c),(l=c.getComponentInChildren(v)).spriteFrame=t,1920,h=1920*t.width/t.height,l.getComponent(E).setContentSize(h,1920),e.next=30,this.loadBackground(a,o);case 30:if(u=e.sent,this.cameraBg.getComponent(v).spriteFrame=u,Q.Instance.hide(),!W.Instance.achievementData){e.next=71;break}d=H.Instance.lobbyInfo.environment,p=T.Instance.currentArea,m=!1,e.t0=d,e.next=e.t0===U.TROPICAL?40:e.t0===U.URBAN?50:e.t0===U.SNOW?60:70;break;case 40:e.t1=p,e.next=e.t1===B.AREA1?43:e.t1===B.AREA2?45:e.t1===B.AREA3?47:49;break;case 43:return W.Instance.achievementData.isEnv1_Area1_Snapped||(W.Instance.achievementData.isEnv1_Area1_Snapped=!0,m=!0),e.abrupt("break",49);case 45:return W.Instance.achievementData.isEnv1_Area2_Snapped||(W.Instance.achievementData.isEnv1_Area2_Snapped=!0,m=!0),e.abrupt("break",49);case 47:return W.Instance.achievementData.isEnv1_Area3_Snapped||(W.Instance.achievementData.isEnv1_Area3_Snapped=!0,m=!0),e.abrupt("break",49);case 49:return e.abrupt("break",70);case 50:e.t2=p,e.next=e.t2===B.AREA1?53:e.t2===B.AREA2?55:e.t2===B.AREA3?57:59;break;case 53:return W.Instance.achievementData.isEnv2_Area1_Snapped||(W.Instance.achievementData.isEnv2_Area1_Snapped=!0,m=!0),e.abrupt("break",59);case 55:return W.Instance.achievementData.isEnv2_Area2_Snapped||(W.Instance.achievementData.isEnv2_Area2_Snapped=!0,m=!0),e.abrupt("break",59);case 57:return W.Instance.achievementData.isEnv2_Area3_Snapped||(W.Instance.achievementData.isEnv2_Area3_Snapped=!0,m=!0),e.abrupt("break",59);case 59:return e.abrupt("break",70);case 60:e.t3=p,e.next=e.t3===B.AREA1?63:e.t3===B.AREA2?65:e.t3===B.AREA3?67:69;break;case 63:return W.Instance.achievementData.isEnv3_Area1_Snapped||(W.Instance.achievementData.isEnv3_Area1_Snapped=!0,m=!0),e.abrupt("break",69);case 65:return W.Instance.achievementData.isEnv3_Area2_Snapped||(W.Instance.achievementData.isEnv3_Area2_Snapped=!0,m=!0),e.abrupt("break",69);case 67:return W.Instance.achievementData.isEnv3_Area3_Snapped||(W.Instance.achievementData.isEnv3_Area3_Snapped=!0,m=!0),e.abrupt("break",69);case 69:return e.abrupt("break",70);case 70:if(m)for(f=x.achievement_sf_1;f<=x.achievement_sf_2;f++)(b=W.Instance.getAchievement(f)).isCompleted||(b.counter++,W.Instance.updateAchievementProgress(b),W.Instance.saveAchievementData());case 71:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.capture=function(){var e=this;return new Promise((function(t){X.SaveScreenShoot(e.videoCamera.video,(function(e){X.GetSpriteFrameFromUrl(e).then((function(e){t(e)}))}))}))},r.onButtonCloseClicked=function(){this.isTrackingSelfie=!1,this.state==mt.SCAN?this.onButtonExitCameraClicked():this.state==mt.DOWNLOAD&&this.onDownloadClose()},r.onDownloadClose=function(){this.SetState(mt.MENU),this.setHTMLElementDisplay(St,Et),this.setHTMLElementDisplay(yt,gt),this.setHTMLElementDisplay(wt,gt),this.setHTMLElementDisplay(It,gt),this.showViewEndscreen(),this.videoCamera.Stop(!0),this.btnSelfie&&(this.btnSelfie.style.visibility="hidden",this.btnClose.style.visibility="hidden",this.circleFrameHTML.style.visibility="hidden")},r.onButtonExitCameraClicked=function(){var e;null==(e=Z.Instance)||e.hide(),this.videoCamera.Stop(!0),this.showViewEndscreen(),this.SetState(mt.MENU),this.setHTMLElementDisplay(St,Et),this.btnSelfie&&(this.btnSelfie.style.visibility="hidden",this.btnClose.style.visibility="hidden",this.circleFrameHTML.style.visibility="hidden")},r.onButtonExitPhotoClicked=function(){this.showViewEndscreen()},r.onButtonRetakePhotoClicked=function(){this.SetState(mt.CAMERA_ACCESS)},r.onButtonStickerClicked=function(){this.stickerSelector.show()},r.onButtonDownloadClicked=function(){var e=this;if(!this.isDownloadClicked&&this.viewPhoto.active){if(z.Instance.playOneShot(P.UI_SAVE_PICTURE),this.togglePhotoUI(!1),this.UnselectAllStickers(),this.SetState(mt.DOWNLOAD),this.sticker_name="",this.itemStickers.length>0)for(var t=0;t<this.itemStickers.length;t++){var n=this.itemStickers[t],i=n.getComponent(K);n.active&&(this.sticker_name+=" "+i.sticker_name)}te.Send_SELFIE_FINISHED(this.picture_taken,this.sticker_name,this.selfie_time_spent),this.picture_taken=0,this.isDownloadClicked=!0,this.download_timer=0,this.selfie_time_spent=0,this.scheduleOnce((function(){X.SaveScreenShoot(null,(function(t){e.mainCanvas.active=!1,e.setHTMLElementDisplay(St,gt),e.btnClose.style.visibility="visible",e.Download(t,"kinder-photo.jpg")}))}),1)}},r.Download=function(e,t){var n=S(this.frameNode.getComponent(E).contentSize),i=g.getFrameSize(),a=g.getVisibleSize(),o=n.height/a.height,s=i.width*o,r=i.height*o,c=s/r;n.width=n.height*c,this.frameNode.getComponent(E).setContentSize(n);var l=document.getElementById(It);l&&(l.innerText=V.t("str_selfie_download").toUpperCase());var h=document.getElementById(yt);h&&(h.style.width=s+"px",h.style.height=r+"px",h.setAttribute("src",e),h.style.top=.1*i.height+"px",h.style.left=.5*i.width-.5*s+"px",h.style.border="white",h.style.borderStyle="solid"),this.setHTMLElementDisplay(yt,Et),this.setHTMLElementDisplay(wt,Et),this.setHTMLElementDisplay(It,Et)},r.onPhotoAction=function(e){var t=e.action,n=e.data;switch(t){case R.ADD:this.UnselectAllStickers(),this.AddDecoration(n.textId),this.stickerSelector.hide();break;case R.REMOVE:this.RemoveDecoration(n.index);break;case R.DOWNLOAD:case R.BACK:}},r.AddText=function(e,t,n){void 0===n&&(n=!1);var i=y(this.prefabSticker);return i.getComponent(K).SetInformation(e,t,this.spriteSticker[e],n),i},r.exitSticker=function(){this.stickerSelector.hide()},r.AddDecoration=function(e){for(var t=null,n=0;n<this.itemStickers.length;n++)if(!this.itemStickers[n].active){(t=this.itemStickers[n]).getComponent(K).SetInformation(e,n,this.spriteSticker[e],!0),t.position=new w(0,0,0),t.eulerAngles=new w(0,0,0),t.scale=new w(1,1,1),this.stickerContainer.removeChild(t),this.stickerContainer.addChild(t);break}null==t&&(t=this.AddText(e,this.itemStickers.length,!0),this.itemStickers.push(t)),t.setScale(1.5,1.5,1.5),t.getComponent(K).SetSelect(!0),t.active=!0,t.parent=this.stickerContainer},r.RemoveDecoration=function(e){this.itemStickers[e].active=!1,this.itemSelected=null},r.RemoveAllDecoration=function(){if(this.itemSelected=null,this.itemStickers.length>0)for(var e=this.itemStickers.length-1;e>=0;e--)this.itemStickers[e].active=!1,this.itemStickers[e].removeFromParent();this.itemStickers=[]},r.UnselectAllStickers=function(){for(var e=this.itemStickers.length-1;e>=0;e--){this.itemStickers[e].getComponent(K).SetSelect(!1)}},r.HideHTMLDownload=function(){this.isPressedDownload&&this.setHTMLElementDisplay(yt,"none")},r.ShowHTMLDownload=function(){this.isPressedDownload&&this.setHTMLElementDisplay(yt,"block")},r.OnTouchStart=function(e){this.UnselectAllStickers();for(var t=this.itemStickers.length-1;t>=0;t--){var n=this.itemStickers[t].getComponent(K);if(this.controlType=n.GetControlType(e.getUILocation()),this.controlType!=bt.NONE){if(n.SetSelect(!0),this.itemSelected=this.itemStickers[t],this.controlType==bt.MOVE){var i=g.getVisibleSize();this.selectOffset=e.getUIStartLocation().subtract(new I(i.width/2,i.height/2)).subtract(new I(this.itemSelected.position.x,this.itemSelected.position.y))}break}}},r.OnTouchMove=function(e){if(null!=this.itemSelected){var t=g.getVisibleSize(),n=e.getUILocation(),i=new w(n.x-t.width/2-this.selectOffset.x,n.y-t.height/2-this.selectOffset.y,0);switch(this.controlType){case bt.SCALE:var a=w.distance(i,this.itemSelected.position)/200;a=k(a,.75,2),this.itemSelected.scale=new w(a,a,a),console.log("scale",a);break;case bt.ROTATE:var o=Math.atan2(n.y-t.height/2-this.itemSelected.position.y,n.x-t.width/2-this.itemSelected.position.x);this.itemSelected.eulerAngles=new w(0,0,180*o/Math.PI-30);break;case bt.MOVE:this.itemSelected.position=new w(n.x-t.width/2-this.selectOffset.x,n.y-t.height/2-this.selectOffset.y,0)}}},r.OnTouchEnd=function(e){this.itemSelected=null},r.loadPose=function(e,t){var n=(e==N.MILKY?"M":"S")+"_Pose_"+t;return new Promise((function(e){var t="selfie/Poses/"+n;_.load(t,(function(t,n){e(n)}))}))},r.loadBackground=function(e,t){var n="BG_"+e+"_"+t;return new Promise((function(e){var t="selfie/Background/"+n;_.load(t,(function(t,n){e(f.createWithImage(n))}))}))},t}(A)).Instance=null,xe=t((Ue=pt).prototype,"mainCanvas",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Ue.prototype,"viewEndScreen",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ue.prototype,"viewCamera",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ue.prototype,"viewPhoto",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ue.prototype,"viewDownload",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Ue.prototype,"BG",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Ue.prototype,"bottomBG",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Ue.prototype,"cameraBg",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ue.prototype,"circleFrame",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Ue.prototype,"labelDistance",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Ue.prototype,"labelDistancePhoto",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Ue.prototype,"buttonReplay",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Ue.prototype,"buttonCamera",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Ue.prototype,"labelCollectedCoin",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Ue.prototype,"labelOtherPlayer",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ue.prototype,"labelCongrats",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Ue.prototype,"labelCongratsPhoto",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Ue.prototype,"animOtherPlayer",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Ue.prototype,"buttonsPhoto",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(Ue.prototype,"labelTotalCoin",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Ue.prototype,"startLoc",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Ue.prototype,"endLoc",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Ue.prototype,"coinContainer",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Ue.prototype,"stickerSelector",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Ue.prototype,"stickerContainer",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Ue.prototype,"prefabSticker",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=t(Ue.prototype,"frameNode",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Ue.prototype,"spriteSticker",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=t(Ue.prototype,"poseContainer",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=Ue))||Be));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupManager_AP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Loading.ts"],(function(n){"use strict";var e,t,r,a,o,p,u,i,s,P,c,l,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.asyncToGenerator,p=n.regeneratorRuntime},function(n){u=n.cclegacy,i=n._decorator,s=n.Node,P=n.resources,c=n.Component,l=n.instantiate},function(n){f=n.Loading}],execute:function(){var _,E,v,T,h,b,d,g;n({POPUPTYPE_AP:void 0,POPUP_AP_TYPE:void 0}),u._RF.push({},"ce33cVh3eNP6578nZLUy3B0","PopupManager_AP",void 0);var A,O,Q=i.ccclass,y=i.property;!function(n){n[n.NONE=0]="NONE",n[n.GAMEOVER=1]="GAMEOVER",n[n.QTE_1=2]="QTE_1",n[n.QTE_2=3]="QTE_2",n[n.QTE_3=4]="QTE_3"}(A||(A=n("POPUPTYPE_AP",{}))),function(n){n[n.NONE=0]="NONE",n[n.POPUP=1]="POPUP",n[n.QTE=2]="QTE"}(O||(O=n("POPUP_AP_TYPE",{})));var N=n("POPUP_AP_TYPES",[O.NONE,O.POPUP,O.QTE,O.QTE,O.QTE]),U=n("POPUP_MM_PATHS",["","prefabs/UI/AP/Popup GameOver","prefabs/QTE/AP/QTE_Canvas_1","prefabs/QTE/AP/QTE_Canvas_2","prefabs/QTE/AP/QTE_Canvas_3"]);n("PopupManager_AP",(_=Q("PopupManager_AP"),E=y(s),v=y(s),_(((g=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),p=0;p<t;p++)o[p]=arguments[p];return e=n.call.apply(n,[this].concat(o))||this,r(e,"popupContainer",b,a(e)),r(e,"qteContainer",d,a(e)),e._popups={},e}t(e,n);var u=e.prototype;return u.onLoad=function(){e.Instance=this},u.onDestroy=function(){e.Instance=null},u.showPopup=function(){var n=o(p().mark((function n(e,t){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=!0),n.next=3,this.getPopup(e);case 3:return(r=n.sent)&&(r.active=t),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),u.getParentPopup=function(n){return N[n]==O.POPUP?this.popupContainer:N[n]==O.QTE?this.qteContainer:null},u.getPopup=function(){var n=o(p().mark((function n(e){var t,r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=!1,(r=this._popups[e])&&r.prefab){n.next=8;break}return t=!0,f.Instance.show(),n.next=7,this.loadPopupPrefab(e);case 7:r=n.sent;case 8:return r&&!r.instance&&r.prefab&&(r.instance=l(r.prefab),r.instance.setParent(this.getParentPopup(e)),r.instance.active=!1),t&&f.Instance.hide(),n.abrupt("return",r.instance);case 11:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),u.loadPopupPrefab=function(n){var e=this;return new Promise((function(t){var r=U[n];r&&""!=r?e._popups[n]&&e._popups[n].prefab?t(e._popups[n]):P.load(r,(function(a,o){if(!a)return console.log("[PopupManager_AP]","Loaded Popup",r),e._popups[n]||(e._popups[n]={prefab:null,instance:null}),e._popups[n].prefab=o,void t(e._popups[n]);console.log("[PopupManager_AP]","Load Popup Error",r),t(null)})):t(null)}))},e}(c)).Instance=null,b=e((h=g).prototype,"popupContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(h.prototype,"qteContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=h))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/PopupQTE.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SelectMode.ts","./PlayerManager.ts","./UIManager.ts"],(function(t){"use strict";var i,e,n,a,o,r,s,h,l,u,c,_,m,p,T,d,f,P,b,g,S,I,w,v,R,O,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.SpriteFrame,h=t.ProgressBar,l=t.Label,u=t.Sprite,c=t.Node,_=t.Input,m=t.v3,p=t.tween,T=t.Vec3,d=t.UITransform,f=t.Animation,P=t.Component},function(t){b=t.ROOM_STATE,g=t.GameActions,S=t.SessionInfo,I=t.GAME_MODE},function(t){w=t.NetworkManager},function(t){v=t.RunningGameManager},function(t){R=t.SelectMode},function(t){O=t.PlayerManager},function(t){y=t.UIManager}],execute:function(){var E,H,C,F,z,L,x,G,M,k,D,A,B,V,N,W,Q,U,j,q,Y,Z,J,K,X,$,tt,it,et,nt,at,ot,rt,st,ht,lt,ut,ct,_t;o._RF.push({},"85e89pO+U9FoqZ/H/2suNRM","PopupQTE",void 0);var mt,pt=r.ccclass,Tt=r.property;!function(t){t[t.LEFT=0]="LEFT",t[t.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",t[t.RIGHT=2]="RIGHT",t[t.RIGHT_TO_LEFT=3]="RIGHT_TO_LEFT"}(mt||(mt={}));var dt=[{host:!0,forceTouch:!0,pause:!0},{host:!1,ai:!0,autoTouchState:2},{host:!0,forceTouch:!0,pause:!0},{host:!1,ai:!0,autoTouchState:0},{host:!0,forceTouch:!0,pause:!0},{host:!1,ai:!0,autoTouchState:1}];t("PopupQTE",(E=pt("PopupQTE"),H=Tt(s),C=Tt(s),F=Tt(h),z=Tt(l),L=Tt(u),x=Tt(c),G=Tt(c),M=Tt(c),k=Tt(c),D=Tt(c),A=Tt(c),B=Tt(c),V=Tt(l),N=Tt(c),W=Tt(l),E(((_t=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"m_timeline",j,a(i)),n(i,"m_radius",q,a(i)),n(i,"m_speed",Y,a(i)),n(i,"m_hitPointRadius",Z,a(i)),n(i,"m_showTime",J,a(i)),n(i,"m_milkyFrame",K,a(i)),n(i,"m_schokiFrame",X,a(i)),n(i,"m_timelineProgress",$,a(i)),n(i,"m_timelineLabel",tt,a(i)),n(i,"m_fillHeart",it,a(i)),n(i,"m_hitPointBar",et,a(i)),n(i,"m_hitPointThis",nt,a(i)),n(i,"m_hitPointOther",at,a(i)),n(i,"m_focusNode",ot,a(i)),n(i,"m_avatarThis",rt,a(i)),n(i,"m_avatarOther",st,a(i)),n(i,"m_redCircle",ht,a(i)),n(i,"m_labelPerfect",lt,a(i)),n(i,"m_handTutorial",ut,a(i)),i._thisHitPoint=null,i._otherHitPoint=null,i._showCount=0,i._timer=0,i._update=!1,i._canTap=!1,i._percent=0,i._currSpeed=0,i._zone=mt.RIGHT_TO_LEFT,i._originThisScale=0,i._originOtherScale=0,i._tweenFill=null,i._tweenLabel=null,i._status=0,i._tutorialState=-1,i._tutorialData=null,n(i,"labelStatus",ct,a(i)),i}e(i,t);var o=i.prototype;return o.canShowQTE=function(){return this._showCount<this.m_showTime},o.onLoad=function(){i.Instance=this,this.node.on(_.EventType.TOUCH_START,this.onTouchStart,this),this.updateTimeline(),this._showCount=0,this._originThisScale=this.m_hitPointThis.scale.x,this._originOtherScale=this.m_hitPointOther.scale.x},o.onSkipButton=function(){w.Instance.sendRoomState({state:b.REVIVE})},o.canTouch=function(){var t=!v.Instance.isInTutorial;return this._tutorialData&&(this._tutorialData.forceTouch&&!this._update||this._tutorialData.ai)&&(t=!0),t},o.onTouchStart=function(t,i){if(void 0===i&&(i=-1),(this._update||this.canTouch())&&this._canTap&&this.canTouch()){this._update||(this.nextTutorial(),this._update=!0,this.m_handTutorial.active=!1),this._canTap=!1;var e=-1==i?this._status:i;v.Instance.sendAction({action:g.QTE,hit:!0,state:e});this._currSpeed=this._currSpeed*[.95,1.05,1.1][e]}},o.onTouchResult=function(t){this._percent=2==t?this.checkPercent(this._percent+.25):1==t?this.checkPercent(this._percent+.15):this.checkPercent(this._percent+-.1),this.showLabel(t,!0),this.updateHeartPercent()},o.checkPercent=function(t){return t<0?0:t>1?1:t},o.showLabel=function(t,i){void 0===i&&(i=!0),i?(this.m_labelPerfect.node.active=!0,this._tweenLabel&&this._tweenLabel.stop(),this.m_labelPerfect.string=2==t?"PERFECT":1==t?"GOOD":"MISS",this.m_labelPerfect.node.scale=m(.15,.15),this.m_labelPerfect.node.setWorldPosition(this.m_redCircle.getWorldPosition()),this._tweenLabel=p(this.m_labelPerfect.node).to(.5,{scale:m(1,1)},{easing:"backOut"}).delay(.5).set({active:!1}).start()):this.m_labelPerfect.node.active=!1},o.reset=function(){this.m_handTutorial.active=!1,this._status=0,this._timer=this.m_timeline;var t=this.m_hitPointThis.getPosition().add(this.m_hitPointOther.getPosition()).divide3f(2,2,2);this.m_redCircle.setPosition(t),this.updateCircleScale(),w.Instance.isHost?(this._currSpeed=-this.m_speed,this._canTap=!0):(this._currSpeed=this.m_speed,this._canTap=!1),this._percent=0,this._zone=mt.RIGHT_TO_LEFT,this.updateHeartPercent(),this.updateTimeline(),this.showLabel(0,!1),w.Instance.isHost?(this.m_hitPointBar.setRotationFromEuler(m(0,0,60)),this.m_hitPointBar.setPosition(m(50,-100))):(this.m_hitPointBar.setRotationFromEuler(m(0,0,120)),this.m_hitPointBar.setPosition(m(-50,-100))),this.m_avatarThis.setWorldPosition(this.m_hitPointThis.getWorldPosition().add(m(0,-250,0))),this.m_avatarOther.setWorldPosition(this.m_hitPointOther.getWorldPosition().add(m(0,100,0))),this.m_avatarThis.getComponentInChildren(u).spriteFrame=w.Instance.isHost?this.m_milkyFrame:this.m_schokiFrame,this.m_avatarThis.getComponentInChildren(l).string="You",this.m_avatarOther.getComponentInChildren(u).spriteFrame=w.Instance.isHost?this.m_schokiFrame:this.m_milkyFrame,this.m_avatarOther.getComponentInChildren(l).string=w.Instance.otherPlayerInfo.userName},o.nextTutorial=function(){v.Instance.isInTutorial&&(this._tutorialState++,this._tutorialState<dt.length&&this._tutorialState>=0?this._tutorialData=dt[this._tutorialState]:this._tutorialData=null)},o.updateCircleScale=function(){var t=T.distance(this.m_hitPointThis.getPosition(),this.m_hitPointOther.getPosition()),i=T.distance(this.m_hitPointThis.getPosition(),this.m_redCircle.getPosition()),e=i/t,n=(this._originThisScale-this._originOtherScale)*(1-e)+this.m_hitPointOther.scale.x;this.m_redCircle.setScale(m(n,n,n));var a=1*t,o=i/a>1?1:i/a,r=this._originThisScale*(1+1*o);this.m_focusNode.setScale(m(r,r))},o.show=function(){v.Instance.isInTutorial&&this.nextTutorial(),this._update=!0,this._showCount++,0==w.Instance.selectedCharacter?(this._thisHitPoint=this.m_hitPointThis,this._otherHitPoint=this.m_hitPointOther):(this._thisHitPoint=this.m_hitPointOther,this._otherHitPoint=this.m_hitPointThis)},o.updateStatus=function(){var t=this.m_hitPointThis.scale.x*this.m_hitPointThis.getComponent(d).contentSize.width/2,i=this.m_redCircle.scale.x*this.m_redCircle.getComponent(d).contentSize.width/2;this.m_redCircle.position.x+i<this.m_hitPointThis.position.x+t?this._status=2:this.m_redCircle.position.x<this.m_hitPointThis.position.x+t?this._status=1:this._status=0},o.updateTimeline=function(){var t=this._timer/this.m_timeline;this.m_timelineProgress.progress=t,this.m_timelineLabel.string=Math.ceil(this._timer).toString()},o.updateHeartPercent=function(){0==this._percent?this.m_fillHeart.fillRange=0:this.m_fillHeart.fillRange!=this._percent&&(this._tweenFill&&this._tweenFill.stop(),this._tweenFill=p(this.m_fillHeart).to(.5,{fillRange:this._percent},{easing:"expoOut"}),this._percent>=1&&(this._update=!1,this._tweenFill.call((function(){w.Instance.sendRoomState({state:b.REVIVE})}))),this._tweenFill.start())},o.revive=function(){y.Instance.updateUILabel(S.HEALTH,1),O.Instance.ResumeAnim(),v.IsPause=!1},o.update=function(t){if(this._update){if(this.updateStatus(),this._timer-=t,this.updateTimeline(),this._timer<=0)return this._timer=0,this._update=!1,this.updateTimeline(),void(this._percent>=1?w.Instance.sendRoomState({state:b.REVIVE}):w.Instance.sendRoomState({state:b.GAMEOVER}));var i=this.m_redCircle.getPosition();i.x+=this._currSpeed*t;w.Instance.isHost;var e=[0,1,2],n=e[Math.random()*e.length|0];if(i.x<this.m_hitPointThis.getPosition().x+this.m_hitPointRadius/2){if(this._zone=mt.LEFT,i.x<this.m_hitPointThis.getPosition().x&&(i.x=this.m_hitPointThis.getPosition().x,this._currSpeed=this.m_speed,this._tutorialData&&this._tutorialData.pause&&2==this._status))return this._update=!1,void(this._tutorialData.forceTouch&&(this.m_handTutorial.active=!0,this.m_handTutorial.setWorldPosition(this.m_hitPointThis.getWorldPosition()),this.m_handTutorial.getComponentInChildren(f).play()))}else i.x>this.m_hitPointOther.getPosition().x-this.m_hitPointRadius/2?(this._zone=mt.RIGHT,i.x>this.m_hitPointOther.getPosition().x&&(i.x=this.m_hitPointOther.getPosition().x,this._currSpeed=-this.m_speed,R.mode==I.PRIVATE&&(this._canTap=!0,this._tutorialData&&this._tutorialData.ai?(n=this._tutorialData.autoTouchState,this.onTouchStart(null,n),this.nextTutorial()):this.onTouchStart(null,n)))):this._zone==mt.LEFT?this._zone=mt.LEFT_TO_RIGHT:this._zone==mt.RIGHT&&(this._zone=mt.RIGHT_TO_LEFT,this._canTap=!0);0==this._status&&1==this._canTap&&this._zone==mt.LEFT_TO_RIGHT&&this.onTouchStart(null,0),this.m_redCircle.setPosition(i),this.updateCircleScale()}},i}(P)).Instance=null,j=i((U=_t).prototype,"m_timeline",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),q=i(U.prototype,"m_radius",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Y=i(U.prototype,"m_speed",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Z=i(U.prototype,"m_hitPointRadius",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),J=i(U.prototype,"m_showTime",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=i(U.prototype,"m_milkyFrame",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(U.prototype,"m_schokiFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(U.prototype,"m_timelineProgress",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(U.prototype,"m_timelineLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(U.prototype,"m_fillHeart",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(U.prototype,"m_hitPointBar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(U.prototype,"m_hitPointThis",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(U.prototype,"m_hitPointOther",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(U.prototype,"m_focusNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(U.prototype,"m_avatarThis",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(U.prototype,"m_avatarOther",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(U.prototype,"m_redCircle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(U.prototype,"m_labelPerfect",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(U.prototype,"m_handTutorial",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(U.prototype,"labelStatus",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=U))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/Powerup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./MainMenuDebug.ts","./RunningGameManager.ts","./BaseObject.ts","./PlayerMagnet.ts","./PlayerManager.ts"],(function(i){"use strict";var e,t,n,s,a,o,l,r,u,c,h,P,p,_,d,m,f,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,l=i._decorator,r=i.Node,u=i.Animation,c=i.v3,h=i.Vec3},function(i){P=i.VFX_PLAYER,p=i.VFXPool},function(i){_=i.MainMenuDebug},function(i){d=i.RunningGameManager},function(i){m=i.BaseObject},function(i){f=i.PlayerMagnet},function(i){g=i.PlayerManager}],execute:function(){var v,y,M,w,T,b,I;o._RF.push({},"3d6cceNRWJH7apCTTVdi7qK","Powerup",void 0);var L=l.ccclass,x=l.property;i("Powerup",(v=L("Powerup"),y=x(r),M=x(r),v((b=e((T=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=i.call.apply(i,[this].concat(a))||this).m_animation=null,e.m_isPause=!1,e.collectVFXType=P.NONE,e.PULL_DURATION=1,e._pullTime=0,e._distance=0,e._side=null,e._isPulled=!1,e._isMagnetPulled=!1,e._glowVFXRange=64,n(e,"vfxPixkUpCoin",b,s(e)),n(e,"vfxGlow",I,s(e)),e}t(e,i);var o=e.prototype;return o.playCollectVFX=function(){_.getDeviceProfile().VFX&&p.Instance.playVFX(this.collectVFXType,this.vfxPixkUpCoin,this.node.worldPosition,1)},o.onLoad=function(){this.m_animation=this.node.getComponent(u)},o.reset=function(){this._isPulled=!1,this._isMagnetPulled=!1,this.m_animation&&(this.m_animation.stop(),this.m_animation.play()),this.vfxGlow&&(this.vfxGlow.active=!0)},o.update=function(i){if(!this.m_isPause&&d.IsPause?(this.m_animation&&this.m_animation.pause(),this.m_isPause=!0):!d.IsPause&&this.m_isPause&&(this.m_animation&&this.m_animation.resume(),this.m_isPause=!1),!d.IsPause){var e=g.Instance.node.getWorldPosition(),t=this.node.getWorldPosition();this._distance=Math.abs(e.z-t.z);var n=f.Instance.modelNode.getWorldPosition();if(f.Instance.isActive()&&this._distance<f.Instance.PULL_RANGE&&!this._isMagnetPulled&&(this._isMagnetPulled=!0),this._isMagnetPulled){this._pullTime+=i;var s=this._pullTime/this.PULL_DURATION;s=s>1?1:s;var a=c(0,0,0);return h.lerp(a,t,n,s),this.node.setWorldPosition(a),void(this._pullTime>=this.PULL_DURATION&&(this._pullTime=0,this.node.active=!1))}}},a(e,[{key:"side",set:function(i){this._side=i}},{key:"isPulled",set:function(i){this._isPulled=i}}]),e}(m)).prototype,"vfxPixkUpCoin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(T.prototype,"vfxGlow",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=T))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuShop.ts","./SoundManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts","./DailyMissionManager.ts"],(function(e){"use strict";var t,r,n,a,i,u,s,c,o,p,l,h,d,g,_,I,v,f,D,w,m,b,y,P,E,S,L,T,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,o=e.Node,p=e.Label,l=e.Sprite,h=e.HorizontalTextAlignment,d=e.Component,g=e.log},function(e){_=e.language},function(e){I=e.PowerupDefine,v=e.PowerupType,f=e.AudioSrc,D=e.MISSION_ID,w=e.SaveDataNames},function(e){m=e.MainMenuShop,b=e.POWERUP_SPRITE},function(e){y=e.SoundManager},function(e){P=e.UserDataManager},function(e){E=e.default},function(e){S=e.ItemName,L=e.GameScreen},function(e){T=e.Loading},function(e){C=e.DailyMissionManager}],execute:function(){var U,B,M,N,k,R,A,G,O,H,z,F,V,x,W,J,j,K,Q;e("UPGRADE_TREE",void 0),s._RF.push({},"9a384NS7PdFcrCz6cbHF3OQ","PowerupItemList",void 0);var Y,q=c.ccclass,X=c.property;!function(e){e[e.TREE_1=0]="TREE_1",e[e.TREE_2=1]="TREE_2"}(Y||(Y=e("UPGRADE_TREE",{})));e("PowerupData",(function(){this.type=0,this.upgrade=0})),e("PowerupItemList",(U=q("PowerupItemList"),B=X(o),M=X(p),N=X(p),k=X(p),R=X(p),A=X(o),G=X(p),O=X(o),U((F=t((z=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,n(t,"powerupIcon",F,a(t)),n(t,"powerupTitle",V,a(t)),n(t,"powerupDesc",x,a(t)),n(t,"upgradeTitle_01",W,a(t)),n(t,"upgradeValue_01",J,a(t)),n(t,"buttonUpgrade_01",j,a(t)),n(t,"coinPrice_01",K,a(t)),n(t,"upgradeBars_01",Q,a(t)),t.currentData=void 0,t.currentLvl_01=0,t.SHOP_LEVEL_CAP=5,t}r(t,e);var s=t.prototype;return s.onLoad=function(){},s.init=function(e){for(var t=0;t<I.length;t++){if(e.type==I[t].type){switch(this.node.active=!0,this.powerupDesc.node.active=!1,this.currentData=I[t],e.type){case v.SHIELD:this.powerupIcon.getComponent(l).spriteFrame=m.Instance.powerupSprite[b.SHIELD];break;case v.MAGNET:this.powerupIcon.getComponent(l).spriteFrame=m.Instance.powerupSprite[b.MAGNET];break;case v.STAMPER:this.powerupIcon.getComponent(l).spriteFrame=m.Instance.powerupSprite[b.STAMPER];break;case v.COIN_DUPER:this.powerupIcon.getComponent(l).spriteFrame=m.Instance.powerupSprite[b.COIN_DUPER];break;case v.MEGA_HOP:this.powerupIcon.getComponent(l).spriteFrame=m.Instance.powerupSprite[b.MEGA_HOP]}this.powerupTitle.string=_.t(this.currentData.name),this.powerupDesc.string=_.t(this.currentData.desc),"ar"==_.language?this.powerupDesc.horizontalAlign=h.RIGHT:this.powerupDesc.horizontalAlign=h.LEFT,this.currentLvl_01=e.upgrade;var r=0;r=this.currentLvl_01>=this.currentData.upgrade.price.length?-1:this.currentData.upgrade.price[e.upgrade],-1!=this.currentLvl_01?(-1!=r?(this.buttonUpgrade_01.active=!0,this.coinPrice_01.string=""+r):this.buttonUpgrade_01.active=!1,this.updateDescription()):this.buttonUpgrade_01.active=!1,this.updateUpgradeValue(),this.updateUpgradeBars(),this.updateButtonBuy();break}this.node.active=!1}},s.onUpgradeTree1=function(){var e=this.currentData.upgrade.price[this.currentLvl_01];P.Instance.coinWallet>e?(y.Instance.playOneShot(f.UI_CLICK),m.Instance.showPopupConfirm(this)):(y.Instance.playOneShot(f.UI_INSUFFICIENT_FUNDS),m.Instance.showError("str_store_insufficient"))},s.onUpgradeTree2=function(){},s.onItemBought=function(){var e=i(u().mark((function e(){var t,r,n,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r=this.currentData.upgrade.price[this.currentLvl_01],P.Instance.updateCoinAmount(P.Instance.coinWallet-r,!1),t[w.CoinData]=JSON.stringify(P.Instance.coinWallet),P.Instance.updatePowerupData(this.currentData.type,this.currentLvl_01+1),t[w.PowerupData]=JSON.stringify(P.Instance.powerupData),T.Instance.show(),e.next=9,P.Instance.saveMultipleInventories(t);case 9:n=e.sent,T.Instance.hide(),n?(P.Instance.updateCoinAmount(P.Instance.coinWallet+r,!1),P.Instance.updatePowerupData(this.currentData.type,this.currentLvl_01-1),m.Instance.showError("Purchase error. Please try again.")):(g("UserDataManager","updateShopInventory",this.currentData.trackingName,"completed"),this.currentLvl_01+=1,P.Instance.a2hData.shopBuyCount++,this.updatePowerupInfo(),this.updateUpgradeValue(),this.updateUpgradeBars(),m.Instance.updateCoinNumber(),m.Instance.updateShopItem(),null!=(a=C.Instance.getActiveMissionIndex(D.upgrade_power_up))&&-1!=a&&C.Instance.updateMission(a),P.Instance.saveMissionData(),i=this.getTrackingId(this.currentData.type,this.currentLvl_01),E.Send_CURRENCY_SPENT(1,i,L.SHOP,r,P.Instance.coinWallet));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onPowerUpClicked=function(){y.Instance.playOneShot(f.UI_SELECT),this.powerupDesc.node.active=!this.powerupDesc.node.active,this.buttonUpgrade_01.active=!this.powerupDesc.node.active,this.currentLvl_01>=this.currentData.upgrade.price.length&&(this.buttonUpgrade_01.active=!1)},s.updatePowerupInfo=function(){var e=this.currentData.upgrade.price[this.currentLvl_01];this.coinPrice_01.string=""+e,this.currentLvl_01>=this.currentData.upgrade.price.length&&(this.buttonUpgrade_01.active=!1),this.updateDescription()},s.updateDescription=function(){this.upgradeTitle_01.string=this.currentData.upgrade.desc},s.updateUpgradeValue=function(){var e;this.currentLvl_01>=this.SHOP_LEVEL_CAP-1?this.upgradeValue_01.string=_.t("str_store_max"):(this.upgradeValue_01.node.active=!0,e=this.currentData.upgrade.value[this.currentLvl_01+1]>0?"+":"",this.upgradeValue_01.string="["+e+this.currentData.upgrade.value[this.currentLvl_01+1]+"]"),this.updateCurrentValue()},s.updateCurrentValue=function(){var e=this.currentData.upgrade.base_value+this.currentData.upgrade.value[this.currentLvl_01];this.upgradeTitle_01.string=""+e},s.updateUpgradeBars=function(){for(var e=0;e<this.upgradeBars_01.children.length;e++)e<=this.currentLvl_01?(this.upgradeBars_01.children[e].getChildByName("BG_Purchased").active=!0,this.upgradeBars_01.children[e].getChildByName("BG_Next").active=!1):e==this.currentLvl_01+1?(this.upgradeBars_01.children[e].getChildByName("BG_Purchased").active=!1,this.upgradeBars_01.children[e].getChildByName("BG_Next").active=!0):(this.upgradeBars_01.children[e].getChildByName("BG_Purchased").active=!1,this.upgradeBars_01.children[e].getChildByName("BG_Next").active=!1)},s.updateButtonBuy=function(){var e=this.currentData.upgrade.price[this.currentLvl_01];P.Instance.coinWallet>=e?this.buttonUpgrade_01.getComponent(l).grayscale=!1:this.buttonUpgrade_01.getComponent(l).grayscale=!0},s.getTrackingId=function(e,t){var r=S.SHIELD1;switch(e){case v.SHIELD:r=m.Instance.listTrackingId_Shield[t];break;case v.MAGNET:r=m.Instance.listTrackingId_Magnet[t];break;case v.COIN_DUPER:r=m.Instance.listTrackingId_CoinDuper[t];break;case v.STAMPER:r=m.Instance.listTrackingId_Stamper[t];break;case v.MEGA_HOP:r=m.Instance.listTrackingId_MegaHop[t]}return r},t}(d)).prototype,"powerupIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"powerupTitle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"powerupDesc",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(z.prototype,"upgradeTitle_01",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(z.prototype,"upgradeValue_01",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"buttonUpgrade_01",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"coinPrice_01",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(z.prototype,"upgradeBars_01",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=z))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts","./ItemPool.ts","./PlayerMagnet.ts","./PlayerManager.ts"],(function(e){"use strict";var r,t,n,i,o,s,a,c,p,u,l,g,f,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Node,c=e.Sprite,p=e.Component},function(e){u=e.RunningGameManager},function(e){l=e.ItemPool},function(e){g=e.PlayerMagnet,f=e.MAGNET_STATE},function(e){h=e.PlayerManager}],execute:function(){var v,P,w,I,S,b,d,y,m,C,A,M,R;o._RF.push({},"51b96dNnSxIK7u4VMRTwWWC","PowerupProgress",void 0);var z=s.ccclass,T=s.property;e("PowerupProgress",(v=z("PowerupProgress"),P=T(a),w=T(a),I=T([c]),S=T(c),b=T(a),v((m=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,n(r,"progressContainer",m,i(r)),n(r,"iconContainer",C,i(r)),n(r,"powerupSprites",A,i(r)),n(r,"progressSprite",M,i(r)),n(r,"container",R,i(r)),r}t(r,e);var o=r.prototype;return o.onLoad=function(){this.powerupSprites.forEach((function(e){e.node.active=!1})),this.progressContainer.active=!1,this.iconContainer.active=!1,this.progressSprite.fillRange=.5,this.container.active=!1},o.update=function(e){if(!u.IsPause){var r=0,t=0,n=null;h.Instance.isShieldActive&&!h.Instance.isRevivalShield&&(r++,t=h.Instance.shieldProgress,n=this.powerupSprites[0]),g.Instance.state==f.ACTIVE&&(r++,t=g.Instance.margetProgress,n=this.powerupSprites[1]),h.Instance.isStamperActive&&(r++,t=h.Instance.stamperProgress,n=this.powerupSprites[2]),h.Instance.isDuperActive&&(r++,t=h.Instance.duperProgress,n=this.powerupSprites[3]),h.Instance.isMegaHopActive&&(r++,t=h.Instance.megaHopProgress,n=this.powerupSprites[4]),r>0?(this.iconContainer.active=!0,this.progressContainer.active=!0,this.powerupSprites.forEach((function(e){e.node.active=e==n})),this.progressSprite.fillRange=t,l.Instance.IsPowerupActivated=!0,this.container.active=!0):(this.iconContainer.active=!1,this.progressContainer.active=!1,l.Instance.IsPowerupActivated=!1,this.container.active=!1)}},r}(p)).prototype,"progressContainer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(y.prototype,"iconContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(y.prototype,"powerupSprites",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=r(y.prototype,"progressSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(y.prototype,"container",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyPolicy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseLoading.ts","./EventManager.ts","./AnimationPopup.ts"],(function(t){"use strict";var n,c,e,i,o,a,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy,e=t._decorator},function(t){i=t.SplashEventName,o=t.ActionAgeGate},function(t){a=t.default,r=t.MyEvent},function(t){s=t.AnimationPopup}],execute:function(){var u;c._RF.push({},"ad496Sz7LVLkbFR1SeUhSdS","PrivacyPolicy",void 0);var p=e.ccclass;e.property,t("PrivacyPolicy",p("PrivacyPolicy")(u=function(t){function c(){return t.apply(this,arguments)||this}return n(c,t),c.prototype.onAcceptClicked=function(){this.show(!1).then((function(){a.GetInstance().dispatchEvent(new r(i.AGE_GATE,{action:o.PRIVACY}))}))},c}(s))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/PrivateMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuManager.ts","./NetworkManager.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts","./OnlineMgr.ts","./TutorialManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./ErrorPopup.ts","./Loading.ts"],(function(t){"use strict";var e,n,r,a,o,i,s,c,u,l,I,p,h,f,d,_,T,b,C,E,N,R,S,v,g,k,M,A,m,O,D,P,x,y,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,l=t.Label,I=t.EditBox,p=t.Button,h=t.Node,f=t.Component,d=t.director},function(t){_=t.language},function(t){T=t.AudioSrc,b=t.default,C=t.PLAYER_CHARACTER},function(t){E=t.MainMenuManager,N=t.POPUPTYPE_MM},function(t){R=t.NetworkManager},function(t){S=t.SoundManager},function(t){v=t.Splash},function(t){g=t.UserDataManager},function(t){k=t.default},function(t){M=t.TutorialManager,A=t.TUTORIAL_TYPE,m=t.TUTORIAL_STATE},function(t){O=t.default},function(t){D=t.Character,P=t.MatchType,x=t.PlayMode},function(t){y=t.ErrorPopup},function(t){L=t.Loading}],execute:function(){var w,F,J,B,H,U,j,G,K,Y,z,X,V,W,Z,q;c._RF.push({},"60c5f3BhVVChbSXUZAxlAFd","PrivateMode",void 0);var Q,$,tt=u.ccclass,et=u.property;!function(t){t[t.NOT_CREATE=0]="NOT_CREATE",t[t.CREATING=1]="CREATING",t[t.CREATED=2]="CREATED",t[t.EXIT=3]="EXIT"}(Q||(Q={})),function(t){t[t.NOT_JOIN=0]="NOT_JOIN",t[t.JOINING=1]="JOINING",t[t.JOINED=2]="JOINED"}($||($={}));t("PrivateMode",(w=tt("PrivateMode"),F=et(l),J=et(I),B=et(p),H=et(p),U=et(p),j=et(h),w(((q=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,r(e,"hostRoomCode",Y,a(e)),r(e,"joinRoomCode",z,a(e)),r(e,"joinButton",X,a(e)),r(e,"createButton",V,a(e)),r(e,"inviteButton",W,a(e)),r(e,"createNode",Z,a(e)),e}n(e,t);var c=e.prototype;return c.onLoad=function(){e.Instance=this},c.onCloseButtonClicked=function(){S.Instance.playOneShot(T.UI_BACK),this.setCreateState(Q.EXIT)},c.show=function(){this.setCreateState(Q.NOT_CREATE),this.setJoinState($.NOT_JOIN),b.CHEAT_LOCAL_HOST&&(this.joinRoomCode.inputMode=I.InputMode.ANY)},c.onJoinButtonClicked=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S.Instance.playOneShot(T.UI_CLICK),this.setJoinState($.JOINING);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onCreateButtonClicked=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S.Instance.playOneShot(T.UI_CLICK),t.next=3,this.setCreateState(Q.CREATING);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.setJoinState=function(){var t=i(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===$.NOT_JOIN?3:t.t0===$.JOINING?6:t.t0===$.JOINED?36:37;break;case 3:return this.joinRoomCode.string="",this.joinRoomCode.placeholder="----",t.abrupt("break",37);case 6:if(this.checkRoomCode(this.joinRoomCode.string)){t.next=10;break}return S.Instance.playOneShot(T.UI_INSUFFICIENT_FUNDS),y.Instance.show(_.t("str_mm_join_wrong"),!0,(function(){y.Instance.hide()})),t.abrupt("return");case 10:if(L.Instance.show(_.t("str_mm_joining")),r=null,!v.isNewUser||e.isInviteMode){t.next=17;break}return t.next=15,R.Instance.createAILocal();case 15:t.next=26;break;case 17:if(!b.CHEAT_LOCAL_HOST){t.next=23;break}return t.next=20,R.Instance.joinMultiPrivateLocal(this.joinRoomCode.string);case 20:r=t.sent,t.next=26;break;case 23:return t.next=25,R.Instance.joinMultiPrivateNew(this.joinRoomCode.string);case 25:r=t.sent;case 26:if(r){t.next=30;break}this.setJoinState($.JOINED),t.next=34;break;case 30:return t.next=32,y.Instance.processError(r);case 32:t.sent?(k.logout(),d.loadScene(b.SCENE_SPLASH)):e.isInviteMode&&(e.isInviteMode=!1);case 34:return L.Instance.hide(),t.abrupt("break",37);case 36:return t.abrupt("break",37);case 37:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.setCreateState=function(){var t=i(s().mark((function t(n){var r,a,o,c,u,l=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===Q.NOT_CREATE?3:t.t0===Q.CREATING?8:t.t0===Q.CREATED?36:t.t0===Q.EXIT?45:48;break;case 3:return this.createNode.active=!1,this.createButton.node.active=!0,this.hostRoomCode.string="----",g.Instance.tutorialData.playWithFriend||e.isInviteMode||M.Instance.active(!0,A.PLAY_WITH_FRIEND,i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===m.FRND_STEP_1?3:t.t0===m.FRND_STEP_2?7:t.t0===m.FRND_STEP_3?9:t.t0===m.FRND_STEP_4?11:t.t0===m.FRND_STEP_5?13:t.t0===m.FRND_STEP_6?15:19;break;case 3:return t.next=5,l.onCreateButtonClicked();case 5:return M.Instance.setState(m.FRND_STEP_2),t.abrupt("break",19);case 7:return M.Instance.setState(m.FRND_STEP_3),t.abrupt("break",19);case 9:return M.Instance.setState(m.FRND_STEP_4),t.abrupt("break",19);case 11:return M.Instance.setState(m.FRND_STEP_5),t.abrupt("break",19);case 13:return M.Instance.setState(m.FRND_STEP_6),t.abrupt("break",19);case 15:return g.Instance.tutorialData.playWithFriend=!0,g.Instance.saveTutorialData(),M.Instance.active(!1,A.PLAY_WITH_FRIEND),t.abrupt("break",19);case 19:case"end":return t.stop()}}),t)})))),t.abrupt("break",48);case 8:if(L.Instance.show(_.t("str_private_creating")),r=null,!v.isNewUser){t.next=16;break}return t.next=13,R.Instance.createAILocal();case 13:r=t.sent,t.next=25;break;case 16:if(!b.CHEAT_LOCAL_HOST){t.next=22;break}return t.next=19,R.Instance.createMultiPrivateLocal();case 19:r=t.sent,t.next=25;break;case 22:return t.next=24,R.Instance.createMultiPrivateNew();case 24:r=t.sent;case 25:if(L.Instance.hide(),!r){t.next=34;break}return this.setCreateState(Q.NOT_CREATE),t.next=30,y.Instance.processError(r);case 30:t.sent&&(k.logout(),d.loadScene(b.SCENE_SPLASH)),t.next=35;break;case 34:this.setCreateState(Q.CREATED);case 35:return t.abrupt("break",48);case 36:return this.hostRoomCode.string=R.Instance.JoinRoomID,this.createNode.active=!0,this.createButton.node.active=!1,g.Instance.lobbyData?g.Instance.lobbyData.character==C.MILKY?a=""+D.MILKY:g.Instance.lobbyData.character==C.SCHOKI&&(a=""+D.SCHOKI):a=""+D.MILKY,o=E.Instance.getMapName(),c=P.PLAYER,u=x.MULTI_PRIVATE,O.Send_MATCHMAKING_STARTED(a,o,c,u),t.abrupt("break",48);case 45:return E.Instance.checkLastPopupAndShow(N.PRIVATE_MODE,!1),R.Instance.exitRoom(),t.abrupt("break",48);case 48:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.delay=function(t){var e=this;return new Promise((function(n){e.scheduleOnce((function(){n()}),t)}))},c.checkRoomCode=function(t){if(b.CHEAT_LOCAL_HOST){if(4!=t.length)return!1}else if(6!=t.length||t==R.Instance.JoinRoomID)return!1;return!0},c.displayHostCode=function(t){this.hostRoomCode.string=t||"----"},c.onInviteButtonClicked=function(){S.Instance.playOneShot(T.UI_CLICK);var t=_.t("str_mm_invite_invitation");t=t.replace("{code}",R.Instance.JoinRoomID);var e="/?invcode="+R.Instance.JoinRoomID;navigator.share?navigator.share({text:t,url:e}):navigator.clipboard.writeText&&navigator.clipboard.writeText(location.hostname+e)},o(e,null,[{key:"isInviteMode",get:function(){return this._isInviteMode},set:function(t){this._isInviteMode=t}}]),e}(f)).Instance=null,q._isInviteMode=!1,Y=e((K=q).prototype,"hostRoomCode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(K.prototype,"joinRoomCode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"joinButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(K.prototype,"createButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(K.prototype,"inviteButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"createNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=K))||G));c._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainMenuDebug.ts","./EventManager.ts"],(function(e){"use strict";var t,i,n,o,r,l,a,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,c=e.Component},function(e){s=e.MainMenuDebug},function(e){u=e.default}],execute:function(){var p,f,d,h,v;r._RF.push({},"471e1iAhXdFV6V8uUiMrgEp","ProfileTile",void 0);var P=l.ccclass,b=l.property,_=e("PROFILE_UPDATE","PROFILE_UPDATE");e("ProfileTile",(p=P("ProfileTile"),f=b(a),p((v=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"lowProfileNodes",v,o(t)),t._profileUpdateCallback=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this._profileUpdateCallback=this.updateTile.bind(this),u.GetInstance().addEventListener(_,this._profileUpdateCallback),this.updateTile()},r.onDestroy=function(){u.GetInstance().removeEventListener(_,this._profileUpdateCallback),this._profileUpdateCallback=null},r.updateTile=function(){this.lowProfileNodes.forEach((function(e){e&&(e.active=!s.getDeviceProfile().LowEnvironment)}))},t}(c)).prototype,"lowProfileNodes",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Progression2DButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts","./MainMenuManager.ts","./ProgressionManager.ts","./MainMenuBlockout.ts"],(function(e){"use strict";var o,n,t,r,i,s,a,l,u,c,p,g,b,d,h,f,N,P,E;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Enum,l=e.Button,u=e.Label,c=e.Sprite,p=e.color,g=e.Color,b=e.Component},function(e){d=e.default},function(e){h=e.default},function(e){f=e.MainMenuEvent},function(e){N=e.PROGRESSION_TYPE,P=e.ProgressionManager},function(e){E=e.MainMenuBlockout}],execute:function(){var _,y,O,R,v,C,S,k,M,I,D;i._RF.push({},"6fce1IYoD9EXYs8UKnOPog+","Progression2DButton",void 0);var B=s.ccclass,G=s.property;e("Progression2DButton",(_=B("Progression2DButton"),y=G({type:a(N)}),O=G(l),R=G(u),v=G(c),_((k=o((S=function(e){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=e.call.apply(e,[this].concat(i))||this,t(o,"progression",k,r(o)),o._progressionUpdateCallback=void 0,t(o,"buttonNode",M,r(o)),t(o,"labelNode",I,r(o)),t(o,"spriteNode",D,r(o)),o._originalLabelColor=p(34,79,170,255),o}n(o,e);var i=o.prototype;return i.onLoad=function(){this._progressionUpdateCallback=this.onCheckProgression.bind(this),h.GetInstance().addEventListener(f.UPDATE_PROGRESSION,this._progressionUpdateCallback)},i.onDestroy=function(){h.GetInstance().removeEventListener(f.UPDATE_PROGRESSION,this._progressionUpdateCallback),this._progressionUpdateCallback=null},i.onCheckProgression=function(){var e=!0;this.progression!=N.NONE&&(P.checkFunctionUnlocked(this.progression)||(e=!1)),this.onLabelProgression(e),this.onButtonProgression(e),this.onSpriteProgression(e),E.Instance.checkArrows()},i.onLabelProgression=function(e){this.labelNode&&(this.labelNode.color=e?this._originalLabelColor:g.GRAY)},i.onButtonProgression=function(e){d.CHEAT_IGNORE_PROGRESSION?this.buttonNode.interactable=!0:this.buttonNode&&(this.buttonNode.interactable=!!e)},i.onSpriteProgression=function(e){d.CHEAT_IGNORE_PROGRESSION?this.spriteNode.grayscale=!1:this.spriteNode&&(this.spriteNode.grayscale=!e)},o}(b)).prototype,"progression",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.NONE}}),M=o(S.prototype,"buttonNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(S.prototype,"labelNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(S.prototype,"spriteNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressionManager.ts",["cc","./UserDataManager.ts"],(function(n){"use strict";var e,a;return{setters:[function(n){e=n.cclegacy},function(n){a=n.UserDataManager}],execute:function(){var t;n("PROGRESSION_TYPE",void 0),e._RF.push({},"43d323r/YVAJpCNeduH/zxb","ProgressionManager",void 0),function(n){n[n.NONE=0]="NONE",n[n.PLAY_ONLINE=1]="PLAY_ONLINE",n[n.PLAY_WITH_FRIEND=2]="PLAY_WITH_FRIEND",n[n.QR_SCAN=3]="QR_SCAN",n[n.SETTINGS=4]="SETTINGS",n[n.DAILY_MISSION=5]="DAILY_MISSION",n[n.STORE=6]="STORE",n[n.LEADERBOARD=7]="LEADERBOARD",n[n.ACHIEVEMENT=8]="ACHIEVEMENT",n[n.MAP_SELECTION=9]="MAP_SELECTION"}(t||(t=n("PROGRESSION_TYPE",{})));n("ProgressionManager",function(){function n(){}return n.checkFunctionUnlocked=function(n){switch(n){case t.PLAY_ONLINE:case t.PLAY_WITH_FRIEND:return a.Instance.tutorialData.dailyReward&&this.isMapUnlocked();case t.QR_SCAN:case t.SETTINGS:return a.Instance.tutorialData.dailyReward;case t.DAILY_MISSION:return a.Instance.tutorialData.dailyMission;case t.STORE:case t.LEADERBOARD:return a.Instance.tutorialData.buyAccessories;case t.ACHIEVEMENT:return a.Instance.tutorialData.achievement;case t.MAP_SELECTION:return a.Instance.tutorialData.newMap}return!1},n.isMapUnlocked=function(){return a.Instance.checkEnvironmentUnlocked(a.Instance.lobbyData.environment)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRScan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuManager.ts","./SoundManager.ts","./MainMenuBlockout.ts"],(function(n){"use strict";var t,e,i,o,a,c,r,s,u,l,p,d,f,v,h,R;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){r=n.cclegacy,s=n._decorator,u=n.Node,l=n.Component},function(n){p=n.AudioSrc,d=n.MM_ANIM},function(n){f=n.MainMenuManager,v=n.ScanQRState},function(n){h=n.SoundManager},function(n){R=n.MainMenuBlockout}],execute:function(){var S,g,m,w,C,D,I,M,y,b;r._RF.push({},"68e933IMnFLypt6BJG9suCX","QRScan",void 0);var A=s.ccclass,L=s.property;n("QRScan",(S=A("QRScan"),g=L(u),m=L(u),w=L(u),S(((b=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a))||this,i(t,"popupDeviceConstraint",I,o(t)),i(t,"popupRewardLimit",M,o(t)),i(t,"loading",y,o(t)),t.scanner=void 0,t.videoDom=void 0,t.enable=!1,t}e(t,n);var r=t.prototype;return r.onLoad=function(){t.Instance=this,this.loading.active=!1},r.onEnable=function(){this.popupDeviceConstraint.active=!1,this.popupRewardLimit.active=!1},r.DoScan=function(n){this.enable=!0,this.videoDom=n,null!=this.videoDom&&this.Scan(this.videoDom)},r.Loading=function(n,t){var e=this;return new Promise((function(i){e.loading.active=n,n?e.scheduleOnce((function(){e.loading.active=!1,i()}),t):i()}))},r.DoStop=function(){null!=this.scanner&&this.scanner.stop()},r.OnDeviceConstraint=function(){this.loading.active=!1,this.popupDeviceConstraint.active=!0,this.popupRewardLimit.active=!1},r.OnRewardLimit=function(){this.loading.active=!1,this.popupDeviceConstraint.active=!1,this.popupRewardLimit.active=!0},r.OnBack=function(){h.Instance.playOneShot(p.UI_BACK),f.Instance.onQRScanAction({action:v.BACK}),R.Instance.playMenuAnim(d.QRSCAN)},r.OnReward=function(){f.Instance.onQRScanAction({action:v.FOUND,data:{text:"kinder.com/qr/KM001"}})},r.OnDeviceOk=function(){h.Instance.playOneShot(p.UI_CLICK),f.Instance.onQRScanAction({action:v.BACK})},r.OnRewardLimitOk=function(){h.Instance.playOneShot(p.UI_CLICK),f.Instance.onQRScanAction({action:v.BACK})},r.Scan=function(){var n=a(c().mark((function n(t){var e,i=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("======= QRScan Scan()"),e=new window.ZXingBrowser.BrowserQRCodeReader,n.next=4,e.decodeFromVideoElement(t,(function(n,t){n&&i.enable&&(console.log("QR result code ",n.text),i.enable=!1,i.DoStop(),f.Instance.onQRScanAction({action:v.FOUND,data:{text:n.text}}))}));case 4:this.scanner=n.sent;case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),t}(l)).Instance=null,I=t((D=b).prototype,"popupDeviceConstraint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"popupRewardLimit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(D.prototype,"loading",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/QRScanRewardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lodash.mjs_cjs=&original=.js","./i18n.ts","./Constants.ts","./BaseLoading.ts","./EventManager.ts","./MainMenuManager.ts","./SoundManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./lodash.js"],(function(e){"use strict";var t,n,a,r,i,o,s,c,u,d,l,R,h,f,w,p,m,S,g,I,y,C,_,b,N,v,A,E,T,D,M,L,O,B,F,Q,x,k,z,H,G,U,W,P,Y,q;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,d=e.SpriteFrame,l=e.sp,R=e.Label,h=e.Sprite,f=e.log,w=e.Animation,p=e.resources,m=e.Component,S=e.director},null,function(e){g=e.language},function(e){I=e.QR_CODE_LIST,y=e.QR_SCAN_REWARDS,C=e.BoosterId,_=e.QR_SCAN_ACCESSORIES,b=e.BoosterDefine,N=e.ACCESSORY_ITEMS,v=e.AudioSrc,A=e.PLAYER_CHARACTER,E=e.AccessoryKey,T=e.default},function(e){D=e.SplashEventName,M=e.ActionAgeGate},function(e){L=e.default,O=e.MyEvent},function(e){B=e.MainMenuManager,F=e.LABEL_COIN_REWARD,Q=e.LABEL_BOOSTER_REWARD,x=e.LABEL_ACCESSORIES_REWARD,k=e.POPUPTYPE_MM},function(e){z=e.SoundManager},function(e){H=e.UserDataManager},function(e){G=e.default},function(e){U=e.FeatureName,W=e.ItemName,P=e.IncomeSource,Y=e.GameScreen},function(e){q=e.default}],execute:function(){var j,K,V,J,X,Z,$,ee,te,ne,ae,re,ie,oe,se,ce,ue,de,le,Re,he,fe,we,pe,me,Se;s._RF.push({},"05bebgxCeRAFaYqHGrlp3RI","QRScanRewardManager",void 0);var ge=c.ccclass,Ie=c.property;e("QRScanRewardManager",(j=ge("QRScanRewardManager"),K=Ie(u),V=Ie(u),J=Ie(u),X=Ie(u),Z=Ie(u),$=Ie(u),ee=Ie(u),te=Ie(u),ne=Ie(d),ae=Ie(d),re=Ie(u),j(((Se=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"rewardNode",se,r(t)),a(t,"limitNode",ce,r(t)),a(t,"tapToOpenNode",ue,r(t)),a(t,"claimRewardNode",de,r(t)),a(t,"rewardLayout",le,r(t)),a(t,"coinRewardTemplate",Re,r(t)),a(t,"boosterRewardTemplate",he,r(t)),a(t,"accessoryRewardTemplate",fe,r(t)),a(t,"boosterFrames",we,r(t)),a(t,"characterFrames",pe,r(t)),a(t,"rewardIcon",me,r(t)),t.spineBox=void 0,t._isClaimed=!1,t.featureTimeSpent=0,t.TRACKING_INTERVAL=60,t.featureName=U.QR_SCAN,t.isMMFeatureSent=!1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){t.Instance=this,this.spineBox=this.rewardIcon.getChildByName("Icon").getComponent(l.Skeleton)},s.onEnable=function(){this._isClaimed=!1,this.featureTimeSpent=0,!this.isMMFeatureSent&&B.Instance&&(this.isMMFeatureSent=!0,G.Send_FEATURE_FINISHED(B.Instance.featureName,B.Instance.featureTimeSpent))},t.hasReward=function(){return null!=this.currentReward},t.checkQRCodeAndGenerateReward=function(e){return!(!e||""==e||!I.includes(e))&&(this.generateReward(),this.ScannedQRCode="",!0)},t.nextDay=function(){this.now.setHours(this.now.getHours()+24),console.log(this.now)},t.resetRewardData=function(){H.Instance.qrScanData.days={},H.Instance.saveQRScanData()},t.getCurrentReward=function(){for(var e=this.countRewardedDay(),t=[],n=y.length-1;n>=0;n--)if(e>=y[n].from){t=y[n].rewards;break}return t},t.checkRewardLimit=function(){var e=t.getCurrentReward(),n=this.getTodayData();return this.todayRewardedCount=n.times.filter((function(e){return null!=e})).length,this.todayRewardedCount>=e.length&&(this.currentReward=null,!0)},t.showPotentialReward=function(){var e=t.getCurrentReward()[this.todayRewardedCount];if(e){if(e.coins&&e.coins>0){B.Instance.showCoinReward(!0);var n=g.t("str_qr_coin"),a=""+e.coins;n=n.replace("{number}",a),B.Instance.setHTMLElementText(F,n)}else B.Instance.showCoinReward(!1);if(e.boosters&&e.boosters>0){B.Instance.showBoosterReward(!0);var r=g.t("str_qr_booster");B.Instance.setHTMLElementText(Q,r)}else B.Instance.showBoosterReward(!1);if(e.accessories&&e.accessories>0){B.Instance.showAccessoriesReward(!0);var i=g.t("str_qr_outfit");B.Instance.setHTMLElementText(x,i)}else B.Instance.showAccessoriesReward(!1)}},t.generateReward=function(){var e=t.getCurrentReward()[this.todayRewardedCount];if(e){this.currentReward={coins:0,boosters:[],accessories:[]};var n=-1;if(2==this.todayRewardedCount||3==this.todayRewardedCount)n=0,n=Math.random()<.5?0:1;if(e.coins&&e.coins>0&&1!=n&&(this.currentReward.coins=e.coins),e.boosters&&e.boosters>0&&0!=n&&(this.currentReward.boosters=q.sampleSize(Object.values(C).filter((function(e){return!isNaN(Number(e))})),e.boosters)),e.accessories&&e.accessories>0){var a=this.getRewardedAccessories(),r=Object.keys(_).filter((function(e){return!a.includes(e)})),i=q.shuffle(r);this.currentReward.accessories=i.slice(0,e.accessories)}}this.onSaveRewardedData(),console.log(this.currentReward)},t.countRewardedDay=function(){var e=0;for(var t in H.Instance.qrScanData.days){H.Instance.qrScanData.days[t].times.filter((function(e){return null!=e&&Object.entries(e).length>0})).length>0&&this.getTodayID()!=t&&e++}return e},t.getTodayID=function(){return this.todayID=String(this.now.getDate()).padStart(2,"0")+"/"+String(this.now.getMonth()+1).padStart(2,"0")+"/"+this.now.getFullYear(),this.todayID},t.getTodayData=function(){this.todayID=String(this.now.getDate()).padStart(2,"0")+"/"+String(this.now.getMonth()+1).padStart(2,"0")+"/"+this.now.getFullYear();var e=H.Instance.qrScanData.days[this.todayID];return e||(e={times:[]},H.Instance.qrScanData.days[this.todayID]=e),e},t.onSaveRewardedData=function(){if(this.currentReward){var e;if(console.log("reward saved"),this.getTodayData().times.push(this.currentReward),H.Instance.saveQRScanData(),this.currentReward.coins>0){var t=this.currentReward.coins;H.Instance.updateCoinAmount(H.Instance.coinWallet+this.currentReward.coins),e=W.COINS;var n=H.Instance.coinWallet;G.Send_CURRENCY_INCOMES(P.QR_SCAN,t,e,Y.QR_SCAN,t,n)}this.currentReward.boosters.length>0&&(this.currentReward.boosters.forEach((function(t){var n=H.Instance.getBoosterQuantity(t);H.Instance.updateBoosterQuantity(t,n+1);for(var a=0;a<b.length;a++)t==b[a].id&&(e=b[a].trackingName);var r=H.Instance.coinWallet;G.Send_CURRENCY_INCOMES(P.QR_SCAN,1,e,Y.QR_SCAN,0,r)})),H.Instance.saveBoosterData()),this.currentReward.accessories.length>0&&(this.currentReward.accessories.forEach((function(t){_[t].forEach((function(t){H.Instance.ownAccessory(t);var n=N[t];e=n.trackingId;var a=H.Instance.coinWallet;G.Send_CURRENCY_INCOMES(P.QR_SCAN,1,e,Y.QR_SCAN,0,a)}))})),H.Instance.saveAccessoryData())}},s.show=function(){var e=this;this._isClaimed||(t.currentReward?(this.rewardNode.active=!0,this.limitNode.active=!1,this.tapToOpenNode.active=!0,this.claimRewardNode.active=!1,z.Instance.playOneShot(v.UI_READY_CLAIM),this.spineBox.setAnimation(0,"box_idle",!0),this.coinRewardTemplate.active=!1,this.boosterRewardTemplate.active=!1,this.accessoryRewardTemplate.active=!1,t.currentReward.coins>0&&(this.coinRewardTemplate.getChildByName("Label").getComponent(R).string="+"+t.currentReward.coins,this.coinRewardTemplate.active=!0),t.currentReward.boosters.length>0&&t.currentReward.boosters.forEach((function(t){var n=b.find((function(e){return e.id==t}));n&&(e.boosterRewardTemplate.getChildByName("Icon").getComponent(h).spriteFrame=e.boosterFrames.find((function(e){return e.name==n.spriteName}))),e.boosterRewardTemplate.getChildByName("Label").getComponent(R).string="x1",e.boosterRewardTemplate.active=!0})),t.currentReward.accessories.length>0&&t.currentReward.accessories.forEach((function(t){_[t].forEach((function(n){var a=N[n];if(a){e.getAvatar(a.spriteName).then((function(t){e.accessoryRewardTemplate.getChildByName("Icon").getComponent(h).spriteFrame=t}));var r=a.character==A.MILKY?"Milky":"Schoki";t!=E.M_Head_04&&t!=E.S_Head_04&&t!=E.M_Scarf_01&&t!=E.S_Scarf_01||(r="Milky & Schoki"),e.accessoryRewardTemplate.getChildByName("Label").getComponent(R).string="for "+r,e.accessoryRewardTemplate.active=!0}}))}))):(this.rewardNode.active=!1,this.limitNode.active=!0))},s.onTapToOpen=function(){var e,n=this;(f("tapped"),t.currentReward&&this.tapToOpenNode.active)&&(null==(e=z.Instance)||e.playOneShot(v.QR_SCAN_REWARD),this.tapToOpenNode.active=!1,this.spineBox.setAnimation(0,"box_open",!1),this.spineBox.addAnimation(0,"box_open_loop",!0),this.scheduleOnce((function(){n.claimRewardNode.active=!0,n.claimRewardNode.getComponent(w).play()}),1))},s.onButtonClaim=function(){var e=i(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=z.Instance)||t.playOneShot(v.UI_CLAIM_REWARD),S.getScene().name!=T.SCENE_SPLASH){e.next=5;break}L.GetInstance().dispatchEvent(new O(D.AGE_GATE,{action:M.QR_REWARD})),e.next=8;break;case 5:if(S.getScene().name!=T.SCENE_MAINMENU){e.next=8;break}return e.next=8,B.Instance.checkLastPopupAndShow(k.QR_REWARD,!1);case 8:this.isMMFeatureSent=!1,G.Send_FEATURE_FINISHED(U.QR_SCAN,this.featureTimeSpent);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getRewardedAccessories=function(){var e=[];return Object.entries(H.Instance.qrScanData.days).forEach((function(t){t[0];var n=t[1];n.times&&n.times.forEach((function(t){t.accessories&&t.accessories.forEach((function(t){e.includes(t)||e.push(t)}))}))})),e},s.update=function(e){this.node.active&&this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(G.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0))},s.getAvatar=function(e){var t="/accessories/"+e+"/spriteFrame";return new Promise((function(e,n){p.load(t,d,(function(t,n){e(n)}))}))},t}(m)).Instance=null,Se.ScannedQRCode="",Se.dailyResetTime=0,Se.todayID="",Se.now=new Date,Se.currentReward=null,Se.todayRewardedCount=0,se=t((oe=Se).prototype,"rewardNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(oe.prototype,"limitNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(oe.prototype,"tapToOpenNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(oe.prototype,"claimRewardNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(oe.prototype,"rewardLayout",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(oe.prototype,"coinRewardTemplate",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(oe.prototype,"boosterRewardTemplate",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(oe.prototype,"accessoryRewardTemplate",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(oe.prototype,"boosterFrames",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(oe.prototype,"characterFrames",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=t(oe.prototype,"rewardIcon",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=oe))||ie));s._RF.pop()}}}));

System.register("chunks:///_virtual/QTE1Input.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./QTE1Manager.ts"],(function(e){"use strict";var t,n,s,a,o,c,T,i,E,I,r,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,s=e._decorator,a=e.input,o=e.Input,c=e.KeyCode,T=e.Component},function(e){i=e.QTE_MESSAGE_TYPE,E=e.QTE_STATE,I=e.PLAYER_CHARACTER,r=e.QTE_HIT_STATE},function(e){u=e.QTE1Manager}],execute:function(){var p;n._RF.push({},"d8755VXPqxIA5481UBdEx0j","QTE1Input",void 0);var _=s.ccclass;s.property,e("QTE1Input",_("QTE1Input")(p=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var s=n.prototype;return s.onLoad=function(){a.on(o.EventType.TOUCH_START,this.onTouchStart,this),a.on(o.EventType.TOUCH_END,this.onTouchEndOrCancel,this),a.on(o.EventType.TOUCH_CANCEL,this.onTouchEndOrCancel,this)},s.onKeyDown=function(e){switch(e.keyCode){case c.DIGIT_1:u.Instance.onMessageReceived({type:i.ACTION,host:!0,hitData:{id:I.MILKY,state:r.PERFECT}});break;case c.DIGIT_2:u.Instance.onMessageReceived({type:i.ACTION,host:!0,hitData:{id:I.MILKY,state:r.MISS}});break;case c.DIGIT_3:u.Instance.onMessageReceived({type:i.ACTION,host:!1,hitData:{id:I.SCHOKI,state:r.PERFECT}});break;case c.DIGIT_4:u.Instance.onMessageReceived({type:i.ACTION,host:!1,hitData:{id:I.SCHOKI,state:r.MISS}});break;case c.KEY_I:break;case c.KEY_Q:u.Instance.onMessageReceived({type:i.STATE,state:E.READY});break;case c.KEY_W:u.Instance.onMessageReceived({type:i.STATE,state:E.PLAYING});break;case c.KEY_E:u.Instance.onMessageReceived({type:i.STATE,state:E.GAMEOVER});break;case c.KEY_A:case c.KEY_S:}},s.onKeyUp=function(e){switch(e.keyCode){case c.DIGIT_1:case c.DIGIT_2:case c.DIGIT_3:console.log("onKeyUp","DIGIT_1")}},s.onTouchStart=function(e){e.getLocation()},s.onTouchEndOrCancel=function(e){},n}(T))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/QTE1Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./UserDataManager.ts","./CharacterAnimCtrl.ts","./TrackingEvents.ts","./TrackingMgr.ts","./QTEController.ts","./QTEManagerBase.ts","./QTETransition.ts","./BirdieVFX.ts","./QTE1Player.ts"],(function(t){"use strict";var i,e,s,a,n,o,r,h,c,l,S,_,T,d,u,m,I,p,E,P,A,g,y,O,v,M,f,R,C,H,N,k,K,b,w,L,Q,G,V,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,c=t.CCInteger,l=t.Label,S=t.Animation,_=t.log,T=t.v3,d=t.Quat,u=t.Vec3},function(t){m=t.language},function(t){I=t.QTE_HIT_STATE,p=t.default,E=t.QTE1_DIRECTION,P=t.QTE_STATE,A=t.PLAYER_CHARACTER,g=t.GameActions,y=t.QTE_TYPE,O=t.QTE_MESSAGE_TYPE,v=t.ROOM_STATE,M=t.AudioSrc,f=t.VFX_CHARACTER},function(t){R=t.NetworkManager},function(t){C=t.RunningGameManager},function(t){H=t.SoundManager},function(t){N=t.UserDataManager},function(t){k=t.CHARACTER_ANIM},function(t){K=t.default},function(t){b=t.TutorialAction,w=t.QteName},function(t){L=t.QTEController},function(t){Q=t.QTEManagerBase},function(t){G=t.QTETransition},function(t){V=t.BirdieVFX},function(t){B=t.QTE1Player}],execute:function(){var Y,x,D,j,q,F,z,U,W,X,Z,J,$,tt,it,et,st,at;r._RF.push({},"f1531j8Kb1CWbdS0C62iGJA","QTE1Manager",void 0);var nt,ot,rt,ht=h.ccclass,ct=h.property;!function(t){t[t.NONE=0]="NONE",t[t.START=1]="START",t[t.PASS=2]="PASS",t[t.FAIL=3]="FAIL"}(nt||(nt={})),function(t){t[t.FIRST_PHASE=0]="FIRST_PHASE",t[t.SECOND_PHASE=1]="SECOND_PHASE"}(ot||(ot={})),function(t){t[t.MILKY_SERVE=0]="MILKY_SERVE",t[t.SCHOKI_PASS_OK=1]="SCHOKI_PASS_OK",t[t.MILK_PASS_OK=2]="MILK_PASS_OK",t[t.SCHOKI_PASS_MISS=3]="SCHOKI_PASS_MISS",t[t.FINISH=4]="FINISH"}(rt||(rt={}));t("QTE1Manager",(Y=ht("QTE1Manager"),x=ct(Number),D=ct(Number),j=ct([Number]),q=ct({type:c,min:0,max:100,slide:!0}),F=ct(l),z=ct(S),U=ct(S),Y(((at=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,s(i,"qte_duration",Z,a(i)),s(i,"max_score",J,a(i)),s(i,"travel_duration",$,a(i)),s(i,"ai_success_chance",tt,a(i)),i.servicePointMilky=null,i.servicePointSchoki=null,i.pointMilky=null,i.pointSchoki=null,i.controlPoint1=null,i.controlPoint2=null,i.projectile=null,i.vfxBirdie=null,s(i,"labelStatus",it,a(i)),s(i,"animMilkyHand",et,a(i)),s(i,"animSchokiHand",st,a(i)),i.playersNode=null,i.playersQTE1=null,i.pathNode=null,i.qte_timer=0,i._currSpeed=0,i._tweenFill=null,i._tweenLabel=null,i._status=0,i.milky_service_pos=void 0,i.schoki_service_pos=void 0,i.milky_swing_pos=void 0,i.schoki_swing_pos=void 0,i.control_1_pos=void 0,i.control_2_pos=void 0,i.start_pos=void 0,i.cpos_1=void 0,i.cpos_2=void 0,i.end_pos=void 0,i.score=0,i.direction=-1,i.aiDirection=-1,i.elapsedTime=0,i.travelTime=0,i.game_state=-1,i._hostGameState=nt.NONE,i._clientGameState=nt.NONE,i.currState=I.NOTSET,i.isServiced=!1,i.isSwing=!1,i.isMiss=!1,i.hitRange=[.8,1.2],i.missRange=[.5,1.2],i.hitMoment=0,i._hitState=I.NOTSET,i.AI_CHEAT=!0,i._tutorialState=-1,i.hitTxt="",i.missTxt="",i}e(i,t);var r=i.prototype;return r.onLoad=function(){i.Instance=this,this.node.active=!1,p.CHEAT_HIDE_TOP_QTE_UI&&(this.topUI.active=!1)},r.onDestroy=function(){i.Instance=null},r.initControlPoints=function(){this.playersNode=L.Instance.node.getChildByName("Players"),this.playersQTE1=this.playersNode.getChildByName("Players_QTE_1"),this.pathNode=this.playersQTE1.getChildByName("Path"),this.servicePointMilky=this.pathNode.getChildByName("Service Point Milky"),this.servicePointSchoki=this.pathNode.getChildByName("Service Point Schoki"),this.pointMilky=this.pathNode.getChildByName("Point Milky"),this.pointSchoki=this.pathNode.getChildByName("Point Schoki"),this.controlPoint1=this.pathNode.getChildByName("Point 1"),this.controlPoint2=this.pathNode.getChildByName("Point 2"),this.projectile=this.pathNode.getChildByName("Projectile"),this.vfxBirdie=this.projectile.getComponent(V)},r.addPlayer=function(t){return t.addComponent(B)},r.initQTE=function(i){var e=this;return t.prototype.initQTE.call(this,i),this.initControlPoints(),this.previousTime=this.WARNING_TIME,new Promise((function(t,i){e.initPlayers(),e.milky_service_pos=e.servicePointMilky.getPosition(),e.schoki_service_pos=e.servicePointSchoki.getPosition(),e.milky_swing_pos=e.pointMilky.getPosition(),e.schoki_swing_pos=e.pointSchoki.getPosition(),e.control_1_pos=e.controlPoint1.getPosition(),e.control_2_pos=e.controlPoint2.getPosition(),e.projectile.active=!1,e.animMilkyHand.node.active=!1,e.animSchokiHand.node.active=!1,e._isPvP||(e.aiDirection=e.isPlayerMilky?E.TO_SCHOKI:E.TO_MILKY),C.Instance.isQte1TrackingStartedSent||(C.Instance.isQte1TrackingStartedSent=!0,K.Send_QTE_INTERACTION(b.STARTED,w.BADMINTON,0,0,0)),e.reset(),t()}))},r.reset=function(){t.prototype.reset.call(this,this.qte_duration),this.qte_timer=this.qte_duration,this.labelStatus.string="",this.score=0,this.direction=-1,this.resetHitzone(),this._tutorialState=-1,this.hitTxt=m.t("str_QTE_perfect"),this.missTxt=m.t("str_QTE_miss"),C.Instance.success_amt=0,C.Instance.fail_amt=0,C.Instance.qte_time_spent=0},r.setState=function(){var i=n(o().mark((function i(e){var s=this;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.prototype.setState.call(this,e),i.t0=this.state,i.next=i.t0===P.INIT?4:i.t0===P.READY?5:i.t0===P.TUTORIAL?7:i.t0===P.PLAYING?10:i.t0===P.REVIVE?19:i.t0===P.GAMEOVER?25:30;break;case 4:return i.abrupt("break",30);case 5:return C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:nt.NONE}}),i.abrupt("break",30);case 7:return C.Instance.isInTutorial||(N.Instance.tutorialData.qteTutorials[y.Badminton]=!0,N.Instance.saveTutorialData()),this.tutorialPopup?this.tutorialPopup.show(y.Badminton,(function(){s.setState(P.PLAYING)}),this.max_score):this.setState(P.PLAYING),i.abrupt("break",30);case 10:return i.next=12,this.preStartGame();case 12:return this.animMilkyHand.node.active=!1,this.animSchokiHand.node.active=!1,400,250,this.playerNameCtrl.show(this.thisRig,this.otherRig,this.camera,this.isPlayerMilky?400:250,this.isPlayerMilky?250:400,0,-1),this.setGameState(nt.START),i.abrupt("break",30);case 19:return this.projectile.active=!1,this.playerNameCtrl.hide(),K.Send_QTE_INTERACTION(b.COMPLETED,w.BADMINTON,C.Instance.fail_amt,C.Instance.success_amt,C.Instance.qte_time_spent),C.Instance.isQte1TrackingStartedSent=!1,this.onRevive(),i.abrupt("break",30);case 25:return this.projectile.active=!1,this.playerNameCtrl.hide(),K.Send_QTE_INTERACTION(b.COMPLETED,w.BADMINTON,C.Instance.fail_amt,C.Instance.success_amt,C.Instance.qte_time_spent),C.Instance.isQte1TrackingStartedSent=!1,i.abrupt("break",30);case 30:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),r.setTutorialState=function(t){switch(this._tutorialState=t,t){case rt.MILKY_SERVE:this.projectile.active=!1,this.isServiced=!1,this.resetHitState(),this.updateHitZonePos(0),this.direction=E.TO_SCHOKI,this.milkyPlayer.animCtrl.PlayAnim(k.QTE1_SERVICE),this.elapsedTime=0,this.updateTravelTime(),this.updateProjectileStartPos(!0),this.calculateAIChance(!0,!0),this.animMilkyHand.node.active=!1,this.animSchokiHand.node.active=!1;break;case rt.SCHOKI_PASS_OK:this.direction=E.TO_MILKY,this.calculateAIChance(!0,!0),this.elapsedTime=0,this.isSwing=!1,this.updateProjectileStartPos(!1),this.animMilkyHand.node.active=!1,this.animSchokiHand.node.active=!1;break;case rt.MILK_PASS_OK:this.direction=E.TO_SCHOKI,this.calculateAIChance(!0,!0),this.elapsedTime=0,this.isSwing=!1,this.updateProjectileStartPos(!1),this.animMilkyHand.node.active=!1,this.animSchokiHand.node.active=!1;break;case rt.SCHOKI_PASS_MISS:break;case rt.FINISH:this.animMilkyHand.node.active=!1,this.animSchokiHand.node.active=!1,this.setState(P.PLAYING)}},r.onSwingDoneTutorial=function(){this._tutorialState==rt.MILKY_SERVE?this.setTutorialState(rt.SCHOKI_PASS_OK):this._tutorialState==rt.SCHOKI_PASS_OK?this.setTutorialState(rt.MILK_PASS_OK):this._tutorialState==rt.MILK_PASS_OK&&this.setTutorialState(rt.SCHOKI_PASS_MISS)},r.onSwingDone=function(){var t,i;this.isSwing&&(H.Instance.playHitSound(),this.state!=P.TUTORIAL?this.direction!=this.aiDirection&&(this.direction==E.TO_MILKY&&this.thisPlayer.character==A.MILKY?t=A.MILKY:this.direction==E.TO_SCHOKI&&this.thisPlayer.character==A.SCHOKI&&(t=A.SCHOKI),i=this.getHitState(),this._hitState=i,C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.ACTION,data:{id:t,state:i}})):this.onSwingDoneTutorial())},r.updateTutorial=function(t){switch(this.game_state){case nt.PASS:this.currState,this.elapsedTime>=.5*this.travelTime&&(this._tutorialState==rt.MILKY_SERVE||this._tutorialState==rt.MILK_PASS_OK?this.animSchokiHand.node.active||this.thisPlayer.character!=A.SCHOKI||(this.animSchokiHand.node.active=!0,this.animSchokiHand.play()):this._tutorialState==rt.SCHOKI_PASS_OK&&(this.animMilkyHand.node.active||this.thisPlayer.character!=A.MILKY||(this.animMilkyHand.node.active=!0,this.animMilkyHand.play()))),this.elapsedTime>=1.05&&(this.isSwing||(this._tutorialState==rt.MILKY_SERVE||this._tutorialState==rt.MILK_PASS_OK?(this.schokiPlayer.animCtrl.PlayAnim(k.QTE1_SWING),this.isSwing=!0):this._tutorialState==rt.SCHOKI_PASS_OK&&(this.milkyPlayer.animCtrl.PlayAnim(k.QTE1_SWING),this.isSwing=!0))),this.elapsedTime>=this.travelTime&&this._tutorialState==rt.SCHOKI_PASS_MISS&&this.setTutorialState(rt.FINISH),this.updateProjectile(t)}},r.onActionReceived=function(t,i){if(t.state!=I.NOTSET){var e=t.state;this.updateHitState(e,i)}},r.onStateReceived=function(t,i){var e=this;_("onStateReceived",t.state,i),R.Instance.isHost&&this.onHostStateReceived(t,i),!i&&this._isPvP||(t.state==P.INIT?(this.setState(P.INIT),this.initQTE(null).then((function(){G.Instance.hide(!0).then((function(){var t=C.Instance.isInTutorial;H.Instance.stopBgm(),C.Instance.loadQteBgm(y.Badminton),C.Instance.playQteBgm(),e.sendState(P.READY,{tutorial:t||p.CHEAT_ALWAYS_TUTORIAL_QTE})}))}))):t.state==P.PLAYING?this.setState(P.PLAYING):t.state==P.READY?this.setState(P.READY):t.state==P.TUTORIAL?this.setState(P.TUTORIAL):t.state==P.GAMEOVER&&(this.qte_timer=0))},r.onHostStateReceived=function(t,i){i?this._hostState=t.state:this._clientState=t.state,this._hostState!=this._clientState&&this._isPvP?t.state==P.GAMEOVER&&(this.qte_timer=0):t.state==P.READY?t.data.tutorial?this.scheduleOnce((function(){C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.STATE,data:{state:P.TUTORIAL}})}),.01):this.scheduleOnce((function(){C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.STATE,data:{state:P.PLAYING}})}),.01):t.state==P.GAMEOVER&&R.Instance.sendRoomState({state:v.GAMEOVER})},r.sendState=function(t,i){void 0===i&&(i=null);var e={action:g.QTE,qte:y.Badminton,type:O.STATE,data:{state:t,data:i}};C.Instance&&C.Instance.sendAction(e)},r.onGameStateReceived=function(t,i){R.Instance.isHost&&this.onHostGameStateReceived(t,i),!i&&this._isPvP||this.setGameState(t.gamestate)},r.onHostGameStateReceived=function(t,i){if(i?this._hostGameState=t.gamestate:this._clientGameState=t.gamestate,this._hostGameState==this._clientGameState||!this._isPvP){if(this._isHost&&this._hostGameState==t.gamestate)return;if(!this._isHost&&this._clientGameState==t.gamestate)return;C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:t.gamestate}})}},r.setGameState=function(t){if(this.game_state!=t)switch(this.game_state=t,t){case nt.NONE:this.projectile.active=!1;break;case nt.START:this.projectile.active=!1,this.isServiced=!1,this.resetHitState(),this.updateHitZonePos(0),-1==this.direction?this.direction=E.TO_SCHOKI:this.direction=this.direction==E.TO_MILKY?E.TO_SCHOKI:E.TO_MILKY,this.direction==E.TO_SCHOKI?this.milkyPlayer.animCtrl.PlayAnim(k.QTE1_SERVICE):this.schokiPlayer.animCtrl.PlayAnim(k.QTE1_SERVICE),this.elapsedTime=0,this.updateTravelTime(),this.updateProjectileStartPos(!0),this.direction==this.aiDirection&&this.calculateAIChance();break;case nt.PASS:this.isSwing=!1,this.isMiss=!1,this.projectile.active=!0;break;case nt.FAIL:this.labelStatus.string=this.missTxt,H.Instance.playOneShot(M.MISS_BIRDIE),this.vfxBirdie.hideEffect()}},r.update=function(t){switch(C.Instance.qte_time_spent+=t,this.state){case P.INIT:case P.READY:break;case P.PLAYING:this.updateGame(t);break;case P.TUTORIAL:case P.GAMEOVER:}},r.updateGame=function(t){switch(this.game_state){case nt.NONE:break;case nt.START:this.isServiced;break;case nt.PASS:var i;this._isPvP?this.elapsedTime>=this.travelTime&&((i=this.currState)==I.PERFECT?(this.labelStatus.string=this.hitTxt,this.score++,this.progressUI.setProgress(this.score/this.max_score),_("hit birdie!!!"),this.progressUI.collectHeart(this.projectile.getWorldPosition(),this.camera),this.score>=this.max_score?(R.Instance.sendRoomState({state:v.REVIVE}),this.setState(P.REVIVE)):(this.elapsedTime=0,this.isSwing=!1),this.thisPlayer.character!=this.direction&&C.Instance.success_amt++,this.direction=this.direction==E.TO_MILKY?E.TO_SCHOKI:E.TO_MILKY,this.updateProjectileStartPos(!1),this.resetHitState()):i==I.MISS&&(this.labelStatus.string=this.missTxt,this.thisPlayer.character!=this.direction&&C.Instance.fail_amt++)):(i=this.currState,this.direction==this.aiDirection?(this.elapsedTime>=1.05&&(this.isSwing||this.direction!=this.aiDirection||(this.otherPlayer.animCtrl.PlayAnim(k.QTE1_SWING),this.isSwing=!0)),this.elapsedTime>=this.travelTime&&(i==I.PERFECT?(this.labelStatus.string=this.hitTxt,this.score++,this.progressUI.setProgress(this.score/this.max_score),_("hit birdie!!!"),this.progressUI.collectHeart(this.projectile.getWorldPosition(),this.camera),this.score>=this.max_score?(R.Instance.sendRoomState({state:v.REVIVE}),this.setState(P.REVIVE)):(this.elapsedTime=0,this.isSwing=!1),this.direction=this.direction==E.TO_MILKY?E.TO_SCHOKI:E.TO_MILKY,this.updateProjectileStartPos(!1),this.resetHitState()):i==I.MISS&&(this.labelStatus.string=this.missTxt))):this.elapsedTime>=this.travelTime&&(i==I.PERFECT?(this.labelStatus.string=this.hitTxt,C.Instance.success_amt++,this.score++,this.progressUI.setProgress(this.score/this.max_score),_("hit birdie!!!"),this.progressUI.collectHeart(this.projectile.getWorldPosition(),this.camera),this.score>=this.max_score?(R.Instance.sendRoomState({state:v.REVIVE}),this.setState(P.REVIVE)):(this.elapsedTime=0,this.isSwing=!1),this.direction=this.direction==E.TO_MILKY?E.TO_SCHOKI:E.TO_MILKY,this.updateProjectileStartPos(!1),this.resetHitState(),this.direction==this.aiDirection&&this.calculateAIChance()):i==I.MISS&&(this.labelStatus.string=this.missTxt,C.Instance.fail_amt++))),this.updateProjectile(t),this.projectile.position.y<0&&(this.currState==I.NOTSET||this.currState==I.MISS)&&(this._isPvP?this.thisPlayer.character!=this.direction&&(this.isMiss||(this.isMiss=!0,C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.ACTION,data:{state:I.MISS}}),C.Instance.fail_amt++)):(C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:nt.FAIL}}),this.thisPlayer.character==this.direction||this.isSwing||C.Instance.fail_amt++));break;case nt.FAIL:this.updateProjectile(t),this.projectile.position.y<0&&C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:nt.START}})}this.updateHitZonePos(t)},r.updateHitZonePos=function(t){},r.updateTime=function(t){if(this.state!=P.TUTORIAL){if(this.qte_timer>=0&&(this.qte_timer-=t,this.qte_timer<=this.WARNING_TIME&&this.previousTime!=Math.ceil(this.qte_timer)&&(this.previousTime=Math.ceil(this.qte_timer),0!=this.previousTime&&H.Instance.playOneShot(M.THREE_TWO_ONE))),this.qte_timer<0)return this.qte_timer=0,C.Instance.isInTutorial?(R.Instance.sendRoomState({state:v.REVIVE}),this.setState(P.REVIVE)):(this.setState(P.GAMEOVER),this.sendState(P.GAMEOVER,{timeover:!0})),void this.progressUI.updateTime(this.qte_timer,this.qte_duration);this.progressUI.updateTime(this.qte_timer,this.qte_duration)}},r.setProjectilePath=function(t,i,e,s){this.start_pos=t,this.cpos_1=i,this.cpos_2=e,this.end_pos=s},r.updateProjectile=function(t){var i=this.elapsedTime/this.travelTime,e=this.bezier(i,this.start_pos,this.cpos_1,this.cpos_2,this.end_pos);this.elapsedTime+=t,this.updateTime(t);var s=this.projectile.getPosition(),a=T(e.x-s.x,e.y-s.y,e.z-s.z).normalize(),n=new d;d.rotationTo(n,T(0,-1,0),a),this.projectile.setRotation(n),this.projectile.setPosition(e)},r.updateTravelTime=function(){C.Instance.success_amt>=5?this.travelTime=this.travel_duration[ot.SECOND_PHASE]:this.travelTime=this.travel_duration[ot.FIRST_PHASE]},r.updateProjectileStartPos=function(t){void 0===t&&(t=!1);var i,e,s,a,n=this.direction==E.TO_MILKY?this.pointMilky.position:this.pointSchoki.position;this.projectile.setPosition(n),this.thisPlayer.character!=this.direction&&this.vfxBirdie.showEffect(this.travelTime,this.travelTime*this.hitRange[0],this.travelTime*(this.hitRange[1]-this.hitRange[0])),t?(i=this.direction==E.TO_SCHOKI?this.milky_service_pos:this.schoki_service_pos,e=this.direction==E.TO_SCHOKI?this.control_1_pos:this.control_2_pos,s=this.direction==E.TO_SCHOKI?this.control_2_pos:this.control_1_pos,a=this.direction==E.TO_SCHOKI?this.schoki_swing_pos:this.milky_swing_pos):(i=this.direction==E.TO_SCHOKI?this.milky_swing_pos:this.schoki_swing_pos,e=this.direction==E.TO_SCHOKI?this.control_1_pos:this.control_2_pos,s=this.direction==E.TO_SCHOKI?this.control_2_pos:this.control_1_pos,a=this.direction==E.TO_SCHOKI?this.schoki_swing_pos:this.milky_swing_pos),this.setProjectilePath(i,e,s,a)},r.calculateAIChance=function(t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.currState==I.NOTSET&&(_("random"),100*Math.random()<=this.ai_success_chance?this.currState=I.PERFECT:this.currState=I.MISS),t&&(this.currState=i?I.PERFECT:I.MISS);var e=[100*this.missRange[0],100*this.missRange[1]];this.hitMoment=Math.floor(Math.random()*(e[1]-e[0]+1)+e[0]),this.hitMoment=this.hitMoment/100,_("hitMoment ",this.hitMoment)},r.onTouchResult=function(){if(this.state==P.PLAYING)switch(this.game_state){case nt.NONE:case nt.FAIL:case nt.START:break;case nt.PASS:if(this.thisPlayer.character==this.direction)return;this.isSwing||(this.thisPlayer.animCtrl.PlayAnim(k.QTE1_SWING),this.getHitState()!=I.NOTSET&&(this.isSwing=!0))}},r.getHitState=function(){var t=this.elapsedTime/this.travelTime;I.NOTSET;return t>this.hitRange[0]&&t<this.hitRange[1]?I.PERFECT:t<this.missRange[0]?I.NOTSET:I.MISS},r.onServiceDone=function(){this.isServiced=!0,H.Instance.playHitSound(),C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:nt.PASS}})},r.getServiceVFX=function(){return this.thisPlayer.character==this.direction?f.RACKET_HIT_PERFECT:this.otherPlayer.character==this.direction?f.RACKET_HIT:f.NONE},r.getSwingVFX=function(){return this.thisPlayer.character!=this.direction&&this.currState==I.PERFECT?f.RACKET_HIT_PERFECT:this.otherPlayer.character!=this.direction&&this.currState==I.PERFECT?f.RACKET_HIT:f.NONE},r.bezier=function(t,i,e,s,a){var n=3*(e.x-i.x),o=3*(s.x-e.x)-n,r=a.x-i.x-n-o,h=3*(e.y-i.y),c=3*(s.y-e.y)-h,l=a.y-i.y-h-c,S=3*(e.z-i.z),_=3*(s.z-e.z)-S,T=a.z-i.z-S-_,d=r*Math.pow(t,3)+o*Math.pow(t,2)+n*t+i.x,m=l*Math.pow(t,3)+c*Math.pow(t,2)+h*t+i.y,I=T*Math.pow(t,3)+_*Math.pow(t,2)+S*t+i.z;return new u(d,m,I)},r.updateHitState=function(t,i){t!=I.NOTSET&&(t==I.MISS&&C.Instance&&C.Instance.sendAction({action:g.QTE,qte:y.Badminton,type:O.GAMESTATE,data:{gamestate:nt.FAIL}}),this.thisPlayer.character==this.direction&&this.otherPlayer.animCtrl.PlayAnim(k.QTE1_SWING),this.currState=t)},r.resetHitState=function(){this.currState=I.NOTSET},r.resetHitzone=function(){},i}(Q)).Instance=null,Z=i((X=at).prototype,"qte_duration",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),J=i(X.prototype,"max_score",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),$=i(X.prototype,"travel_duration",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(X.prototype,"ai_success_chance",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),it=i(X.prototype,"labelStatus",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(X.prototype,"animMilkyHand",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(X.prototype,"animSchokiHand",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=X))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/QTE1Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAnimCtrl.ts","./QTEPlayer.ts"],(function(t){"use strict";var r,n,e,i,o;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){i=t.CHARACTER_ANIM},function(t){o=t.QTEPlayer}],execute:function(){var s;n._RF.push({},"95b757obElCsJWQsr34GWwl","QTE1Player",void 0);var c=e.ccclass;e.property,t("QTE1Player",c("QTE1Player")(s=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.init=function(){t.prototype.init.call(this),this.animCtrl&&this.animCtrl.PlayAnim(i.IDLE)},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/QTE2Input.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QTE2Manager.ts"],(function(t){"use strict";var n,e,o,r,a,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Input,a=t.KeyCode,c=t.Component},function(t){s=t.QTE2Manager}],execute:function(){var i;e._RF.push({},"d0367MvMCVHtaUzgrqvbvRm","QTE2Input",void 0);var u=o.ccclass;o.property,t("QTE2Input",u("QTE2Input")(i=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).manager=null,n}n(e,t);var o=e.prototype;return o.onLoad=function(){this.manager=this.getComponent(s),this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this)},o.onKeyDown=function(t){},o.onKeyUp=function(t){switch(t.keyCode){case a.DIGIT_1:case a.DIGIT_2:case a.DIGIT_3:console.log("onKeyUp","DIGIT_1")}},o.onTouchStart=function(t){var n=t.getUILocation(),e=this.manager.getLaneFromPosX(n.x);this.manager.checkHitStatus(e)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/QTE2Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var i,e,n,r,a,o,l,s,c,u,p,h,f,m,d,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Sprite,s=t.SpriteFrame,c=t.ParticleSystem,u=t.Animation,p=t.Node,h=t.NodePool,f=t.instantiate,m=t.tween,d=t.Component},function(t){v=t.QTE_HIT_STATE,y=t.PLAYER_CHARACTER}],execute:function(){var H,b,P,F,g,C,S,T,M,w,x,A,k,z,E,L,R;a._RF.push({},"66b00cVAURKKpfNUWFlfACg","QTE2Lane",void 0);var V=o.ccclass,I=o.property;t("QTE2Lane",(H=V("QTE2Lane"),b=I(l),P=I(s),F=I(s),g=I(c),C=I(c),S=I(u),T=I(p),H((x=i((w=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(i,"spriteCircle",x,r(i)),n(i,"normalFrame",A,r(i)),n(i,"hitFrame",k,r(i)),n(i,"particleMilky",z,r(i)),n(i,"particleSchoki",E,r(i)),n(i,"animationMiss",L,r(i)),n(i,"vfxHitTemplate",R,r(i)),i.tweenHit=null,i.vfxHitPool=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.spriteCircle.spriteFrame=this.normalFrame,this.particleMilky.node.active=!1,this.particleSchoki.node.active=!1,this.animationMiss.node.active=!1,this.vfxHitPool=new h;for(var t=0;t<6;t++){var i=f(this.vfxHitTemplate);this.vfxHitPool.put(i)}},a.onDestroy=function(){this.vfxHitPool.clear(),this.vfxHitPool=null},a.onHit=function(){this.tweenHit&&this.tweenHit.stop(),this.spriteCircle.spriteFrame=this.hitFrame,this.tweenHit=m(this.spriteCircle).delay(.15).set({spriteFrame:this.normalFrame}).start()},a.getVFXHit=function(){return this.vfxHitPool.size()>0?this.vfxHitPool.get():f(this.vfxHitTemplate)},a.putVFXHit=function(t){this.vfxHitPool.put(t)},a.onHitResult=function(t,i,e){i==v.PERFECT?(t==y.MILKY?this.playParticleAndStop(this.particleMilky.node,e):this.playParticleAndStop(this.particleSchoki.node,e),this.playTabVFX(t,this.getVFXHit(),e)):i==v.MISS&&(this.animationMiss.node.active=!0,this.animationMiss.stop(),this.animationMiss.play())},a.playTabVFX=function(t,i,e){var n=this,r=this.getVFXHit();r.active=!0,this.node.addChild(r),r.setWorldPosition(e),r.getChildByPath("Avatar/Milky").active=t==y.MILKY,r.getChildByPath("Avatar/Schoki").active=t==y.SCHOKI;var a=r.getComponent(u),o=a.defaultClip.duration;a.play(),this.scheduleOnce((function(){n.putVFXHit(r)}),o)},a.playParticleAndStop=function(t,i){var e=.25,n=f(t);this.node.addChild(n),n.active=!0,n.setWorldPosition(i);var r=n.getPosition();r.z=100,n.setPosition(r),n.getComponentsInChildren(c).forEach((function(t){e=Math.max(e,t.duration)})),m(n).delay(e).removeSelf().start()},i}(d)).prototype,"spriteCircle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(w.prototype,"normalFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(w.prototype,"hitFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"particleMilky",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(w.prototype,"particleSchoki",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(w.prototype,"animationMiss",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(w.prototype,"vfxHitTemplate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/QTE2Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameHelper.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./UserDataManager.ts","./CharacterAnimCtrl.ts","./TrackingEvents.ts","./TrackingMgr.ts","./QTEController.ts","./QTEManagerBase.ts","./QTETransition.ts","./QTEVFX.ts","./QTE2Lane.ts","./QTE2Note.ts","./QTE2Player.ts"],(function(t){"use strict";var e,n,a,i,r,s,o,c,l,u,h,p,d,T,f,I,E,m,S,g,A,_,y,N,R,v,C,P,b,M,D,O,Q,k,L,G,w,z,H,Y,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,a=t.inheritsLoose,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,l=t.Enum,u=t.CCInteger,h=t.Node,p=t.UITransform,d=t.instantiate,T=t.v3,f=t.NodePool,I=t.clamp},function(t){E=t.default,m=t.QTE_HIT_STATE,S=t.QTE_TYPE,g=t.VFX_CHARACTER,A=t.QTE_STATE,_=t.ROOM_STATE,y=t.GameActions,N=t.QTE_MESSAGE_TYPE,R=t.AudioSrc},function(t){v=t.GameHelper},function(t){C=t.NetworkManager},function(t){P=t.RunningGameManager},function(t){b=t.SoundManager},function(t){M=t.UserDataManager},function(t){D=t.CHARACTER_ANIM},function(t){O=t.default},function(t){Q=t.TutorialAction,k=t.QteName},function(t){L=t.QTEController},function(t){G=t.QTEManagerBase},function(t){w=t.QTETransition},function(t){z=t.QTEVFX},function(t){H=t.QTE2Lane},function(t){Y=t.QTE2Note},function(t){V=t.QTE2Player}],execute:function(){var F,U,x,q,K,B,X,W,j,J,Z,$,tt,et,nt,at,it,rt,st,ot,ct,lt,ut,ht,pt,dt,Tt,ft,It,Et,mt,St,gt,At,_t,yt,Nt,Rt;t("QTE2_TRACK_NO",void 0),o._RF.push({},"bffa367FbhNe6foxRgMNxyS","QTE2Manager",void 0);var vt,Ct=c.ccclass,Pt=c.property;!function(t){t[t.TRACK_1=0]="TRACK_1",t[t.TRACK_2=1]="TRACK_2",t[t.TRACK_3=2]="TRACK_3"}(vt||(vt=t("QTE2_TRACK_NO",{})));var bt=t("QTE2TRACKDATA",(F=Ct("QTE2TRACKDATA"),U=Pt({type:l(vt)}),x=Pt({type:u,min:0,max:100,slide:!0}),q=Pt(),K=Pt(),B=Pt(),X=Pt(),W=Pt([Number]),F((Z=e((J=function(){n(this,"trackNo",Z,this),n(this,"rate",$,this),n(this,"duration",tt,this),n(this,"delay",et,this),n(this,"lane",nt,this),n(this,"performNotes",at,this),n(this,"quantities",it,this),this.notes=[]}).prototype,"trackNo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"rate",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tt=e(J.prototype,"duration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=e(J.prototype,"delay",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nt=e(J.prototype,"lane",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=e(J.prototype,"performNotes",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),it=e(J.prototype,"quantities",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=J))||j)),Mt=function(){function t(){this.node=null,this.isDone=!1,this.noteData=null,this.posY=0,this.player1State=m.NOTSET,this.player2State=m.NOTSET,this.updatingState=m.NOTSET}var e=t.prototype;return e.hasScored=function(){return this.player1State!=m.NOTSET&&this.player2State!=m.NOTSET},e.getScore=function(){return this.player1State==m.PERFECT&&this.player2State==m.PERFECT?1:0},t}();t("QTE2Manager",(rt=Ct("QTE2Manager"),st=Pt(h),ot=Pt(h),ct=Pt(h),lt=Pt([bt]),ut=Pt({type:u,min:0,max:300,slide:!0}),ht=Pt({type:u,min:0,max:100,slide:!0}),pt=Pt({type:u,min:0,max:100,slide:!0}),rt(((Rt=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"noteTemplate",ft,i(e)),n(e,"laneTemplate",It,i(e)),n(e,"laneContainer",Et,i(e)),n(e,"visibleNoteRange",mt,i(e)),n(e,"hideNoteRange",St,i(e)),n(e,"tracks",gt,i(e)),e._performNotes=12,e._duration=10,e._delayTime=3,n(e,"checkRangePercent",At,i(e)),n(e,"missRangePercent",_t,i(e)),n(e,"AIPerfectRate",yt,i(e)),n(e,"lanePadding",Nt,i(e)),e.vfx=null,e.uiTransform=null,e.pool=null,e.laneNodes=[],e.displayDatas=[],e.nodeSpeed=1e3,e.timeInterval=0,e.noteSize=0,e.totalHit=0,e._currAnim=D.NONE,e}a(e,t);var o=e.prototype;return o.onLoad=function(){e.Instance=this,this.node.active=!1,this.vfx=this.getComponent(z),this.uiTransform=this.getComponent(p),E.CHEAT_HIDE_TOP_QTE_UI&&(this.topUI.active=!1)},o.onDestroy=function(){e.Instance=null,this.pool&&(this.pool.clear(),this.pool=null)},o.createInitData=function(){for(var t=[],n=0,a=0;a<this.tracks.length;a++){n+=this.tracks[a].rate,t[a]=n}for(var i=Math.floor(Math.random()*n),r=0,s=0;s<t.length;s++)if(i<t[s]){r=s;break}for(var o=this.tracks[r],c=Object.assign(new bt,{trackNo:o.trackNo,duration:o.duration,delay:o.delay,lane:o.lane,performNotes:o.performNotes,notes:[]}),l=0;l<o.quantities.length;l++){var u=v.getRndIntegerInclusive(1,100)<=e.Instance.AIPerfectRate?m.PERFECT:m.MISS,h=u==m.PERFECT?v.getRndIntegerInclusive(-50,50):-100;c.notes.push({time:o.quantities[l],lane:v.getRndIntegerInclusive(0,o.lane-1),AIState:u,AIPercent:h})}return c},o.reset=function(){t.prototype.reset.call(this,this.data.duration),this._duration=this.data.duration,this._delayTime=this.data.delay,this._performNotes=this.data.performNotes,P.Instance.loadQteBgm(S.Music,this.data.trackNo),this.timeInterval=-this._delayTime,this._thisInfo.score=0},o.addPlayer=function(t){return t.addComponent(V)},o.initQTE=function(e){var n=this;return t.prototype.initQTE.call(this,e),this.reset(),new Promise((function(t,a){n.initPlayers(),n.laneContainer.removeAllChildren();for(var i=0;i<e.lane;i++){var r=d(n.laneTemplate);r.active=!0,n.laneNodes[i]=r,n.laneContainer.addChild(r);var s=r.getComponent(p).height,o=T(n.getLanePosX(i),-s);r.setPosition(o)}if(!n.pool){n.pool=new f;for(var c=n.pool.size();c<15;c++){var l=d(n.noteTemplate);n.pool.put(l),n.noteSize<=0&&(n.noteSize=l.getComponent(p).height)}}n.displayDatas=[];for(var u=0;u<n.data.notes.length;u++){var h=n.data.notes[u],I=Object.assign(new Mt,{node:null,isDone:!1,noteData:h,player1State:m.NOTSET,player2State:m.NOTSET});n.displayDatas.push(I),n.updateNotePosition(I,n.timeInterval)}L.Instance.characterAnimController&&L.Instance.characterAnimController.playVFX(g.MUSIC_NOTE,!1),P.Instance.isQte2TrackingStartedSent||(P.Instance.isQte2TrackingStartedSent=!0,O.Send_QTE_INTERACTION(Q.STARTED,k.MUSIC_GAME,0,0,0)),t()}))},o.setState=function(){var e=r(s().mark((function e(n){var a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.setState.call(this,n),e.t0=n,e.next=e.t0===A.READY?4:e.t0===A.TUTORIAL?6:e.t0===A.PLAYING?10:e.t0===A.REVIVE?15:e.t0===A.GAMEOVER?19:22;break;case 4:return this.setState(A.PLAYING),e.abrupt("break",22);case 6:return M.Instance.tutorialData.qteTutorials[S.Music]=!0,M.Instance.saveTutorialData(),this.tutorialPopup?this.tutorialPopup.show(S.Music,(function(){a.setState(A.PLAYING)}),this._performNotes):this.setState(A.PLAYING),e.abrupt("break",22);case 10:return b.Instance.playOneShot(R.DRUM_ROLL),this.preStartGame(),500,this.playerNameCtrl.show(this.thisRig,this.otherRig,this.camera,500,500,0,-1),e.abrupt("break",22);case 15:return O.Send_QTE_INTERACTION(Q.COMPLETED,k.MUSIC_GAME,P.Instance.fail_amt,P.Instance.success_amt,P.Instance.qte_time_spent),P.Instance.isQte2TrackingStartedSent=!1,this.onRevive(),e.abrupt("break",22);case 19:return O.Send_QTE_INTERACTION(Q.COMPLETED,k.MUSIC_GAME,P.Instance.fail_amt,P.Instance.success_amt,P.Instance.qte_time_spent),P.Instance.isQte2TrackingStartedSent=!1,e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.getNote=function(){return this.pool.get()||d(this.noteTemplate)},o.putNote=function(t){this.pool.put(t)},o.getLanePosX=function(t){return this.data?(t-(this.data.lane-1)/2)*this.lanePadding:0},o.getLaneFromPosX=function(t){var e=t-this.uiTransform.width/2,n=Math.round(e/this.lanePadding)+(this.data.lane-1)/2;return n<0&&(n=0),n>=this.data.lane&&(n=this.data.lane-1),n},o.onStateReceived=function(t,e){var n=this;if(C.Instance.isHost&&this.onHostStateReceived(t,e),e||!this._isPvP)if(t.state==A.INIT){var a=t.data;this.setState(A.INIT),this.initQTE(a).then((function(){w.Instance.hide(!0).then((function(){b.Instance.stopBgm(),P.Instance.loadQteBgm(S.Music,a.trackNo);var t=M.Instance.tutorialData.qteTutorials[S.Music];n.sendState(A.READY,{tutorial:!t||E.CHEAT_ALWAYS_TUTORIAL_QTE})}))})),this.playCharacterAnim(D.QTE2_IDLE_START)}else t.state==A.TUTORIAL?this.setState(A.TUTORIAL):t.state==A.PLAYING?this.setState(A.PLAYING):t.state==A.REVIVE?this.setState(A.REVIVE):t.state==A.GAMEOVER&&(this.timeInterval=this._duration)},o.onActionReceived=function(t,e){this.updateNoteData(e,t.id,t.state)},o.onGameInfoReceived=function(t,e){if(this._isHost!=e||!C.Instance.isPvp){this._otherInfo.score=t.score;var n=Math.max(this._otherInfo.score,this._thisInfo.score);this.progressUI.setProgress(n/this._performNotes)}this.checkQTEPassed()&&(this.sendState(A.REVIVE),C.Instance.sendRoomState({state:_.REVIVE}))},o.onHostStateReceived=function(t,e){e?this._hostState=t.state:this._clientState=t.state,this._hostState!=this._clientState&&this._isPvP?t.state==A.GAMEOVER&&(this.timeInterval=this._duration):(t.state==A.READY&&(t.data.tutorial?this.scheduleOnce((function(){P.Instance.sendAction({action:y.QTE,qte:S.Music,type:N.STATE,data:{state:A.TUTORIAL}})}),.01):this.scheduleOnce((function(){P.Instance.sendAction({action:y.QTE,qte:S.Music,type:N.STATE,data:{state:A.PLAYING}})}),.01)),t.state==A.GAMEOVER&&C.Instance.sendRoomState({state:_.GAMEOVER}))},o.sendState=function(t,e){void 0===e&&(e=null);var n={action:y.QTE,qte:S.Music,type:N.STATE,data:{state:t,data:e}};P.Instance&&P.Instance.sendAction(n)},o.updateNoteData=function(t,e,n){var a=this.displayDatas[e];if(a&&n!=m.NOTSET&&!a.isDone&&0==a.hasScored()){var i,r=!1;if(t&&a.player1State==m.NOTSET?(a.player1State=n,r=!0):t||a.player2State!=m.NOTSET||(a.player2State=n,r=!0),a.node&&n==m.PERFECT&&a.node.getComponent(Y).activePlayer(t),r&&n==m.PERFECT&&this.laneNodes[a.noteData.lane].getComponent(H).onHitResult(t?C.Instance.lobbyInfo.hostCharacter:1-C.Instance.lobbyInfo.hostCharacter,n,a.node.getWorldPosition()),a.hasScored())if(a.getScore()>0)this._thisInfo.score=this.getPerfectnNote(),this.progressUI.collectHeart2D(null==(i=a.node)?void 0:i.getWorldPosition(),!1),this.totalHit++,P.Instance&&P.Instance.sendAction({action:y.QTE,qte:S.Music,type:N.GAMEINFO,data:{score:this._thisInfo.score}})}},o.playCharacterAnim=function(t){t!=this._currAnim&&(this._currAnim=t,L.Instance.characterAnimController&&L.Instance.characterAnimController.playMilkyAnim(this._currAnim,(function(){t==D.QTE2_IDLE_START&&L.Instance.characterAnimController.playMilkyAnim(D.QTE2_IDLE,null)})),L.Instance.characterAnimController&&L.Instance.characterAnimController.playSchokiAnim(this._currAnim,(function(){t==D.QTE2_IDLE_START&&L.Instance.characterAnimController.playSchokiAnim(D.QTE2_IDLE,null)})))},o.updateNotePosition=function(t,e){var n=t.noteData;(t.posY=(n.time-e)*this.speed,t.posY<=this.visibleNoteRange&&(t.node||(t.node=this.getNote(),t.node.getComponent(Y).init(),t.node.active=!0,this.laneNodes[n.lane]&&this.laneNodes[n.lane].addChild(t.node))),t.node&&!t.hasScored()&&t.node.setPosition(T(0,t.posY)),t.updatingState=this.getStateByPosition(t.posY),this._isPvP)||t.updatingState==t.noteData.AIState&&t.noteData.AIState!=m.NOTSET&&this.getDistancePercent(t.posY)<t.noteData.AIPercent&&this.updateNoteData(!this._isHost,this.displayDatas.indexOf(t),t.noteData.AIState);this.checkHideNote(t)},o.checkHideNote=function(t){var e=this;if(!t.isDone){var n=t.posY<-this.noteSize*this.missRangePercent/100,a=t.hasScored(),i=t.player1State==m.MISS||t.player2State==m.MISS;if(n||a||i){var r=t.node.getWorldPosition();r.y;var s=t.getScore()>0,o=s?m.PERFECT:m.MISS;this.vfx.showLabelStatus(s?"PERFECT":"MISS",r),this.onSoundTrigger(o),t.isDone=!0,s?(t.node.getComponent(Y).playPerfectEffect().then((function(){e.putNote(t.node)})),this.playCharacterAnim(D.QTE2_PLAYING),L.Instance.characterAnimController&&L.Instance.characterAnimController.playVFX(g.MUSIC_NOTE,!0)):(t.node.getComponent(Y).playMissEffect().then((function(){e.putNote(t.node)})),this.playCharacterAnim(D.QTE2_IDLE),L.Instance.characterAnimController&&L.Instance.characterAnimController.playVFX(g.MUSIC_NOTE,!1),this.laneNodes[t.noteData.lane].getComponent(H).onHitResult(C.Instance.selectedCharacter,m.MISS,t.node.getWorldPosition()))}}},o.onSoundTrigger=function(t){t==m.MISS?(b.Instance.playOneShot(R.MUSIC_MISS),P.Instance.fail_amt++):t==m.PERFECT&&(b.Instance.playOneShot(R.MUSIC_MAKE),P.Instance.success_amt++)},o.checkHitStatus=function(t){if(this.state!=A.PLAYING)return m.NOTSET;if(t<0||t>=this.data.lane)return m.NOTSET;this.laneNodes[t].getComponent(H).onHit();var e=this.displayDatas.filter((function(e){return e.noteData.lane==t&&!e.isDone}));if((e=e.sort((function(t,e){return t.posY>e.posY?1:-1}))).length>0){var n=e[0],a=this.displayDatas.indexOf(n),i=this.getStateByPosition(n.posY);return i!=m.NOTSET&&(i==m.PERFECT||m.MISS,P.Instance&&P.Instance.sendAction({action:y.QTE,qte:S.Music,type:N.ACTION,data:{id:a,state:i}})),i}return m.NOTSET},o.getDistancePercent=function(t){return 100*t*100/(this.noteSize*this.checkRangePercent)},o.getStateByPosition=function(t){return t<this.noteSize*this.checkRangePercent/100?t>this.noteSize*this.missRangePercent/100?m.MISS:m.PERFECT:m.NOTSET},o.getPerfectnNote=function(){return this.displayDatas.filter((function(t){return t.hasScored()&&t.getScore()>0})).length},o.checkQTEPassed=function(){return!!C.Instance.isHost&&Math.max(this._otherInfo.score,this._thisInfo.score)>=this._performNotes},o.update=function(t){var e=this;if(this.state==A.PLAYING){P.Instance.qte_time_spent+=t;var n=this.timeInterval;this.timeInterval+=t;var a=this._duration-this.timeInterval;if(a<=this.WARNING_TIME&&a>0&&this.previousTime!=Math.ceil(a)&&(this.previousTime=Math.ceil(a),b.Instance.playOneShot(R.THREE_TWO_ONE)),n*this.timeInterval<=0&&P.Instance.playQteBgm(),this.progressUI.updateTime(this._duration-this.timeInterval,this._duration+this._delayTime),this.timeInterval>this._duration)return this.setState(A.GAMEOVER),void this.sendState(A.GAMEOVER,{timeover:!0});for(var i=0;i<this.speedTimes.length;i++)this.totalHit>this.speedTimes[i]&&this.speedTarget<this.speeds[i]&&(this.speedTarget=this.speeds[i]);var r=this.speedTarget-this.speed,s=r>0?1:-1,o=this.speedAccelerate*s*t;o=I(o,0,r),this.speed+=o,this.displayDatas.forEach((function(t){e.updateNotePosition(t,e.timeInterval)}))}},e}(G)).Instance=null,ft=e((Tt=Rt).prototype,"noteTemplate",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(Tt.prototype,"laneTemplate",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(Tt.prototype,"laneContainer",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(Tt.prototype,"visibleNoteRange",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),St=e(Tt.prototype,"hideNoteRange",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-150}}),gt=e(Tt.prototype,"tracks",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=e(Tt.prototype,"checkRangePercent",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_t=e(Tt.prototype,"missRangePercent",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yt=e(Tt.prototype,"AIPerfectRate",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nt=e(Tt.prototype,"lanePadding",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),dt=Tt))||dt));o._RF.pop()}}}));

System.register("chunks:///_virtual/QTE2Note.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,a,o,p,s,c,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.Sprite,s=e.SpriteFrame,c=e.v3,l=e.UIOpacity,u=e.tween,y=e.Component}],execute:function(){var m,h,f,v,P,d,w,g,F,b,S;a._RF.push({},"91080eGYMdJTIvSSN6PMu72","QTE2Note",void 0);var N=o.ccclass,C=o.property;e("QTE2Note",(m=N("QTE2Note"),h=C(p),f=C(p),v=C(s),P=C(s),m((g=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"spritePlayer1",g,n(t)),r(t,"spritePlayer2",F,n(t)),r(t,"inactiveSpriteFrame",b,n(t)),r(t,"activeSpriteFrame",S,n(t)),t.tweenNode=null,t.tweenOpacity=null,t}i(t,e);var a=t.prototype;return a.init=function(){this.tweenNode&&this.tweenNode.stop(),this.node.scale=c(1,1),this.node.getComponent(l).opacity=255,this.node.setRotationFromEuler(c(0,0)),this.tweenOpacity&&this.tweenOpacity.stop(),this.spritePlayer1.spriteFrame=this.inactiveSpriteFrame,this.spritePlayer2.spriteFrame=this.inactiveSpriteFrame,this.spritePlayer1.getComponent(l).opacity=200,this.spritePlayer2.getComponent(l).opacity=200},a.activePlayer=function(e){e?(this.spritePlayer1.spriteFrame=this.activeSpriteFrame,this.spritePlayer1.getComponent(l).opacity=255):(this.spritePlayer2.spriteFrame=this.activeSpriteFrame,this.spritePlayer2.getComponent(l).opacity=255)},a.playPerfectEffect=function(){var e=this;return new Promise((function(t,i){e.tweenNode=u(e.node).to(.5,{scale:c(1.2,1.2)},{easing:"circOut"}).call((function(){return t()})).start(),e.tweenOpacity=u(e.node.getComponent(l)).to(.5,{opacity:0}).start()}))},a.playMissEffect=function(){var e=this;return new Promise((function(t,i){e.tweenNode=u(e.node).to(.5,{eulerAngles:c(0,0,-30)}).call((function(){return t()})).start(),e.tweenOpacity=u(e.node.getComponent(l)).to(.5,{opacity:0}).start()}))},t}(y)).prototype,"spritePlayer1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(w.prototype,"spritePlayer2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(w.prototype,"inactiveSpriteFrame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(w.prototype,"activeSpriteFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/QTE2Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAnimCtrl.ts","./QTEPlayer.ts"],(function(t){"use strict";var r,n,e,i,o;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){i=t.CHARACTER_ANIM},function(t){o=t.QTEPlayer}],execute:function(){var c;n._RF.push({},"5f5b8b/sBdETKxbugpauoWM","QTE2Player",void 0);var s=e.ccclass;e.property,t("QTE2Player",s("QTE2Player")(c=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.init=function(){t.prototype.init.call(this),this.animCtrl&&this.animCtrl.PlayAnim(i.IDLE)},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3Crab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./QTE3LevelDesign.ts","./QTE3Manager.ts"],(function(t){"use strict";var e,i,s,n,a,o,l,r,h,c,u,p,v,m,f,g,d,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Node,r=t.BoxCollider,h=t.SkeletalAnimation,c=t.v3,u=t.Vec3,p=t.Component},function(t){v=t.PLAYER_CHARACTER},function(t){m=t.NetworkManager},function(t){f=t.RunningGameManager},function(t){g=t.SoundManager},function(t){d=t.WALL},function(t){C=t.QTE3Manager}],execute:function(){var T,b,R,y,P,w,E,O,I;a._RF.push({},"f44f0wVk7VIyrUuBN28v1Hu","QTE3Crab",void 0);var N=o.ccclass,W=o.property;t("QTE3Crab",(T=N("QTE3Crab"),b=W(l),R=W(l),T((w=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,s(e,"envObject",w,n(e)),s(e,"followObj",E,n(e)),e.isActive=!1,e.startPos=null,e.endPos=null,e.wallPos=null,e.percentageComplete=0,e.travelTime=0,e.travelDuration=1.5,e.travelMultiplier=1.1,s(e,"WARNING_THRESHOLD",O,n(e)),s(e,"WARNING_THRESHOLD_BOUNCE",I,n(e)),e.target=v.MILKY,e.isClose=!1,e.isBounced=!1,e.bouncedWall=d.LEFT,e.isTouchWall=!1,e.animClip=null,e.rect={x:0,y:0,width:0,height:0},e}i(e,t);var a=e.prototype;return a.init=function(){this.node.active=!1,this.isActive=!1;var t=this.node.getComponent(r);this.rect.width=.5*t.size.x,this.rect.height=.5*t.size.y,this.active(!1);for(var e=0;e<3;e++)this.envObject[e].active=e==m.Instance.lobbyInfo.environment;this.animClip=this.envObject[0].getComponent(h),this.animClip.play("CrabIdle")},a.followObject=function(t){this.followObj=t},a.setDestination=function(t,e,i,s,n){void 0===s&&(s=!1),void 0===n&&(n=d.LEFT),this.startPos=t,this.endPos=e,this.target=i,this.isBounced=s,this.bouncedWall=n,this.followObj=null,this.isBounced&&(this.wallPos=this.bouncedWall==d.LEFT?C.Instance.milkyWall.getPosition():C.Instance.schokiWall.getPosition()),this.animClip.play("CrabFalling")},a.setSpeed=function(t){this.travelDuration=t},a.active=function(t){this.isActive=t,this.node.active=t,this.percentageComplete=0,this.travelTime=0,this.isClose=!1,this.isTouchWall=!1,0==t?this.node.position.set(9999,9999,9999):g.Instance.playReleaseSFX(),this.updateRect()},a.getRect=function(){return this.rect},a.updateRect=function(){this.rect.x=this.node.getPosition().x,this.rect.y=this.node.getPosition().y},a.update=function(t){if(this.followObj)this.node.setWorldPosition(this.followObj.getWorldPosition());else if(this.isActive)if(this.isBounced)if(this.isTouchWall){var e=2*this.travelDuration/3;this.travelTime+=t,this.percentageComplete=this.travelTime/e;var i=c(0,0,0);u.lerp(i,this.wallPos,this.endPos,this.percentageComplete),this.node.setPosition(i),this.updateRect(),this.percentageComplete>this.WARNING_THRESHOLD_BOUNCE&&this.percentageComplete<1&&!this.isClose&&(this.isClose=!0),this.travelTime>=e*this.travelMultiplier&&(g.Instance.playFallGroundSFX(),this.travelTime=0,f.Instance.fail_amt++,this.active(!1))}else{var s=1*this.travelDuration/3;if(this.travelTime<s){this.travelTime+=t,this.percentageComplete=this.travelTime/s,this.percentageComplete=this.percentageComplete>1?1:this.percentageComplete;var n=c(0,0,0);u.lerp(n,this.startPos,this.wallPos,this.percentageComplete),this.node.setPosition(n),this.updateRect(),this.travelTime>=s&&(this.travelTime=0,this.isTouchWall=!0)}}else{this.travelTime+=t,this.percentageComplete=this.travelTime/this.travelDuration;var a=c(0,0,0);u.lerp(a,this.startPos,this.endPos,this.percentageComplete),this.node.setPosition(a),this.updateRect(),this.percentageComplete>this.WARNING_THRESHOLD&&this.percentageComplete<1&&!this.isClose&&(this.isClose=!0),this.travelTime>=this.travelDuration*this.travelMultiplier&&(g.Instance.playFallGroundSFX(),this.travelTime=0,f.Instance.fail_amt++,this.active(!1),this.animClip.pause())}},e}(p)).prototype,"envObject",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(P.prototype,"followObj",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(P.prototype,"WARNING_THRESHOLD",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),I=e(P.prototype,"WARNING_THRESHOLD_BOUNCE",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),y=P))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3Hat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts","./QTE3Manager.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,l,c,h,u,g,T,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.ParticleSystem,l=t.Collider,c=t.BoxCollider,h=t.v3,u=t.Vec3,g=t.Component},function(t){T=t.ItemType},function(t){f=t.SoundManager},function(t){d=t.QTE3Manager}],execute:function(){var p,v,y,E,H;s._RF.push({},"0ce7dIqF3VBXYsUEOTSiY6f","QTE3Hat",void 0);var m=r.ccclass,I=r.property;t("QTE3Hat",(p=m("QTE3Hat"),v=I(a),p((H=e((E=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"vfxHat",H,o(e)),e.isActive=!1,e.startPos=null,e.endPos=null,e.travelTime=0,e.TRAVEL_DURATION=.1,e.isTravelDone=!0,e.takeHatAnimation=!1,e.followObject=null,e.isEnter=!1,e.colliders=[],e.rect={x:0,y:0,width:0,height:0},e}i(e,t);var s=e.prototype;return s.init=function(){if(this.colliders.length<=0){this.colliders=this.node.getComponents(l);for(var t=0;t<this.colliders.length;t++)this.colliders[t].on("onTriggerEnter",this.onTriggerEnter,this),this.colliders[t].on("onTriggerExit",this.onTriggerExit,this),this.colliders[t].on("onTriggerStay",this.onTriggerStay,this)}var e=this.node.getComponent(c);this.rect.width=.4*e.size.x,this.rect.height=.4*e.size.y},s.setDestination=function(t,e){this.startPos=t,this.endPos=e,this.isTravelDone=!1,this.followObject=null,this.node.setRotationFromEuler(h(0,0,0)),this.takeHatAnimation=!1,f.Instance.playThrowHatSFX()},s.setFollowObject=function(t){this.followObject=t},s.getRect=function(){return this.rect},s.update=function(t){if(this.rect.x=this.node.getPosition().x,this.rect.y=this.node.getPosition().y,this.followObject)this.node.setWorldPosition(this.followObject.getWorldPosition()),this.node.setWorldRotation(this.followObject.getWorldRotation());else if(this.travelTime<d.Instance.HAT_FLY_DURATION&&!this.isTravelDone){this.travelTime+=t;var e=this.travelTime/d.Instance.HAT_FLY_DURATION;e=e>1?1:e;var i=h(0,0,0);u.lerp(i,this.startPos,this.endPos,e),this.node.setPosition(i),0==this.takeHatAnimation&&this.travelTime/d.Instance.HAT_FLY_DURATION>.35&&(d.Instance.onTakeHatAnimation(),this.takeHatAnimation=!0),this.travelTime>=d.Instance.HAT_FLY_DURATION&&(f.Instance.playCatchHatSFX(),this.travelTime=0,this.isTravelDone=!0,d.Instance.onHatStopMoving())}},s.playVFX=function(){this.vfxHat&&(this.vfxHat.stop(),this.vfxHat.play())},s.onTriggerEnter=function(t){switch(t.otherCollider.getGroup()){case T.COLLECTIBLE:console.log("enter"),this.isEnter=!0}},s.onTriggerExit=function(t){switch(t.otherCollider.getGroup()){case T.COLLECTIBLE:console.log("exit"),this.isEnter=!1}},s.onTriggerStay=function(t){},e}(g)).prototype,"vfxHat",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3Input.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./QTE3Manager.ts"],(function(n){"use strict";var t,e,o,a,c,s,i,r,u,p,T,E,I;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,a=n.Input,c=n.KeyCode,s=n.Component},function(n){i=n.default,r=n.GameActions,u=n.QTE_TYPE,p=n.QTE_MESSAGE_TYPE,T=n.QTE_CRAB_STATE},function(n){E=n.RunningGameManager},function(n){I=n.QTE3Manager}],execute:function(){var l;e._RF.push({},"22f2cJUpjNHd5IFukJkDk4+","QTE3Input",void 0);var f=o.ccclass;o.property,n("QTE3Input",f("QTE3Input")(l=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).manager=null,t}t(e,n);var o=e.prototype;return o.onLoad=function(){this.manager=this.getComponent(I),i.CHEAT_USE_KEYBOARD&&this.node.on(a.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(n){switch(n.keyCode){case c.SPACE:E.Instance.sendAction({action:r.QTE,qte:u.Crab,type:p.ACTION,data:{state:T.PASSING}})}},o.onKeyUp=function(n){switch(n.keyCode){case c.DIGIT_1:case c.DIGIT_2:case c.DIGIT_3:console.log("onKeyUp","DIGIT_1")}},o.onTouchStart=function(n){n.getUILocation()},e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3LevelDesign.ts",["cc","./Constants.ts"],(function(d){"use strict";var e,o;return{setters:[function(d){e=d.cclegacy},function(d){o=d.PLAYER_CHARACTER}],execute:function(){var r,p;d({BIRD_DIRECTION:void 0,WALL:void 0}),e._RF.push({},"d47f5P34/pL3ZO0wZVjMMX0","QTE3LevelDesign",void 0),function(d){d[d.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",d[d.RIGHT_TO_KEFT=1]="RIGHT_TO_KEFT"}(r||(r=d("BIRD_DIRECTION",{}))),function(d){d[d.LEFT=0]="LEFT",d[d.RIGHT=1]="RIGHT"}(p||(p=d("WALL",{})));d("QTE3_LD",[{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:-8,target:o.MILKY,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6}]},{dir:r.RIGHT_TO_KEFT,phase:0,dropPoints:[{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6}]},{dir:r.RIGHT_TO_KEFT,phase:0,dropPoints:[{dropX:0,target:o.MILKY,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:0,target:o.SCHOKI,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6}]},{dir:r.RIGHT_TO_KEFT,phase:0,dropPoints:[{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6},{dropX:-8,target:o.MILKY,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:-8,target:o.MILKY,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6},{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.RIGHT_TO_KEFT,phase:0,dropPoints:[{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6},{dropX:0,target:o.MILKY,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:-8,target:o.MILKY,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6},{dropX:0,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.RIGHT_TO_KEFT,phase:1,dropPoints:[{dropX:-4,target:o.SCHOKI,isBounced:!0,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.LEFT_TO_RIGHT,phase:1,dropPoints:[{dropX:4,target:o.MILKY,isBounced:!0,bouncedWall:p.RIGHT,dropSpeed:1.8}]},{dir:r.RIGHT_TO_KEFT,phase:1,dropPoints:[{dropX:8,target:o.SCHOKI,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6},{dropX:-4,target:o.SCHOKI,isBounced:!0,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:-8,target:o.MILKY,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6},{dropX:4,target:o.MILKY,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.8}]},{dir:r.RIGHT_TO_KEFT,phase:1,dropPoints:[{dropX:0,target:o.MILKY,isBounced:!1,bouncedWall:p.LEFT,dropSpeed:1.6},{dropX:-4,target:o.SCHOKI,isBounced:!0,bouncedWall:p.LEFT,dropSpeed:1.8}]},{dir:r.LEFT_TO_RIGHT,phase:0,dropPoints:[{dropX:0,target:o.SCHOKI,isBounced:!1,bouncedWall:p.RIGHT,dropSpeed:1.6},{dropX:4,target:o.MILKY,isBounced:!0,bouncedWall:p.RIGHT,dropSpeed:1.8}]}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./AnimationSocketCtrl.ts","./CharacterAnimCtrl.ts","./SoundManager.ts","./QTEController.ts","./QTEManagerBase.ts","./QTETransition.ts","./QTEVFX.ts","./QTE3Crab.ts","./QTE3Hat.ts","./QTE3LevelDesign.ts","./QTE3Player.ts","./Pooling.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts"],(function(t){"use strict";var e,i,s,n,a,o,r,h,l,c,u,_,T,d,E,p,m,I,C,A,g,f,S,P,y,b,v,R,O,H,L,N,D,k,M,Q,G,F,Y,w,B,K,x,V,U,X,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,l=t.Label,c=t.Prefab,u=t.CCInteger,_=t.v3,T=t.UITransform,d=t.Camera,E=t.animation,p=t.instantiate,m=t.log,I=t.Quat,C=t.Vec3},function(t){A=t.PLAYER_CHARACTER,g=t.QTE_CRAB_STATE,f=t.default,S=t.ObstacleAnimation,P=t.QTE_STATE,y=t.QTE_TYPE,b=t.GameActions,v=t.QTE_MESSAGE_TYPE,R=t.ROOM_STATE,O=t.AudioSrc},function(t){H=t.NetworkManager},function(t){L=t.RunningGameManager},function(t){N=t.ANIMATION_SOCKET},function(t){D=t.CHARACTER_ANIM},function(t){k=t.SoundManager},function(t){M=t.QTEController},function(t){Q=t.QTEManagerBase},function(t){G=t.QTETransition},function(t){F=t.QTEVFX},function(t){Y=t.QTE3Crab},function(t){w=t.QTE3Hat},function(t){B=t.QTE3_LD},function(t){K=t.QTE3Player},function(t){x=t.Pooling},function(t){V=t.UserDataManager},function(t){U=t.default},function(t){X=t.TutorialAction,z=t.QteName}],execute:function(){var W,q,j,J,Z,$,tt,et,it,st,nt,at,ot,rt,ht,lt,ct,ut,_t,Tt;r._RF.push({},"3ca8aAX49NNdIGFPT9ejzkP","QTE3Manager",void 0);var dt=h.ccclass,Et=h.property;t("QTE3Manager",(W=dt("QTE3Manager"),q=Et(l),j=Et(c),J=Et({type:u,tooltip:"Number of crabs needed to collect in phase 1"}),Z=Et({type:u,tooltip:"Number of crabs needed to collect in phase 2"}),$=Et({tooltip:"Game duration"}),tt=Et({tooltip:"Bird's fly duration in phase 1"}),et=Et({tooltip:"Bird's fly duration in phase 2"}),it=Et({tooltip:"Hat fly duration"}),W(((Tt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,s(e,"perfectLabel",at,n(e)),s(e,"crabPrefab",ot,n(e)),s(e,"MAX_SCORE_1",rt,n(e)),s(e,"MAX_SCORE_2",ht,n(e)),s(e,"duration",lt,n(e)),s(e,"FLY_DURATION_1",ct,n(e)),s(e,"FLY_DURATION_2",ut,n(e)),s(e,"HAT_FLY_DURATION",_t,n(e)),e.pCamera=null,e.playersNode=null,e.playersQTE3=null,e.birdNode=null,e.animationContainer=null,e.birdLeg=null,e.milkyRig=null,e.schokiRig=null,e.milkyHand=null,e.schokiHand=null,e.milkyWall=null,e.schokiWall=null,e.hat=null,e.milkyPlayer=null,e.schokiPlayer=null,e.thisChar=null,e.BIRD_POS_X=[-30,30],e.BIRD_POS_Y=16,e.LEFT_POS=_(e.BIRD_POS_X[0],16,0),e.RIGHT_POS=_(e.BIRD_POS_X[1],16,0),e.LOOK_RIGHT=_(0,-90,0),e.LOOK_LEFT=_(0,90,0),e.CRAB_LIMIT=8,e.DELTA_X=1.5,e.DELTA_Y=-1.5,e.DELTA_Y_BOUNCE=0,e.startPos=null,e.endPos=null,e.isRight=!1,e.flyingTime=0,e.flyDuration=0,e.crabPool=[],e.hatCharacter=A.MILKY,e.currDistance=0,e.vfx=null,e.uiTransform=null,e.phase=0,e.idx=0,e.currentFlight=void 0,e._thisCrabState=g.NOTSET,e._thisCrab=null,e._levelDesign={listPhase0:[],listPhase1:[]},e.timeInterval=0,e._tempSourcePos=null,e._tempDestPos=null,e._tempCharacter=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){e.Instance=this,this.node.active=!1,this.vfx=this.getComponent(F),this.uiTransform=this.getComponent(T),f.CHEAT_HIDE_TOP_QTE_UI&&(this.topUI.active=!1)},r.initQTEElements=function(){this.playersNode=M.Instance.node.getChildByName("Players"),this.playersQTE3=this.playersNode.getChildByName("Players_QTE_3"),this.pCamera=this.playersQTE3.getChildByName("Camera_QTE_3").getComponent(d),this.birdNode=this.playersQTE3.getChildByName("BirdContainer"),this.birdLeg=this.birdNode.getChildByName("Leg"),this.animationContainer=this.birdNode.getChildByName("AnimationContainer"),this.hat=this.playersQTE3.getChildByName("Hat").getComponent(w),this.milkyHand=this.playersQTE3.getChildByName("MilkyHand"),this.schokiHand=this.playersQTE3.getChildByName("SchokiHand"),this.milkyWall=this.playersQTE3.getChildByName("MilkyWall"),this.schokiWall=this.playersQTE3.getChildByName("SchokiWall")},r.onDestroy=function(){e.Instance=null},r.reset=function(){var e,i;t.prototype.reset.call(this,this.duration),this.perfectLabel.string="",null==(e=this.birdNode)||e.position.set(this.LEFT_POS),null==(i=this.birdNode)||i.setRotationFromEuler(this.LOOK_RIGHT),this.isRight=!1,this.hatCharacter=A.MILKY,this.idx=0,this.currDistance=0,this.timeInterval=0,this.phase=0,this.flyDuration=this.FLY_DURATION_1,this.thisChar=H.Instance.selectedCharacter,this.hat.node.active=!0,this.animationContainer.removeAllChildren();var s=x.getInstance().getAnim(S.BEE);s.setScale(_(1,1,1)),s.setPosition(_(0,[-1.75,-1.75,-1.75][H.Instance.lobbyInfo.environment],0));var n=s.getComponent(E.AnimationController);this.scheduleOnce((function(){n.setValue("Fly",!0)}),.01),this.animationContainer.addChild(s),H.Instance.selectedCharacter==A.MILKY?this._thisCrabState=g.HAS_HAT:this._thisCrabState=g.NO_HAT},r.addPlayer=function(t){return t.addComponent(K)},r.initHat=function(){this.hat.init(),this.hat.setFollowObject(this.milkySocketCtrl.getSocketNode(N.RIGHT_HAND))},r.initCrab=function(){if(this.crabPool.length<=0)for(var t=0;t<this.CRAB_LIMIT;t++){var e=p(this.crabPrefab);this.playersQTE3.addChild(e);var i=e.getComponent(Y);i.init(),this.crabPool.push(i)}else for(var s=0;s<this.crabPool.length;s++)this.crabPool[s].active(!1);this._thisCrab=this.getFreeCrab(),this._thisCrab.active(!0),this._thisCrab.followObject(this.birdLeg)},r.initQTE=function(e){var i=this;return t.prototype.initQTE.call(this,e),new Promise((function(t,e){i.initQTEElements(),i.reset(),i.initPlayers(),i.initHat(),i.initCrab(),i.initLevel(),i.setRandomLevel(),i.setupLevel(),L.Instance.isQte3TrackingStartedSent||(L.Instance.isQte3TrackingStartedSent=!0,U.Send_QTE_INTERACTION(X.STARTED,z.COLLECT_THEM_ALL,0,0,0)),t()}))},r.setState=function(){var e=a(o().mark((function e(i){var s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.setState.call(this,i),e.t0=i,e.next=e.t0===P.TUTORIAL?4:e.t0===P.PLAYING?8:e.t0===P.REVIVE?18:e.t0===P.GAMEOVER?23:26;break;case 4:return V.Instance.tutorialData.qteTutorials[y.Crab]=!0,V.Instance.saveTutorialData(),this.tutorialPopup?this.tutorialPopup.show(y.Crab,(function(){s.setState(P.PLAYING)}),this.MAX_SCORE_1+this.MAX_SCORE_2):this.setState(P.PLAYING),e.abrupt("break",26);case 8:return this.milkyPlayer.animCtrl.PlayAnim(D.QTE3_Take,null,0,(function(){s.hat.setFollowObject(null),s.hat.node.setPosition(s.milkyHand.getPosition()),s.hat.node.setRotationFromEuler(_(0,0,0))})),e.next=11,this.preStartGame();case 11:return 450,300,this.playerNameCtrl.show(this.thisRig,this.otherRig,this.camera,this.isPlayerMilky?450:300,this.isPlayerMilky?300:450,0,-1),k.Instance.stopBgm(),L.Instance.loadQteBgm(y.Crab),L.Instance.playQteBgm(),e.abrupt("break",26);case 18:return U.Send_QTE_INTERACTION(X.COMPLETED,z.COLLECT_THEM_ALL,L.Instance.fail_amt,L.Instance.success_amt,L.Instance.qte_time_spent),L.Instance.isQte3TrackingStartedSent=!1,this.hat.node.active=!1,this.onRevive(),e.abrupt("break",26);case 23:return U.Send_QTE_INTERACTION(X.COMPLETED,z.COLLECT_THEM_ALL,L.Instance.fail_amt,L.Instance.success_amt,L.Instance.qte_time_spent),L.Instance.isQte3TrackingStartedSent=!1,e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.onStateReceived=function(t,e){var i=this;H.Instance.isHost&&this.onHostStateReceived(t,e),!e&&this._isPvP||(t.state==P.INIT?(this.setState(P.INIT),this.initQTE(null).then((function(){G.Instance.hide(!0).then((function(){var t=V.Instance.tutorialData.qteTutorials[y.Crab];i.sendState(P.READY,{tutorial:!t||f.CHEAT_ALWAYS_TUTORIAL_QTE,levelDesignData:i._levelDesign})}))}))):t.state==P.TUTORIAL?this.setState(P.TUTORIAL):t.state==P.PLAYING?this.setState(P.PLAYING):t.state==P.REVIVE?this.setState(P.REVIVE):t.state==P.GAMEOVER&&(this.timeInterval=this.duration))},r.onActionReceived=function(t,e){var i=t.state;if(e!=H.Instance.isHost){if(i==g.PASSING&&this._thisCrabState==g.NO_HAT&&(this._thisCrabState=g.TAKING,this.takeHat()),i==g.HAS_HAT){this._thisCrabState=g.NO_HAT;H.Instance.selectedCharacter==A.SCHOKI?this.milkySocketCtrl.getSocketNode(N.RIGHT_HAND):this.schokiSocketCtrl.getSocketNode(N.RIGHT_HAND)}}else i==g.PASSING&&this.passHat(),g.HAS_HAT,this._thisCrabState=i;m("this._thisCrabState",this._thisCrabState)},r.takeHat=function(){H.Instance.selectedCharacter==A.MILKY?(this._tempSourcePos=this.schokiHand.getPosition(),this._tempDestPos=this.milkyHand.getPosition(),this.schokiPlayer.animCtrl.PlayAnim(D.QTE3_Throw),this._tempCharacter=A.SCHOKI,this.hat.setFollowObject(this.schokiSocketCtrl.getSocketNode(N.RIGHT_HAND))):(this._tempSourcePos=this.milkyHand.getPosition(),this._tempDestPos=this.schokiHand.getPosition(),this.milkyPlayer.animCtrl.PlayAnim(D.QTE3_Throw),this._tempCharacter=A.MILKY,this.hat.setFollowObject(this.milkySocketCtrl.getSocketNode(N.RIGHT_HAND)))},r.passHat=function(){H.Instance.selectedCharacter==A.MILKY?(this._tempSourcePos=this.milkyHand.getPosition(),this._tempDestPos=this.schokiHand.getPosition(),this.milkyPlayer.animCtrl.PlayAnim(D.QTE3_Throw),this._tempCharacter=A.MILKY,this.hat.setFollowObject(this.milkySocketCtrl.getSocketNode(N.RIGHT_HAND))):(this._tempSourcePos=this.schokiHand.getPosition(),this._tempDestPos=this.milkyHand.getPosition(),this.schokiPlayer.animCtrl.PlayAnim(D.QTE3_Throw),this._tempCharacter=A.SCHOKI,this.hat.setFollowObject(this.schokiSocketCtrl.getSocketNode(N.RIGHT_HAND))),this.hatCharacter=this.hatCharacter==A.MILKY?A.SCHOKI:A.MILKY},r.onThrowAnimDone=function(){this._tempDestPos&&this._tempSourcePos&&(this.hat.setDestination(this._tempSourcePos,this._tempDestPos),this._tempDestPos=null,this._tempSourcePos=null,this._tempCharacter==A.MILKY?this.milkyPlayer.animCtrl.PlayAnim(D.QTE3_Idle,null,0,null,!0):this.schokiPlayer.animCtrl.PlayAnim(D.QTE3_Idle,null,0,null,!0))},r.onTakeHatAnimation=function(){this._tempCharacter==A.MILKY?this.schokiPlayer.animCtrl.PlayAnim(D.QTE3_Take,null,0,null,!0):this.milkyPlayer.animCtrl.PlayAnim(D.QTE3_Take,null,0,null,!0)},r.onHatStopMoving=function(){H.Instance.isPvp?this._thisCrabState==g.TAKING&&L.Instance.sendAction({action:b.QTE,qte:y.Crab,type:v.ACTION,data:{state:g.HAS_HAT}}):(this._thisCrabState==g.PASSING&&this.onActionReceived({state:g.HAS_HAT},!1),this._thisCrabState==g.TAKING&&this.onActionReceived({state:g.HAS_HAT},!0))},r.onGameInfoReceived=function(t,e){this._isHost!=e&&(this._otherInfo.score=t.score);var i=this._otherInfo.score+this._thisInfo.score;this.perfectLabel.string="PERFECT X"+i,this.progressUI.setProgress(i/(this.MAX_SCORE_1+this.MAX_SCORE_2)),0==this.phase&&i>=this.MAX_SCORE_1&&(this.phase=1,this.idx=0),this.checkQTEPassed()&&!f.CHEAT_DISABLE_QTE_CHECK_GAMEOVER&&(H.Instance.sendRoomState({state:R.REVIVE}),this.sendState(P.REVIVE))},r.onHostStateReceived=function(t,e){e?this._hostState=t.state:this._clientState=t.state,this._hostState!=this._clientState&&this._isPvP?t.state==P.GAMEOVER&&(this.timeInterval=this.duration):(t.state==P.READY&&(t.data.levelDesignData&&(this._levelDesign=t.data.levelDesignData),t.data.tutorial?this.scheduleOnce((function(){L.Instance.sendAction({action:b.QTE,qte:y.Crab,type:v.STATE,data:{state:P.TUTORIAL}})}),.01):this.scheduleOnce((function(){L.Instance.sendAction({action:b.QTE,qte:y.Crab,type:v.STATE,data:{state:P.PLAYING}})}),.01)),t.state==P.GAMEOVER&&H.Instance.sendRoomState({state:R.GAMEOVER}))},r.sendState=function(t,e){void 0===e&&(e=null);var i={action:b.QTE,qte:y.Crab,type:v.STATE,data:{state:t,data:e}};L.Instance&&L.Instance.sendAction(i)},r.checkQTEPassed=function(){return!!H.Instance.isHost&&(this._hostState!=P.GAMEOVER&&this._hostState!=P.REVIVE&&this._thisInfo.score+this._otherInfo.score>=this.MAX_SCORE_1+this.MAX_SCORE_2)},r.initLevel=function(){this._levelDesign.listPhase0=[],this._levelDesign.listPhase1=[];for(var t=0;t<B.length;t++)0==B[t].phase?this._levelDesign.listPhase0.push(B[t]):1==B[t].phase&&this._levelDesign.listPhase1.push(B[t])},r.setupLevel=function(){this.currentFlight=B[this.idx],this.isRight=0!=this.currentFlight.dir;for(var t=0;t<this.currentFlight.dropPoints.length;t++)this.currentFlight.dropPoints[t].isDrop=!1},r.setRandomLevel=function(){this.shuffle(this._levelDesign.listPhase0),this.shuffle(this._levelDesign.listPhase1)},r.shuffle=function(t){for(var e,i=t.length;0!=i;){e=Math.floor(Math.random()*i),i--;var s=[t[e],t[i]];t[i]=s[0],t[e]=s[1]}return t},r.getFreeCrab=function(){for(var t=0;t<this.crabPool.length;t++){var e=this.crabPool[t];if(!e.isActive)return e}return null},r.collision2Rect=function(t,e){return!(Math.max(t.x,t.x+t.width)<Math.min(e.x,e.x+e.width)||Math.min(t.x,t.x+t.width)>Math.max(e.x,e.x+e.width)||Math.max(t.y,t.y+t.height)<Math.min(e.y,e.y+e.height)||Math.min(t.y,t.y+t.height)>Math.max(e.y,e.y+e.height))},r.onTouchResult=function(){this.state==P.PLAYING&&this.hat.isTravelDone&&(this._isPvP?this._thisCrabState==g.HAS_HAT&&L.Instance.sendAction({action:b.QTE,qte:y.Crab,type:v.ACTION,data:{state:g.PASSING}}):this._thisCrabState==g.HAS_HAT&&this.onActionReceived({state:g.PASSING},!0))},r.update=function(t){if(this.state==P.PLAYING){if(L.Instance.qte_time_spent+=t,this.flyingTime<this.flyDuration){this.flyingTime+=t;var e=this.flyingTime/this.flyDuration;e=e>1?1:e;var i=_(0,0,0),s=new I;this.isRight?(this.startPos=this.RIGHT_POS,this.endPos=this.LEFT_POS,s=I.fromEuler(s,this.LOOK_LEFT.x,this.LOOK_LEFT.y,this.LOOK_LEFT.z)):(this.startPos=this.LEFT_POS,this.endPos=this.RIGHT_POS,s=I.fromEuler(s,this.LOOK_RIGHT.x,this.LOOK_RIGHT.y,this.LOOK_RIGHT.z));for(var n=0;n<this.currentFlight.dropPoints.length;n++){var a=this.currentFlight.dropPoints[n],o=void 0,r=void 0;if(this.isRight){if(this.birdNode.position.x<a.dropX&&!a.isDrop){a.isDrop=!0;var h=this.getFreeCrab();if(null!=h){o=new C(0,0,0),r=new C(0,0,0),(o=this.birdNode.getPosition()).x=a.dropX;var l=this.milkyHand.getPosition(),c=this.schokiHand.getPosition();(r=a.target==A.MILKY?l:c).y+=a.isBounced?this.DELTA_Y_BOUNCE:this.DELTA_Y,h.setDestination(o,r,a.target,a.isBounced,a.bouncedWall),h.setSpeed(a.dropSpeed),h.active(!0)}}}else if(this.birdNode.position.x>a.dropX&&!a.isDrop){a.isDrop=!0;var u=this.getFreeCrab();if(null!=u){o=new C(0,0,0),r=new C(0,0,0),(o=this.birdNode.getPosition()).x=a.dropX;var T=this.milkyHand.getPosition(),d=this.schokiHand.getPosition();(r=a.target==A.MILKY?T:d).y+=a.isBounced?this.DELTA_Y_BOUNCE:this.DELTA_Y,u.setDestination(o,r,a.target,a.isBounced,a.bouncedWall),u.setSpeed(a.dropSpeed),u.active(!0)}}}this.birdNode.setRotation(s),C.lerp(i,this.startPos,this.endPos,e),this.birdNode.setPosition(i);for(var E,p=this.hat.getRect(),m=null,S=0,R=0;R<this.crabPool.length;R++)if((E=this.crabPool[R]).isActive){var N=E.getRect();this.collision2Rect(p,N)?(E.active(!1),k.Instance.playFallHatSFX(),L.Instance.success_amt++,this.progressUI.collectHeart(E.node.getWorldPosition(),this.pCamera),this.hat.playVFX(),H.Instance.isPvp?this._thisCrabState!=g.HAS_HAT&&this._thisCrabState!=g.TAKING||(this._thisInfo.score++,L.Instance&&L.Instance.sendAction({action:b.QTE,qte:y.Crab,type:v.GAMEINFO,data:{score:this._thisInfo.score}})):(this._thisInfo.score++,this.onGameInfoReceived({score:this._thisInfo.score},!0))):E.isClose&&(0==S||S>E.percentageComplete)&&(S=E.percentageComplete,m=E)}this._isPvP||null!=m&&m.isActive&&m.isClose&&m.target==this.thisChar&&this.hat.isTravelDone&&this._thisCrabState==g.NO_HAT&&this.onActionReceived({state:g.PASSING},!1),this.flyingTime>=this.flyDuration&&(this.flyingTime=0,this.isRight=!this.isRight,this.flyDuration=0==this.phase?this.FLY_DURATION_1:this.FLY_DURATION_2,this.idx++,this.idx>=B.length&&(this.idx=0),this.setupLevel())}this.timeInterval+=t;var D=this.duration-this.timeInterval;return D<=this.WARNING_TIME&&D>0&&this.previousTime!=Math.ceil(D)&&(this.previousTime=Math.ceil(D),k.Instance.playOneShot(O.THREE_TWO_ONE)),this.progressUI.updateTime(this.duration-this.timeInterval,this.duration),!f.CHEAT_DISABLE_QTE_CHECK_GAMEOVER&&this.timeInterval>this.duration?(this.setState(P.GAMEOVER),void this.sendState(P.GAMEOVER,{timeover:!0})):void 0}},e}(Q)).Instance=null,at=e((nt=Tt).prototype,"perfectLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(nt.prototype,"crabPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(nt.prototype,"MAX_SCORE_1",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),ht=e(nt.prototype,"MAX_SCORE_2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),lt=e(nt.prototype,"duration",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),ct=e(nt.prototype,"FLY_DURATION_1",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),ut=e(nt.prototype,"FLY_DURATION_2",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),_t=e(nt.prototype,"HAT_FLY_DURATION",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),st=nt))||st));r._RF.pop()}}}));

System.register("chunks:///_virtual/QTE3Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAnimCtrl.ts","./QTEPlayer.ts"],(function(t){"use strict";var r,e,n,i,c;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){i=t.CHARACTER_ANIM},function(t){c=t.QTEPlayer}],execute:function(){var o;e._RF.push({},"fdec6yj55JM26sXdvCKq3O2","QTE3Player",void 0);var s=n.ccclass;n.property,t("QTE3Player",s("QTE3Player")(o=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.animCtrl&&this.animCtrl.PlayAnim(i.IDLE)},e}(c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/QTECharacterController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameResourceManager.ts","./NetworkManager.ts","./CharacterAnimCtrl.ts","./CharacterVFX.ts"],(function(t){"use strict";var n,i,o,r,e,a,l,s,c,h,C,u,k,m,y,_,f,p,d,M,x,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,e=t.createClass,a=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,h=t.Node,C=t.Camera,u=t.Component,k=t.instantiate,m=t.v3},function(t){y=t.PLAYER_CHARACTER,_=t.CHARACTER_NAMES},function(t){f=t.GameResourceManager},function(t){p=t.NetworkManager},function(t){d=t.CharacterAnimCtrl,M=t.CHARACTER_ANIM,x=t.CHARACTER_ANIM_CONTEXT},function(t){v=t.CharacterVFX}],execute:function(){var S,A,N,g,R,b,I,E,T;s._RF.push({},"fd4d91+hPFPK7LrCdsqGYan","QTECharacterController",void 0);var w=c.ccclass,L=c.property;t("QTECharacterController",(S=w("QTECharacterController"),A=L(h),N=L(h),g=L(C),S((I=n((b=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return n=t.call.apply(t,[this].concat(e))||this,o(n,"milkyContainer",I,r(n)),o(n,"schokiContainer",E,r(n)),o(n,"camera",T,r(n)),n._milkyNode=null,n._schokiNode=null,n._animControlMilky=null,n._animControlSchoki=null,n._vfxControlMilky=null,n._vfxControlSchoki=null,n}i(n,t);var s=n.prototype;return s.clear=function(){this._animControlMilky&&this._animControlMilky.unloadCharacter(),this._animControlSchoki&&this._animControlSchoki.unloadCharacter(),this.milkyContainer&&this.milkyContainer.removeAllChildren(),this.schokiContainer&&this.schokiContainer.removeAllChildren(),this._milkyNode=null,this._schokiNode=null,this._animControlMilky=null,this._animControlSchoki=null,this._vfxControlMilky=null,this._vfxControlSchoki=null},s.initCharacters=function(){var t=a(l().mark((function t(n){var i,o,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=x.QTE1-1+n,this._animControlMilky){t.next=16;break}return this.milkyContainer.removeAllChildren(),t.next=5,f.Instance.loadCharacter(_[y.MILKY]);case 5:if(!(o=t.sent)){t.next=16;break}return this._milkyNode=k(o),this.milkyContainer.addChild(this._milkyNode),this._milkyNode.setPosition(m(0,0,0)),this._animControlMilky=this._milkyNode.getComponent(d),this._vfxControlMilky=this._milkyNode.getComponent(v),this._animControlMilky.character=y.MILKY,this._animControlMilky.init(M.IDLE,!1),t.next=16,this._animControlMilky.loadAnimations(i);case 16:if(this._animControlSchoki){t.next=31;break}return this.schokiContainer.removeAllChildren(),t.next=20,f.Instance.loadCharacter(_[y.SCHOKI]);case 20:if(!(r=t.sent)){t.next=31;break}return this._schokiNode=k(r),this.schokiContainer.addChild(this._schokiNode),this._schokiNode.setPosition(m(0,0,0)),this._animControlSchoki=this._schokiNode.getComponent(d),this._vfxControlSchoki=this._schokiNode.getComponent(v),this._animControlSchoki.character=y.SCHOKI,this._animControlSchoki.init(M.IDLE,!1),t.next=31,this._animControlSchoki.loadAnimations(i);case 31:this._animControlMilky&&(this._animControlMilky.accessoryCtrl.character=y.MILKY,this._animControlMilky.accessoryCtrl.updateAccessories(p.Instance.milkyAccessory)),this._animControlSchoki&&(this._animControlSchoki.accessoryCtrl.character=y.SCHOKI,this._animControlSchoki.accessoryCtrl.updateAccessories(p.Instance.schokiAccessory));case 33:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.initMusicalInstrument=function(){var t=a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._animControlMilky){t.next=3;break}return t.next=3,this._animControlMilky.initMusicalInstrument();case 3:return t.next=5,this._animControlSchoki;case 5:if(!t.sent){t.next=8;break}return t.next=8,this._animControlSchoki.initMusicalInstrument();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initRackets=function(){var t=a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._animControlMilky){t.next=3;break}return t.next=3,this._animControlMilky.initRacket();case 3:return t.next=5,this._animControlSchoki;case 5:if(!t.sent){t.next=8;break}return t.next=8,this._animControlSchoki.initRacket();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.playVFX=function(t,n){void 0===n&&(n=!0),this._vfxControlMilky&&this._vfxControlMilky.playVFX(t,n),this._vfxControlSchoki&&this._vfxControlSchoki.playVFX(t,n)},s.playMilkyAnim=function(t,n){this._animControlMilky&&this._animControlMilky.PlayAnim(t,null,0,n)},s.playSchokiAnim=function(t,n){this._animControlSchoki&&this._animControlSchoki.PlayAnim(t,null,0,n)},e(n,[{key:"milkyRig",get:function(){return this._milkyNode}},{key:"schokiRig",get:function(){return this._schokiNode}},{key:"vfxControlMilky",get:function(){return this._vfxControlMilky}},{key:"vfxControlSchoki",get:function(){return this._vfxControlSchoki}}]),n}(u)).prototype,"milkyContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(b.prototype,"schokiContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(b.prototype,"camera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=b))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/QTECollectible.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./VFXPool.ts","./Powerup.ts"],(function(e){"use strict";var t,n,o,i,r,c,l,s,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Enum},function(e){s=e.QTE_TYPE},function(e){u=e.VFX_PLAYER},function(e){a=e.Powerup}],execute:function(){var p,T,f,y,E;r._RF.push({},"7e275hl7NZJe7G8VSXdq7TJ","QTECollectible",void 0);var _=c.ccclass,h=c.property;e("QTECollectible",(p=_("QTECollectible"),T=h({type:l(s)}),p((E=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"QTE_Type",E,i(t)),t}return n(t,e),t.prototype.onLoad=function(){this.collectVFXType=u.QTE_1_COLLECT},t}(a)).prototype,"QTE_Type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Badminton}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/QTEController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameResourceManager.ts","./QTECharacterController.ts","./QTEEnvironment.ts","./QTE1Manager.ts"],(function(t){"use strict";var n,e,r,i,o,s,a,c,h,l,u,p,C,m,f,v,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,h=t._decorator,l=t.Node,u=t.Component,p=t.instantiate},function(t){C=t.QTE_TYPE},function(t){m=t.GameResourceManager},function(t){f=t.QTECharacterController},function(t){v=t.QTEEnvironment},function(t){E=t.QTE1Manager}],execute:function(){var T,y,w,b,Q,x,_,d,g,k,A,q;c._RF.push({},"24148P200JNA5k0np62svOM","QTEController",void 0);var z=h.ccclass,M=h.property;t("QTEController",(T=z("QTEController"),y=M(l),w=M(l),b=M(v),Q=M(l),T(((q=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,r(n,"container",d,i(n)),r(n,"qtes",g,i(n)),r(n,"environment",k,i(n)),r(n,"skyContainer",A,i(n)),n.curQTE=0,n._characterAnimController=null,n._isShow=!1,n}e(n,t);var c=n.prototype;return c.onLoad=function(){n.Instance=this,this.hide()},c.clear=function(){this.node.removeAllChildren(),console.log("QTEController","clear")},c.hide=function(){this.node.active=!1,this._isShow=!1,this._characterAnimController&&this._characterAnimController.clear(),this.environment.clear(),this.showQTE(this.qtes[0],!1),this.showQTE(this.qtes[1],!1),this.showQTE(this.qtes[2],!1),this.curQTE=0},c.showQTE=function(t,n){t&&(t.active=n)},c.initContainer=function(){var t=s(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.showQTE(this.qtes[0],!1),this.showQTE(this.qtes[1],!1),this.showQTE(this.qtes[2],!1),!this.qtes[n-1]){t.next=7;break}this.qtes[n-1].active=!0,t.next=13;break;case 7:return t.t0=p,t.next=10,m.Instance.loadQTEContainer(n);case 10:t.t1=t.sent,this.qtes[n-1]=(0,t.t0)(t.t1),this.container.addChild(this.qtes[n-1]);case 13:return t.abrupt("return",this.qtes[n-1]);case 14:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),c.show=function(){var t=s(a().mark((function t(n,e,r){var i,o,s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.curQTE=n,this._isShow=!0,this.node.active=!0,i=this.skyContainer.position,t.t0=n,t.next=t.t0===C.Badminton?7:t.t0===C.Music?22:t.t0===C.Crab?35:46;break;case 7:return t.next=9,this.initContainer(n);case 9:return o=t.sent,this._characterAnimController=o.getComponent(f),t.next=13,this._characterAnimController.initCharacters(n);case 13:return t.next=15,this._characterAnimController.initRackets();case 15:return t.next=17,E.Instance.initQTE(null);case 17:return t.next=19,this.environment.init(e,r);case 19:return this.environment.show(),this.skyContainer.setPosition(i.x,i.y,o.position.z),t.abrupt("break",46);case 22:return t.next=24,this.initContainer(n);case 24:return s=t.sent,this._characterAnimController=s.getComponent(f),t.next=28,this._characterAnimController.initCharacters(n);case 28:return t.next=30,this._characterAnimController.initMusicalInstrument();case 30:return t.next=32,this.environment.init(e,r);case 32:return this.environment.show(),this.skyContainer.setPosition(i.x,i.y,s.position.z),t.abrupt("break",46);case 35:return t.next=37,this.initContainer(n);case 37:return c=t.sent,this._characterAnimController=c.getComponent(f),t.next=41,this._characterAnimController.initCharacters(n);case 41:return t.next=43,this.environment.init(e,r);case 43:return this.environment.show(),this.skyContainer.setPosition(i.x,i.y,c.position.z),t.abrupt("break",46);case 46:case"end":return t.stop()}}),t,this)})));return function(n,e,r){return t.apply(this,arguments)}}(),o(n,[{key:"characterAnimController",get:function(){return this._characterAnimController}},{key:"isShow",get:function(){return this._isShow}}]),n}(u)).Instance=null,d=n((_=q).prototype,"container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(_.prototype,"qtes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(_.prototype,"environment",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(_.prototype,"skyContainer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=_))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/QTEEnvironment.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./MainMenuDebug.ts","./EnvironmentTile.ts","./EnvironmentPool.ts"],(function(n){"use strict";var e,t,i,r,o,a,l,u,c,s,f,p,v,h,m,b,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.initializerDefineProperty,i=n.inheritsLoose,r=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){l=n.cclegacy,u=n._decorator,c=n.Enum,s=n.v3,f=n.Component},function(n){p=n.EnvironmentType,v=n.TileType,h=n.AreaType},function(n){m=n.MainMenuDebug},function(n){b=n.EnvironmentTile},function(n){d=n.default}],execute:function(){var y,T,E,g,P,w,C,A,_,z,k,I,L;l._RF.push({},"29cf2HtuhVLAYxObVMjwJjT","QTEEnvironment",void 0);var M=u.ccclass,R=u.property,D=(y=M("QTEEnvironmentInfo"),T=R({type:c(p)}),y((P=e((g=function(){t(this,"startTilePosZ",P,this),t(this,"type",w,this),t(this,"tileSize",C,this),t(this,"tileNum",A,this)}).prototype,"startTilePosZ",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(g.prototype,"type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.TROPICAL}}),C=e(g.prototype,"tileSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),A=e(g.prototype,"tileNum",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),E=g))||E);n("QTEEnvironment",(_=M("QTEEnvironment"),z=R(D),_((L=e((I=function(n){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,t(e,"environments",L,r(e)),e._initCallback=void 0,e}i(e,n);var l=e.prototype;return l.init=function(n,e){var t=this;return new Promise(o(a().mark((function i(r,o){var l,u,c;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.node.removeAllChildren(),(l=t.environments.find((function(e){return e.type==n})))&&!t._initCallback?(u=0,c=Math.ceil(l.tileNum*m.getDeviceProfile().NodeAmountScale),t._initCallback=function(){if(u>=c)return t.unschedule(t._initCallback),t._initCallback=null,void r();var i=d.Instance.poolingGet(e,v.REPEATABLE_TILE,!0);i.setParent(t.node);var o=0;n==p.TROPICAL&&e==h.AREA2&&(o=-6),i.setPosition(s(0,o,l.startTilePosZ-u*l.tileSize)),i.getComponent(b).show(),u++},t.schedule(t._initCallback)):r();case 3:case"end":return i.stop()}}),i)}))))},l.show=function(){},l.hide=function(){},l.clear=function(){for(var n=this.node.children.length-1;n>=0;n--){var e=this.node.children[n];e.setPosition(0,0,0),d.Instance.poolingPut(e)}},e}(f)).prototype,"environments",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=I))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/QTEItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Sprite,u=t.Component}],execute:function(){var s,p,l,f,y;o._RF.push({},"44f3bKpVBBB5KERqFSKbTps","QTEItem",void 0);var h=c.ccclass,m=c.property;t("QTEItem",(s=h("QTEItem"),p=m(a),s((y=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"icon",y,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(u)).prototype,"icon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/QTEItemPosition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,o,n,s,r,c,a,l,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.v3,l=t.tween,u=t.Component}],execute:function(){var p,h,f,d,y,b,m;s._RF.push({},"d5824JL8z1JToO3WL9Pa6BX","QTEItemPosition",void 0);var P=r.ccclass,v=r.property;t("QTEItemPosition",(p=P("QTEItemPosition"),h=v(c),f=v(c),p((b=i((y=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,o(i,"positions",b,n(i)),o(i,"rotations",m,n(i)),i.size=1,i.tweenCollectAction=null,i._baseScale=a(1,1,1),i._destScale=a(1,1,1),i}e(i,t);var s=i.prototype;return s.onLoad=function(){this._baseScale=this.node.getScale()},s.updatePosition=function(t){t<0||t>=3||(this.size=t,this.node.setPosition(this.positions[t]),this.node.setRotationFromEuler(this.rotations[t]))},s.runCollectAction=function(){this.tweenCollectAction&&this.tweenCollectAction.stop(),this.tweenCollectAction=l(this.node).set({position:a(0,-.5,.5)}).to(.5,{position:this.positions[this.size]}).start()},i}(u)).prototype,"positions",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(y.prototype,"rotations",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/QTEManagerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./NetworkManager.ts","./SoundManager.ts","./AnimationSocketCtrl.ts","./Loading.ts","./QTEController.ts","./QTEPlayerName.ts","./QTEProgress.ts","./QTETutorialPopup.ts"],(function(t){"use strict";var e,i,n,r,a,s,l,o,c,u,h,p,y,d,m,f,g,k,T,P,v,R,S,b,I,C,_,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,u=t.Node,h=t.CCFloat,p=t.Label,y=t.clamp,d=t.Component,m=t.UIOpacity,f=t.Animation},function(t){g=t.language},function(t){k=t.QTE_STATE,T=t.PLAYER_CHARACTER,P=t.AudioSrc},function(t){v=t.NetworkManager},function(t){R=t.SoundManager},function(t){S=t.AnimationSocketCtrl},function(t){b=t.Loading},function(t){I=t.QTEController},function(t){C=t.QTEPlayerName},function(t){_=t.QTEProgress},function(t){w=t.QTETutorialPopup}],execute:function(){var E,A,M,Q,N,O,U,x,z,L,q,G,H,B,D,F,Y,K,V;o._RF.push({},"94605k1a3VICIZT96QNqMPh","QTEManagerBase",void 0);var j=c.ccclass,W=c.property,Z=t("QTEGameInfo",(function(){this.score=0})),J=t("AnimReadyStart",{ready:"qte_ready",start:"qte_start",timesup:"qte_timesup",revive:"qte_revive"});t("QTEManagerBase",(E=j("QTEManagerBase"),A=W(u),M=W(_),Q=W([h]),N=W([h]),O=W([h]),U=W(w),x=W(C),z=W(p),E((G=e((q=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"topUI",G,r(e)),n(e,"progressUI",H,r(e)),n(e,"speeds",B,r(e)),n(e,"speedTimes",D,r(e)),n(e,"speedAccelerate",F,r(e)),n(e,"tutorialPopup",Y,r(e)),n(e,"playerNameCtrl",K,r(e)),n(e,"labelTitle",V,r(e)),e.data=null,e.state=k.INIT,e.speedState=0,e.speed=0,e.speedTarget=0,e._isHost=!0,e._isPvP=!1,e._thisInfo=new Z,e._otherInfo=new Z,e._hostState=k.NOTSET,e._clientState=k.NOTSET,e.milkyPlayer=null,e.schokiPlayer=null,e.thisPlayer=null,e.otherPlayer=null,e.milkySocketCtrl=null,e.schokiSocketCtrl=null,e.milkyRig=null,e.schokiRig=null,e.isPlayerMilky=!0,e.camera=null,e.animationReadyStart=null,e.WARNING_TIME=3,e.previousTime=0,e}i(e,t);var o=e.prototype;return o.getProgressSprite=function(){var t;return null==(t=this.progressUI)?void 0:t.iconSprite},o.addPlayer=function(t){return null},o.initPlayers=function(){this.milkyRig&&!this.milkyPlayer&&(this.milkyPlayer=this.addPlayer(this.milkyRig),this.milkyPlayer.character=T.MILKY,this.milkyPlayer.init()),this.schokiRig&&!this.schokiPlayer&&(this.schokiPlayer=this.addPlayer(this.schokiRig),this.schokiPlayer.character=T.SCHOKI,this.schokiPlayer.init()),this.thisPlayer=this.isPlayerMilky?this.milkyPlayer:this.schokiPlayer,this.otherPlayer=this.isPlayerMilky?this.schokiPlayer:this.milkyPlayer},o.hide=function(){this.node.active=!1,this.playerNameCtrl.hide(),this.milkyPlayer=null,this.schokiPlayer=null,this.thisPlayer=null,this.otherPlayer=null,this.milkyRig=null,this.schokiRig=null},o.reset=function(t){this.progressUI.reset(t),this.labelTitle.node.active=!1},o.playReadyStartAnimation=function(){var t=s(l().mark((function t(e,i){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.labelTitle.getComponent(m).opacity=0,this.animationReadyStart=this.labelTitle.getComponent(f),n=this.animationReadyStart.clips.find((function(t){return t.name==e})),this.labelTitle.string=i,this.animationReadyStart.play(e),t.next=7,this.waitForSecond(n.duration);case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),o.waitForSecond=function(t){var e=this;return new Promise((function(i){e.scheduleOnce((function(){i()}),t)}))},o.show=function(){this.node.active=!0,this._isPvP=v.Instance.isPvp,this._isHost=v.Instance.isHost},o.initQTE=function(t){return this.data=t,this.state,k.INIT,this.speed=0,this.setSpeedState(0,!0),this._thisInfo.score=0,this._otherInfo.score=0,this.isPlayerMilky=v.Instance.selectedCharacter==T.MILKY,this.milkyRig=I.Instance.characterAnimController.milkyRig,this.schokiRig=I.Instance.characterAnimController.schokiRig,this.milkySocketCtrl=this.milkyRig.getComponentInChildren(S),this.schokiSocketCtrl=this.schokiRig.getComponentInChildren(S),this.camera=I.Instance.characterAnimController.camera,null},o.preStartGame=function(){var t=s(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.labelTitle.string="",this.labelTitle.node.active=!0,R.Instance.playOneShot(P.READY),t.next=5,this.playReadyStartAnimation(J.ready,g.t("str_mm_ready").toUpperCase());case 5:return R.Instance.playOneShot(P.READY),t.next=8,this.playReadyStartAnimation(J.start,g.t("str_QTE_start").toUpperCase());case 8:this.labelTitle.node.active=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onTimesup=function(){var t=s(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.Instance.hide(),this.labelTitle.string="",this.labelTitle.node.active=!0,R.Instance.playOneShot(P.TIME_OUT),t.next=6,this.playReadyStartAnimation(J.timesup,g.t("str_qte_time_up").toUpperCase());case 6:this.labelTitle.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onRevive=function(){var t=s(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.Instance.hide(),this.labelTitle.string="",this.labelTitle.node.active=!0,this.milkyPlayer.onRevive(),this.schokiPlayer.onRevive(),R.Instance.playOneShot(P.CONGRATS),t.next=8,this.playReadyStartAnimation(J.revive,g.t("str_qte_success").toUpperCase());case 8:this.labelTitle.node.active=!1;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.setState=function(t){this.state=t,t==k.GAMEOVER&&(b.Instance.node.active||b.Instance.show(g.t("str_waiting")))},o.setSpeedState=function(t,e){void 0===e&&(e=!1),this.speedState=y(t,0,this.speeds.length-1),this.speedTarget=this.speeds[this.speedState],e&&(this.speed=this.speedTarget)},o.onMessageReceived=function(t){},a(e,[{key:"thisRig",get:function(){return this.isPlayerMilky?this.milkyRig:this.schokiRig}},{key:"otherRig",get:function(){return this.isPlayerMilky?this.schokiRig:this.milkyRig}}]),e}(d)).prototype,"topUI",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(q.prototype,"progressUI",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(q.prototype,"speeds",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(q.prototype,"speedTimes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(q.prototype,"speedAccelerate",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=e(q.prototype,"tutorialPopup",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(q.prototype,"playerNameCtrl",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(q.prototype,"labelTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=q))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/QTEPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAnimCtrl.ts","./CharacterVFX.ts"],(function(t){"use strict";var r,n,e,i,c,a,o,l;return{setters:[function(t){r=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,i=t._decorator,c=t.Component},function(t){a=t.CharacterAnimCtrl,o=t.CHARACTER_ANIM},function(t){l=t.CharacterVFX}],execute:function(){var s;e._RF.push({},"782f227vfNOU7MhrU9DmS4g","QTEPlayer",void 0);var u=i.ccclass;i.property,t("QTEPlayer",u("QTEPlayer")(s=function(t){function e(){for(var r,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(r=t.call.apply(t,[this].concat(e))||this)._character=void 0,r._animCtrl=null,r._vfxCtrl=null,r}r(e,t);var i=e.prototype;return i.init=function(){this._animCtrl=this.getComponent(a),this._vfxCtrl=this.getComponent(l)},i.onRevive=function(){var t=this;return new Promise((function(r){t.animCtrl&&t.animCtrl.PlayAnim(o.REWARD,null,0,(function(){r()}))}))},n(e,[{key:"character",get:function(){return this._character},set:function(t){this._character=t}},{key:"animCtrl",get:function(){return this._animCtrl},set:function(t){this._animCtrl=t}},{key:"vfxCtrl",get:function(){return this._vfxCtrl},set:function(t){this._vfxCtrl=t}}]),e}(c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/QTEPlayerName.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,a,n,s,h,r,l,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,h=e.Node,r=e.tween,l=e.Label,c=e.UIOpacity,p=e.Component}],execute:function(){var u,y,_,m,b,d,L;n._RF.push({},"1a124/eNjFMeI2r1UC/LFdF","QTEPlayerName",void 0);var w=s.ccclass,N=s.property;e("QTEPlayerName",(u=w("QTEPlayerName"),y=N(h),_=N(h),u((d=t((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"thisName",d,a(t)),o(t,"otherName",L,a(t)),t._thisLabel=null,t._otherLabel=null,t._showTween=null,t._thisLabelTween=null,t._otherLabelTween=null,t._thisDelay=0,t._otherDelay=0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.node.active=!1},n.show=function(e,t,i,o,a,n,s){var h=this;if(void 0===n&&(n=0),void 0===s&&(s=0),this.node.active=!0,this._thisDelay=n,this._otherDelay=s,this._otherDelay>0&&(this._showTween&&this._showTween.stop(),this._showTween=r(this.node).delay(0).call((function(){h.hide()})).start()),this.thisName.active=null!=e,e){this._thisLabel=this.thisName.getComponentInChildren(l);var p=i.convertToUINode(e.getWorldPosition(),this.thisName.parent);p.y+=o,this.thisName.setPosition(p),this._thisLabel.getComponent(c).opacity=255,this._thisDelay>0?(this._thisLabelTween&&this._thisLabelTween.stop(),this._thisLabelTween=r(this._thisLabel.getComponent(c)).delay(this._thisDelay).to(.5,{opacity:150}).start()):-1==this._thisDelay&&(this._thisLabel.getComponent(c).opacity=0)}if(this.otherName.active=null!=t,t){this._otherLabel=this.otherName.getComponentInChildren(l);var u=i.convertToUINode(t.getWorldPosition(),this.otherName.parent);u.y+=a,this.otherName.setPosition(u),this._otherLabel.getComponent(c).opacity=255,this._otherDelay>0?(this._otherLabelTween&&this._otherLabelTween.stop(),this._otherLabelTween=r(this._otherLabel.getComponent(c)).delay(this._otherDelay).to(.5,{opacity:150}).start()):-1==this._otherDelay&&(this._otherLabel.getComponent(c).opacity=0)}},n.hide=function(){this.node.active=!1},t}(p)).prototype,"thisName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(b.prototype,"otherName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/QTEPositionProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,r,a,c,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.tween,c=t.v3,u=t.Component}],execute:function(){var l,p,h,P,f,g,m;s._RF.push({},"13d25INA5ZKl7Une5he4jAR","QTEPositionProgress",void 0);var d=r.ccclass,w=r.property;t("QTEPositionProgress",(l=d("QTEPositionProgress"),p=w(),h=w(),l((g=i((f=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"minY",g,o(i)),n(i,"maxY",m,o(i)),i._tweenPosition=null,i}e(i,t);var s=i.prototype;return s.onLoad=function(){this.reset()},s.reset=function(){this._tweenPosition&&this._tweenPosition.stop(),this.node.setPosition(this.node.position.x,this.minY)},s.setProgress=function(t){this._tweenPosition&&this._tweenPosition.stop();var i=(this.maxY-this.minY)*t+this.minY;this._tweenPosition=a(this.node).to(.25,{position:c(this.node.position.x,i)},{easing:"sineOut"}).start()},i}(u)).prototype,"minY",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=i(f.prototype,"maxY",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=f))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/QTEProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Coin.ts","./QTEPositionProgress.ts"],(function(e){"use strict";var r,t,i,n,o,s,a,l,c,u,p,g,f,h,b,d,m,P;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.ProgressBar,u=e.Label,p=e.Sprite,g=e.Node,f=e.lerp,h=e.Component,b=e.instantiate,d=e.v3},function(e){m=e.Coin},function(e){P=e.QTEPositionProgress}],execute:function(){var y,v,T,w,C,x,_,z,S,B,L,E,N,Q,k;a._RF.push({},"1fe5ftm5UFN16feqFbx88cs","QTEProgress",void 0);var D=l.ccclass,F=l.property;e("QTEProgress",(y=D("QTEProgress"),v=F(c),T=F(u),w=F(p),C=F(g),x=F(P),_=F(g),y((B=r((S=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,i(r,"timeProgressBar",B,n(r)),i(r,"timeLabel",L,n(r)),i(r,"iconSprite",E,n(r)),i(r,"collectNodeTemplate",N,n(r)),i(r,"progress",Q,n(r)),i(r,"heartProgressContainer",k,n(r)),r._progress=1,r}t(r,e);var a=r.prototype;return a.reset=function(e){this._progress=1,this.timeProgressBar.progress=this._progress,this.timeLabel.string=""+Math.ceil(e),this.progress.reset(),this.iconSprite.node.active=!1},a.setProgress=function(e){this.progress.setProgress(e)},a.updateTime=function(e,r){this.timeLabel.string=""+Math.ceil(e),this._progress=e/r},a.update=function(e){this.timeProgressBar.progress=f(this.timeProgressBar.progress,this._progress,.1)},a.collectHeart2D=function(){var e=o(s().mark((function e(r,t){var i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!0),r){e.next=3;break}return e.abrupt("return");case 3:return i=b(this.collectNodeTemplate),n=i.addComponent(m),this.node.addChild(i),r.y,i.active=!0,i.setScale(.25,.25,1),t?i.setPosition(r):i.setWorldPosition(r),e.next=12,n.fly(i.getWorldPosition(),this.heartProgressContainer.getWorldPosition(),d(this.heartProgressContainer.getWorldScale().x,this.heartProgressContainer.getWorldScale().y,1));case 12:i.removeFromParent();case 13:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),a.collectHeart=function(){var e=o(s().mark((function e(r,t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t){e.next=2;break}return e.abrupt("return");case 2:return i=t.convertToUINode(r,this.node),e.next=5,this.collectHeart2D(i);case 5:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),r}(h)).prototype,"timeProgressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(S.prototype,"timeLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(S.prototype,"iconSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(S.prototype,"collectNodeTemplate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=r(S.prototype,"progress",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(S.prototype,"heartProgressContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=S))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/QTEProgressWave.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,s,r,n,o,p,h,a;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,p=t.Sprite,h=t.UITransform,a=t.Component}],execute:function(){var u,c,l,d,f,g,y,S,v;n._RF.push({},"72b77Cd1pBDfJ4lm2Ni8Olh","QTEProgressWave",void 0);var b=o.ccclass,x=o.property,P=o.executeInEditMode;t("QTEProgressWave",(u=b("QTEProgressWave"),c=x(),l=x(),d=x(p),u(f=P((y=i((g=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,s(i,"speed",y,r(i)),s(i,"initX",S,r(i)),s(i,"sprites",v,r(i)),i.currentSprite=null,i.nextSprite=null,i.spriteWidth=0,i.lastX=0,i}e(i,t);var n=i.prototype;return n.onEnable=function(){this.reset()},n.onDisable=function(){this.reset()},n.onLoad=function(){this.reset()},n.start=function(){this.reset()},n.reset=function(){if(2==this.sprites.length){this.node.setPosition(this.initX,this.node.position.y),this.spriteWidth=this.sprites[0].getComponent(h).width;for(var t=0;t<this.sprites.length;t++)this.sprites[t].node.setPosition(t*this.spriteWidth,this.sprites[t].node.position.y);this.currentSprite=this.sprites[1],this.nextSprite=this.sprites[0],this.lastX=this.currentSprite.node.position.x}},n.update=function(t){if(2==this.sprites.length){this.node.setPosition(this.node.position.x-this.speed*t,this.node.position.y);var i=this.node.position;if(this.currentSprite.node.position.x+i.x<0){this.nextSprite.node.setPosition(this.lastX+this.spriteWidth,this.nextSprite.node.position.y);var e=this.nextSprite;this.nextSprite=this.currentSprite,this.currentSprite=e,this.lastX=this.currentSprite.node.position.x}}},i}(a)).prototype,"speed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),S=i(g.prototype,"initX",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(g.prototype,"sprites",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g))||f)||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/QTETransition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,l,c,u,p,h,m,b,g,d,f,T,_,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.SpriteFrame,c=t.UIOpacity,u=t.BlockInputEvents,p=t.UITransform,h=t.Tween,m=t.Sprite,b=t.tween,g=t.v3,d=t.size,f=t.Component},function(t){T=t.QTE_TYPE,_=t.AudioSrc},function(t){y=t.SoundManager}],execute:function(){var S,w,k,v,I,L,z,C,A,E,F,N,M,O,Q,q,B,P,R,U,D,H;a._RF.push({},"9710aAnUzZHRqtgqcuFX2Dk","QTETransition",void 0);var W=r.ccclass,j=r.property;t("QTETransition",(S=W("QTETransition"),w=j(),k=j(),v=j(s),I=j(s),L=j(s),z=j(s),C=j(s),A=j(s),E=j(l),S(((H=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"showTime",M,o(e)),i(e,"hideTime",O,o(e)),i(e,"blackScreen",Q,o(e)),i(e,"labelLoading",q,o(e)),i(e,"maskNode",B,o(e)),i(e,"iconSprite",P,o(e)),i(e,"container",R,o(e)),i(e,"loadingLabel",U,o(e)),i(e,"spriteFrames",D,o(e)),e._maskTransform=null,e._tweenMask=null,e._blackUIOpacity=null,e._tweenFade=null,e._blockInput=null,e._currentQTEIcon=null,e._qte=T.Badminton,e}n(e,t);var a=e.prototype;return a.onLoad=function(){e.Instance=this,this._blackUIOpacity=this.blackScreen.getComponent(c),this.blackScreen.active=!1,this.labelLoading.active=!1,this._blockInput=this.getComponent(u),this._maskTransform=this.maskNode.getComponent(p),this._blockInput.enabled=!1,this.container.active=!1},a.runShowAnimation=function(t){if(t){h.stopAllByTarget(this.iconSprite),this._qte!=T.None&&this.spriteFrames[this._qte-1]?this.iconSprite.getComponent(m).spriteFrame=this.spriteFrames[this._qte-1]:this.iconSprite.getComponent(m).spriteFrame=t.spriteFrame,this.iconSprite.setWorldPosition(t.node.getWorldPosition());var e=this._qte==T.None?1:.5;this.iconSprite.setScale(e,e,e),this.iconSprite.getComponent(c).opacity=0;var n=this._qte==T.None?3:1.5;b(this.iconSprite.getComponent(c)).to(.25,{opacity:255}).start(),b(this.iconSprite).to(.66*this.showTime,{position:g(0,0)},{easing:"sineOut"}).start(),b(this.iconSprite).to(.66*this.showTime,{scale:g(n,n)},{easing:"sineOut"}).start(),h.stopAllByTarget(this.loadingLabel),this.loadingLabel.getComponent(c).opacity=0,b(this.loadingLabel.getComponent(c)).delay(this.showTime).to(.5,{opacity:255}).start()}},a.runHideAnimation=function(){h.stopAllByTarget(this.iconSprite),b(this.iconSprite.getComponent(c)).to(.5,{opacity:0}).start(),b(this.iconSprite).by(.5,{position:g(0,25)},{easing:"sineIn"}).start(),b(this.iconSprite).to(.5,{scale:g(4,4)},{easing:"sineIn"}).start(),h.stopAllByTarget(this.loadingLabel),this.loadingLabel.getComponent(c).opacity=0,b(this.loadingLabel.getComponent(c)).to(.5,{opacity:0}).start()},a.show=function(t,e,n,i){var o=this;return void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=T.None),this._currentQTEIcon=n,this._qte=i,new Promise((function(n,i){o.blackScreen.active=!0,o._blockInput.enabled=!0,o._tweenMask&&o._tweenMask.stop(),o._maskTransform.setContentSize(d(2500,2500));o._tweenMask=b(o._maskTransform).to(o.showTime-.2,{contentSize:d(0,0)},{easing:"sineIn"}).call((function(){t&&(o.labelLoading.active=!0)})).delay(.2).call((function(){return n()})).start(),e?(o.container.active=!0,o.runShowAnimation(o._currentQTEIcon)):o.container.active=!1,setTimeout((function(){y.Instance.playOneShot(_.TRANSITION_QTE)}),250)}))},a.hide=function(t){var e=this;return void 0===t&&(t=!1),new Promise((function(n,i){e.labelLoading.active=!1,e._tweenMask&&e._tweenMask.stop(),e._tweenMask=b(e._maskTransform).to(e.hideTime,{width:2500,height:2500},{easing:"sineOut"}).call((function(){e.blackScreen.active=!1,e._blockInput.enabled=!1,e.container.active=!1,n()})).start(),t?(e.container.active=!0,e.runHideAnimation()):e.container.active=!1,setTimeout((function(){y.Instance.playOneShot(_.TRANSITION_QTE)}),250)}))},e}(f)).Instance=null,M=e((N=H).prototype,"showTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=e(N.prototype,"hideTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=e(N.prototype,"blackScreen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(N.prototype,"labelLoading",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"maskNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(N.prototype,"iconSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(N.prototype,"container",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"loadingLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(N.prototype,"spriteFrames",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=N))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/QTETutorialPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts"],(function(t){"use strict";var e,i,r,n,o,a,s,l,c,p,u,h,T,m,b,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SpriteFrame,l=t.Node,c=t.Sprite,p=t.RichText,u=t.ProgressBar,h=t.tween,T=t.UIOpacity,m=t.v3,b=t.Component},function(t){g=t.language},function(t){d=t.QTE_TYPE}],execute:function(){var f,w,_,y,E,Q,F,x,P,v,z,S,B,C,k,D,q,N,O,A,L,R,$,I,M,X,Y,j,H;o._RF.push({},"87457mYXNVJK7ned6XbhpDg","QTETutorialPopup",void 0);var J=a.ccclass,K=a.property;t("QTETutorialPopup",(f=J("QTETutorialPopup"),w=K(),_=K(),y=K(),E=K(s),Q=K(s),F=K(s),x=K(l),P=K(c),v=K(c),z=K(p),S=K(p),B=K(u),C=K(c),f((q=e((D=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"totalDuration",q,n(e)),r(e,"showTime",N,n(e)),r(e,"hideTime",O,n(e)),r(e,"QTE1Frames",A,n(e)),r(e,"QTE2Frames",L,n(e)),r(e,"QTE3Frames",R,n(e)),r(e,"container",$,n(e)),r(e,"QTESprite1",I,n(e)),r(e,"QTESprite2",M,n(e)),r(e,"richtext2",X,n(e)),r(e,"descriptionText",Y,n(e)),r(e,"timeBar",j,n(e)),r(e,"spriteProgress",H,n(e)),e._callback=null,e._tweenPopupOpacity=null,e._tweenBarProgress=null,e._tweenContainerNode=null,e._tweenSpriteColor=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.node.active=!1},o.hide=function(){this.node.active=!1},o.show=function(t,e,i){var r=this;switch(void 0===e&&(e=null),void 0===i&&(i=5),this._callback=e,this.node.active=!0,t){case d.Badminton:this.QTESprite1.spriteFrame=this.QTE1Frames[0],this.QTESprite2.spriteFrame=this.QTE1Frames[1],this.descriptionText.string=g.t("tutorials_qte_1"),this.descriptionText.string="<color=#412A46>"+this.descriptionText.string+"</color>",this.richtext2.string=g.t("tutorials_qte_2").replace("${target}",""+i);break;case d.Music:this.QTESprite1.spriteFrame=this.QTE2Frames[0],this.QTESprite2.spriteFrame=this.QTE2Frames[1],this.descriptionText.string=g.t("tutorials_qte_3"),this.descriptionText.string="<color=#412A46>"+this.descriptionText.string+"</color>",this.richtext2.string=g.t("tutorials_qte_4").replace("${target}",""+i);break;case d.Crab:this.QTESprite1.spriteFrame=this.QTE3Frames[0],this.QTESprite2.spriteFrame=this.QTE3Frames[1],this.descriptionText.string=g.t("tutorials_qte_5"),this.descriptionText.string="<color=#412A46>"+this.descriptionText.string+"</color>",this.richtext2.string=g.t("tutorials_qte_6").replace("${target}",""+i)}var n=this.totalDuration-this.showTime-this.hideTime;this._tweenBarProgress&&this._tweenBarProgress.stop(),this._tweenBarProgress=h(this.timeBar).set({progress:1}).delay(this.showTime).to(n,{progress:0}).delay(this.hideTime).call((function(){r.hide(),r._callback&&r._callback()})).start(),this._tweenPopupOpacity&&this._tweenPopupOpacity.stop(),this._tweenPopupOpacity=h(this.getComponent(T)).set({opacity:0}).to(this.showTime,{opacity:255}).delay(n).to(this.hideTime,{opacity:0}).start(),this._tweenContainerNode&&this._tweenContainerNode.stop(),this._tweenContainerNode=h(this.container).set({scale:m(.95,.95),position:m(-25,0)}).to(this.showTime,{scale:m(1,1),position:m(0,0)}).delay(n).to(this.hideTime,{scale:m(.95,.95),position:m(25,0)}).start()},e}(b)).prototype,"totalDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),N=e(D.prototype,"showTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),O=e(D.prototype,"hideTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),A=e(D.prototype,"QTE1Frames",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(D.prototype,"QTE2Frames",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(D.prototype,"QTE3Frames",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(D.prototype,"container",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"QTESprite1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(D.prototype,"QTESprite2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(D.prototype,"richtext2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(D.prototype,"descriptionText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(D.prototype,"timeBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"spriteProgress",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=D))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/QTEVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,s,o,i,r,l,u,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,i=t._decorator,r=t.Node,l=t.Label,u=t.v3,c=t.tween,h=t.Component}],execute:function(){var S,p,b,d,f;o._RF.push({},"211aeVovGVBf4nWa42r9lru","QTEVFX",void 0);var v=i.ccclass,_=i.property;t("QTEVFX",(S=v("QTEVFX"),p=_(r),S((f=e((d=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"nodeStatus",f,s(e)),e._labelStart=null,e._labelStatus=null,e._tweenLabel=null,e._tweenLabelStatus=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this._labelStatus=this.nodeStatus.getComponent(l)},o.onEnable=function(){this.nodeStatus.active=!1},o.showLabelStart=function(t){return new Promise((function(t,e){t()}))},o.showLabelStatus=function(t,e){var n=this;this._labelStatus.string=t,this.nodeStatus.setWorldPosition(e),this.nodeStatus.active=!0,this.nodeStatus.setScale(u(.5,.5,.5)),this._tweenLabelStatus&&this._tweenLabelStatus.stop(),this._tweenLabelStatus=c(this.nodeStatus).to(.5,{scale:u(1,1,1)},{easing:"backOut"}).delay(.5).call((function(){return n.nodeStatus.active=!1})).start()},e}(h)).prototype,"nodeStatus",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/ReadyLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,a,i,o,l,r,c,u,s,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.Label,c=n.Animation,u=n.tween,s=n.v3,h=n.Component}],execute:function(){var f,y,b,d,p,w,m;o._RF.push({},"f9f76yvC9NPcoT4DVKF/lu6","ReadyLabel",void 0);var L=l.ccclass,R=l.property,v=["START!","1","2","3","READY..."];n("ReadyLabel",(f=L("ReadyLabel"),y=R(r),b=R(c),f((w=e((p=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o))||this,a(e,"labelReady",w,i(e)),a(e,"animationShow",m,i(e)),e}t(e,n);var o=e.prototype;return o.onLoad=function(){this.show(!1)},o.show=function(n){this.labelReady.node.active=n,n&&this.showLabelAnimation(v[4])},o.startCounting=function(){var n=this;return new Promise((function(e){u(n.node).call((function(){return n.showLabelAnimation(v[3])})).delay(1).call((function(){return n.showLabelAnimation(v[2])})).delay(1).call((function(){return n.showLabelAnimation(v[1])})).delay(1).call((function(){return n.showLabelAnimation(v[0])})).call((function(){return e()})).delay(1).call((function(){return n.show(!1)})).start()}))},o.showLabelAnimation=function(n){this.labelReady.string=n,this.labelReady.node.scale=s(0,0,0),this.animationShow.play()},e}(h)).prototype,"labelReady",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(p.prototype,"animationShow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/RemotePlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./Collectible.ts","./Player.ts"],(function(e){"use strict";var t,o,n,r,a,c,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){r=e.ItemType,a=e.VFX_CHARACTER},function(e){c=e.RunningGameManager},function(e){s=e.Collectible},function(e){i=e.Player}],execute:function(){var l;o._RF.push({},"e2638ALCWxJmpVp3M9sZ5Iz","RemotePlayer",void 0);var u=n.ccclass;n.property,e("RemotePlayer",u("RemotePlayer")(l=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onTriggerEnter=function(e){if(!c.IsPause)switch(e.otherCollider.getGroup()){case r.COLLECTIBLE:e.otherCollider.node.active=!1,e.otherCollider.node.getComponent(s).playCollectVFX();break;case r.SMALL_OBSTACLE:this.vfxCtrl.playVFX(a.HIT,!0,!1);break;case r.LIFE:case r.INVISIBLE:case r.MAGNET:case r.STAMPER:case r.COIN_DUPER:case r.MEGA_HOP:e.otherCollider.node.active=!1}},o}(i))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Rock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./AIManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(t){"use strict";var n,e,i,s,a,c,o,r,h,l,u,p,d,g;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.randomRange},function(t){a=t.SWIPEType,c=t.PLAYER_CHARACTER,o=t.default,r=t.GameActions,h=t.SKILL},function(t){l=t.RunningGameManager},function(t){u=t.AIManager},function(t){p=t.RANGE_THROW_BACKPACK,d=t.Obstacle},function(t){g=t.PlayerManager}],execute:function(){var _;e._RF.push({},"8810dAdrgtFrp2Ie9hC5UIA","Rock",void 0);var f=i.ccclass;i.property,t("Rock",f("Rock")(_=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this)._jumped=!1,n}n(e,t);var i=e.prototype;return i.reset=function(){this._aiProcessing=!1,this._notifyType=a.NONE,t.prototype.reset.call(this)},i.checkWillNotify=function(){this.node.parent.getPosition().x<0?this._notifyType=a.RIGHT:this.node.parent.getPosition().x>0&&(this._notifyType=a.LEFT)},i.checkWillActivateAI=function(){this._willActivateAI=!1,this._jumped=!1,this._aiProcessing=!1;var t=this.getPlayerSide();(t==c.MILKY&&this.node.parent.getPosition().x>0||t==c.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},i.updateNotify=function(t){},i.updateAI=function(t){var n=this;if(this._willActivateAI){var e=g.Instance.thisPlayer.node.getWorldPosition(),i=this.node.getWorldPosition(),a=l.Instance.speed/o.DEFAULT_RUNNING_SPEED,c=10*a;e.z<i.z+c&&0==this._jumped&&this._willPassObject&&0==this._aiProcessing&&(this._jumped=!0,l.Instance.sendAction({action:r.AIControl,skill:h.JUMP})),e.z<i.z+p*a&&g.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){n._anticipatingSuccess&&(l.Instance.sendAction({action:r.SetBackpackSide,dest:g.Instance.thisPlayer.character,force:!1}),n._aiProcessing=!1)}),s(u.Instance.m_minThinkingTime,u.Instance.m_maxThinkingTime))):l.Instance.sendAction({action:r.SetBackpackSide,dest:g.Instance.thisPlayer.character,force:!1}))}},e}(d))||_);e._RF.pop()}}}));

System.register("chunks:///_virtual/RollingRock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./AIManager.ts","./LevelManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(t){"use strict";var e,n,i,s,a,o,c,r,l,h,d,g,p,u,f,I,_,P,y,A,R;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.v3,a=t.randomRange},function(t){o=t.SWIPEType,c=t.PLAYER_CHARACTER,r=t.default,l=t.EnvironmentType,h=t.AudioSrc,d=t.GameActions,g=t.SKILL},function(t){p=t.NetworkManager},function(t){u=t.RunningGameManager},function(t){f=t.SoundManager},function(t){I=t.AIManager},function(t){_=t.LevelManager},function(t){P=t.RANGE_THROW_BACKPACK,y=t.RANGE_NOTIFY_BACKPACK_TUTORIAL,A=t.Obstacle},function(t){R=t.PlayerManager}],execute:function(){var S;n._RF.push({},"ec45exP98VJcagHYeWRHLj9","RollingRock",void 0);var T=i.ccclass;i.property,t("RollingRock",T("RollingRock")(S=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).rollingSpeed=10,e.jumped=!1,e.isSfxPlayed=!1,e}e(n,t);var i=n.prototype;return i.start=function(){_.Instance&&(this.rollingSpeed=_.Instance.getDynamicObjectSpeed(),this._rangeToActivate=_.Instance.getDynamicObjectActiveRange()),t.prototype.start.call(this)},i.reset=function(){var e=this.node.getPosition();this.node.setPosition(s(e.x,e.y,0)),this._notifyType=o.NONE,this.isSfxPlayed=!1,t.prototype.reset.call(this)},i.checkWillNotify=function(){this.node.parent.getPosition().x<0?this._notifyType=o.RIGHT:this.node.parent.getPosition().x>0&&(this._notifyType=o.LEFT)},i.checkWillActivateAI=function(){this._willActivateAI=!1,this.jumped=!1,this._aiProcessing=!1;var t=this.getPlayerSide();(t==c.MILKY&&this.node.parent.getPosition().x>0||t==c.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},i.updateMovement=function(t){var e=u.Instance.speed/r.DEFAULT_RUNNING_SPEED,n=R.Instance.node.getWorldPosition(),i=this.node.getWorldPosition(),s=Math.abs(n.z-i.z);if(s<this._rangeToActivate*e&&s>-this._rangeToActivate*e){if(!this.isSfxPlayed)switch(this.isSfxPlayed=!0,p.Instance.lobbyInfo.environment){case l.TROPICAL:f.Instance.playOneShot(h.BARREL);break;case l.URBAN:f.Instance.playOneShot(h.BARROW_LOOP);break;case l.SNOW:f.Instance.playOneShot(h.SLEDGE_LOOP)}var a=this.node.getPosition();a.z+=this.rollingSpeed*t,this.node.setPosition(a)}},i.updateAI=function(t){var e=this;if(this._willActivateAI){var n=u.Instance.speed/r.DEFAULT_RUNNING_SPEED,i=R.Instance.node.getWorldPosition(),s=this.node.getWorldPosition();i.z<s.z+10*n&&0==this.jumped&&this._willPassObject&&0==this._aiProcessing&&(this.jumped=!0,u.Instance.sendAction({action:d.AIControl,skill:g.JUMP})),i.z<s.z+P*n&&R.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){e._anticipatingSuccess&&(u.Instance.sendAction({action:d.SetBackpackSide,dest:R.Instance.thisPlayer.character,force:!1}),e._aiProcessing=!1)}),a(I.Instance.m_minThinkingTime,I.Instance.m_maxThinkingTime))):u.Instance.sendAction({action:d.SetBackpackSide,dest:R.Instance.thisPlayer.character,force:!1}))}},i.updateNotify=function(t){if(this._notifyType!=o.NONE){var e=u.Instance.speed/r.DEFAULT_RUNNING_SPEED,n=R.Instance.node.getWorldPosition(),i=this.node.getWorldPosition();n.z<i.z+y*e&&(0==this._notified?this._notified=!0:(this._notifyType==o.RIGHT&&this._AIJustHasBackpack,this._notifyType==o.LEFT&&this._playerJustHasBackpack))}},n}(A))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/RollingRockAccelerate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./AIManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(i){"use strict";var t,n,e,a,o,s,r,c,l,h,u,d,m,p,g,_,I,f,A,y,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,s=i._decorator,r=i.Node,c=i.Animation,l=i.tween,h=i.v3,u=i.randomRange},function(i){d=i.SWIPEType,m=i.PLAYER_CHARACTER,p=i.GameActions,g=i.SKILL},function(i){_=i.RunningGameManager},function(i){I=i.AIManager},function(i){f=i.ANIMATION_ENABLE_RANGE,A=i.RANGE_NOTIFY_BACKPACK_TUTORIAL,y=i.Obstacle},function(i){P=i.PlayerManager}],execute:function(){var b,T,R,v,w,z,k,S,M,E,N,O;o._RF.push({},"4f0809gCFdE+a73IQzXU4O/","RollingRockAccelerate",void 0);var W=s.ccclass,L=s.property,H="Anim_Stop";i("RollingRockAccelerate",(b=W("RollingRockAccelerate"),T=L(r),R=L(c),v=L(c),b((k=t((z=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=i.call.apply(i,[this].concat(o))||this,e(t,"m_indicator",k,a(t)),e(t,"m_IndicatorRange",S,a(t)),e(t,"m_SpeedMultiplier",M,a(t)),e(t,"m_IndicatorTime",E,a(t)),t.rollingSpeed=10,e(t,"animation",N,a(t)),e(t,"crabAnimation",O,a(t)),t.isPlaying=!0,t.isIndicatorShown=!1,t.isAccelerate=!1,t.jumped=!1,t.indicatorTime=0,t._tweenIndicator=null,t}n(t,i);var o=t.prototype;return o.start=function(){},o.reset=function(){},o.checkWillNotify=function(){this.node.parent.getPosition().x<0?this._notifyType=d.RIGHT:this.node.parent.getPosition().x>0&&(this._notifyType=d.LEFT)},o.checkWillActivateAI=function(){this._willActivateAI=!1,this.jumped=!1,this._aiProcessing=!1;var i=this.getPlayerSide();(i==m.MILKY&&this.node.parent.getPosition().x>0||i==m.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},o.updateMovement=function(i){this.isPlaying||(this.animation.resume(),this.isPlaying=!0);var t=P.Instance.node.getWorldPosition(),n=this.node.getWorldPosition(),e=Math.abs(t.z-n.z),a=0,o=this.node.getPosition();e<this._rangeToActivate&&e>-this._rangeToActivate&&(a=o.z+this.rollingSpeed*i),e<this.m_IndicatorRange&&e>-this.m_IndicatorRange&&(this.isIndicatorShown||(this.isIndicatorShown=!0,this.showIndicator(this.m_IndicatorTime)),this.indicatorTime>0&&(this.indicatorTime-=i),a=this.isAccelerate?o.z+this.rollingSpeed*this.m_SpeedMultiplier*i:o.z+this.rollingSpeed*i),0!=a?(o.z=a,this.node.setPosition(o)):this.isIndicatorShown=!1},o.isIndicatorTimeEnd=function(){return this.m_IndicatorTime<=this.indicatorTime},o.showIndicator=function(i){var t=this,n=.5;n=n-1>0?n-1:n,this._tweenIndicator&&this._tweenIndicator.stop(),this.m_indicator.active=!0,this._tweenIndicator=l(this.m_indicator).set({scale:h(.1,.1)}).to(.5,{scale:h(2,2)},{easing:"backOut"}).delay(n).to(.5,{scale:h(.1,.1)},{easing:"backIn"}).call((function(){t.m_indicator.active=!1,t.isAccelerate=!0})).start()},o.updateAnimation=function(i){var t=P.Instance.thisPlayer.node.getWorldPosition(),n=this.node.getWorldPosition(),e=Math.abs(t.z-n.z);!this.m_isPause&&_.IsPause?(this.animation&&this.animation.pause(),this.crabAnimation&&this.crabAnimation.pause(),this.m_isPause=!0):!_.IsPause&&this.m_isPause&&e<f&&(this.animation&&this.animation.play(),this.crabAnimation&&this.crabAnimation.play(),this.m_isPause=!1)},o.updateAI=function(i){var t=this;if(this._willActivateAI){var n=P.Instance.node.getWorldPosition(),e=this.node.getWorldPosition();n.z<e.z+10&&0==this.jumped&&this._willPassObject&&(this.jumped=!0,_.Instance.sendAction({action:p.AIControl,skill:g.JUMP})),n.z<e.z+60&&P.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){t._anticipatingSuccess&&(_.Instance.sendAction({action:p.SetBackpackSide,dest:P.Instance.thisPlayer.character,force:!1}),t._aiProcessing=!1)}),u(I.Instance.m_minThinkingTime,I.Instance.m_maxThinkingTime))):_.Instance.sendAction({action:p.SetBackpackSide,dest:P.Instance.thisPlayer.character,force:!1}))}},o.updateNotify=function(i){if(this._notifyType!=d.NONE){var t=P.Instance.node.getWorldPosition(),n=this.node.getWorldPosition();t.z<n.z+A&&(0==this._notified?this._notified=!0:(this._notifyType==d.RIGHT&&this._AIJustHasBackpack,this._notifyType==d.LEFT&&this._playerJustHasBackpack))}},o.update=function(i){},o.onHit=function(){this.crabAnimation&&this.animation&&(this.playAnim(this.crabAnimation,H,!0,!1),this.animation.pause())},t}(y)).prototype,"m_indicator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(z.prototype,"m_IndicatorRange",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),M=t(z.prototype,"m_SpeedMultiplier",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),E=t(z.prototype,"m_IndicatorTime",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),N=t(z.prototype,"animation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"crabAnimation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/RollingRockBig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./AIManager.ts","./Obstacle.ts","./PlayerManager.ts","./RollingRock.ts"],(function(t){"use strict";var n,i,e,s,c,a,o,r,l,u,h,g,d;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,s=t.randomRange},function(t){c=t.PLAYER_CHARACTER,a=t.default,o=t.GameActions,r=t.SKILL},function(t){l=t.RunningGameManager},function(t){u=t.AIManager},function(t){h=t.RANGE_THROW_BACKPACK},function(t){g=t.PlayerManager},function(t){d=t.RollingRock}],execute:function(){var p;i._RF.push({},"9feb123dLZJlIiCvxovfU8V","RollingRockBig",void 0);var A=e.ccclass;e.property,t("RollingRockBig",A("RollingRockBig")(p=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).rollingSpeed=10,n.isPlaying=!0,n.jumped=!1,n.jumped2=!1,n}n(i,t);var e=i.prototype;return e.reset=function(){this._aiProcessing=!1,t.prototype.reset.call(this)},e.checkWillActivateAI=function(){this._willActivateAI=!1,this._aiProcessing=!1,this.jumped=!1,this.jumped2=!1;var t=this.getPlayerSide();(t==c.MILKY&&this.node.parent.getPosition().x>0||t==c.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},e.updateAI=function(t){var n=this;if(this._willActivateAI){var i=l.Instance.speed/a.DEFAULT_RUNNING_SPEED,e=g.Instance.node.getWorldPosition(),c=this.node.getWorldPosition();e.z<c.z+25*i&&0==this.jumped&&this._willPassObject&&0==this._aiProcessing&&(this.jumped=!0,l.Instance.sendAction({action:o.AIControl,skill:r.JUMP})),e.z<c.z+8*i&&0==this.jumped2&&this._willPassObject&&(this.jumped2=!0,l.Instance.sendAction({action:o.AIControl,skill:r.DOUBLE_JUMP})),e.z<c.z+h*i&&g.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){n._anticipatingSuccess&&(l.Instance.sendAction({action:o.SetBackpackSide,dest:g.Instance.thisPlayer.character,force:!1}),n._aiProcessing=!1)}),s(u.Instance.m_minThinkingTime,u.Instance.m_maxThinkingTime))):l.Instance.sendAction({action:o.SetBackpackSide,dest:g.Instance.thisPlayer.character,force:!1}))}},i}(d))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUpdateLight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LightUpdateBase.ts","./LightUpdateManager.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,c,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Vec3,c=t.tween},function(t){h=t.LIGHT_TRANSITION_TIMES,p=t.LightUpdateBase},function(t){u=t.LightUpdateManager}],execute:function(){var l,g,d,f,L;a._RF.push({},"021539nkoxN5KmhELINV/Wf","RotateUpdateLight",void 0);var R=r.ccclass,y=r.property;t("RotateUpdateLight",(l=R("RotateUpdateLight"),g=y(s),l((L=e((f=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"rotations",L,n(e)),e.tweenRotate=null,e}return i(e,t),e.prototype.onUpdateLight=function(t,e){void 0===e&&(e=!1),u.Init||(e=!0),this.rotations&&0!=this.rotations.length&&(e?this.node.setRotationFromEuler(this.rotations[t]):(this.tweenRotate&&this.tweenRotate.stop(),this.tweenRotate=c(this.node).to(h[t],{eulerAngles:this.rotations[t]}).start()))},e}(p)).prototype,"rotations",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ru.ts",["cc"],(function(o){"use strict";var r;return{setters:[function(o){r=o.cclegacy}],execute:function(){r._RF.push({},"828dcpP+ThCIoDWWMvsmhJm","ru",void 0);o("ru",{str_logo:"ПУТЕШЕСТВИЕ МИЛКИ И ШОКИ",str_mm_start:"ИГРАТЬ СЕЙЧАС",str_mm_daily_reward:"Ежедневные награды",str_mm_achievements:"Достижения",str_mm_qr_code:"Сканировать QR-код",str_mm_daily_mission:"Ежедневные задания",str_mm_store:"Магазин",str_mm_leaderboard:"Список лидеров",str_mm_settings:"Настройки",str_dr_day:"ДЕНЬ {day}",str_claim_btn:"ЗАБРАТЬ",str_dr_claimed:"Получено",str_mission_refresh:"Обновление через",str_go_button:"ВПЕРЕД",str_accept:"ПРИНЯТЬ",str_submit:"ОТПРАВИТЬ",str_continue:"ПРОДОЛЖИТЬ",str_confirm:"ПОДТВЕРДИТЬ",str_revive:"ОЖИТЬ",str_collect:"СОБРАТЬ",str_store_powerups:"УСИЛЕНИЯ",str_store_boosters:"БОНУСЫ",str_store_accessories:"АКСЕССУАРЫ",str_store_chacter:"Выбрать персонажа:",str_store_head:"Голова",str_store_tops:"Верх",str_store_bottoms:"Низ",str_store_max:"Макс. уровень",str_store_insufficient:"Вам не хватает монет",str_store_full:"Вы не можете получить больше от этого бонуса.",str_store_duration:"Длительность: %{duration} сек",str_parental_consent:"Чтобы играть в эту игру, вы должны прочесть и принять следующие положения, а также подтвердить, что вы достигли минимального возраста, установленного в вашей стране проживания:",str_store_equip:"Надеть",str_store_unequip:"Снять",str_store_equipped:"Надето",str_mm_selected:"Выбрано",str_mm_ready:"Готово",str_mm_run:"Бежать",str_qte_time_up:"Время истекло!",str_qte_go:"Вперед",str_qte_success:"Удача",str_qte_tap:"Нажмите",str_qte_swipe:"Смахните",str_mm_public_name:"Играть онлайн",str_mm_public_descr:"Играйте с друзьями по всему миру",str_mm_private_name:"Играть с другом",str_mm_private_descr:"Играйте с другом",str_mm_invite_name:"ПРИГЛАСИТЬ",str_mm_invite_invitation:"Давай отправимся вместе в путешествие Милки и Шоки! Жду тебя здесь здесь: {code}",str_mm_join_name:"ПРИСОЕДИНИТЬСЯ",str_mm_join_descr:"Введите код комнаты друга:",str_mm_join_wrong:"Неверный код!",str_mm_join_conflict:"Гость выбрал себе имя {character name}. Хотите продолжить игру под именем {other character name}?",str_mm_join_return:"Невозможно присоединиться к комнате из-за повторяющегося персонажа.",str_qr_code_get:"У вас",str_qr_code_scanmore:"Отсканируйте еще один QR-код, чтобы получить:",str_qr_code_out:"К сожалению, вы уже достигли своего ежедневного лимита. Пожалуйста, попробуйте еще раз завтра.",str_ap_unlocked:"ОТКРЫТО",str_settings_music:"Музыка",str_settings_sfx:"Звук",str_settings_languages:"Языки",str_settings_login:"Войти",str_settings_method:"Как вы хотите войти:",str_settings_guest:"Гость",str_settings_term:"Условия использования",str_settings_privacy:"Конфиденциальность",str_settings_credits:"Авторы",str_map_tropical:"ТРОПИЧЕСКИЙ ОСТРОВ",str_map_urban:"УРБАНИЗИРОВАННЫЙ ГОРОД",str_map_snow:"ЗАСНЕЖЕННАЯ ГОРА",str_congrats:"ПОЗДРАВЛЯЕМ!",str_select_name:"СОЗДАЙТЕ ИМЯ ПОЛЬЗОВАТЕЛЯ",str_select_name_desc:"Ваше имя пользователя будут видеть другие игроки во время игры онлайн.",str_select_name_error1:"Ваше имя пользователя может содержать только буквы, цифры (0-9), точки (.) и подчеркивания (_).",str_select_name_error2:"Ваше имя пользователя содержит недопустимые слова.",str_language_en:"English",str_language_fr:"Français",str_language_de:"Deutsch",str_language_ru:"Русский",str_language_ab:"عربي",str_connection_timeout:"Время запроса истекло. Пожалуйста, проверьте соединение и повторите попытку.",str_connection_lost:"Не удалось подключиться к серверу игры. Пожалуйста, проверьте соединение и повторите попытку.",str_ok:"ОК",str_cancel:"Отмена",str_login_conflict_title:"Конфликт сохранения в облаке",str_login_conflict_descr:"Данные, сохраненные в облаке, не совпадают с данными на вашем устройстве",str_login_conflict_env:"Открыт пункт назначения: {}",str_login_conflict_highscore:"Рекорд: {}",str_login_conflict_accessories:"Открыты аксессуары: {}",str_login_conflict_coins:"Монеты: {}",str_login_conflict_cloud:"Данные из облака",str_login_conflict_cloudreplace:"Локальные данные будут заменены на данные, сохраненные в облаке",str_login_conflict_local:"Локальные данные",str_login_conflict_localreplace:"Данные, сохраненные в облаке, будут заменены на локальные данные",str_login_conflict_usecloud:"Выбрать",str_login_conflict_uselocal:"Использовать локальные данные",str_transfer_confirm:"Вновь полученные данные будут заменены на локальные данные. Продолжить?",str_transfer_success:"Ваш профиль перенесен.",str_transfer_fail:"Ой, что-то пошло не так. Пожалуйста, попробуйте позже.",str_contact_us:"Связаться с нами",str_contact_desc:"Если у вас возникли проблемы в игре, пожалуйста, свяжитесь с нами:",str_faq:"ЧАВО",str_ban_title:"Важно",str_ban_descr:"Ваш аккаунт забанен. Бан продлится до {time}.",str_loading:"Загрузка...",str_waiting:"Ожидание партнера...",str_mm_matching:"Идет подбор...",str_mm_matchfound:"Подбор завершен",str_mm_joining:"Подключение...",str_mm_gamejoining:"{name} подключается...",str_mm_send:"Отправить код",str_mm_booster:"Выбрать бонус",str_private_friendcode:"Ваш код дружбы",str_private_roomcode:"Ваш код комнаты",str_private_host:"Создать",str_private_join:"Присоединиться",str_settings_account:"Аккаунт",str_mm_mapunlock:"Пройдите {distance}, чтобы открыть {environment name}",str_qr_instruction:"Для сканирования QR-кода направьте на него камеру",str_qr_or:"или",str_qr_and:"и",str_qr_coin:"{number} монет",str_qr_booster:"Бонус",str_qr_outfit:"Костюм",str_qr_reward:"Награда",str_select_name_rule:"Ваше имя игрока может содержать только:\r\n    - Буквы (Aa-Zz) \r\n    - Цифры (0-9) (не более 7 цифр)\r\n    - Точки (.)\r\n    - Подчеркивания (_)\r\n    - Длина: от 4 до 12 символов",str_select_name_error3:"В вашем имени игрока более 7 цифр.",str_select_name_error4:"Имя игрока должно содержать 4-12 символов.",str_select_name_error5:"Слишком длинное имя игрока.",str_select_name_count:"Количество букв: {number}",str_settings_offf:"Откл.",str_settings_on:"Вкл.",str_settings_logout:"Выход",str_qr_pc:"Для продолжения необходимо предоставить браузеру доступ к камере.",str_loading_add:"Загрузка дополнительных данных...",str_endscreen:"Ваше расстояние",str_QTE_start:"Старт",str_QTE_perfect:"Идеально",str_QTE_miss:"Промах",str_selfie_sticker:"Стикер",str_settings_logout_warning:"Если выйти сейчас, потеряете прогресс.",str_login_guest:"Или можете войти как:",str_new_env_popup1:"Новый пункт назначения!",str_new_env_popup2:"Новый бонус!",str_new_env_popup3:"Новый предмет для оживления!",str_private_create:"СОЗДАТЬ",str_private_creating:"Создание комнаты...",str_private_taking_off:"Отправляемся...",str_mm_map:"Место назначения",str_shop_qr:"Открыть с QR-кодом",str_shop_daily:"Открыть в Ежедневных наградах",str_shop_free:"Даром",str_ap_you:"Вы",str_booster_none:"Вы пока не открыли никаких бонусов.",str_share_caption:"Присоединяйтесь\\n и побейте рекорд!",str_exit_pop_up:"Хотите выйти?",str_friend_quit:"Ваш друг вышел",str_friend_replay:"Ваш друг хочет повторить.",str_selfie_download:"Нажмите и удерживайте, чтобы загрузить изображение",str_account_another_device:"В учетную запись выполнен вход с другого устройства.",str_shop_confirm:"Вы точно хотите купить этот предмет?",str_disconnection:"Пожалуйста, проверьте соединение и повторите попытку.",str_booster_not_select:"Бонус не выбран",str_login_facebook:"Facebook",str_login_google:"Google",str_QR_open:"Нажмите, чтобы открыть",str_new_env_popup4:"Новые усиления!",str_new_env_popup5:"Новое усиление!",str_qr_mobile_only:"Эта возможность доступна только на смартфонах.",str_homescreen_ios:'Нажми {icon}, затем "Добавить на домашний экран".',str_homescreen_title:"Тебе весело?",str_homescreen_des:"Хочешь добавить эту игру на домашний экран для быстрого доступа?",str_homescreen_add:"Добавить",str_qr_milky:"За Милки",str_qr_schoki:"За Шоки",str_landscape:"Мини-игра поддерживает только ландшафтный режим.",str_daily_mission_finished:"Поздравляем! Сегодня все ежедневные  задания выполнены.\\nЗавтра появятся новые.",str_qr_milky_schoki:"За Милки и Шоки",tutorials_AP_1:"Привет!",tutorials_AP_2:"Мы уже давно тебя ждем! Меня зовут Шоки, и сегодня я буду твоим проводником.",tutorials_AP_3:"Тебя ждет долгое и удивительное путешествие.",tutorials_AP_4:"Вы с партнером вместе отправитесь открывать мир!",tutorials_AP_5:"Я знаю, что ты уже ждешь - не дождешься! Но сперва тебе стоит изучить движения.",tutorials_AP_6:"С рюкзаком ты не сможешь прыгать.",tutorials_AP_7:"Смахни в направлении партнера.",tutorials_AP_8:"Смахни вверх.",tutorials_AP_9:"Твой партнер будет управлять другим персонажем.",tutorials_AP_10:"Чтобы скользить, тебе понадобится рюкзак.",tutorials_AP_11:"Твой партнер передал тебе рюкзак.",tutorials_AP_12:"Смахни вниз.",tutorials_AP_13:"Партнеру нужен рюкзак, чтобы скользить.",tutorials_AP_14:"Смахни вверх еще раз.",tutorials_AP_15:"Смахни вниз в прыжке.",tutorials_AP_16:"Этот предмет вернет тебе жизнь. Ты можешь унести максимум 3 таких предмета.",tutorials_AP_17:"О, нет, столкновение. Не сдавайся!",tutorials_AP_18:"Используй найденный предмет, чтобы получить второй шанс!",tutorials_AP_20:"Поздравляем! Твоя энергия пополнена!",tutorials_dr_1:"Ой! Там твоя ежедневная награда. Не забудь забрать ее!",tutorials_dr_2:"Мы получили монеты! Давай купим себе что-нибудь новенькое!",tutorials_store_1:"Идем в магазин! Я угощаю!",tutorials_store_2:"Тебе идет! Нажми на значок, чтобы купить.",tutorials_store_3:"Нажми, чтобы надеть обновку.",tutorials_lobby_1:"Ты можешь выбрать любого из 2 персонажей.",tutorials_lobby_2:"Выбери Игра Онлайн, чтобы бежать с друзьями по всему миру.",tutorials_lobby_3:"Твой партнер готов. Нажми на значок старта, чтобы начать путешествие!",tutorials_mission_1:"Здорово! С ежедневным заданием справились! Давай заберем награду.",tutorials_mission_2:"Не останавливайся и выполни еще больше ежедневных заданий.",tutorials_mission_3:"Ну все, дальше без меня. Теперь ты отправишься в собственное путешествие.",tutorials_mission_4:"До свидания! Еще увидимся!",tutorials_qte_1:"Нажми, когда воланчик засияет.",tutorials_qte_2:"<color=#412A46>Попади по воланчику <color=#02A9E7>${target} раз</color> раз для возрождения!</color>",tutorials_qte_3:"<color=#02A9E7>Оба игрока</color> <color=#412A46>должны нажать на\r\nодну и ту же ноту, когда она в круге.</color>",tutorials_qte_4:"<color=#412A46>Попади в ноту <color=#02A9E7>${target} раз </color> для возрождения!</color>",tutorials_qte_5:"Смахни, чтобы передать шляпу партнеру.",tutorials_qte_6:"<color=#412A46>Поймай <color=#02A9E7>${target} предметов</color> для возрождения!</color>",tutorials_qte_7:"Заполни шкалу с каждым удачным уловом, чтобы продолжить игру!",tutorials_quick_1:"Смахни вверх, чтобы прыгнуть, если на тебе нет рюкзака.",tutorials_quick_2:"Смахни вверх дважды для двойного прыжка, когда на тебе нет рюкзака.",tutorials_quick_3:"Проведи вниз в прыжке, чтобы быстрее приземлиться.",tutorials_quick_4:"Проведи вниз, неся рюкзак, чтобы скользить.",tutorials_quick_5:"Проведи в сторону партнера, чтобы передать рюкзак.",tutorials_quick_6:"Проведи в свою сторону, чтобы попросить рюкзак.",tutorials_store_4:"Здесь ты можешь улучшить свои способности.",tutorials_store_5:"Посмотрим, что можно сделать в Магазине!",tutorials_store_6:"Здесь можно покупать усиления, чтобы использовать в начале своего путешествия.",tutorials_store_7:"Нажми, чтобы показать подробности",tutorials_store_8:"Нажми еще раз, чтобы скрыть подробности",tutorials_store_9:"Давай это купим! Нажми, чтобы купить.",tutorials_store_10:"Нажми и выбери персонажа, для которого хочешь купить аксессуары.",tutorials_store_11:"Нажми на предмет, чтобы посмотреть на него поближе.",tutorials_store_12:"Давай используем усиление, которое мы только что купили.",tutorials_private_1:"Нажми Создать, чтобы открыть свою комнату.",tutorials_private_2:"Покажи код комнаты другу.",tutorials_private_3:"Или нажми Пригласить, чтобы отправить ему ссылку на присоединение к комнате.",tutorials_private_4:"Чтобы присоединиться, можешь ввести код комнаты здесь",tutorials_private_5:"Затем нажми Присоединиться.",tutorials_private_6:"Или можешь нажать на ссылку, которую отправил хозяин комнаты.",tutorials_swipe_1:"Смахни, чтобы взглянуть на аэропорт!",tutorials_map_1:"Поздравляем! Открыта новая локация!",tutorials_map_2:"Нажми на стрелку, чтобы сменить локацию.",tutorials_selfie_1:"Здесь можно сделать селфи с Милки и Шоки.",tutorials_booster_1:"Нажми на бонус, который хочешь выбрать.",tutorials_booster_2:"Нажми ОК, чтобы подтвердить свой выбор.",tutorials_ap_1:"Поздравляем, обучение пройдено.",tutorials_ap_2:"Продолжай играть и открывай новые функции.",fact_0:"Можно собирать предметы посередине, перебросив в нужное время рюкзак.",fact_1:"Можно попросить рюкзак, смахнув в направлении персонажа.",fact_2:"Попробуйте выбрать тот же бонус, что и партнер. Вас ждет сюрприз.",fact_3:"Ежедневные задания будут каждый день обновляться. Постарайтесь закончить их, пока они действуют!",fact_4:"Отсканируйте QR-код, чтобы получить особую награду.",fact_5:"У вас может быть до 9 бонусов одного типа. Скопидомство вредно для здоровья.",fact_6:"У вас в сумке может быть максимум три жизни. Лучше путешествуйте налегке!",fact_7:"Улучшите усиления в магазине, и они буду дольше работать во время забега. Это хорошее вложение!",fact_8:"В магазине можно купить бонусы, которые окажут вам огромную помощь во время забега.",fact_9:"Усиление Щит защитит вас от одного препятствия в случае, если вы поскользнетесь.",fact_10:"Усиление Магнит будет притягивать все монеты и расходники, которые повстречаются у вас на пути. В конце концов, нужно делиться!",fact_11:"Что может быть лучше одной монетки? Две монетки. Усиление Удвоитель из каждой одной монетки сделает две.",fact_12:"Хотите расчистить себе путь? Усиление Штамповщик превратит все преграды в монеты.",fact_13:"Усиление Мегапрыжок перенесет вас обоих вперед с гиперскоростью. Вот это везение!",fact_14:"Это подсказка.",fact_15:"Вы и ваш друг не можете выбрать одного и того же персонажа, когда заходите в комнату.",fact_16:"С аксессуарами вы будете выглядеть круче. Их можно купить и надеть в магазине.",fact_17:"Новая локация откроется после того, как вы преодолеете определенное расстояние.",fact_18:"Вы можете получать достижения просто играя в игру.",fact_19:"Следите за птицей. Если она летит - скользите, если садится - прыгайте.",fact_20:"Еще больше преград, усилений и жизней откроется в следующих локациях.",fact_21:"Чем больше QR-кодов вы отсканируете в день, тем больше наград получите.",fact_22:"При использовании бонус будет израсходован.","fact-tip":"Совет:",powerup_shield_name:"Щит",powerup_shield_desc:"Защищает игрока от одной преграды.",powerup_magnet_name:"Магнит",powerup_magnet_desc:"Автоматически собирает монеты и расходники.",powerup_stamper_name:"Штамповщик",powerup_stampler_descr:"Превращает все преграды в кучу монет!",powerup_coinduper_name:"Удвоитель",powerup_coinduper_descr:"Каждую монету превращает в две монеты.",powerup_megahop_name:"Мегапрыжок",powerup_megahop_descr:"С гиперскоростью переносит обоих игроков вперед.",booster_headstart1_name:"Гиперстарт",booster_headstart1_descr:"С гиперскоростью переносит обоих игроков вперед на %{number} м в начале забега.",booster_headstart2_name:"Большой гиперстарт",booster_headstart2_descr:"С гиперскоростью переносит обоих игроков вперед на %{number} м в начале забега.",booster_headstart3_name:"Мега Гиперстарт",booster_headstart3_descr:"С гиперскоростью переносит обоих игроков вперед на %{number} м в начале забега.",booster_coinboost1_name:"+ {number}% монет",booster_coinboost1_descr:"Получите на {number}% больше монет в конце забега.",booster_coinboost2_name:"+ 100% монет",booster_coinboost2_descr:"Получите на 100% больше монет в конце забега.",booster_coinboost3_name:"+ 150% монет",booster_coinboost3_descr:"Получите на 500% больше монет в конце забега.",booster_qte1_name:"Хороший спорт",booster_qte1_descr:"Начните забег с {number} случайной жизнью.",booster_qte2_name:"Спортивный дух",booster_qte2_descr:"Начните забег с {number} жизнями.",booster_revival_name:"Второй шанс",booster_revival_descr:"Защищает игрока от первой преграды, в которую тот врезается.",play_mul:"<color=#FFFFFF>Сыграйте в Общем режиме <color=#01FFFF>{number} р.</color></color>",run_distance:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color> в любом режиме.</color>",double_jump:"<color=#FFFFFF>Сделайте двойные прыжки в любом режиме: <color=#01FFFF>{number}.</color></color>",collect_coins:"<color=#FFFFFF>Соберите монеты: <color=#01FFFF>{number}.</color></color>",dash:"<color=#FFFFFF>Скользите, чтобы избежать преград, <color=#01FFFF>{number} р.</color></color>",request_backpack:"<color=#FFFFFF>Попросите рюкзак <color=#01FFFF>{number} р.</color></color>",pass_backpack:"<color=#FFFFFF>Передайте рюкзак партнеру <color=#01FFFF>{number} р.</color></color>",power_up:"<color=#FFFFFF>Соберите усиления: <color=#01FFFF>{number}.</color></color>",extra_life:"<color=#FFFFFF>Соберите жизни:<color=#01FFFF>{number}.</color></color>",suc_QTE:"<color=#FFFFFF>Оживите <color=#01FFFF>{number} р.</color></color>",double_jump_one_run:"<color=#FFFFFF>Сделайте двойной прыжок <color=#01FFFF>{number} р.</color> за один забег.</color>",run_distance_one_run:"<color=#FFFFFF>Достигните отметки в <color=#01FFFF>{number} м</color> за один забег.</color>",Upgrade_power_up:"<color=#FFFFFF>Улучшите усиления: <color=#01FFFF>{number}</color>.",booster_active:"<color=#FFFFFF>Используйте бонусы: <color=#01FFFF>{number}.</color></color>",collect_coins_one_run:"<color=#FFFFFF>Соберите монеты <color=#01FFFF>({number} шт.)</color> за один забег.</color>",dash_one_run:"<color=#FFFFFF>Скользите, чтобы избежать преград, <color=#01FFFF>{number} р.</color> за один забег.</color>",mid_coin:"<color=#FFFFFF>Соберите большие монеты <color=#01FFFF>({number} шт.) </color> за один забег.</color>",booster_buy:"<color=#FFFFFF>Купите усиления: <color=#01FFFF>{number}.</color></color>",accessory_run:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color>, надев <color=#01FFFF>2 аксессуара.</color>",pass_backpack_one_run:"<color=#FFFFFF>Передайте рюкзак партнеру <color=#01FFFF>{number} р.</color> за один забег.</color>",buy_acessories:"<color=#FFFFFF>Купите <color=#01FFFF>любой аксессуар.</color></color>",tropical_island:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color> по Тропическому острову.</color>",urban_city:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color> по Урбанизированному городу.</color>",snow_mountain:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color> по Заснеженной горе.</color>",accessory_run_easy:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color>, надев <color=#01FFFF>1 аксессуар.</color>",accessory_run_hard:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м</color>, надев <color=#01FFFF>3 аксессуара.</color>",share:"<color=#01FFFF>Покажите свой счет</color><color=#FFFFFF> на экране результатов один раз.</color>",achievement_acc_1:"<color=#FFFFFF>Купите аксессуары: <color=#01FFFF>{number}.</color></color>",achievement_play_1:"<color=#FFFFFF>Совершите путешествие <color=#01FFFF>{number} р.</color></color>",achievement_power_1:"<color=#FFFFFF>Соберите усиления: <color=#01FFFF>{number}.</color></color>",achievement_pass_1:"<color=#FFFFFF>Используйте бонусы: <color=#01FFFF>{number}.</color></color>",achievement_ap_1:"<color=#FFFFFF>Оживите своего партнера <color=#01FFFF>{number} р.</color></color>",achievement_dl_1:"<color=#FFFFFF>Выполните Ежедневные задания: <color=#01FFFF>{number}.</color></color>",achievement_sf_1:"<color=#FFFFFF>Сделайте селфи в разных позах: <color=#01FFFF>{number}.</color></color>",achievement_milky_1:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м,</color> играя за Милки.</color>",achievement_schoky_1:"<color=#FFFFFF>Пробегите <color=#01FFFF>{number} м,</color> играя за Шоки.</color>",achivement_beach_1:"<color=#FFFFFF>Пробегите по Тропическому острову <color=#01FFFF>{number} р.</color></color>",achivement_beach_2:"<color=#FFFFFF>Добегите до второго района Тропического острова <color=#01FFFF>{number} р.</color></color>",achivement_beach_3:"<color=#FFFFFF>Добегите до третьего района Тропического острова <color=#01FFFF>{number} р.</color></color>",achivement_city_1:"<color=#FFFFFF>Пробегите по Урбанизированному городу <color=#01FFFF>{number} р.</color></color>",achivement_city_2:"<color=#FFFFFF>Добегите до второго района Урбанизированного города <color=#01FFFF>{number} р.</color></color>",achivement_city_3:"<color=#FFFFFF>Добегите до третьего района Урбанизированного города <color=#01FFFF>{number} р.</color></color>",achievement_mountain_1:"<color=#FFFFFF>Пробегите по Заснеженной горе <color=#01FFFF>{number} р.</color></color>",achievement_mountain_2:"<color=#FFFFFF>Добегите до второго района Заснеженной горы <color=#01FFFF>{number} р.</color></color>",achievement_mountain_3:"<color=#FFFFFF>Добегите до третьего района Заснеженной горы <color=#01FFFF>{number} р.</color></color>",headwear_01:"Энергичный день",headwear_02:"Настоящая принцесса",headwear_03:"Королева Милки",headwear_04:"Исследователь",headwear_05:"Классно выглядишь",headwear_06:"Любитель музыки",headwear_07:"Дух вечеринки",headwear_08:"Синяя кепка",headwear_09:"Красная кепка",Scarf_01:"Теплое сердце",Scarf_02:"Тепло и уютно",Scarf_03:"Танец цветов",Scarf_04:"Работа в офисе",Scarf_05:"Джентльмен",Scarf_06:"Торжественный",Scarf_07:"Тропические нотки",Scarf_08:"Ночное небо",Scarf_09:"Полярное сияние",Footwear_01:"Красные ботинки",Footwear_02:"Классика",Footwear_03:"На льду",Footwear_04:"В космосе",Footwear_05:"Модница",Footwear_06:"Активный отдых",Pant_01:"В полоску",Pant_02:"В горошек",Pant_03:"Ананасовые шорты",Pant_04:"Спортивные",Pant_05:"Звезда экшена",Pant_06:"Фотосессия на море",bot_1:"МакМаон",bot_2:"Гесс",bot_3:"Куинн",bot_4:"Комптон",bot_5:"Хендрикс",bot_6:"Рич",bot_7:"МакГи",bot_8:"Ламберт",bot_9:"МакДоннел",bot_10:"Альфаро",bot_11:"Прайс",bot_12:"Кристенсен",bot_13:"Хиллз",bot_14:"Хафф",bot_15:"Сеньор",bot_16:"Фентон",bot_17:"Маллинз",bot_18:"Блэк",bot_19:"Орри",bot_20:"Грэй",bot_21:"Деккер",bot_22:"Морин",bot_23:"Боуман",bot_24:"Райли",bot_25:"Дэйвис",bot_26:"Оливер",bot_27:"Гаррис",bot_28:"Ховелл",bot_29:"Барроу",bot_30:"Линн",bot_31:"Невил",bot_32:"Корниш",bot_33:"Кумар",bot_34:"Валус",bot_35:"МакНайт",bot_36:"Чепман",bot_37:"МакНэйл",bot_38:"Болдуин",bot_39:"Грейг",bot_40:"Вебстер",bot_41:"Каума",bot_42:"Хупер",bot_43:"Трейо",bot_44:"Поуп",bot_45:"Авила",bot_46:"Клиффорд",bot_47:"МакКартни",bot_48:"Пейн",bot_49:"Гузман",bot_50:"Мелендез",bot_51:"Стил",bot_52:"Питтс",bot_53:"Харт",bot_54:"МакКоллум",bot_55:"Калверт",bot_56:"Чемберлен",bot_57:"Бейтман",bot_58:"Уайти",bot_59:"Роза",bot_60:"Дадли",bot_61:"Спенс",bot_62:"Пирсон",bot_63:"Спаркс",bot_64:"Нивз",bot_65:"Барр",bot_66:"Рутледж",bot_67:"Пайнеда",bot_68:"Дональд",bot_69:"Ригби",bot_70:"Каур",bot_71:"Фини",bot_72:"Уинн",bot_73:"Вулф",bot_74:"Суонн",bot_75:"Комбс",bot_76:"Роллинс",bot_77:"Лэнд",bot_78:"Лейн",bot_79:"Бейл",bot_80:"Одом",bot_81:"Тран",bot_82:"Уитл",bot_83:"Кейси",bot_84:"Барбер",bot_85:"Матис",bot_86:"Тайсон",bot_87:"Коста",bot_88:"Брей",bot_89:"Кастанеда",bot_90:"Мендез",bot_91:"Энтони",bot_92:"Келли",bot_93:"Уитфилд",bot_94:"Николсон",bot_95:"Магана",bot_96:"Руссо",bot_97:"Баттл",bot_98:"Барри",bot_99:"Дорси",bot_100:"Гленн",game_version:"Версия %{0} \\n",str_about_00:"<color=#F35B81>GAMELOFT FOR BRANDS</color> \\n",str_about_01:"<color=#F35B81>РУКОВОДИТЕЛЬ СТУДИИ</color>",str_about_02:"Thierry Lecat \\n",str_about_03:"<color=#F35B81>ПРОДЮСЕР</color>",str_about_04:"Ly Vi Hue \\n",str_about_05:"<color=#F35B81>ТВОРЧЕСКИЙ РУКОВОДИТЕЛЬ</color>",str_about_06:"Cedric Ratajczak \\n",str_about_07:"<color=#F35B81>ТЕХНИЧЕСКИЙ ДИРЕКТОР, ВЬЕТНАМ</color>",str_about_08:"Laurent Le \\n",str_about_09:"<color=#F35B81>ВЕД. ПРОГРАММИСТ</color>",str_about_10:"Vo Minh Tam \\n",str_about_11:"<color=#F35B81>ПРОГРАММИСТЫ</color>",str_about_12:"Tran Binh Hoa \\nHoang Quoc Khanh \\n",str_about_13:"<color=#F35B81>ВЕД. ГЕЙМДИЗАЙНЕР</color>",str_about_14:"Nguyen Phu Hong Phuc \\n",str_about_15:"<color=#F35B81>ГЕЙМДИЗАЙНЕР.</color>",str_about_16:"Truong Gia Huy \\n",str_about_17:"<color=#F35B81>АРТДИРЕКТОР</color>",str_about_18:"Leandro Banak \\n",str_about_19:"<color=#F35B81>ХУДОЖНИК ИНТЕРФЕЙСА</color>",str_about_20:"Tran Thi Mai Trang \\n",str_about_21:"<color=#F35B81>ВЕД. 2D-ХУДОЖНИК</color>",str_about_22:"Le Ngoc Trinh \\n",str_about_23:"<color=#F35B81>2D-ХУДОЖНИКИ</color>",str_about_24:"John Tenoria \\nLe Thanh Hang \\n",str_about_25:"<color=#F35B81>ВЕД. 3D-ХУДОЖНИК</color>",str_about_26:"Vo Binh Quan \\n",str_about_27:"<color=#F35B81>3D-ХУДОЖНИКИ</color>",str_about_28:"Nguyen Huu Toan \\nTruong Huynh Thao \\n",str_about_29:"<color=#F35B81>ВЕД. 3D-АНИМАТОР</color>",str_about_30:"Siva Gonti \\n",str_about_31:"<color=#F35B81>3D-АНИМАТОР</color>",str_about_32:"Durga Prasad Kamisetti \\n",str_about_33:"<color=#F35B81>ВЕД. ХУДОЖНИК ЭФФЕКТОВ</color>",str_about_34:"Christopher Pringle \\n",str_about_35:"<color=#F35B81>ХУДОЖНИКИ ЭФФЕКТОВ</color>",str_about_36:"Christopher Pringle \\nYohan Pradeloux \\n",str_about_37:"<color=#F35B81>ЛОКАЛИЗАЦИЯ</color>",str_about_38:"<color=#F35B81>МЕНЕДЖЕР ЛОКАЛИЗАЦИИ</color>",str_about_39:"Alexis Green-Painchaud \\n",str_about_40:"<color=#F35B81>КООРДИНАТОРЫ ЛОКАЛИЗАЦИИ</color>",str_about_41:"Catherine Boudreault \\nEric Millette \\nFrederic Moreau \\nAriane Beauparlant \\n",str_about_42:"<color=#F35B81>ЛОКАЛИЗАЦИЯ, ТЕХ. КООРДИНАТОР</color>",str_about_43:"Frank Schneidawind \\n",str_about_44:"<color=#F35B81>ЛОКАЛИЗАЦИЯ, ТЕХ. СПЕЦИАЛИСТ</color>",str_about_45:"Yannick Denis \\n",str_about_46:"<color=#F35B81>ЛОКАЛИЗАЦИЯ</color>",str_about_47:"Elena Kurguz \\nVadim Medved \\nSvetlana Zotova \\nOlga Nabatova \\n",str_about_48:"<color=#F35B81>СПЕЦ-ТЫ ПО БАГАМ ЛОКАЛИЗАЦИИ</color>",str_about_49:"Juan Carlos Ardila \\nPham Diep Van Nhi \\nJaime Silva-Valencia \\n",str_about_50:"<color=#F35B81>ТЕСТИРОВАНИЕ</color>",str_about_51:"<color=#F35B81>МЕНЕДЖЕР ПО ТЕСТИРОВАНИЮ СТУДИИ</color>",str_about_52:"Madek Widodo \\n",str_about_53:"<color=#F35B81>МЕНЕДЖЕР ПОДРАЗДЕЛЕНИЯ</color>",str_about_54:"Le Phung Thanh Son \\n",str_about_55:"<color=#F35B81>ТЕСТИРОВАНИЕ, ПРОЕКТ-МЕНЕДЖЕР</color>",str_about_56:"Ratna Kusumaningtyas \\n",str_about_57:"<color=#F35B81>ТЕСТИРОВАНИЕ, ВЕД. СПЕЦ. КОМАНДЫ</color>",str_about_58:"Maulana Ibrahim \\nImam Masrufi \\n",str_about_59:"<color=#F35B81>ТЕСТИРОВЩИКИ</color>",str_about_60:"Andri Bagastomo \\nGinanjar Sidik \\nAnggit Sukamto \\nAziz Muzzamil \\nAri Wirawan \\nAmri Arfian \\nKelvin Dennyswara \\nDwi Kustiarno \\nRizky Lambang \\nAdik Nupantoro \\nYordan Ridhanto \\nErdhika Firmana \\nNungki Nugroho \\nHudam Nugraha \\nYudhistira \\nOnny Hermawan \\nEgrit Wijatsongko \\nHerbowo Putro \\nImakulata Kristanti \\nAlba Millentry\r\n \\n",str_about_61:"<color=#F35B81>МЕНЕДЖЕР ЗВУКОЗАПИСИ</color>",str_about_62:"Zabi Khan \\n",str_about_63:"<color=#F35B81>ЗВУКООПЕРАТОР</color>",str_about_64:"Stefani Leoni \\n",str_about_65:"<color=#F35B81>МАРКЕТИНГ, МЕНЕДЖЕРЫ ПРОДУКТА</color>",str_about_66:"Baptiste Tauzin\\nChloe Roddier\\nLy Ba Tho \\n",str_about_67:"<color=#F35B81>ЮРИДИЧЕСКИЙ ОТДЕЛ</color>",str_about_68:"<color=#F35B81>ВЕД. ЮРИСКОНСУЛЬТ</color>",str_about_69:"Hortense Jouquan \\n",str_about_70:"<color=#F35B81>СПЕЦ. ПО ЗАЩИТЕ ДАННЫХ</color>",str_about_71:"Isabelle Le Vot \\n",str_about_72:"<color=#F35B81>ЮРИСКОНСУЛЬТ</color>",str_about_73:"Alexandra Rochefort \\n",str_about_74:"<color=#F35B81>КОМАНДА СЕРВЕРНОЙ ЧАСТИ</color>",str_about_75:"<color=#F35B81>ПРОДЮСЕРЫ</color>",str_about_76:"Nguyen Tri Nhan \\nPhan Nguyen Tuong Minh \\n",str_about_77:"<color=#F35B81>ПРОГРАММИСТЫ</color>",str_about_78:"Le Nguyen Trung Hieu \\nDinh Xuan Duy \\nTran Xuan Khoa \\nTran Duy Truong \\nQuang Chan Vi \\nHuynh Cong Duc \\nTran Minh Tien \\nHuynh Ngoc Phuong Anh \\nTruong Binh Tan \\nTran Kim Bao \\nNguyen Duy Minh \\nHan Van Gia Hien \\n",str_about_79:"<color=#F35B81>CMS-ПРОГРАММИСТЫ</color>",str_about_80:"To Quoc Long \\nLe Thanh Nghi \\n",str_about_81:"<color=#F35B81>АНАЛИЗ ДАННЫХ</color>",str_about_82:"Dang Minh Tuan \\nNguyen Duy Anh \\nNguyen Thanh Hung \\nTran Thi Mai",str_about_83:"<color=#F35B81>ЛИЦЕНЗИИ НА ОТКРЫТОЕ ПО</color>",str_about_84:"<color=#F35B81>Cocos Creator</color>",str_about_85:"<color=#F35B81>i18n Extension for Cocos Creator</color>",str_about_86:'Copyright (c) 2013-2016 Chukong Technologies Inc.\r\nCopyright (c) 2017-2022 Xiamen Yaji Software Co., Ltd.\r\nhttp://www.cocos.com \r\nPermission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated engine \r\nsource code (the "Software"), a limited,\r\nworldwide, royalty-free, non-assignable,\r\nrevocable and non-exclusive license to \r\nuse Cocos Creator solely to develop \r\ngames on your target platforms. You shall \r\nnot use Cocos Creator software for \r\ndeveloping other software or tools that\'s \r\nused for developing games. You are not \r\ngranted to publish, distribute, sublicense, \r\nand/or sell copies of Cocos Creator. The \r\nsoftware or tools in this License Agreement \r\nare licensed, not sold. \r\nXiamen Yaji Software Co., Ltd. \r\nreserves all rights not expressly granted to you.\\n',str_about_87:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"),\r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to\r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions:\\n\r\nThe above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software.',str_about_88:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_89:"<color=#F35B81>Colyseus</color>",str_about_90:"Copyright (c) 2021 Lucid Sight \\n Copyright (c) 2015-2021 Endel Dreyer \\n \\nMIT License: \\n",str_about_91:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_92:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_93:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_94:"<color=#F35B81>axios</color>",str_about_95:"Copyright (c) 2014-2022 \r\nMatt Zabriskie & Collaborators \\n",str_about_96:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_97:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_98:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_99:"<color=#F35B81>crypto-js</color>",str_about_100:"Copyright (c) 2009-2013 Jeff Mott \\n Copyright (c) 2013-2016 Evan Vosberg \\n",str_about_101:'Permission is hereby granted, free of \r\ncharge, to any person obtaining a copy \r\nof this software and associated \r\ndocumentation files (the "Software"), \r\nto deal in the Software without restriction, \r\nincluding without limitation the rights to \r\nuse, copy, modify, merge, publish, \r\ndistribute, sublicense, and/or sell copies \r\nof the Software, and to permit persons to \r\nwhom the Software is furnished to do so, \r\nsubject to the following conditions: \\n',str_about_102:"The above copyright notice and this \r\npermission notice shall be included in \r\nall copies or substantial portions of \r\nthe Software. \\n",str_about_103:'THE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_104:"<color=#F35B81>lodash</color>",str_about_105:"Copyright JS Foundation and other \r\ncontributors <https://js.foundation/> \r\nBased on Underscore.js, \r\ncopyright Jeremy Ashkenas, \r\nDocumentCloud and Investigative \r\nReporters & Editors \r\n<http://underscorejs.org/> \r\nThis software consists of voluntary \r\ncontributions made by many individuals. \r\nFor exact contribution history, see the \r\nrevision history available at \r\nhttps://github.com/lodash/lodash",str_about_106:"The following license applies to all parts of this software except as documented below: \\n",str_about_107:'Permission is hereby granted, free of charge, \r\nto any person obtaining a copy of this \r\nsoftware and associated documentation files \r\n(the "Software"), to deal in the Software \r\nwithout restriction, including without \r\nlimitation the rights to use, copy, modify, \r\nmerge, publish, distribute, sublicense, \r\nand/or sell copies of the Software, and to \r\npermit persons to whom the Software is \r\nfurnished to do so, subject to the following \r\nconditions: \\n',str_about_108:"The above copyright notice and this \r\npermission notice shall be included in all \r\ncopies or substantial portions of the Software.\\n",str_about_109:'THE SOFTWARE IS PROVIDED "AS IS",\\n WITHOUT WARRANTY OF ANY KIND,\\n EXPRESS OR IMPLIED, INCLUDING\\n BUT NOT LIMITED TO THE\\n WARRANTIES OF MERCHANTABILITY,\\n FITNESS FOR A PARTICULAR PURPOSE\\n AND NONINFRINGEMENT. IN NO\\n EVENT SHALL THE AUTHORS OR\\n COPYRIGHT HOLDERS BE\\n LIABLE FOR ANY CLAIM, DAMAGES\\n OR OTHER LIABILITY, WHETHER IN AN\\n ACTION OF CONTRACT, TORT OR OTHERWISE,\\n ARISING FROM, OUT OF OR IN CONNECTION\\n WITH THE SOFTWARE OR THE USE\\n OR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_110:"<color=#F35B81>Fonts</color>",str_about_111:"<color=#F35B81>Paytone One</color>",str_about_112:'Copyright 2011 The Paytone Project Authors\r\n(https://github.com/googlefonts/paytoneFont),\r\nwith Reserved Font Names "Paytone" and \r\n"Paytone One".\r\nThis Font Software is licensed under the \r\nSIL Open Font License, Version 1.1. \r\nThis license is copied below, and is also \r\navailable with a FAQ at:\r\nhttp://scripts.sil.org/OFL \r\n\r\nSIL OPEN FONT LICENSE \r\nVersion 1.1 - 26 February 2007\r\n\r\nPREAMBLE\r\nThe goals of the Open Font License (OFL) \r\nare to stimulate worldwide development \r\nof collaborative font projects, \r\nto support the font creation\r\nefforts of academic and linguistic \r\ncommunities, and to provide a \r\nfree and open framework in which \r\nfonts may be shared and improved \r\nin partnership with others.\r\n\r\nThe OFL allows the licensed fonts to be \r\nused, studied, modified and \r\nredistributed freely as long as they are not \r\nsold by themselves. The fonts, including \r\nany derivative works, can be bundled, embedded, \r\nredistributed and/or sold with any \r\nsoftware provided that any reserved\r\nnames are not used by derivative works. \r\nThe fonts and derivatives, however, \r\ncannot be released under any other \r\ntype of license. The requirement for \r\nfonts to remain under this license does \r\nnot apply to any document created using \r\nthe fonts or their derivatives.\r\n\r\nDEFINITIONS\r\n"Font Software" refers to the set of files released by the Copyright\r\nHolder(s) under this license and clearly marked as such. This may\r\ninclude source files, build scripts and documentation.\r\n\r\n"Reserved Font Name" refers to any names specified as such after the\r\ncopyright statement(s).\r\n\r\n"Original Version" refers to the collection \r\nof Font Software components as\r\ndistributed by the Copyright Holder(s).\r\n\r\n"Modified Version" refers to any derivative \r\nmade by adding to, deleting,\r\nor substituting -- in part or in whole -- any \r\nof the components of the Original \r\nVersion, by changing formats or by \r\nporting the Font Software to a\r\nnew environment.\r\n\r\n"Author" refers to any designer, engineer, programmer, technical\r\nwriter or other person who contributed to the Font Software.\r\n\r\nPERMISSION & CONDITIONS\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of the Font Software, to use, study, copy, merge, embed, modify,\r\nredistribute, and sell modified and unmodified copies of the Font\r\nSoftware, subject to the following conditions:\r\n\r\n1) Neither the Font Software nor any of its individual components,\r\nin Original or Modified Versions, may be sold by itself.\r\n\r\n2) Original or Modified Versions of the \r\nFont Software may be bundled,\r\nredistributed and/or sold with any software, provided that each copy\r\ncontains the above copyright notice and this license. These can be\r\nincluded either as stand-alone text files, human-readable headers or\r\nin the appropriate machine-readable metadata fields within text or\r\nbinary files as long as those fields can be easily viewed by the user.\r\n\r\n3) No Modified Version of the Font Software may use the Reserved Font\r\nName(s) unless explicit written permission \r\nis granted by the corresponding\r\nCopyright Holder. This restriction only applies to the primary font name as\r\npresented to the users.\r\n\r\n4) The name(s) of the Copyright Holder(s) \r\nor the Author(s) of the Font\r\nSoftware shall not be used to promote, endorse or advertise any\r\nModified Version, except to acknowledge \r\nthe contribution(s) of the\r\nCopyright Holder(s) and the Author(s) or with their explicit written\r\npermission.\r\n\r\n5) The Font Software, modified or unmodified, in part or in whole,\r\nmust be distributed entirely under this license, and must not be\r\ndistributed under any other license. The requirement for fonts to\r\nremain under this license does not apply \r\nto any document created\r\nusing the Font Software.\\n',str_about_113:'TERMINATION\r\nThis license becomes null and void \r\nif any of the above conditions \r\nare not met.\\n\r\nDISCLAIMER\r\nTHE SOFTWARE IS PROVIDED "AS IS",\\nWITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING\\nBUT NOT LIMITED TO THE\\nWARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE\\nAND NONINFRINGEMENT. IN NO\\nEVENT SHALL THE AUTHORS OR\\nCOPYRIGHT HOLDERS BE\\nLIABLE FOR ANY CLAIM, DAMAGES\\nOR OTHER LIABILITY, WHETHER IN AN\\nACTION OF CONTRACT, TORT OR OTHERWISE,\\nARISING FROM, OUT OF OR IN CONNECTION\\nWITH THE SOFTWARE OR THE USE\\nOR OTHER DEALINGS IN THE SOFTWARE. \\n',str_about_114:"<color=#F35B81>ElMessiri</color>",str_about_115:"Copyright 2015 The El Messiri \r\nProject Authors \r\n(https://github.com/Gue3bara/El-Messiri)\\n",str_about_116:"This Font Software is licensed under the SIL Open Font License, Version 1.1. \\n\r\nThis license is copied above, and is also available with a FAQ at:\r\nhttp://scripts.sil.org/OFL \\n",str_about_117:"<color=#F35B81>Open Sans Condensed</color>",str_about_118:'Copyright 2011 Ascender corp, \r\nSteve Matteson\\n\r\nLicensed under the Apache License, \r\nVersion 2.0 (the "License"); \r\nyou may not use this file except \r\nin compliance with the License.\\n\r\nYou may obtain a copy of the License at\r\nhttp://www.apache.org/\r\nlicenses/LICENSE-2.0\\n',str_about_119:'Unless required by applicable law or \r\nagreed to in writing, software distributed \r\nunder the License is distributed on an \r\n"AS IS" BASIS, WITHOUT WARRANTIES OR \r\nCONDITIONS OF ANY KIND, either express \r\nor implied. See the License for the \r\nspecific language governing permissions \r\nand limitations under the License. \\n'});r._RF.pop()}}}));

System.register("chunks:///_virtual/RunningGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CharacterAnimCtrl.ts","./ItemPool.ts","./LevelManager.ts","./PlayerManager.ts","./PopupGameOver.ts","./UIManager.ts","./Dialogue.ts","./SelectMode.ts","./Transition.ts","./SoundManager.ts","./NetworkManager.ts","./UserDataManager.ts","./Splash.ts","./DailyMissionManager.ts","./EventManager.ts","./QTEController.ts","./QTE2Manager.ts","./QTETransition.ts","./QTE1Manager.ts","./EnvironmentPool.ts","./MainMenuDebug.ts","./QTE3Manager.ts","./Pooling.ts","./GameoverCharacter.ts","./PopupManager_AP.ts","./GameResourceManager.ts","./ErrorPopup.ts","./TrackingEvents.ts","./TrackingMgr.ts","./i18n.ts","./PrivateMode.ts","./ProfileTile.ts","./Loading.ts","./BoosterSelected.ts"],(function(e){"use strict";var n,t,a,s,i,c,o,r,I,u,l,h,p,d,m,f,S,T,g,C,E,v,_,k,A,b,M,y,P,R,w,N,D,O,x,F,L,B,U,Q,G,H,q,X,z,K,V,Y,W,Z,j,J,$,ee,ne,te,ae,se,ie,ce,oe,re,Ie,ue,le,he,pe,de,me,fe,Se,Te,ge,Ce,Ee,ve,_e,ke,Ae,be,Me,ye,Pe,Re,we,Ne,De,Oe,xe,Fe,Le,Be,Ue,Qe,Ge,He,qe;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime,o=e.createClass},function(e){r=e.cclegacy,I=e._decorator,u=e.Node,l=e.Camera,h=e.v3,p=e.geometry,d=e.log,m=e.director,f=e.lerp,S=e.PhysicsSystem,T=e.Vec3,g=e.Animation,C=e.Component,E=e.AudioSource},function(e){v=e.GameStatus,_=e.SWIPEType,k=e.SESSION_NAMES,A=e.PLAYER_CHARACTER,b=e.default,M=e.PopupUnlockState,y=e.ROOM_STATE,P=e.EDeviceprofile,R=e.SessionInfo,w=e.EventName,N=e.LIGHT_TYPE,D=e.ItemType,O=e.VFX_CHARACTER,x=e.AchievementId,F=e.MISSION_ID,L=e.EnvironmentType,B=e.GameActions,U=e.RoomMessages,Q=e.GAME_MODE,G=e.QTE_MESSAGE_TYPE,H=e.QTE_TYPE,q=e.RANDOM_TYPE,X=e.AudioSrc,z=e.BoosterId,K=e.BoosterDefine,V=e.SESSION_NAME_TUTORIAL,Y=e.QTE_STATE,W=e.MISSION_DIFFICULTY},function(e){Z=e.CHARACTER_ANIM},function(e){j=e.ItemPool},function(e){J=e.LevelManager},function(e){$=e.PlayerManager},function(e){ee=e.PopupGameOver},function(e){ne=e.UIManager},function(e){te=e.Dialogue,ae=e.DIALOGUE_TYPE},function(e){se=e.SelectMode},function(e){ie=e.Transition},function(e){ce=e.SoundManager},function(e){oe=e.NetworkManager},function(e){re=e.UserDataManager},function(e){Ie=e.Splash},function(e){ue=e.DailyMissionManager},function(e){le=e.default,he=e.MyEvent},function(e){pe=e.QTEController},function(e){de=e.QTE2Manager},function(e){me=e.QTETransition},function(e){fe=e.QTE1Manager},function(e){Se=e.default},function(e){Te=e.MainMenuDebug},function(e){ge=e.QTE3Manager},function(e){Ce=e.Pooling},function(e){Ee=e.GameoverCharacter},function(e){ve=e.PopupManager_AP,_e=e.POPUPTYPE_AP},function(e){ke=e.GameResourceManager},function(e){Ae=e.ErrorPopup},function(e){be=e.default},function(e){Me=e.QteName,ye=e.FeatureName,Pe=e.MissionDifficulty,Re=e.MatchType,we=e.PlayMode,Ne=e.Result,De=e.TutorialAction,Oe=e.TutorialProgress,xe=e.Character,Fe=e.MapUsed,Le=e.Booster,Be=e.SessionName},function(e){Ue=e.language},function(e){Qe=e.PrivateMode},function(e){Ge=e.PROFILE_UPDATE},function(e){He=e.Loading},function(e){qe=e.BOOSTER_SHOW_TYPE}],execute:function(){var Xe,ze,Ke,Ve,Ye,We,Ze,je,Je,$e,en,nn,tn,an,sn,cn,on,rn,In,un,ln,hn,pn,dn,mn,fn;r._RF.push({},"4f97exFoGtGCby9XKWWAmUf","RunningGameManager",void 0);var Sn=I.ccclass,Tn=I.property,gn="StartCameraInit",Cn="StartCameraLeft",En="StartCameraRight";e("RunningGameManager",(Xe=Sn("RunningGameManager"),ze=Tn(u),Ke=Tn(u),Ve=Tn(u),Ye=Tn(u),We=Tn(l),Ze=Tn(u),je=Tn(u),Je=Tn(u),$e=Tn(u),en=Tn(u),nn=Tn(u),Xe(((fn=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,a(n,"environment",sn,s(n)),a(n,"item",cn,s(n)),a(n,"playerPivot",on,s(n)),a(n,"vfxContainer",rn,s(n)),a(n,"m_playerCamera",In,s(n)),a(n,"inputNode",un,s(n)),a(n,"players",ln,s(n)),a(n,"gameUICanvas",hn,s(n)),a(n,"gameContainer",pn,s(n)),a(n,"skyContainer",dn,s(n)),a(n,"qteSkyContainer",mn,s(n)),n.timeSwipeTween=.5,n.timeDelayTween=.5,n.isInArea1=!1,n.A1_distance=0,n.isMidArea1=!1,n.isCheatSpeed=!1,n.milkyFootstepSFX=null,n.schokiFootstepSFX=null,n.isQte1TrackingStartedSent=!1,n.isQte2TrackingStartedSent=!1,n.isQte3TrackingStartedSent=!1,n.isEnv2Unlocked=!1,n.isEnv3Unlocked=!1,n._timeScale=1,n._isInTutorial=!1,n.playerPivotInitialPosition=0,n.speed=20,n.timer=30,n.currentTime=0,n.m_coinCollectCounter=0,n.m_backpackSize=1,n.gameStatus=v.NONE,n.m_needswipeType=_.NONE,n._isHost=!0,n._hasLocalTutorial=!1,n._preTime=Date.now(),n.isHeadStartActive=!1,n.isQTEHeadStartActive=!1,n.isCoinSwipeActive=!1,n.isHeadStartVfxOn=!1,n._originPlayerPosition=h(0,0,0),n._cachedRay=new p.Ray,n.previousCoinCounter=0,n.ingameTimeSpent=0,n.tutorialTimeSpent=0,n.segmentId=-1,n.sessionId="",n.sessionDiff=void 0,n.qteName=Me.BADMINTON,n.boosterId=-1,n.isFadedOut=!1,n.fadeTimer=0,n.FADE_DURATION=.35,n.nextBgmTrack=null,n.isInQte=!1,n.featureTimeSpent=0,n.TRACKING_INTERVAL=60,n.featureName=ye.ACTION_PHASE,n.baseRunDistance=0,n.runDistance=0,n.baseCharDistance=0,n.charDistance=0,n.baseEnvDistance=0,n.envDistance=0,n.envMissionId=-1,n.baseAccDistance=0,n.accDistance=0,n.accWornCount=0,n.baseRequestBackpackTime=0,n.requestBackpackTime=0,n.mid_coin_one_run=0,n.currentArea=-1,n.success_amt=0,n.fail_amt=0,n.qte_time_spent=0,n.double_jump_one_run=0,n.pass_bp_one_run=0,n.qte_collected=0,n.isLostConnection=!1,n._profileUpdateCallback=null,n._offlineInterval=0,n._lowFpsInterval=0,n}t(n,e);var r=n.prototype;return r.onLoad=function(){var e=this;console.log("[RunningGameManager]","onLoad"),n.Instance=this,this.m_playerCamera||(this.m_playerCamera=this.node.parent.getChildByPath("GameContainer/Players/Camera").getComponent(l)),this.gameUICanvas||(this.gameUICanvas=this.node.parent.getChildByPath("RunningCanvas/UI")),this.sessionId=k[oe.Instance.lobbyInfo.selectedMap],this.sessionId.toLowerCase().includes("begin")?this.sessionDiff=Pe.EASY:this.sessionId.toLowerCase().includes("semi")?this.sessionDiff=Pe.NORMAL:this.sessionId.toLowerCase().includes("pro")&&(this.sessionDiff=Pe.HARD),oe.Instance.roomStateCallback=function(n){return e.onRoomStateReceived(n)},oe.Instance.playerStateCallback=function(n){return e.onPlayerStateReceived(n)},oe.Instance.actionCallback=function(n){return e.onActionReceived(n)},oe.Instance.roomInfoCallback=function(n){return e.onRoomInfoReceived(n)},oe.Instance.qteChangedCallback=function(n){return e.onQTEChanged(n)},oe.Instance.pingCallback=function(){},oe.Instance.leaveRoomCallback=i(c().mark((function t(a){var s,i,o,r,I,u,l,h,p,m,f,S,T,g,C,E,v,_,k,A,M,y;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.Instance.milkyFootstepSFX&&(n.Instance.milkyFootstepSFX.stop(),n.Instance.schokiFootstepSFX.stop()),n.Instance.stopBgm(),n.IsPause=!0,1e3==a&&e.isLostConnection?(s=oe.Instance.getCharacterTrackingId(),i=e.getMapName(),o=Re.PLAYER,r=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE,I=n._distance*b.SCORE_FACTOR,u=e.getTrackingSessionId(e.sessionId),l=e.ingameTimeSpent,e.boosterId=e.getBoosterTrackingId(),window.isInAP=!1,be.Send_MISSION_FINISHED(s,i,o,r,I,l,e.CoinCollectCounter,re.Instance.coinWallet,e.sessionDiff,u,e.boosterId,Ne.MISSION_INTERRUPT_DUE_TO_INTERNET_LOSING_CONNECTION,window.fpsAvg||"",window.fpsMin||"",window.fpsMax||""),Ae.Instance.show(Ue.t("str_disconnection"),!0,(function(){Ae.Instance.hide(),e.backToMainMenu()}))):1006==a?(h=window.navigator.onLine,d("has internet",h),!h||e.isLostConnection?(p=oe.Instance.getCharacterTrackingId(),m=e.getMapName(),f=Re.PLAYER,S=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE,T=n._distance*b.SCORE_FACTOR,g=e.getTrackingSessionId(e.sessionId),C=e.ingameTimeSpent,e.boosterId=e.getBoosterTrackingId(),window.isInAP=!1,be.Send_MISSION_FINISHED(p,m,f,S,T,C,e.CoinCollectCounter,re.Instance.coinWallet,e.sessionDiff,g,e.boosterId,Ne.MISSION_INTERRUPT_DUE_TO_INTERNET_LOSING_CONNECTION,window.fpsAvg||"",window.fpsMin||"",window.fpsMax||"")):(E=oe.Instance.getCharacterTrackingId(),v=e.getMapName(),_=Re.PLAYER,k=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE,A=n._distance*b.SCORE_FACTOR,M=e.getTrackingSessionId(e.sessionId),y=e.ingameTimeSpent,e.boosterId=e.getBoosterTrackingId(),window.isInAP=!1,be.Send_MISSION_FINISHED(E,v,_,k,A,y,e.CoinCollectCounter,re.Instance.coinWallet,e.sessionDiff,M,e.boosterId,Ne.MISSION_INTERRUPT_DUE_TO_SERVER_DISCONNECTION,window.fpsAvg||"",window.fpsMin||"",window.fpsMax||"")),be.Send_FEATURE_FINISHED(e.featureName,e.featureTimeSpent),Ae.Instance.show(Ue.t("str_disconnection"),!0,(function(){Ae.Instance.hide(),e.backToMainMenu()}))):e.backToMainMenu(),d(a);case 5:case"end":return t.stop()}}),t)}))),this._originPlayerPosition=this.playerPivot.getWorldPosition().clone(),this.playerPivotInitialPosition=this.playerPivot.position.z,this._profileUpdateCallback=this.updateProfile.bind(this),le.GetInstance().addEventListener(Ge,this._profileUpdateCallback)},r.onDestroy=function(){n.Instance=null,oe.Instance.roomStateCallback=null,oe.Instance.playerStateCallback=null,oe.Instance.actionCallback=null,oe.Instance.roomInfoCallback=null,oe.Instance.qteChangedCallback=null,oe.Instance.pingCallback=null,oe.Instance.leaveRoomCallback=null,le.GetInstance().removeEventListener(Ge,this._profileUpdateCallback),this._profileUpdateCallback=null},r.updateProfile=function(){m.getScene().scene.globals.shadows.enabled=Te.getDeviceProfile().Shadow,m.getScene().scene.globals.fog.fogDensity=Te.getDeviceProfile().FogDensity,m.getScene().scene.globals.fog.fogStart=Te.getDeviceProfile().FogStart,m.getScene().scene.globals.fog.fogAtten=Te.getDeviceProfile().FogEnd,this.skyContainer||(this.skyContainer=this.node.parent.getChildByPath("GameContainer/Players/Sky"));var e=Te.getDeviceProfile().SkyScale;this.skyContainer.setScale(e,e,e),this.qteSkyContainer||(this.qteSkyContainer=this.node.parent.getChildByPath("QTE_Container/Sky")),this.qteSkyContainer.setScale(e,e,e)},r.backToMainMenu=function(){var e=i(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.Instance.stopBgm(),ce.Instance.stopEndBgm(),ce.Instance.stopQteBgm(),ce.Instance.stopAmbient(),Ae.Instance.hide(),e.next=7,ie.show(!0);case 7:$.Instance.unloadElements(),$.Instance.clear(),null==(t=Ee.Instance)||t.unloadCharacters(),ke.Instance.reset(),Ce.getInstance().reset(),ie.loadScene(b.SCENE_MAINMENU,!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.restartGame=function(){var e=i(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.show(!1);case 2:null==(n=Ee.Instance)||n.unloadCharacters(),ie.load(b.SCENE_RUNNING);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.isMilky=function(){var e=oe.Instance.selectedCharacter==A.MILKY;return this._hasLocalTutorial?e=!0:J.Instance.m_Editor&&(e=J.Instance.m_EditorCharacter==A.MILKY),e},r.start=function(){this.resetInfo(),window.isInAP=!1,window.fpsAvg=null,window.fpsMin=null,window.fpsMax=null,this._hasLocalTutorial=Ie.isNewUser,!J.Instance.m_TestTutorial&&1!=this._hasLocalTutorial||b.CHEAT_IGNORE_TUTORIAL||0!=J.Instance.m_Editor&&!J.Instance.m_TestTutorial?this.loadGame():this.loadTutorial()},r.preloadResource=function(){var e=i(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe.Instance.lobbyInfo.environment,e.next=3,Ce.getInstance().preload(n);case 3:if(e.sent){e.next=7;break}return d("[MainMenuManager]","pooling","preload","failed"),e.abrupt("return",!1);case 7:return d("[MainMenuManager]","Pooling","preloaded"),e.next=10,Ce.getInstance().init(n,!0);case 10:if(e.sent){e.next=14;break}return d("[MainMenuManager]","pooling","init","failed"),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.loadTutorial=function(){var e=i(c().mark((function e(){var n,t,a=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isInTutorial=!0,e.next=3,this.preloadResource();case 3:return e.next=5,$.Instance.initPlayers(this.isMilky());case 5:return this.sendAction({action:B.SetBackpackSide,dest:A.MILKY,force:!0}),$.Instance.rotateChacter(!1),$.Instance.PauseAnim(),$.Instance.PlayAnim(Z.IDLE,null,0,null),e.next=11,ce.Instance.initActionPhaseSound(this._isInTutorial);case 11:return null==this.milkyFootstepSFX&&(n=new u("milkyFootstepSFX"),this.milkyFootstepSFX=n.addComponent(E),this.milkyFootstepSFX.clip=ce.Instance.footStepList[0],this.milkyFootstepSFX.loop=!0,this.milkyFootstepSFX.playOnAwake=!1,this.node.parent.addChild(n),t=new u("schokiFootstepSFX"),this.schokiFootstepSFX=t.addComponent(E),this.schokiFootstepSFX.clip=ce.Instance.footStepList[1],this.schokiFootstepSFX.loop=!0,this.schokiFootstepSFX.playOnAwake=!1,this.node.parent.addChild(t)),e.next=14,Se.Instance.loadTiles();case 14:return e.next=16,Se.Instance.init();case 16:return le.GetInstance().dispatchEvent(new he(w.CHANGE_LIGHT,{type:N.MORNING,force:!0})),d("load map",oe.Instance.lobbyInfo.selectedMap),e.next=20,J.Instance.loadSessionDataByName(V);case 20:return e.next=22,j.Instance.init();case 22:return this.playCameraAnim(gn),e.next=25,ie.hide();case 25:ce.Instance.stopSplashBgm(),ce.Instance.stopLoadingBgm(),ce.Instance.stopMenuBgm(),this.loadBgm(),this.playBgm(),te.instance.Show(ae.story_tutorial,(function(){$.Instance.PlayAnim(Z.FIDGET,null,0,(function(){a.tutorialTimeSpent=0,be.Send_TUTORIAL_INTERACTION(De.STARTED,Oe.WELCOME,a.tutorialTimeSpent),a.onIntro()}))}),!0);case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.waitForKey=function(){var e=i(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.loadGame=function(){var e=i(c().mark((function e(){var t,a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe.Instance.state!=y.DISMISS&&oe.Instance.lastState!=y.DISMISS||b.CHEAT_IGNORE_CHECK_DISCONNECT||this.showFriendQuit(),Qe.isInviteMode=!1,e.next=4,$.Instance.initPlayers(this.isMilky());case 4:return this.sendAction({action:B.SetBackpackSide,dest:A.MILKY,force:!0}),$.Instance.rotateChacter(!1),$.Instance.PauseAnim(),$.Instance.PlayAnim(Z.IDLE,null,0,null),e.next=10,this.preloadResource();case 10:return e.next=12,ce.Instance.initActionPhaseSound();case 12:return null==this.milkyFootstepSFX&&(t=new u("milkyFootstepSFX"),this.milkyFootstepSFX=t.addComponent(E),this.milkyFootstepSFX.clip=ce.Instance.footStepList[0],this.milkyFootstepSFX.loop=!0,this.milkyFootstepSFX.playOnAwake=!1,this.node.parent.addChild(t),a=new u("schokiFootstepSFX"),this.schokiFootstepSFX=a.addComponent(E),this.schokiFootstepSFX.clip=ce.Instance.footStepList[1],this.schokiFootstepSFX.loop=!0,this.schokiFootstepSFX.playOnAwake=!1,this.node.parent.addChild(a)),e.next=15,n.waitForKey();case 15:return e.next=17,Se.Instance.loadTiles();case 17:return e.next=19,Se.Instance.init();case 19:return le.GetInstance().dispatchEvent(new he(w.CHANGE_LIGHT,{type:N.MORNING,force:!0})),re.Instance.userData.lastLevelDesign=oe.Instance.lobbyInfo.selectedMap,re.Instance.saveUserData(),e.next=24,n.waitForKey();case 24:return e.next=26,J.Instance.loadSessionDataByName(k[oe.Instance.lobbyInfo.selectedMap]);case 26:return e.next=28,j.Instance.loadAllSegments();case 28:return e.next=30,n.waitForKey();case 30:return e.next=32,j.Instance.loadAllObstacles();case 32:return e.next=34,n.waitForKey();case 34:return e.next=36,j.Instance.init();case 36:return this.playCameraAnim(gn),e.next=39,ie.hide();case 39:if(oe.Instance.loadingTime=(new Date).getTime()-oe.Instance.loadingTime,window.gLoadingTimeSpent=oe.Instance.loadingTime,ce.Instance.stopSplashBgm(),ce.Instance.stopLoadingBgm(),ce.Instance.stopMenuBgm(),this.loadBgm(),this.playBgm(),oe.Instance.isPvp?$.Instance.PlayAnim(Z.FIDGET,null,0,(function(){(oe.Instance.state!=y.DISMISS&&oe.Instance.lastState!=y.DISMISS||b.CHEAT_IGNORE_CHECK_DISCONNECT)&&oe.Instance.sendMessage(U.State,{state:y.READY})})):$.Instance.PlayAnim(Z.FIDGET,null,0,(function(){(oe.Instance.state!=y.DISMISS&&oe.Instance.lastState!=y.DISMISS||b.CHEAT_IGNORE_CHECK_DISCONNECT)&&oe.Instance.sendRoomState({state:y.RUNNING})})),this.isQTEHeadStartActive)for(s=[H.Badminton,H.Music,H.Crab],s=this.shuffle(s),i=0;i<J.Instance.m_startingQTEItem;i++)oe.Instance.addQTE(s[i]);$.Instance.checkShowSelectedBooster(qe.AP);case 49:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.resetInfo=function(){n.IsPause=!0,this.gameStatus=v.READY,this.speed=J.Instance.getSpeedMin(),this.timer=30,this.currentTime=0,this.m_coinCollectCounter=0,this.m_backpackSize=b.RUNNING_INIT_BACKPACK_SIZE,n._distance=0,this.isQte1TrackingStartedSent=!1,this.isQte2TrackingStartedSent=!1,this.isQte3TrackingStartedSent=!1,this.isInQte=!1,this.qteName=Me.BADMINTON,this.isLostConnection=!1,this.updateProfile(),ce.Instance.coin_duper_sfx_timer=0,ce.Instance.isCdSfxOnCooldown=!1,this.isEnv2Unlocked=!1,this.isEnv3Unlocked=!1,re.Instance.tutorialData.unlockEnv2>M.LOCKED&&(this.isEnv2Unlocked=!0),re.Instance.tutorialData.unlockEnv3>M.LOCKED&&(this.isEnv3Unlocked=!0)},r.startRunning=function(){var e=this;(oe.Instance.state!=y.DISMISS||oe.Instance.lastState!=y.DISMISS||n.Instance.isInTutorial)&&this.scheduleOnce((function(){e.gameStatus=v.RUNNING,$.Instance.PlayAnim(Z.RUN),ne.Instance&&ne.Instance.displayName(!0),n.IsPause=!1,b.IS_SFX_ON&&(e.milkyFootstepSFX.play(),e.schokiFootstepSFX.play())}),.1)},r.resetGame=function(){this.resetInfo();var e=this.playerPivot.getPosition();e.z=this.playerPivotInitialPosition,this.playerPivot.setPosition(e),$.Instance.resetGame()},r.update=function(e){var t,a=this;if(Te.deviceProfile==P.Highend&&oe.Instance.state==y.RUNNING&&Te.willCheckFPS&&(window.fps&&window.fps<b.FPS_THRESHOLE?(console.log(window.fps),this._lowFpsInterval+=e,this._lowFpsInterval>=b.FPS_DETECTION_DURATION&&(Te.deviceProfile=P.Loend,le.GetInstance().dispatchEvent(new he(Ge,{})))):this._lowFpsInterval=0),this.featureTimeSpent<this.TRACKING_INTERVAL&&(this.featureTimeSpent+=e,this.featureTimeSpent>=this.TRACKING_INTERVAL&&(be.Send_FEATURE_FINISHED(this.featureName,this.TRACKING_INTERVAL),this.featureTimeSpent=0)),null!=(t=ee.Instance)&&t.isTrackingSelfie&&(ee.Instance.selfie_time_spent+=e),window.navigator.onLine)this._offlineInterval=0;else{this._offlineInterval;0==Ae.Instance.node.active&&(this._offlineInterval+=e,this._offlineInterval>3&&(this.isLostConnection=!0,n.IsPause=!0,oe.Instance.exitRoom(),Ae.Instance.show(Ue.t("str_disconnection"),!0,(function(){Ae.Instance.hide(),a._offlineInterval=2.75}))))}if(!n.IsPause){window.gIngameTimeSpent+=e,window.gTotalTimeSpent+=e,this.ingameTimeSpent+=e,this.currentTime<this.timer&&(this.currentTime+=e),n.Instance.isInTutorial&&(this.tutorialTimeSpent+=e);var s=J.Instance.currentSessionData.getPartData(j.Instance.runningPartId).getMaxSpeed(j.Instance.runningSegmentId);if(J.Instance&&J.Instance.currentSessionData)J.Instance.currentSessionData.getPartData(j.Instance.runningPartId).getMaxSpeed(j.Instance.runningSegmentId);this.isCheatSpeed||(this.speed=this.speed+J.Instance.m_AccelerationPart*e,this.speed=this.speed>s?s:this.speed),b.CHEAT_GOD_MODE&&(this.speed=150,Te.GodMode=!0),this.isHeadStartActive||$.Instance.isMegaHopActive?this.speed=4*this.speed:this.speed=this.speed;var i=e*this.speed*this.timeScale;n._distance=Math.abs(n.Instance.playerPivot.position.z);var c=this.playerPivot.getPosition();if(c.z-=i,ne.Instance&&ne.Instance.updateUILabel(R.SPEED,this.speed),oe.Instance.gpInfo.posZ<c.z-5&&(c.z=f(c.z,oe.Instance.gpInfo.posZ,.1)),this.playerPivot.setPosition(c),!n.Instance.isInTutorial&&ne.Instance.isMapProgressionActive&&(ne.Instance.currentProgress=n._distance*b.SCORE_FACTOR+re.Instance.progressionData.totalRunMeters),n.Instance.isInTutorial||J.Instance.m_Editor||(this.runDistance=Math.floor(this.baseRunDistance+n._distance*b.SCORE_FACTOR),this.charDistance=Math.floor(this.baseCharDistance+n._distance*b.SCORE_FACTOR),-1!=this.envMissionId&&(this.envDistance=Math.floor(this.baseEnvDistance+n._distance*b.SCORE_FACTOR)),this.accDistance=Math.floor(this.baseAccDistance+n._distance*b.SCORE_FACTOR)),this.isInArea1&&!this.isMidArea1)n.distance*b.SCORE_FACTOR-this.A1_distance>512&&(this.isMidArea1=!0,le.GetInstance().dispatchEvent(new he(w.CHANGE_LIGHT,{type:N.NOON})),d("light change NOON"));var o=this.playerPivot.getWorldPosition(),r=this._cachedRay;if(p.Ray.set(r,o.x,o.y+50,o.z+b.PLAYER_POS_Z,0,-1,0),S.instance.raycast(r,D.ENVIRONMENT,100)){var I=S.instance.raycastResults;if(I&&I.length>0){var u=this._originPlayerPosition.y;I.forEach((function(e){u=Math.max(u,e.hitPoint.y)}));var l=o.clone();T.lerp(l,o,h(o.x,u,o.z),.1),this.playerPivot.setWorldPosition(l)}}this.isHeadStartActive&&(this.isHeadStartVfxOn||($.Instance.thisPlayer.vfxCtrl.playVFX(O.HYPER_BOOST,!0,!1),this.isHeadStartVfxOn=!0),J.Instance.headStartCurrentDistance-=i*b.SCORE_FACTOR,J.Instance.headStartCurrentDistance<=0&&(J.Instance.headStartCurrentDistance=0,this.isHeadStartActive=!1,$.Instance.thisPlayer.vfxCtrl.enableVFX($.Instance.thisPlayer.vfxCtrl.vfxHyperBoost,!1),$.Instance.ActivateExtraShield(),d("headstart end"))),oe.Instance.updateGameInfo({posZ:this.playerZ,score:n.score,coin:this.CoinCollectCounter})}},r.isEndOfTime=function(){return this.timer<=this.currentTime},r.showHandTutorial=function(e){this.inputNode.active=!0,ne.Instance&&ne.Instance.showHandTutorial(!0,e),this.m_needswipeType=e,be.Send_TUTORIAL_INTERACTION(De.NEXT,Oe.WELCOME,n.Instance.tutorialTimeSpent)},r.onPlayerStateReceived=function(){var e=i(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===y.REPLAY?3:9;break;case 3:if(!ne.Instance){e.next=8;break}return e.next=6,ve.Instance.getPopup(_e.GAMEOVER);case 6:e.sent.getComponent(ee).onOtherReplay();case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r.playCameraAnim=function(e){if(b.CHEAT_LOCK_CAMERA)this.playerCamera.node.setPosition(h(0,200,0)),this.playerCamera.node.setRotationFromEuler(h(-45,0,0));else{var n=this.playerCamera.getComponent(g);n&&n.clips.length>0&&n.play(e)}},r.onIntro=function(){var e=this;oe.Instance.isHost;window.isInAP=!0,this.sessionId=k[oe.Instance.lobbyInfo.selectedMap];var t,a,s,i,c=this.getTrackingSessionId(this.sessionId);if(this.sessionId.toLowerCase().includes("begin")?this.sessionDiff=Pe.EASY:this.sessionId.toLowerCase().includes("semi")?this.sessionDiff=Pe.NORMAL:this.sessionId.toLowerCase().includes("pro")&&(this.sessionDiff=Pe.HARD),!n.Instance.isInTutorial){if(re.Instance.achievementData){this.baseCharDistance=0,this.charDistance=0;var o=0;o=$.Instance.thisPlayer.character==A.MILKY?re.Instance.getAchievement(x.achievement_milky_3).counter:re.Instance.getAchievement(x.achievement_schoki_3).counter,this.baseCharDistance=o}if(re.Instance.missionData){this.baseRunDistance=0,this.runDistance=0,this.qte_collected=0,-1!=ue.Instance.getActiveMissionIndex(F.run_distance)&&(this.baseRunDistance=ue.Instance.getActiveMissionCounter(F.run_distance)),this.baseEnvDistance=0,this.envDistance=0,this.envMissionId=-1;switch(oe.Instance.lobbyInfo.environment){case L.TROPICAL:-1!=ue.Instance.getActiveMissionIndex(F.tropical_island)&&(this.envMissionId=F.tropical_island);break;case L.URBAN:-1!=ue.Instance.getActiveMissionIndex(F.urban_city)&&(this.envMissionId=F.urban_city);break;case L.SNOW:-1!=ue.Instance.getActiveMissionIndex(F.snow_mountain)&&(this.envMissionId=F.snow_mountain)}-1!=this.envMissionId&&(this.baseEnvDistance=ue.Instance.getActiveMissionCounter(this.envMissionId)),this.baseAccDistance=0,this.accDistance=0,this.accWornCount=0;var r=$.Instance.thisPlayer.character==A.MILKY?re.Instance.accessoryData.wornAccessory.milky:re.Instance.accessoryData.wornAccessory.schoki;""!==r.head&&this.accWornCount++,""!==r.body&&this.accWornCount++,""!==r.leg&&this.accWornCount++,this.accWornCount>0&&(this.baseAccDistance=ue.Instance.getActiveMissionCounter(F.accessory_run)),this.baseRequestBackpackTime=0,this.requestBackpackTime=0,-1!=ue.Instance.getActiveMissionIndex(F.request_backpack)&&(this.baseRequestBackpackTime=ue.Instance.getActiveMissionCounter(F.request_backpack))}this.mid_coin_one_run=0}this.isInTutorial?(t=xe.MILKY,a=Fe.ISLAND,s=Re.BOT,i=we.SINGLE):(t=oe.Instance.getCharacterTrackingId(),a=this.getMapName(),s=oe.Instance.isAI?Re.BOT:Re.PLAYER,i=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE),this.boosterId=this.getBoosterTrackingId(),be.Send_MISSION_STARTED(t,a,s,i,this.sessionDiff,c,this.boosterId),this.ingameTimeSpent=0,this.featureTimeSpent=0,this.double_jump_one_run=0,this.pass_bp_one_run=0,this._hasLocalTutorial&&(J.Instance.m_Editor&&(J.Instance.m_EditorCharacter,A.MILKY)),oe.Instance.selectedCharacter==A.MILKY?this.playCameraAnim(Cn):this.playCameraAnim(En),$.Instance.rotateChacter(!0),J.Instance.m_Editor?(ne.Instance&&ne.Instance.showReadyLabel(!1),this.startRunning()):this.scheduleOnce((function(){e.startRunning()}),.25)},r.onQTEChanged=function(e){le.GetInstance().dispatchEvent(new he(w.UPDATE_QTE,{qtes:e}))},r.onRoomInfoReceived=function(e){if(ne.Instance)if(oe.Instance.isPvp)switch(e.field){case"posZ":break;case"score":ne.Instance.updateUILabel(R.DISTANCE,e.value);break;case"coin":ne.Instance.updateUILabel(R.COIN,e.value);break;case"backpackSize":le.GetInstance().dispatchEvent(new he(w.UPDATE_BACKPACK,{size:oe.Instance.infoBackpackSize}))}else{e.posZ;var n=e.coin,t=e.score,a=e.backpackSize;t&&ne.Instance.updateUILabel(R.DISTANCE,t),n&&ne.Instance.updateUILabel(R.COIN,n),a&&(le.GetInstance().dispatchEvent(new he(w.UPDATE_BACKPACK,{size:a})),le.GetInstance().dispatchEvent(new he(w.UPDATE_QTE,{qtes:oe.Instance.QTEs})))}},r.onRoomStateReceived=function(){var e=i(c().mark((function e(t){var a,s,i,o,r,I,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===y.RUNNING?3:e.t0===y.QTE?5:e.t0===y.REVIVE?7:e.t0===y.GAMEOVER?9:e.t0===y.REPLAY?11:e.t0===y.DISMISS?13:35;break;case 3:return(oe.Instance.lastState!=y.DISMISS||b.CHEAT_IGNORE_CHECK_DISCONNECT)&&this.onIntro(),e.abrupt("break",35);case 5:return this.onQTE(),e.abrupt("break",35);case 7:return this.onRevive(),e.abrupt("break",35);case 9:return this.onGameOver(),e.abrupt("break",35);case 11:return this.restartGame(),e.abrupt("break",35);case 13:if(!ne.Instance){e.next=34;break}if(oe.Instance.lastState!=y.GAMEOVER){e.next=21;break}return e.next=17,ve.Instance.getPopup(_e.GAMEOVER);case 17:e.sent.getComponent(ee).onDismiss(),e.next=34;break;case 21:n.IsPause=!0,a=oe.Instance.getCharacterTrackingId(),s=this.getMapName(),i=Re.PLAYER,o=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE,r=n._distance*b.SCORE_FACTOR,I=this.getTrackingSessionId(this.sessionId),u=this.ingameTimeSpent,this.boosterId=this.getBoosterTrackingId(),window.isInAP=!1,be.Send_MISSION_FINISHED(a,s,i,o,r,u,this.CoinCollectCounter,re.Instance.coinWallet,this.sessionDiff,I,this.boosterId,Ne.MISSIONS_INTERRUPT_DUE_TO_LEAVING_OF_PARTNER,window.fpsAvg||"",window.fpsMin||"",window.fpsMax||""),be.Send_FEATURE_FINISHED(this.featureName,this.featureTimeSpent),this.showFriendQuit();case 34:return e.abrupt("break",35);case 35:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.showFriendQuit=function(){var e=this;n.IsPause=!0,Ae.Instance.show(Ue.t("str_friend_quit"),!0,i(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Ae.Instance.hide(),e.onGameOver();case 2:case"end":return n.stop()}}),n)}))))},r.sendAction=function(e){var t=this;if(e.action==B.InitPlayers);else if(e.action===B.SetBackpackSide)$.Instance.setBackpackSide(e.dest,e.force),oe.Instance.sendMessage(U.Action,e);else if(e.action==B.Skill)$.Instance.onSkill(e.character,e.skill),oe.Instance.sendMessage(U.Action,e);else if(e.action==B.AIControl)se.mode==Q.PRIVATE&&$.Instance.onSkill($.Instance.otherPlayer.character,e.skill);else if(e.action==B.QTE)e.type==G.GAMESTATE?fe.Instance.onGameStateReceived(e.data,oe.Instance.isHost):this.onQTEActionReceived(e,oe.Instance.isHost),oe.Instance.sendMessage(U.Action,e);else if(e.action==B.CollectCoin){n.Instance.CoinCollectCounter+=e.amount;var a=ue.Instance.getActiveMissionIndex(F.collect_coins);null!=a&&-1!=a&&ue.Instance.updateMission(a,e.amount),e.backpack||oe.Instance.sendMessage(U.Action,e)}else if(e.action==B.ChangeCurveDirection)$.Instance.setCurveDirection(e.direction),oe.Instance.sendMessage(U.Action,e);else if(e.action==B.Collision){if(b.CHEAT_DISABLE_COLLISION||n.DEBUG_GODMODE)return;e.group==D.SMALL_OBSTACLE&&(e.player?(this.hitObstacle(!0,(function(){var e=0==oe.Instance.getUsableQTE();t.segmentId=j.Instance.runningSegmentId,t.sessionId=k[oe.Instance.lobbyInfo.selectedMap],e?oe.Instance.sendRoomState({state:y.GAMEOVER}):oe.Instance.sendRoomState({state:y.QTE})})),oe.Instance.sendMessage(U.Action,e)):this.hitObstacle(!1,(function(){var e=0==oe.Instance.getUsableQTE();t.segmentId=j.Instance.runningSegmentId,t.sessionId=k[oe.Instance.lobbyInfo.selectedMap],e?oe.Instance.sendRoomState({state:y.GAMEOVER}):oe.Instance.sendRoomState({state:y.QTE})})))}else e.action==B.IncreasePackbackSize?oe.Instance.isHost&&oe.Instance.increaseBackpackSize():e.action==B.PowerUp?(this.onPowerup(e.type,e.isHost),oe.Instance.sendMessage(U.Action,e)):e.action==B.RequestBackpack&&(this.onRequestBackpack(e.character),oe.Instance.sendMessage(U.Action,e))},r.onRequestBackpack=function(e){ne.Instance.displayNeedBackpack(e,!0)},r.onPowerup=function(e,n){oe.Instance.isHost?n?$.Instance.thisPlayer.onPowerup(e):$.Instance.otherPlayer.onPowerup(e):n?$.Instance.otherPlayer.onPowerup(e):$.Instance.thisPlayer.onPowerup(e)},r.onCollectQTE=function(e){},r.onActionReceived=function(e,t){if(void 0===t&&(t=null),d("onActionReceived",e),e.action==B.SetBackpackSide)$.Instance.setBackpackSide(e.dest,e.force);else if(e.action==B.Skill)$.Instance.onSkill(e.character,e.skill);else if(e.action==B.QTE)this.onQTEActionReceived(e,!oe.Instance.isHost);else if(e.action==B.Collision){if(b.CHEAT_DISABLE_COLLISION||n.DEBUG_GODMODE)return;e.group==D.SMALL_OBSTACLE&&this.hitObstacle(!1,t)}else if(e.action==B.CollectCoin){n.Instance.CoinCollectCounter+=e.amount;var a=ue.Instance.getActiveMissionIndex(F.collect_coins);null!=a&&-1!=a&&ue.Instance.updateMission(a,e.amount)}else e.action==B.ChangeCurveDirection?$.Instance.setCurveDirection(e.direction):e.action==B.PowerUp?this.onPowerup(e.type,e.isHost):e.action==B.RequestBackpack&&this.onRequestBackpack(e.character)},r.hitObstacle=function(e,t){var a=this;void 0===e&&(e=!0),void 0===t&&(t=null),d("hitObstacle","thisPlayer",e),ne.Instance&&ne.Instance.updateUILabel(R.HEALTH,n.Instance.BackpackSize);var s=$.Instance.thisPlayer,i=$.Instance.otherPlayer;if(0==e){var c=s;s=i,i=c}n.IsPause=!0,i.animCtrl.PlayAnim(Z.IDLE),s.animCtrl.PlayAnim(Z.STUN,null,0,(function(){$.Instance.PauseAnim(),t&&a.scheduleOnce((function(){return t()}),1)}))},r.qteReviveAnimation=function(){var e=i(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.Instance.curQTE!=H.Badminton){e.next=5;break}return e.next=3,fe.Instance.onRevive();case 3:e.next=13;break;case 5:if(pe.Instance.curQTE!=H.Music){e.next=10;break}return e.next=8,de.Instance.onRevive();case 8:e.next=13;break;case 10:if(pe.Instance.curQTE!=H.Crab){e.next=13;break}return e.next=13,ge.Instance.onRevive();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.qteTimesupAnimation=function(){var e=i(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.Instance.curQTE!=H.Badminton){e.next=5;break}return e.next=3,fe.Instance.onTimesup();case 3:e.next=13;break;case 5:if(pe.Instance.curQTE!=H.Music){e.next=10;break}return e.next=8,de.Instance.onTimesup();case 8:e.next=13;break;case 10:if(pe.Instance.curQTE!=H.Crab){e.next=13;break}return e.next=13,ge.Instance.onTimesup();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.getQTEProgressSprite=function(){return pe.Instance.curQTE==H.Badminton?fe.Instance.getProgressSprite():pe.Instance.curQTE==H.Music?de.Instance.getProgressSprite():pe.Instance.curQTE==H.Crab?ge.Instance.getProgressSprite():null},r.disableQTE=function(){pe.Instance.curQTE==H.Badminton?fe.Instance.hide():pe.Instance.curQTE==H.Music?de.Instance.hide():pe.Instance.curQTE==H.Crab&&ge.Instance.hide(),pe.Instance.hide(),Se.Instance.resetFromQTE(),n.Instance.gameUICanvas.active=!0},r.onQTEActionReceived=function(){var e=i(c().mark((function e(t,a){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d("onQTEActionReceived",t,a),s=oe.Instance.lobbyInfo.environment,e.t0=t.qte,e.next=e.t0===H.Badminton?5:e.t0===H.Music?19:e.t0===H.Crab?33:47;break;case 5:if(t.type!=G.STATE){e.next=17;break}if(t.data.state!=Y.INIT){e.next=14;break}return n.Instance.gameContainer.active=!1,n.Instance.gameUICanvas.active=!1,e.next=11,ne.Instance.initQTECanvas(t.qte);case 11:return fe.Instance.show(),e.next=14,pe.Instance.show(t.qte,s,Se.CurrentArea);case 14:fe.Instance.onStateReceived(t.data,a),e.next=18;break;case 17:t.type==G.ACTION?fe.Instance.onActionReceived(t.data,a):t.type==G.GAMESTATE&&fe.Instance.onGameStateReceived(t.data,a);case 18:return e.abrupt("break",47);case 19:if(t.type!=G.STATE){e.next=31;break}if(t.data.state!=Y.INIT){e.next=28;break}return n.Instance.gameContainer.active=!1,n.Instance.gameUICanvas.active=!1,e.next=25,ne.Instance.initQTECanvas(t.qte);case 25:return de.Instance.show(),e.next=28,pe.Instance.show(t.qte,s,Se.CurrentArea);case 28:de.Instance.onStateReceived(t.data,a),e.next=32;break;case 31:t.type==G.ACTION?de.Instance.onActionReceived(t.data,a):t.type==G.GAMEINFO&&de.Instance.onGameInfoReceived(t.data,a);case 32:return e.abrupt("break",47);case 33:if(t.type!=G.STATE){e.next=45;break}if(t.data.state!=Y.INIT){e.next=42;break}return n.Instance.gameContainer.active=!1,n.Instance.gameUICanvas.active=!1,e.next=39,ne.Instance.initQTECanvas(t.qte);case 39:return ge.Instance.show(),e.next=42,pe.Instance.show(t.qte,s,Se.CurrentArea);case 42:ge.Instance.onStateReceived(t.data,a),e.next=46;break;case 45:t.type==G.ACTION?ge.Instance.onActionReceived(t.data,a):t.type==G.GAMEINFO&&ge.Instance.onGameInfoReceived(t.data,a);case 46:return e.abrupt("break",47);case 47:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),r.onQTE=function(){var e=i(c().mark((function e(){var t,a=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInQte=!0,!this.isInTutorial){e.next=8;break}n.IsPause=!0,this.milkyFootstepSFX.stop(),this.schokiFootstepSFX.stop(),te.instance.Show(ae.got_hit,i(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe.Instance.getUsableQTE(),e.next=3,me.Instance.show(!0,!0,ne.Instance.getCurrentQTEIcon(),n);case 3:oe.Instance.consumeQTE(),e.t0=n,e.next=e.t0===H.Badminton?7:e.t0===H.Music?9:e.t0===H.Crab?11:13;break;case 7:return a.qteName=Me.BADMINTON,e.abrupt("break",13);case 9:return a.qteName=Me.MUSIC_GAME,e.abrupt("break",13);case 11:return a.qteName=Me.COLLECT_THEM_ALL,e.abrupt("break",13);case 13:return a.stopBgm(),e.next=16,ce.Instance.initQteSound(n);case 16:a.initQTEData(n);case 17:case"end":return e.stop()}}),e)}))),!0),e.next=30;break;case 8:return n.IsPause=!0,this.milkyFootstepSFX.stop(),this.schokiFootstepSFX.stop(),t=oe.Instance.getUsableQTE(),e.next=14,me.Instance.show(!0,!0,ne.Instance.getCurrentQTEIcon(),t);case 14:return this.stopBgm(),e.next=17,ce.Instance.initQteSound(t);case 17:if(oe.Instance.isHost||!oe.Instance.isPvp){e.next=19;break}return e.abrupt("return");case 19:oe.Instance.consumeQTE(),e.t0=t,e.next=e.t0===H.Badminton?23:e.t0===H.Music?25:e.t0===H.Crab?27:29;break;case 23:return this.qteName=Me.BADMINTON,e.abrupt("break",29);case 25:return this.qteName=Me.MUSIC_GAME,e.abrupt("break",29);case 27:return this.qteName=Me.COLLECT_THEM_ALL,e.abrupt("break",29);case 29:this.initQTEData(t);case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.initQTEData=function(){var e=i(c().mark((function e(n){var t,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=H.Music){e.next=7;break}return e.next=3,ne.Instance.initQTECanvas(n);case 3:t={state:Y.INIT,data:de.Instance.createInitData()},this.sendAction({action:B.QTE,qte:H.Music,type:G.STATE,data:t}),e.next=19;break;case 7:if(n!=H.Badminton){e.next=14;break}return e.next=10,ne.Instance.initQTECanvas(n);case 10:a={state:Y.INIT,data:{}},this.sendAction({action:B.QTE,qte:H.Badminton,type:G.STATE,data:a}),e.next=19;break;case 14:if(n!=H.Crab){e.next=19;break}return e.next=17,ne.Instance.initQTECanvas(n);case 17:s={state:Y.INIT,data:{}},this.sendAction({action:B.QTE,qte:H.Crab,type:G.STATE,data:s});case 19:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.onRevive=function(){var e=i(c().mark((function e(){var t,a,s,o=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInQte=!1,oe.Instance.lastState!=y.QTE&&oe.Instance.isPvp){e.next=45;break}if(n.Instance.isInTutorial){e.next=26;break}for(t=x.achievement_ap_10;t<=x.achievement_ap_30;t++)(a=re.Instance.getAchievement(t)).isCompleted||(a.counter++,re.Instance.updateAchievementProgress(a));return null!=(s=ue.Instance.getActiveMissionIndex(F.suc_QTE))&&-1!=s&&ue.Instance.updateMission(s),this.playerZ=oe.Instance.infoPosZ,e.next=9,this.qteReviveAnimation();case 9:return e.next=11,me.Instance.show(!1,!0,this.getQTEProgressSprite());case 11:return this.stopQteBgm(),this.disableQTE(),n.Instance.gameContainer.active=!0,$.Instance.PlayAnim(Z.IDLE),e.next=17,me.Instance.hide(!0);case 17:ce.Instance.stopQteBgm(),this.loadBgm(),this.playBgm(),n.IsPause=!1,$.Instance.PlayAnim(Z.RUN),$.Instance.ActivateInvisible(!1),b.IS_SFX_ON&&(this.milkyFootstepSFX.play(),this.schokiFootstepSFX.play()),e.next=45;break;case 26:return e.next=28,this.qteReviveAnimation();case 28:return e.next=30,me.Instance.show(!1,!0,this.getQTEProgressSprite());case 30:return this.stopQteBgm(),this.disableQTE(),n.Instance.gameContainer.active=!0,$.Instance.PlayAnim(Z.IDLE),e.next=36,me.Instance.hide();case 36:ce.Instance.stopQteBgm(),this.loadBgm(),this.playBgm(),n.IsPause=!1,$.Instance.PlayAnim(Z.RUN),$.Instance.ActivateInvisible(!1),b.IS_SFX_ON&&(this.milkyFootstepSFX.play(),this.schokiFootstepSFX.play()),be.Send_TUTORIAL_INTERACTION(De.COMPLETED,Oe.WELCOME,this.tutorialTimeSpent),this.scheduleOnce((function(){$.Instance.PlayAnim(Z.FIDGET),$.Instance.rotateChacter(!1),n.IsPause=!0,o.milkyFootstepSFX.stop(),o.schokiFootstepSFX.stop(),te.instance.Show(ae.congratulation,i(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.Instance.isInTutorial&&(n.Instance.isInTutorial=!1),Ie.isNewUser=!1,re.Instance.tutorialData.welcomeTutorial=!0,re.Instance.tutorialData.completeGameCount++,re.Instance.saveTutorialData(),ce.Instance.stopBgm(),ce.Instance.stopAmbient(),e.next=9,ie.show(!0);case 9:return o.clearForGameover(),e.next=12,ie.load(b.SCENE_MAINMENU);case 12:case"end":return e.stop()}}),e)}))),!0)}),2);case 45:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onGameOver=function(){var e=i(c().mark((function e(){var t,a,s,i,o,r,I,u,l,h,p,d,m,f,S,T,g,C;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.isInQte=!1,this.milkyFootstepSFX&&(this.milkyFootstepSFX.stop(),this.schokiFootstepSFX.stop()),this.stopBgm(),ce.Instance.stopAmbient(),$.Instance.thisPlayer.isCoinBoostActive&&(t=this.CoinCollectCounter*$.Instance.thisPlayer.coinBoostValue,this.CoinCollectCounter=this.CoinCollectCounter+t),a=re.Instance?re.Instance.coinWallet:0,this.previousCoinCounter=re.Instance.coinWallet,re.Instance.updateCoinAmount(a+this.CoinCollectCounter,!1),s=oe.Instance.getCharacterTrackingId(),i=this.getMapName(),o=oe.Instance.isAI?Re.BOT:Re.PLAYER,r=oe.Instance.isPublic?we.MULTI_PUBLIC:we.MULTI_PRIVATE,I=n._distance*b.SCORE_FACTOR,u=this.getTrackingSessionId(this.sessionId),l=this.ingameTimeSpent,this.boosterId=this.getBoosterTrackingId(),window.isInAP=!1,be.Send_MISSION_FINISHED(s,i,o,r,I,l,this.CoinCollectCounter,re.Instance.coinWallet,this.sessionDiff,u,this.boosterId,Ne.MISSION_FINISHED,window.fpsAvg||"",window.fpsMin||"",window.fpsMax||""),h=x.achievement_play_1;h<=x.achievement_play_3;h++)(p=re.Instance.getAchievement(h)).isCompleted||(p.counter++,re.Instance.updateAchievementProgress(p));if($.Instance.thisPlayer.character==A.MILKY)for(d=x.achievement_milky_1;d<=x.achievement_milky_3;d++)(m=re.Instance.getAchievement(d)).isCompleted||(m.counter=this.charDistance,re.Instance.updateAchievementProgress(m));else for(f=x.achievement_schoki_1;f<=x.achievement_schoki_3;f++)(S=re.Instance.getAchievement(f)).isCompleted||(S.counter=this.charDistance,re.Instance.updateAchievementProgress(S));if(null!=(T=ue.Instance.getActiveMissionIndex(F.run_distance))&&-1!=T&&ue.Instance.updateMission(T,this.runDistance,!0),null!=(T=ue.Instance.getActiveMissionIndex(F.play_mul))&&-1!=T&&ue.Instance.updateMission(T),I>2e3&&(re.Instance.a2hData.run2000=!0,re.Instance.saveA2HData()),this.isEnv2Unlocked&&(re.Instance.progressionData.isQte2Unlocked=!0,re.Instance.progressionData.isCoinDuperUnlocked=!0,re.Instance.progressionData.isStamperUnlocked=!0,re.Instance.tutorialData.unlockEnv2==M.LOCKED&&(re.Instance.tutorialData.unlockEnv2=M.UNLOCKED_SHOW_POPUP)),this.isEnv3Unlocked&&(re.Instance.progressionData.isQte3Unlocked=!0,re.Instance.progressionData.isMegaHopUnlocked=!0,re.Instance.tutorialData.unlockEnv3==M.LOCKED&&(re.Instance.tutorialData.unlockEnv3=M.UNLOCKED_SHOW_POPUP)),-1!=this.envMissionId&&null!=(T=ue.Instance.getActiveMissionIndex(this.envMissionId))&&-1!=T&&ue.Instance.updateMission(T,this.envDistance,!0),null!=(T=ue.Instance.getActiveMissionIndex(F.extra_life))&&-1!=T&&ue.Instance.updateMission(T,this.qte_collected),null!=(T=ue.Instance.getActiveMissionIndex(F.request_backpack))&&-1!=T&&ue.Instance.updateMission(T,this.requestBackpackTime),!(this.accWornCount>0)){e.next=47;break}if(g=!1,-1,-1==(C=ue.Instance.getActiveMissionDiff(F.accessory_run))||null==C){e.next=46;break}e.t0=C,e.next=e.t0===W.EASY?40:e.t0===W.NORMAL?42:e.t0===W.HARD?44:46;break;case 40:return this.accWornCount>=1&&(g=!0),e.abrupt("break",46);case 42:return this.accWornCount>=2&&(g=!0),e.abrupt("break",46);case 44:return this.accWornCount>=3&&(g=!0),e.abrupt("break",46);case 46:g&&null!=(T=ue.Instance.getActiveMissionIndex(F.accessory_run))&&-1!=T&&ue.Instance.updateMission(T,this.accDistance,!0);case 47:null!=(T=ue.Instance.getActiveMissionIndex(F.run_distance_one_run))&&-1!=T&&ue.Instance.updateMissionOneRun(T,n._distance*b.SCORE_FACTOR),null!=(T=ue.Instance.getActiveMissionIndex(F.collect_coins_one_run))&&-1!=T&&ue.Instance.updateMissionOneRun(T,this.CoinCollectCounter),null!=(T=ue.Instance.getActiveMissionIndex(F.double_jump_one_run))&&-1!=T&&ue.Instance.updateMissionOneRun(T,this.double_jump_one_run),null!=(T=ue.Instance.getActiveMissionIndex(F.pass_backpack_one_run))&&-1!=T&&ue.Instance.updateMissionOneRun(T,this.pass_bp_one_run),null!=(T=ue.Instance.getActiveMissionIndex(F.mid_coin))&&-1!=T&&ue.Instance.updateMissionOneRun(T,this.mid_coin_one_run),this.currentArea=Se.CurrentArea,re.Instance.progressionData.totalRunMeters+=oe.Instance.infoScore,re.Instance.tutorialData.completeGameCount++,re.Instance.setScore(oe.Instance.infoScore),this.showPopupGameover();case 62:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.clearForGameover=function(){j.Instance.unloadElements(),Se.Instance.unloadElements(),$.Instance.unloadElements(),$.Instance.clear(),pe.Instance.clear()},r.showPopupGameover=function(){var e=i(c().mark((function e(){var t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe.Instance.lastState!=y.QTE){e.next=24;break}return e.next=3,this.qteTimesupAnimation();case 3:return e.next=5,me.Instance.show(!1,!1,null);case 5:return this.disableQTE(),n.Instance.gameContainer.active=!1,Ee.Instance.node.active=!0,e.next=10,Ee.Instance.initCharacters();case 10:return e.next=12,ve.Instance.showPopup(_e.GAMEOVER,!0);case 12:return(t=e.sent.getComponent(ee)).reset(oe.Instance.state!=y.DISMISS),t.show(),oe.Instance.state==y.DISMISS&&t.onDismiss(),this.clearForGameover(),e.next=19,re.Instance.saveAllInventory();case 19:return e.next=21,re.Instance.saveUserData();case 21:me.Instance.hide(),e.next=48;break;case 24:if(oe.Instance.lastState!=y.RUNNING&&oe.Instance.lastState!=y.REVIVE){e.next=47;break}return n.IsPause=!0,$.Instance.PauseAnim(),pe.Instance.hide(),n.Instance.gameContainer.active=!1,Ee.Instance.node.active=!0,e.next=32,Ee.Instance.initCharacters();case 32:return He.Instance.show(),e.next=35,re.Instance.saveAllInventory();case 35:return e.next=37,re.Instance.saveUserData();case 37:return e.next=39,ve.Instance.showPopup(_e.GAMEOVER,!0);case 39:(a=e.sent.getComponent(ee)).reset(oe.Instance.state!=y.DISMISS),a.show(),He.Instance.hide(),oe.Instance.state==y.DISMISS&&a.onDismiss(),this.clearForGameover(),e.next=48;break;case 47:oe.Instance.lastState==y.READY&&(ce.Instance.stopBgm(),ce.Instance.stopAmbient(),this.backToMainMenu());case 48:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onOpenViewCamera=function(e){void 0===e&&(e=!1),this.item.active=!e,this.players.active=!e,this.environment.active=!e,this.gameUICanvas.active=!e},r.getRandomNumber=function(e){return e==q.POWERUPS?oe.Instance.randomPowerups:e==q.QTE?oe.Instance.randomQTEs:Math.random()},r.loadBgm=function(){switch(oe.Instance.lobbyInfo.environment){case L.TROPICAL:ce.Instance.loadBgmTrack(X.BGM_1);break;case L.URBAN:ce.Instance.loadBgmTrack(X.BGM_2);break;case L.SNOW:ce.Instance.loadBgmTrack(X.BGM_3)}},r.loadQteBgm=function(e,n){switch(void 0===n&&(n=0),e){case H.Badminton:ce.Instance.loadQteBgm(X.QTE_1);break;case H.Music:var t=[X.QTE_2,X.QTE_2_1,X.QTE_2_2];ce.Instance.loadQteBgm(t[n]);break;case H.Crab:ce.Instance.loadQteBgm(X.QTE_3)}},r.playBgm=function(){ce.Instance.playBgm(!0)},r.playQteBgm=function(){ce.Instance.playQteBgm(!0)},r.stopBgm=function(){ce.Instance.isFadedOut=!0,ce.Instance.fadeTimer=ce.Instance.FADE_DURATION},r.stopQteBgm=function(){ce.Instance.isQteFadeOut=!0,ce.Instance.qteFadeTimer=ce.Instance.QTE_FADE_DURATION},r.getMapName=function(){var e=Fe.ISLAND;switch(oe.Instance.lobbyInfo.environment){case L.TROPICAL:e=Fe.ISLAND;break;case L.URBAN:e=Fe.CITY;break;case L.SNOW:e=Fe.MOUNTAIN}return e},r.shuffle=function(e){for(var n,t=e.length;0!=t;){n=Math.floor(Math.random()*t),t--;var a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},r.getBoosterTrackingId=function(){var e=oe.Instance.isHost?oe.Instance.lobbyInfo.hostBooster:oe.Instance.lobbyInfo.clientBooster;return e>-1&&e<=z.REVIVAL?K[e].trackingId:Le.NONE},r.getTrackingSessionId=function(e){var n=Be.BEGIN_001;switch(e){case k[0]:n=Be.BEGIN_001;break;case k[1]:n=Be.BEGIN_002;break;case k[2]:n=Be.BEGIN_003;break;case k[3]:n=Be.SEMI_001;break;case k[4]:n=Be.SEMI_002;break;case k[5]:n=Be.SEMI_003;break;case k[6]:n=Be.PRO_001;break;case k[7]:n=Be.PRO_002;break;case k[8]:n=Be.PRO_003}return n},o(n,[{key:"playerCamera",get:function(){return this.m_playerCamera}},{key:"timeScale",get:function(){return this._timeScale},set:function(e){this._timeScale=e}},{key:"isInTutorial",get:function(){return this._isInTutorial},set:function(e){this._isInTutorial=e}},{key:"CoinCollectCounter",get:function(){return this.m_coinCollectCounter},set:function(e){this.m_coinCollectCounter=e}},{key:"BackpackSize",get:function(){return this.m_backpackSize},set:function(e){this.m_backpackSize=e}},{key:"playerZ",get:function(){return this.playerPivot.position.z},set:function(e){var n=this.playerPivot.getPosition();n.z=e,this.playerPivot.setPosition(n)}},{key:"originPlayerPosition",get:function(){return this._originPlayerPosition}}],[{key:"IsPause",get:function(){return this._isPause},set:function(e){this._isPause=e,S.instance.enable=!e}},{key:"distance",get:function(){return this._distance}},{key:"score",get:function(){return n.distance*b.SCORE_FACTOR}}]),n}(C)).Instance=null,fn._isPause=!0,fn.DEBUG_GODMODE=!1,fn._distance=0,fn._keyboarCallback=null,sn=n((an=fn).prototype,"environment",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=n(an.prototype,"item",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=n(an.prototype,"playerPivot",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=n(an.prototype,"vfxContainer",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),In=n(an.prototype,"m_playerCamera",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=n(an.prototype,"inputNode",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=n(an.prototype,"players",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=n(an.prototype,"gameUICanvas",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=n(an.prototype,"gameContainer",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=n(an.prototype,"skyContainer",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=n(an.prototype,"qteSkyContainer",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=an))||tn));r._RF.pop()}}}));

System.register("chunks:///_virtual/Schoki.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./GameResourceManager.ts","./CharacterAnimCtrl.ts","./Pooling.ts","./CharacterAnimCtrlMainMenu.ts"],(function(t){"use strict";var n,e,r,i,a,o,s,c,l,u,h,C,p,m,f;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,s=t.SkeletalAnimation,c=t.Component},function(t){l=t.CharacterAccessoryCtrl},function(t){u=t.PLAYER_CHARACTER},function(t){h=t.GameResourceManager},function(t){C=t.CharacterAnimCtrl,p=t.CHARACTER_ANIM},function(t){m=t.Pooling},function(t){f=t.CharacterAnimCtrlMainMenu}],execute:function(){var d;a._RF.push({},"83b571QmSpNeKyK2yq6Rt59","Schoki",void 0);var g,y=o.ccclass;o.property;!function(t){t[t.IDLE=0]="IDLE",t[t.WALK=1]="WALK"}(g||(g={}));var _=t("MainMenuCharacter",function(t){function a(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._animCtrl=null,n._accessoryCtrl=null,n._rigNode=void 0,n._type=void 0,n._state=null,n}n(a,t);var o=a.prototype;return o.initCharacter=function(){this.animCtrl=this.getComponent(f),this._rigNode=m.getInstance().getRig(this._type),this._rigNode&&(this.node.addChild(this._rigNode),this.accessoryCtrl=this._rigNode.getComponent(l),this.accessoryCtrl.character=this._type,this.animCtrl.skeleton=this._rigNode.getComponent(s))},o.unloadCharacter=function(){for(var t=[].concat(this._animCtrl.skeleton.clips),n=t.length-1;n>=0;n--){var e=t[n];e.name!=C.getAnimName(p.IDLE)&&(console.log("remove anim",e.name),this._animCtrl.skeleton.removeClip(e,!0))}m.getInstance().putRig(this._type,this._rigNode)},o.loadAnimation=function(){var t=r(i().mark((function t(n,e){var r,a,o=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._rigNode){t.next=2;break}return t.abrupt("return");case 2:r=i().mark((function t(r){var a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e[r],t.next=3,h.Instance.loadCharacterAnimation(n,a);case 3:s=t.sent,o._animCtrl.skeleton.addClip(s),o._animCtrl.skeleton.clips.find((function(t){return t.name==a}))||o._animCtrl.skeleton.addClip(s);case 7:case"end":return t.stop()}}),t)})),a=0;case 4:if(!(a<e.length)){t.next=9;break}return t.delegateYield(r(a),"t0",6);case 6:a++,t.next=4;break;case 9:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),o.playAnim=function(t){this.animCtrl&&this.animCtrl.PlayAnim(t)},e(a,[{key:"animCtrl",get:function(){return this._animCtrl},set:function(t){this._animCtrl=t}},{key:"accessoryCtrl",get:function(){return this._accessoryCtrl},set:function(t){this._accessoryCtrl=t}}]),a}(c));t("MainMenuBlockoutSchoki",y("MainMenuBlockoutSchoki")(d=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.initCharacter=function(){var n=r(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._type=u.SCHOKI,t.prototype.initCharacter.call(this),this.animCtrl&&(this.animCtrl.init(p.CHATTING,!1),this.node.setPosition(-.164,0,0),this.node.setRotationFromEuler(0,0,0));case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e}(_))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/Segment.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EditorElement.ts","./MainMenuDebug.ts","./NetworkManager.ts","./RunningGameManager.ts","./BaseObject.ts","./Crate.ts","./ItemPool.ts","./PlayerManager.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,l,c,p,h,u,m,P,d,g,_,f,y,E,I,v,C,O,b,S,T,R,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.CCInteger,c=e.v3,p=e.geometry,h=e.instantiate,u=e.PhysicsSystem,m=e.log,P=e.Component},function(e){d=e.POOL_OBJECT_TYPE,g=e.POOL_OBJECT_DATA,_=e.POOL_OBJECT_KIND,f=e.default,y=e.PowerupType,E=e.RANDOM_TYPE,I=e.ItemType},function(e){v=e.EditorElement},function(e){C=e.MainMenuDebug},function(e){O=e.NetworkManager},function(e){b=e.RunningGameManager},function(e){S=e.BaseObject},function(e){T=e.Crate},function(e){R=e.ItemPool},function(e){M=e.PlayerManager}],execute:function(){var D,N,w,z,A,L,Z,x,H,W,U,G,Q,B,Y,k,j,X,F;s._RF.push({},"c57ddclYdhITaSqz6/gCmtj","Segment",void 0);var V=r.ccclass,J=r.property,q=function(){this.initialX=0,this.initialY=0,this.initialZ=0,this.type=d.NONE,this.spawn=!1,this.parent=null,this.node=null,this.right=!1,this.raycasted=!1};e("Segment",(D=V("Segment"),N=J({type:l,min:0,max:100,slide:!0}),w=J({type:l,min:0,max:100,slide:!0}),z=J({type:l,min:0,max:100,slide:!0}),A=J({type:l,min:0,max:100,slide:!0}),L=J({type:l,min:0,max:100,slide:!0}),D(((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_Shield",H,a(t)),i(t,"m_ShieldPercentage",W,a(t)),i(t,"m_Magnet",U,a(t)),i(t,"m_MagnetPercentage",G,a(t)),i(t,"m_CoinDuper",Q,a(t)),i(t,"m_CoinDuperPercentage",B,a(t)),i(t,"m_MegaHop",Y,a(t)),i(t,"m_MegaHopPercentage",k,a(t)),i(t,"m_Stamper",j,a(t)),i(t,"m_StamperPercentage",X,a(t)),t.m_nearestZ=0,t.m_furthestZ=0,t.m_initialLength=0,t._elementDatas=[],t.m_scale=1,t._segmentID=-1,t.hasPassPlayer=!1,t.hasReachPlayer=!1,t._loadElementCallback=null,t.cast1=c(0,0,0),t.cast2=c(0,0,0),t._ray=new p.Ray,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.initSegment()},s.unloadElements=function(){for(var e=0;e<this._elementDatas.length;e++){var t=this._elementDatas[e];if(t&&t.node){if(t.node.getComponent(S)){var n=t.node.getComponent(S).objectType;R.Instance.poolingObstaclePut(n,t.node)}t.node=null}}},s.loadElements=function(){var e=this;this.hasReachPlayer=!1,this.hasPassPlayer=!1,this._elementDatas.forEach((function(t){if(t.spawn=!1,t.raycasted=!1,t.type!=d.NONE){var n=d.NONE;g[t.type].type==_.POWERUP&&(n=e.getRandomPowerupType(t.type),t.type=n)}}))},s.addChildAsync=function(e,t){var n=R.Instance.poolingObstacleGet(e);if(n){n.setParent(t.parent),n.setPosition(0,0,0),n.setScale(1,1,1),t.node=n;var i=n.getComponent(S);i&&(i.reset(),i.objectType=e),n.active=!0}},s.resizeSegment=function(e){if(e<=0)for(var t=0;t<this._elementDatas.length;t++){var n=this._elementDatas[t],i=n.parent.getPosition();i.x=n.initialX*f.MAP_SCALE_X,n.parent.setPosition(i)}else{this.m_scale=e/this.m_initialLength;for(var a=0;a<this._elementDatas.length;a++){var o=this._elementDatas[a],s=o.parent.getPosition();s.z=o.initialZ*this.m_scale,s.x=o.initialX*f.MAP_SCALE_X,o.parent.setPosition(s)}this.m_nearestZ=this.getNearestZInItem(),this.m_furthestZ=this.getFurthestZInItem()}},s.removeEditorVisualChildren=function(){for(var e=[].concat(this.node.children),t=0;t<e.length;t++){var n=e[t];n&&n.getComponentInChildren(v)&&n.getComponentInChildren(v).node.removeAllChildren()}},s.initSegment=function(){for(var e=[].concat(this.node.children),t=[],n=0;n<e.length;n++){var i=e[n];if(i&&i.active){var a=i.getComponentInChildren(v),o=null!=a?a.objectType:d.NONE;if(o!=d.NONE){var s=Object.assign(new q,{initialX:i.position.x,initialY:i.position.y,initialZ:i.position.z,type:o,parent:i,node:null,spawn:!1,right:a.right,raycasted:!1});this._elementDatas.push(s),i.removeAllChildren()}else if(b.Instance&&b.Instance.isInTutorial&&a&&a.elementPrefabTheme1){var r,l=h(a.elementPrefabTheme1),c=Object.assign(new q,{initialX:i.position.x,initialY:i.position.y,initialZ:i.position.z,type:o,parent:i,node:l,spawn:!1,raycasted:!1});this._elementDatas.push(c),i.removeAllChildren(),l.active=!0,l.setParent(i),l.setPosition(0,0,0),l.setScale(1,1,1),null==(r=l.getComponent(S))||r.reset()}else t.push(i)}else t.push(i)}for(var p=t.length-1;p>=0;p--)t[p].removeFromParent();this.m_nearestZ=this.getNearestZInItem(),this.m_furthestZ=this.getFurthestZInItem(),this.m_initialLength=Math.abs(this.m_furthestZ-this.m_nearestZ)},s.getRandomPowerupType=function(e){if(e==d.POWERUP_COIN_DUPER||e==d.POWERUP_MAGNET||e==d.POWERUP_MEGA_HOP||e==d.POWERUP_SHIELD||e==d.POWERUP_STAMPER){var t=[],n=[],i=0,a=O.Instance.unlockedPowerup;if(this.m_Shield&&(i+=this.m_ShieldPercentage,t.push(i),n.push(d.POWERUP_SHIELD)),this.m_Magnet&&(i+=this.m_MagnetPercentage,t.push(i),n.push(d.POWERUP_MAGNET)),this.m_CoinDuper&&a.includes(y.COIN_DUPER)&&(i+=this.m_CoinDuperPercentage,t.push(i),n.push(d.POWERUP_COIN_DUPER)),this.m_MegaHop&&a.includes(y.MEGA_HOP)&&(i+=this.m_MegaHopPercentage,t.push(i),n.push(d.POWERUP_MEGA_HOP)),this.m_Stamper&&a.includes(y.STAMPER)&&(i+=this.m_StamperPercentage,t.push(i),n.push(d.POWERUP_STAMPER)),n.length>0){for(var o=n[n.length-1],s=Math.floor(b.Instance.getRandomNumber(E.POWERUPS)*i),r=0;r<n.length;r++)if(s<t[r]){o=n[r];break}e=o}else e=d.NONE}return e},s.getRandomQTEType=function(e){if(e==d.QTE_1||e==d.QTE_2||e==d.QTE_3){var t=O.Instance.unlockedQte;if(1==t)e=d.QTE_1;else e=Math.floor(b.Instance.getRandomNumber(E.POWERUPS)*t)+d.QTE_1;f.CHEAT_ONLY_QTE3&&(e=d.QTE_3)}return e},s.checkVisibleElements=function(){var e=this,t=b.Instance.playerPivot;this._elementDatas.filter((function(n){var i=e.node.position.z+n.parent.position.z+f.PLAYER_POS_Z,a=f.SEGMENT_ITEM_LOAD_RANGE*C.getDeviceProfile().ViewScale*.25,o=f.SEGMENT_ITEM_LOAD_RANGE*C.getDeviceProfile().ViewScale;return!n.node&&!n.spawn&&t.position.z-o<i&&t.position.z-a>i})).forEach((function(t,n){if(0==n){t.spawn=!0;var i=t.type;if((b.Instance.isHeadStartActive||b.Instance.isCheatSpeed)&&g[i]&&g[i].type==_.OBSTACLE&&(i=d.COIN_1),g[i]&&g[i].type==_.QTE&&(i=e.getRandomQTEType(i)),e.addChildAsync(i,t),(i?g[i].type:_.OBSTACLE)==_.POWERUP){var a=!1;if(R.Instance.WillSpawnPowerup||R.Instance.spawnPowerup(),R.Instance.WillSpawnPowerup&&t.right==R.Instance.NextPowerupRight&&(a=!0,R.Instance.spawnPowerup(),R.Instance.WillSpawnPowerup=!1),!a)return void(t.node.active=!1)}}}))},s.checkRemoveElements=function(){var e=this,t=b.Instance.playerPivot.position.z,n=b.Instance.playerPivot.position.y,i=b.Instance.playerPivot.position.x,a=i+M.Instance.thisPlayer.node.position.x,o=n+M.Instance.thisPlayer.node.position.y,s=!O.Instance.isPvp,r=i+M.Instance.otherPlayer.node.position.x,l=n+M.Instance.otherPlayer.node.position.y,c=this._elementDatas.filter((function(n){return n.node&&n.parent&&t<e.node.position.z+n.parent.position.z+n.node.position.z+f.PLAYER_POS_Z})),p=3.5;(b.Instance.isHeadStartActive||b.Instance.isCheatSpeed)&&c.forEach((function(t){if(t.node.active){var n=e.node.position.y+t.parent.position.y+t.node.position.y,i=e.node.position.x+t.parent.position.x+t.node.position.x,c=Math.abs(a-i),h=Math.abs(o+p-n),u=Math.abs(r-i),m=Math.abs(l+p-n);c<.75&&h<p?g[t.type].type==_.COLLECTIBLE?M.Instance.thisPlayer.onCollectCoin(t.node):g[t.type].type==_.QTE&&M.Instance.thisPlayer.onCollectQTE(t.node):u<.75&&m<p&&(g[t.type].type==_.COLLECTIBLE?M.Instance.otherPlayer.onCollectCoin(t.node,s):g[t.type].type==_.QTE&&M.Instance.thisPlayer.onCollectQTE(t.node,s))}})),c.filter((function(n){var i=e.node.position.z+n.parent.position.z+n.node.position.z;return n.node&&t<i+f.PLAYER_POS_Z+f.OBJECT_POOL_REMOVE_DISTANCE})).forEach((function(e){if(e&&e.node){if(e.node.getComponent(S)){var t=e.node.getComponent(S).objectType;R.Instance.poolingObstaclePut(t,e.node)}e.node=null}}))},s.updateRaycast=function(){var e=this,t=b.Instance.playerPivot,n=b.Instance.originPlayerPosition.x;this._elementDatas.filter((function(n){var i=e.node.position.z+n.parent.position.z+f.PLAYER_POS_Z;return n.node&&n.spawn&&!n.raycasted&&t.position.z>i})).forEach((function(t){var i=t.parent.getWorldPosition();e.cast1.x=n,e.cast1.y=i.y+30,e.cast1.z=i.z,e.cast2.x=n,e.cast2.y=i.y,e.cast2.z=i.z;var a=t.parent.getPosition();if(p.Ray.fromPoints(e._ray,e.cast1,e.cast2),u.instance.raycast(e._ray,I.ENVIRONMENT,100)){t.raycasted=!0;var o=u.instance.raycastResults,s=b.Instance.originPlayerPosition.y;o.forEach((function(e){s=Math.max(s,e.hitPoint.y)}));var r=s-b.Instance.originPlayerPosition.y,l=t.initialY,c=t.node.getComponent(S).objectType;(c==d.COIN_1||c==d.COIN_5)&&l<1.5&&(l=1.5),a.y=r+l,t.parent.setPosition(a.x,-Number.MAX_SAFE_INTEGER,a.z),e.scheduleOnce((function(){t.parent.setPosition(a)}),.01)}else m("cannot ray cast")}))},s.update=function(){if(!b.IsPause){this.checkVisibleElements(),this.updateRaycast(),this.checkRemoveElements();var e=b.Instance.playerPivot.position.z+f.PLAYER_POS_Z;M.Instance.thisPlayer.node.worldPosition.z;if(!this.hasReachPlayer&&e<this.node.position.z+this.m_nearestZ&&(this.hasReachPlayer=!0,R.Instance.runningSegmentId=this.segmentID),!b.Instance.isInTutorial&&!this.hasPassPlayer&&e<this.node.position.z+this.m_furthestZ-64){this.hasPassPlayer=!0;var t=R.Instance.runningSegments.indexOf(this.node);R.Instance.runningSegments.splice(t,1),this.unloadElements(),this.node.active=!1,R.Instance.poolSegments.push(this.node)}}},s.getFurthestZInItem=function(){for(var e=this.getColliderZ(this.node.children[0],!1),t=0,n=0;n<this.node.children.length;n++){t=this.getColliderZ(this.node.children[n],!1);var i=this.node.children[n].getComponentInChildren(T),a=0;i&&(a=i.getObsHeight()),(t-=a)<e&&(e=t)}return e},s.getColliderZ=function(e,t){return e?e.position.z:0},s.getNearestZInItem=function(){for(var e=this.getColliderZ(this.node.children[0]),t=0,n=1;n<this.node.children.length;n++)(t=this.getColliderZ(this.node.children[n]))>e&&(e=t);return e},o(t,[{key:"segmentID",get:function(){return this._segmentID},set:function(e){this._segmentID=e}}]),t}(P)).s_upperBoundLongObs=0,F.HEIGHT_LONG_OBS=2.89,F.elementCount=0,H=t((x=F).prototype,"m_Shield",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=t(x.prototype,"m_ShieldPercentage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(x.prototype,"m_Magnet",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=t(x.prototype,"m_MagnetPercentage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=t(x.prototype,"m_CoinDuper",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=t(x.prototype,"m_CoinDuperPercentage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(x.prototype,"m_MegaHop",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=t(x.prototype,"m_MegaHopPercentage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(x.prototype,"m_Stamper",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=t(x.prototype,"m_StamperPercentage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=x))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/SelectMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainMenuManager.ts","./NetworkManager.ts","./SoundManager.ts","./ErrorPopup.ts"],(function(t){"use strict";var n,e,o,i,r,u,a,c,l,s,f,d,p,b,C,I,M,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){u=t.cclegacy,a=t._decorator,c=t.Button,l=t.EditBox,s=t.Component},function(t){f=t.language},function(t){d=t.GAME_MODE,p=t.AudioSrc,b=t.default},function(t){C=t.MainMenuManager},function(t){I=t.NetworkManager},function(t){M=t.SoundManager},function(t){_=t.ErrorPopup}],execute:function(){var h,g,P,v,m,y,L,S,w,k,A,O;u._RF.push({},"81a1cIqMYdN+rFxQLXNlhUv","SelectMode",void 0);var B=a.ccclass,E=a.property;t("SelectMode",(h=B("SelectMode"),g=E(c),P=E(c),v=E(c),m=E(l),h(((O=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,o(n,"m_buttonPublic",S,i(n)),o(n,"m_buttonPrivate",w,i(n)),o(n,"m_buttonJoin",k,i(n)),o(n,"editboxCode",A,i(n)),n.buttonJoinNode=null,n}e(n,t);var u=n.prototype;return u.onLoad=function(){this.buttonJoinNode=this.m_buttonJoin.node},u.show=function(){this.reset()},u.reset=function(){this.editboxCode.string=""},u.update=function(t){},u.onCloseButtonClicked=function(){M.Instance.playOneShot(p.UI_CLICK)},u.onPublicButtonClicked=function(){M.Instance.playOneShot(p.UI_CLICK),I.Instance.createAILocal().then((function(){C.Instance.onMultiPublic()}))},u.onPrivateButtonClicked=function(){M.Instance.playOneShot(p.UI_CLICK),C.Instance.onMultiPrivateCreate()},u.onJoinButtonClicked=function(){M.Instance.playOneShot(p.UI_CLICK),b.CHEAT_LOCAL_HOST&&I.Instance.joinMultiPrivateLocal(this.editboxCode.string).then((function(t){t?C.Instance.onMultiPrivateJoin(t):_.Instance.show(f.t("str_mm_join_wrong"),!0,(function(){_.Instance.hide()}))}))},u.onHostButtonClicked=function(){b.CHEAT_LOCAL_HOST?I.Instance.createMultiPrivateLocal():I.Instance.createMultiPrivateNew()},r(n,[{key:"buttonPrivate",get:function(){return this.m_buttonPrivate}}]),n}(s)).mode=d.PRIVATE,S=n((L=O).prototype,"m_buttonPublic",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(L.prototype,"m_buttonPrivate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(L.prototype,"m_buttonJoin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(L.prototype,"editboxCode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/SessionData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var e,i,n,r,a,o,s,u,l,m,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,u=t.Prefab,l=t.CCFloat,m=t.Enum,c=t.Component},function(t){p=t.EnvironmentType}],execute:function(){var f,g,b,_,h,y,P,d,S,L,z,T,v,D,w,x,M,k,C,I,E,F,O,R,A;o._RF.push({},"7b6cfU3851BS4iQi56p1fLI","SessionData",void 0);var B=s.ccclass,j=s.property,H=t("SegmentData",(f=B("SegmentData"),g=j(u),b=j(l),_=j(l),f((P=e((y=function(){function t(){r(this,"m_Prefab",P,this),r(this,"m_TotalTime",d,this),r(this,"m_MaxSpeed",S,this)}return i(t,[{key:"totalTime",get:function(){return this.m_TotalTime}},{key:"maxSpeed",get:function(){return this.m_MaxSpeed}}]),t}()).prototype,"m_Prefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"m_TotalTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=e(y.prototype,"m_MaxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),h=y))||h)),N=t("PartData",(L=B("PartData"),z=j({type:H}),L((D=e((v=function(){function t(){r(this,"m_SegmentList",D,this)}return t.prototype.getMaxSpeed=function(t){return 0==this.m_SegmentList.length?30:t>=0&&t<this.m_SegmentList.length?this.m_SegmentList[t].m_MaxSpeed:this.m_SegmentList[this.m_SegmentList.length-1].m_MaxSpeed},i(t,[{key:"size",get:function(){return this.m_SegmentList.length}}]),t}()).prototype,"m_SegmentList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=v))||T));t("SessionData",(w=B("SessionData"),x=j({type:N}),M=j({type:m(p)}),k=j(u),w((E=e((I=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"m_PartList",E,a(e)),r(e,"m_EnvironmentType",F,a(e)),r(e,"m_obsTutorial",O,a(e)),r(e,"m_Padding2Obs",R,a(e)),r(e,"m_Padding2Parts",A,a(e)),e}n(e,t);var o=e.prototype;return o.limitPartId=function(t){return t>=this.size?this.size-1:t},o.getPatternNames=function(t){for(var e=this.limitPartId(t),i=[],n=0;n<this.m_PartList[e].size;n++)i.push(this.m_PartList[e].m_SegmentList[n].m_Prefab.data.name);return i},o.getPartData=function(t){var e=this.limitPartId(t);return e=e<0?0:e,this.m_PartList[e]},i(e,[{key:"size",get:function(){return this.m_PartList.length}},{key:"obsTutorial",get:function(){return this.m_obsTutorial}}]),e}(c)).prototype,"m_PartList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(I.prototype,"m_EnvironmentType",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.TROPICAL}}),O=e(I.prototype,"m_obsTutorial",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"m_Padding2Obs",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),A=e(I.prototype,"m_Padding2Parts",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),C=I))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShowHideUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var o,e,n,i,c,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.UIOpacity,c=t.Component},function(t){r=t.default}],execute:function(){var s;e._RF.push({},"3feb8+LVx1DHoUd0lTgfbZW","ShowHideUI",void 0);var u=n.ccclass;n.property,t("ShowHideUI",u("ShowHideUI")(s=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){!r.IS_SHOW_AP_UI&&this.getComponent(i)&&(this.getComponent(i).opacity=0)},e}(c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts"],(function(t){"use strict";var e,n,a,i,o,s,r,u,d,l,h,c,p,S,m,_,f,y,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator,d=t.AudioClip,l=t.AudioSource,h=t.game,c=t.log,p=t.resources,S=t.Component},function(t){m=t.AudioSrc,_=t.EnvironmentType,f=t.QTE_TYPE,y=t.default},function(t){x=t.NetworkManager}],execute:function(){var g,I,P,b,O,v,F,T,L,w,B,A,E,M,N,C,q,k,D,H,z,G,Q,R;r._RF.push({},"1f76fYcAedPA4SH1+L+dH4J","SoundManager",void 0);var U=u.ccclass,X=u.property;t("SoundManager",(g=U("SoundManager"),I=X([d]),P=X(l),b=X(l),O=X(l),v=X(l),F=X(l),T=X(l),L=X(l),w=X(l),B=X(l),g(((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,a(e,"listAudio",M,i(e)),a(e,"audioSource",N,i(e)),a(e,"ambientPlayer",C,i(e)),a(e,"endscreenSoundPlayer",q,i(e)),a(e,"endBgmPlayer",k,i(e)),a(e,"qtePlayer",D,i(e)),a(e,"loadingPlayer",H,i(e)),a(e,"menuPlayer",z,i(e)),a(e,"splashPlayer",G,i(e)),e._cachedAudioClipMap={},a(e,"bgmPlayer",Q,i(e)),e.sfxPlayer=null,e.bgmList=[],e.qteList=[],e.env_ambList=[],e.footStepList=[],e.loadingList=[],e.menuList=[],e.collectSoundIdx=0,e.collecSounds=[m.COLLECT_COIN_2,m.COLLECT_COIN_3,m.COLLECT_COIN_4],e.qte1_hitSoundIdx=0,e.qte1_hitSounds=[m.HIT_BIRDIE_1,m.HIT_BIRDIE_2],e.passBpSoundIdx=0,e.passBpSounds=[m.PASS_BACKPACK_1],e.jumpSoundIdx=0,e.jumpSounds=[m.JUMP_1],e.slideSoundIdx=0,e.slideSounds=[m.SLIDE_1],e.landSoundIdx=0,e.landSounds=[m.LAND_1],e.dizzySoundIdx=0,e.dizzySounds=[m.DIZZY_1,m.DIZZY_2],e.fallHatIdx=0,e.fallHatSounds=[m.OBJECT_FALL_HAT_1],e.fallGroundIdx=0,e.fallGroundSounds=[m.OBJECT_FALL_GROUND_1],e.throwHatIdx=0,e.throwHatSounds=[m.THROW_HAT_1],e.catchHatIdx=0,e.catchHatSounds=[m.CATCH_HAT_1],e.releaseIdx=0,e.releaseSounds=[m.OBJECT_RELEASE_1],e.snowballIdx=0,e.snowballSounds=[m.SNOWBALL_1],e.crowIdx=0,e.crowSounds=[m.CROW_1],e.eagleIdx=0,e.eagleSounds=[m.EAGLE_1],e.treeTrunkIdx=0,e.treeTrunkSounds=[m.TREE_TRUNK_1],e.isMenuFadedOut=!1,e.menuFadeTimer=0,e.MENU_FADE_DURATION=.2,e.isFadedOut=!1,e.fadeTimer=0,e.FADE_DURATION=.2,e.isQteFadeOut=!1,e.qteFadeTimer=0,e.QTE_FADE_DURATION=.2,e.coin_duper_sfx_timer=0,e.COIN_DUPER_SFX_DURATION=.5,e.isCdSfxOnCooldown=!1,e.isMenuLoaded=!1,e.isApSoundLoaded=!1,e.isEndscreenLoaded=!1,e.isEnv1Loaded=!1,e.isEnv2Loaded=!1,e.isEnv3Loaded=!1,e.isQte1Loaded=!1,e.isQte2Loaded=!1,e.isQte3Loaded=!1,e.isSplashLoaded=!1,e.splash_bgm_path="prefabs/Sounds/M4A/splash/",e.general_sfx_path="prefabs/Sounds/M4A/action_phase/general_sfx/",e.general_sfx_tutorial_path="prefabs/Sounds/M4A/action_phase/general_sfx/tutorial/",e.game_over_path="prefabs/Sounds/M4A/action_phase/game_over/",e.qte_bgm_path="prefabs/Sounds/M4A/action_phase/qte_bgm/",e.qte_sfx_path="prefabs/Sounds/M4A/action_phase/qte_sfx",e.action_phase_path="prefabs/Sounds/M4A/action_phase/",e.main_menu_path="prefabs/Sounds/M4A/main_menu/",e.ui_path="prefabs/Sounds/M4A/ui/",e}n(e,t);var r=e.prototype;return r.onLoad=function(){h.isPersistRootNode(this.node)||(h.addPersistRootNode(this.node),h.addPersistRootNode(this.ambientPlayer.node)),e.Instance=this,this.sfxPlayer=this.node.getComponent(l),c(this.listAudio)},r.initSplash=function(){var t=this;return new Promise((function(e,n){c("init Splash Sound"),t.initSplashSound(),e()}))},r.init=function(){var t=this;return new Promise((function(e,n){c("init Sound"),t.initMenuSound(),t.initGameOverSound(),e()}))},r.loadSoundFromPath=function(t,e,n){return new Promise(o(s().mark((function a(i){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:p.load(t+n,(function(t,n){n&&-1==e.findIndex((function(t){return t.name==n.name}))&&(c("load sound from path",n.name),e.push(n)),i()}));case 1:case"end":return a.stop()}}),a)}))))},r.loadSoundFromDir=function(t){var e=this;return new Promise(o(s().mark((function n(a){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p.loadDir(t,(function(n,i){i.forEach((function(n){n&&-1==e.listAudio.findIndex((function(t){return n.name==t.name}))&&(c("load sound from dir",t,n.name),e.listAudio.push(n))})),a()}));case 1:case"end":return n.stop()}}),n)}))))},r.loadSoundToPlayer=function(t,e,n){return new Promise(o(s().mark((function a(i){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:p.load(t+n,(function(t,n){n&&(c("load sound to player",n.name),e.clip=n),i()}));case 1:case"end":return a.stop()}}),a)}))))},r.initSplashSound=function(){var t=this;return c("initSplashSound"),new Promise(o(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSplashLoaded){e.next=3;break}return n(),e.abrupt("return");case 3:return t.isSplashLoaded=!0,e.next=6,t.loadSoundFromDir(t.ui_path);case 6:return e.next=8,t.loadSoundToPlayer(t.main_menu_path,t.loadingPlayer,m.BGM_LOADING);case 8:n();case 9:case"end":return e.stop()}}),e)}))))},r.initMenuSound=function(){var t=this;return c("initMenuSound"),new Promise(o(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isMenuLoaded){e.next=3;break}return n(),e.abrupt("return");case 3:return t.isMenuLoaded=!0,e.next=6,t.loadSoundToPlayer(t.main_menu_path,t.menuPlayer,m.BGM_MM);case 6:n();case 7:case"end":return e.stop()}}),e)}))))},r.initActionPhaseSound=function(t){var e=this;void 0===t&&(t=!1),c("initActionPhaseSound");var n,a=this.action_phase_path;return new Promise(o(s().mark((function i(o){var r;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=x.Instance.lobbyInfo.environment,i.next=i.t0===_.TROPICAL?3:i.t0===_.URBAN?15:i.t0===_.SNOW?27:39;break;case 3:return n=(a+="env1/")+"sfx",e.loadSoundFromDir(n),i.next=8,e.loadSoundFromPath(a,e.bgmList,m.BGM_1);case 8:return i.next=10,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV1_1);case 10:return i.next=12,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV1_2);case 12:return i.next=14,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV1_3);case 14:return i.abrupt("break",39);case 15:return n=(a+="env2/")+NaN,e.loadSoundFromDir(n),i.next=20,e.loadSoundFromPath(a,e.bgmList,m.BGM_2);case 20:return i.next=22,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV2_1);case 22:return i.next=24,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV2_2);case 24:return i.next=26,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV2_3);case 26:return i.abrupt("break",39);case 27:return n=(a+="env3/")+NaN,e.loadSoundFromDir(n),i.next=32,e.loadSoundFromPath(a,e.bgmList,m.BGM_3);case 32:return i.next=34,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV3_1);case 34:return i.next=36,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV3_2);case 36:return i.next=38,e.loadSoundFromPath(a,e.env_ambList,m.AMB_ENV3_3);case 38:return i.abrupt("break",39);case 39:return r=t?e.general_sfx_tutorial_path:e.general_sfx_path,i.next=42,e.loadSoundFromDir(r);case 42:return i.next=44,e.loadSoundFromPath(e.action_phase_path,e.footStepList,m.FOOTSTEP_MILKY);case 44:return i.next=46,e.loadSoundFromPath(e.action_phase_path,e.footStepList,m.FOOTSTEP_SCHOKI);case 46:o();case 47:case"end":return i.stop()}}),i)}))))},r.initQteSound=function(t){var e=this;c("initQteSound");var n=this.qte_bgm_path,a=this.qte_sfx_path;return new Promise(o(s().mark((function i(o){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=t,i.next=i.t0===f.Badminton?3:i.t0===f.Music?13:i.t0===f.Crab?27:37;break;case 3:if(n+="qte1/",a+="/qte1",!e.isQte1Loaded){i.next=7;break}return i.abrupt("break",37);case 7:return e.isQte1Loaded=!0,i.next=10,e.loadSoundFromDir(a);case 10:return i.next=12,e.loadSoundFromPath(n,e.qteList,m.QTE_1);case 12:return i.abrupt("break",37);case 13:if(n+="qte2/",a+="/qte2",!e.isQte2Loaded){i.next=17;break}return i.abrupt("break",37);case 17:return e.isQte2Loaded=!0,i.next=20,e.loadSoundFromDir(a);case 20:return i.next=22,e.loadSoundFromPath(n,e.qteList,m.QTE_2);case 22:return i.next=24,e.loadSoundFromPath(n,e.qteList,m.QTE_2_1);case 24:return i.next=26,e.loadSoundFromPath(n,e.qteList,m.QTE_2_2);case 26:return i.abrupt("break",37);case 27:if(n+="qte3/",a+="/qte3",!e.isQte3Loaded){i.next=31;break}return i.abrupt("break",37);case 31:return e.isQte3Loaded=!0,i.next=34,e.loadSoundFromDir(a);case 34:return i.next=36,e.loadSoundFromPath(n,e.qteList,m.QTE_3);case 36:return i.abrupt("break",37);case 37:o();case 38:case"end":return i.stop()}}),i)}))))},r.initGameOverSound=function(){var t=this;return c("initGameOverSound"),new Promise(o(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEndscreenLoaded){e.next=3;break}return n(),e.abrupt("return");case 3:return t.isEndscreenLoaded=!0,e.next=6,t.loadSoundToPlayer(t.game_over_path,t.endBgmPlayer,m.END_BGM);case 6:return e.next=8,t.loadSoundToPlayer(t.game_over_path,t.endscreenSoundPlayer,m.ENDSCREEN_COIN);case 8:n();case 9:case"end":return e.stop()}}),e)}))))},r.initTutorialSound=function(){c("initTutorialSound")},r.loadBgmTrack=function(t,e){for(var n=this.bgmList,a=0;a<n.length;a++)n[a].name==t&&(this.bgmPlayer.clip=n[a])},r.loadQteBgm=function(t){for(var e=this.qteList,n=0;n<e.length;n++)e[n].name==t&&(this.qtePlayer.clip=e[n])},r.loadAmbientTrack=function(t){var e=this.env_ambList;c(e);for(var n=0;n<e.length;n++)e[n].name==t&&(this.ambientPlayer.clip=e[n])},r.playBgm=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.isFadedOut=!1,this.bgmPlayer.volume=1,this.bgmPlayer.loop=t,this.bgmPlayer.play())},r.playQteBgm=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.isQteFadeOut=!1,this.qtePlayer.volume=1,this.qtePlayer.loop=t,this.qtePlayer.play())},r.playMenuBgm=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.menuPlayer.volume=1,this.menuPlayer.loop=t,this.menuPlayer.play())},r.playLoadingBgm=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.loadingPlayer.volume=1,this.loadingPlayer.loop=t,this.loadingPlayer.play())},r.playAmbient=function(t){void 0===t&&(t=!1),y.IS_SFX_ON&&(this.ambientPlayer.loop=t,this.ambientPlayer.play())},r.playEndBgm=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.endBgmPlayer.volume=1,this.endBgmPlayer.loop=t,this.endBgmPlayer.play())},r.playSplashBGM=function(t){void 0===t&&(t=!1),y.IS_BGM_ON&&(this.splashPlayer.volume=1,this.splashPlayer.loop=t,this.splashPlayer.play())},r.playOneShot=function(t){if(y.IS_SFX_ON&&!window.is_interrupt)for(var e=0;e<this.listAudio.length;e++){if(this.listAudio[e].name==t)return void this.audioSource.playOneShot(this.listAudio[e],1)}},r.stop=function(){this.audioSource.stop()},r.pause=function(){this.audioSource.pause()},r.pauseBgm=function(){this.bgmPlayer.pause()},r.stopBgm=function(){this.bgmPlayer.stop()},r.pauseQteBgm=function(){this.qtePlayer.pause},r.stopQteBgm=function(){this.qtePlayer.stop()},r.pauseMenuBgm=function(){this.menuPlayer.pause()},r.stopMenuBgm=function(){this.menuPlayer.stop()},r.pauseLoadingBgm=function(){this.loadingPlayer.pause()},r.stopLoadingBgm=function(){this.loadingPlayer.stop()},r.pauseSplashBgm=function(){this.splashPlayer.pause()},r.stopSplashBgm=function(){this.splashPlayer.stop()},r.pauseAmbient=function(){this.ambientPlayer.pause()},r.stopAmbient=function(){this.ambientPlayer.stop()},r.pauseEndBgm=function(){this.endBgmPlayer.pause},r.stopEndBgm=function(){this.endBgmPlayer.stop()},r.playCollectSound=function(t){this.playOneShot(this.collecSounds[this.collectSoundIdx]),this.collectSoundIdx++,this.collectSoundIdx>=this.collecSounds.length&&(this.collectSoundIdx=0)},r.playHitSound=function(){c("playHitSound"),this.playOneShot(this.qte1_hitSounds[this.qte1_hitSoundIdx]),this.qte1_hitSoundIdx++,this.qte1_hitSoundIdx>=this.qte1_hitSounds.length&&(this.qte1_hitSoundIdx=0)},r.playPassBackpackSound=function(){this.playOneShot(this.passBpSounds[this.passBpSoundIdx]),this.passBpSoundIdx++,this.passBpSoundIdx>=this.passBpSounds.length&&(this.passBpSoundIdx=0)},r.playJumpSound=function(){this.playOneShot(this.jumpSounds[this.jumpSoundIdx]),this.jumpSoundIdx++,this.jumpSoundIdx>=this.jumpSounds.length&&(this.jumpSoundIdx=0)},r.playSlideSound=function(){this.playOneShot(this.slideSounds[this.slideSoundIdx]),this.slideSoundIdx++,this.slideSoundIdx>=this.slideSounds.length&&(this.slideSoundIdx=0)},r.playLandSound=function(){this.playOneShot(this.landSounds[this.landSoundIdx]),this.landSoundIdx++,this.landSoundIdx>=this.landSounds.length&&(this.landSoundIdx=0)},r.playDizzySound=function(){this.playOneShot(this.dizzySounds[this.dizzySoundIdx]),this.dizzySoundIdx++,this.dizzySoundIdx>=this.dizzySounds.length&&(this.dizzySoundIdx=0)},r.playFallHatSFX=function(){this.playOneShot(this.fallHatSounds[this.fallHatIdx]),this.fallHatIdx++,this.fallHatIdx>=this.fallHatSounds.length&&(this.fallHatIdx=0)},r.playFallGroundSFX=function(){this.playOneShot(this.fallGroundSounds[this.fallGroundIdx]),this.fallGroundIdx++,this.fallGroundIdx>=this.fallGroundSounds.length&&(this.fallGroundIdx=0)},r.playThrowHatSFX=function(){this.playOneShot(this.throwHatSounds[this.throwHatIdx]),this.throwHatIdx++,this.throwHatIdx>=this.throwHatSounds.length&&(this.throwHatIdx=0)},r.playCatchHatSFX=function(){this.playOneShot(this.catchHatSounds[this.catchHatIdx]),this.catchHatIdx++,this.catchHatIdx>=this.catchHatSounds.length&&(this.catchHatIdx=0)},r.playReleaseSFX=function(){this.playOneShot(this.releaseSounds[this.releaseIdx]),this.releaseIdx++,this.releaseIdx>=this.releaseSounds.length&&(this.releaseIdx=0)},r.playSnowballSFX=function(){this.playOneShot(this.snowballSounds[this.snowballIdx]),this.snowballIdx++,this.snowballIdx>=this.snowballSounds.length&&(this.snowballIdx=0)},r.playCrowSFX=function(){this.playOneShot(this.crowSounds[this.crowIdx]),this.crowIdx++,this.crowIdx>=this.crowSounds.length&&(this.crowIdx=0)},r.playEagleSFX=function(){this.playOneShot(this.eagleSounds[this.eagleIdx]),this.eagleIdx++,this.eagleIdx>=this.eagleSounds.length&&(this.eagleIdx=0)},r.playTreeTrunkSFX=function(){this.playOneShot(this.treeTrunkSounds[this.treeTrunkIdx]),this.treeTrunkIdx++,this.treeTrunkIdx>=this.treeTrunkSounds.length&&(this.treeTrunkIdx=0)},r.playCoinSFX=function(t){y.IS_SFX_ON&&(this.endscreenSoundPlayer.volume=1,this.endscreenSoundPlayer.loop=t,this.endscreenSoundPlayer.play())},r.stopCoinSFX=function(){this.endscreenSoundPlayer.volume=0,this.endscreenSoundPlayer.stop()},r.playCoinToTwoSfx=function(){this.isCdSfxOnCooldown||(this.isCdSfxOnCooldown=!0,this.coin_duper_sfx_timer=0,this.playOneShot(m.COIN_TO_TWO))},r.update=function(t){this.isMenuFadedOut&&(this.menuFadeTimer>0&&(this.menuFadeTimer-=.1*t,this.menuPlayer.volume=this.menuFadeTimer/this.MENU_FADE_DURATION),this.menuFadeTimer<=0&&(this.menuPlayer.volume=0,this.stopMenuBgm(),this.isMenuFadedOut=!1)),this.isFadedOut&&(this.fadeTimer>0&&(this.fadeTimer-=.1*t,this.bgmPlayer.volume=this.fadeTimer/this.FADE_DURATION),this.fadeTimer<=0&&(this.bgmPlayer.volume=0,this.stopBgm(),this.isFadedOut=!1)),this.isQteFadeOut&&(this.qteFadeTimer>0&&(this.qteFadeTimer-=.1*t,this.qtePlayer.volume=this.qteFadeTimer/this.QTE_FADE_DURATION),this.qteFadeTimer<=0&&(this.qtePlayer.volume=0,this.stopQteBgm(),this.isQteFadeOut=!1)),this.isCdSfxOnCooldown&&(this.coin_duper_sfx_timer+=t,this.coin_duper_sfx_timer>=this.COIN_DUPER_SFX_DURATION&&(this.isCdSfxOnCooldown=!1,this.coin_duper_sfx_timer=0))},e}(S)).Instance=null,M=e((E=R).prototype,"listAudio",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(E.prototype,"audioSource",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(E.prototype,"ambientPlayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(E.prototype,"endscreenSoundPlayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"endBgmPlayer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"qtePlayer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"loadingPlayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(E.prototype,"menuPlayer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"splashPlayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(E.prototype,"bgmPlayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=E))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Splash_Editor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Pooling.ts","./BaseLoading.ts","./NetworkManager.ts","./SoundManager.ts","./Splash.ts"],(function(t){"use strict";var e,r,n,s,i,a,c,o,u,p,h,S;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t._decorator},function(t){a=t.EnvironmentType,c=t.default},function(t){o=t.Pooling},function(t){u=t.SplashState},function(t){p=t.NetworkManager},function(t){h=t.SoundManager},function(t){S=t.Splash}],execute:function(){var f;s._RF.push({},"162c1fHL2pPHpE6/RRH2Xqz","Splash_Editor",void 0);var l=i.ccclass;i.property,t("Splash_Editor",l("Splash_Editor")(f=function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.initSignin=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.SetState(u.AGE_GATE),t.abrupt("return",!0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.loadAgeGatePopup=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.SetState(u.ASSETS);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.loadAssets=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S.isNewUser=!1,this.totalSteps=5,this.curStep=0,t.next=5,this.loadCharacters();case 5:return this.curStep++,this.curStepProgress=0,t.next=9,h.Instance.init();case 9:return this.curStep++,this.curStepProgress=0,t.next=13,this.loadBotNames();case 13:return this.curStep++,this.curStepProgress=0,t.next=17,o.getInstance().preload(a.TROPICAL);case 17:return this.curStep++,this.curStepProgress=0,t.next=21,o.getInstance().init(a.TROPICAL,!0);case 21:this.curStep++,this.curStepProgress=0,this.SetState(u.SCENE);case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.loadNextScene=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S.isNewUser=!1,this.sceneToLoad=c.SCENE_SEGMENT_EDITOR,t.next=4,this.preloadScene();case 4:return t.next=6,p.Instance.createAIEditor();case 6:this.curStep++,this.curStepProgress=0,this.curStep++,this.curStepProgress=0,this.SetState(u.SCENE_TRANSITION);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(S))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/Splash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./LanguageData.ts","./QRScanRewardManager.ts","./OnlineMgr.ts","./LightUpdateManager.ts","./ErrorPopup.ts","./PersistPopup.ts","./Transition.ts","./BaseLoading.ts","./NetworkManager.ts","./SoundManager.ts","./UserDataManager.ts","./GameHelper.ts","./EventManager.ts","./MainMenuDebug.ts","./SplashDataConflict.ts","./Loading.ts","./TrackingEvents.ts","./TrackingMgr.ts"],(function(e){"use strict";var t,n,a,r,s,o,i,c,u,p,h,l,d,S,f,g,w,I,P,E,v,A,C,T,_,b,N,x,L,U,k,y,G,m,R,M,D,O,B,F,H,K,Q,V,z,W,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,p=e.Label,h=e.Node,l=e.log,d=e.input,S=e.Input,f=e.Animation,g=e.resources,w=e.instantiate},function(e){I=e.language},function(e){P=e.default,E=e.EDeviceprofile,v=e.AudioSrc,A=e.SaveDataNames,C=e.SIGNIN_METHOD_NAMES},function(e){T=e.LanguageData,_=e.LANGUAGE_ID},function(e){b=e.QRScanRewardManager},function(e){N=e.default},function(e){x=e.LightUpdateManager},function(e){L=e.ErrorPopup},function(e){U=e.PersistPopup},function(e){k=e.Transition},function(e){y=e.SplashState,G=e.BaseLoading,m=e.ActionAgeGate,R=e.SplashEventName},function(e){M=e.NetworkManager},function(e){D=e.SoundManager},function(e){O=e.UserDataManager},function(e){B=e.GameHelper},function(e){F=e.default,H=e.MyEvent},function(e){K=e.MainMenuDebug},function(e){Q=e.SplashDataConflict},function(e){V=e.Loading},function(e){z=e.default},function(e){W=e.SnType,X=e.Result}],execute:function(){var Y,J,j,q,Z,$,ee,te,ne,ae;c._RF.push({},"3a424Q99rxMM441PnBzU+J9","Splash",void 0);var re=u.ccclass,se=u.property,oe=e("UI_PREFAB_PERSIST_PATH","prefabs/UI/Persist/"),ie=e("UI_PREFAB_TRANSITION",oe+"Popup Transition"),ce=e("UI_PREFAB_EROR",oe+"Popup Error"),ue=e("UI_PREFAB_MASK",oe+"Popup Mask"),pe=e("UI_PREFAB_LOADING",oe+"Popup Loading"),he=e("UI_PREFAB_VFX",oe+"Popup VFX"),le="prefabs/UI/Splash/Popup CreateName",de="prefabs/UI/Splash/Popup Login",Se="prefabs/UI/Splash/Popup PrivacyPolicy",fe="prefabs/UI/Splash/Popup QR Reward",ge="prefabs/UI/Splash/Popup Data Conflict",we="en",Ie="TmCd";e("Splash",(Y=re("Splash"),J=se(p),j=se(p),q=se(h),Y(((ae=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._popups={},t._loading=null,a(t,"labelVersion",ee,r(t)),a(t,"labelTouch",te,r(t)),a(t,"continueLabelContainer",ne,r(t)),t.siblingIndex=0,t}n(t,e),t.CheckInviteCode=function(){return!(!t.InvitedCode||""==t.InvitedCode)};var c=t.prototype;return c.onLoad=function(){e.prototype.onLoad.call(this),this.labelVersion&&(this.labelVersion.string=window.omsVersion+""),t.instance=this,this.isLowendDevice()||P.CHEAT_LOW_PROFILE||window.isLowEndAndroid?(K.deviceProfile=E.Loend,l("is low end device",window.screen.height,window.screen.width)):l("is hi end device",window.screen.height,window.screen.width),P.CHEAT_IGNORE_TUTORIAL&&(t.isNewUser=!1),this.loadLanguage(),d.on(S.EventType.TOUCH_START,this.onTouchStart,this),this.labelTouch.string=I.t("str_loading").toUpperCase(),this.continueLabelContainer.active=!0,window.IS_DEBUG&&(P.IS_DEBUG=window.IS_DEBUG),console.log("IS_DEBUG",window.IS_DEBUG),P.IS_DEBUG&&(P.CHEAT_USE_KEYBOARD=!0,P.CHEAT_ESC_IN_TUTORIAL=!0);var n=localStorage.getItem("BGM"),a=localStorage.getItem("SFX");n&&(P.IS_BGM_ON="true"==n),a&&(P.IS_SFX_ON="true"==a)},c.onTouchStart=function(e){var t;this.state==y.TOUCH&&(null==(t=D.Instance)||t.playOneShot(v.UI_CLICK),this.SetState(y.AGE_GATE),this.continueLabelContainer.active=!1)},c.isLowendDevice=function(){console.log("width",window.screen.width,"height",window.screen.height,"availWidth",window.screen.availWidth,"availHeight",window.screen.availHeight);if(!!!navigator.userAgent.match(/iPhone/i))return!1;var e=window.screen.height,t=window.screen.width;return 375===t&&667===e||414===t&&736===e},c.SetState=function(e){switch(this.state=e,e){case y.PERSIST_POPUP:this.totalSteps=4,this.curStep=0,this.loadPersistPopup();break;case y.SIGN_IN:this.currSection++,this.totalSteps=3,this.curStep=0,this.initSignin();break;case y.TOUCH:this.continueLabelContainer.getComponent(f).play(),B.isMobile(),this.labelTouch.string=I.t("str_mm_start").toUpperCase();break;case y.AGE_GATE:this.currSection++,this.totalSteps=4,this.curStep=0,this.loadAgeGatePopup();break;case y.ASSETS:this.currSection++,this.totalSteps=1,this.curStep=0,this.loadAssets();break;case y.SCENE:this.currSection++,this.loadNextScene();break;case y.SCENE_TRANSITION:k.loadScene(this.sceneToLoad,this.sceneToLoad!=P.SCENE_MAINMENU)}},c.onAgeGateAction=function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.parameters.action,t.parameters.data,e.t0=n,e.next=e.t0===m.PRIVACY?5:e.t0===m.LOGIN?9:e.t0===m.LOAD_PROFILE?12:e.t0===m.CREATE_NAME?14:e.t0===m.QR_REWARD?18:22;break;case 5:return this.hidePopup(Se),O.setUserDataKey(A.TOU_PP,!0),this.loadAgeGatePopup(),e.abrupt("break",22);case 9:return this.hidePopup(de),this.loadAgeGatePopup(),e.abrupt("break",22);case 12:return this.loadAgeGatePopup(),e.abrupt("break",22);case 14:return this.hidePopup(le),e.next=17,this.loadAgeGatePopup();case 17:return e.abrupt("break",22);case 18:return this.hidePopup(fe),e.next=21,this.loadAgeGatePopup();case 21:return e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.loadAgeGatePopup=function(){var e=o(i().mark((function e(){var n,a,r,s,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=N.isLocalLan(),a=O.getLocalDataKey(A.TOU_PP),r=N.isLogin()||n,s=N.hasProfile()||n,o=N.hasUserName()||n,a&&0!=a){e.next=11;break}return e.next=8,this.loadPopup(Se);case 8:this.showPopup(Se,this.node),e.next=45;break;case 11:if(r){e.next=17;break}return e.next=14,this.loadPopup(de);case 14:this.showPopup(de,this.node),e.next=45;break;case 17:if(s){e.next=26;break}return e.next=20,this.getClientProfileNGameServer();case 20:N.hasProfile()&&(N.signInMethod&&!window.sn_type&&(window.sn_type=this.getSnTypeBySignInMethod(N.signInMethod)),z.Send_CONNECT_TO_SOCIAL_NETWORK(X.SUCCESS,window.sn_type,window.sn_time_spent,"")),t.isNewUser=!O.Instance.tutorialData.welcomeTutorial&&!P.CHEAT_IGNORE_TUTORIAL,l("Splash.isNewUser",t.isNewUser),F.GetInstance().dispatchEvent(new H(R.AGE_GATE,{action:m.LOAD_PROFILE})),e.next=45;break;case 26:if(o){e.next=32;break}return e.next=29,this.loadPopup(le);case 29:this.showPopup(le,this.node),e.next=45;break;case 32:if(!b.checkQRCodeAndGenerateReward(b.ScannedQRCode)){e.next=44;break}return this.curStepProgress=.25,e.next=36,this.loadPopup(fe);case 36:this.curStepProgress=.5,c=this.showPopup(fe,this.node),this.curStepProgress=.75,c.getComponent(b).show(),this.curStep++,this.curStepProgress=0,e.next=45;break;case 44:this.SetState(y.ASSETS);case 45:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.loadPersistPopup=function(){var t=o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.loadPersistPopup.call(this),t.next=3,this.loadPopup(pe);case 3:return this.showPopup(pe,U.Instance.node),t.next=6,this.loadPopup(ce);case 6:return this.showPopup(ce,U.Instance.node),t.next=9,this.loadPopup(he);case 9:return this.showPopup(he,U.Instance.node),t.next=12,this.loadPopup(ie);case 12:return this.showPopup(ie,U.Instance.node),t.next=15,this.loadPopup(ue);case 15:return this.showPopup(ue,U.Instance.node),t.next=18,D.Instance.initSplash();case 18:P.CHEAT_IGNORE_LOGIN?(this.SetState(y.ASSETS),this.currSection+=2):this.SetState(y.SIGN_IN);case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.loadAssets=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sceneToLoad=this.getSceneNameToLoad(),this.sceneToLoad!=P.SCENE_MAINMENU||t.CheckInviteCode()){e.next=6;break}return e.next=4,k.show(!1);case 4:e.next=8;break;case 6:return e.next=8,k.show(!0);case 8:return e.next=10,this.loadCharacters();case 10:return this.curStep++,this.curStepProgress=0,e.next=14,D.Instance.init();case 14:return this.curStep++,this.curStepProgress=0,e.next=18,this.loadCredits();case 18:return this.curStep++,this.curStepProgress=0,e.next=22,this.loadBotNames();case 22:this.curStep++,this.curStepProgress=0,this.SetState(y.SCENE);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.loadNextScene=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNewUser&&!t.CheckInviteCode()?this.loadSceneTutorial():this.loadSceneMainMenu();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.getSceneNameToLoad=function(){return t.isNewUser&&!t.CheckInviteCode()?P.SCENE_RUNNING:P.SCENE_MAINMENU},c.loadSceneMainMenu=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.totalSteps=1,this.curStep=0,this.sceneToLoad=this.getSceneNameToLoad(),e.next=5,this.preloadScene();case 5:this.curStep++,this.curStepProgress=0,this.SetState(y.SCENE_TRANSITION);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.loadSceneTutorial=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.totalSteps=4,this.curStep=0,this.sceneToLoad=this.getSceneNameToLoad(),e.next=5,this.preloadScene();case 5:return this.curStep++,this.curStepProgress=0,e.next=9,M.Instance.createTutorialLocal();case 9:this.curStep++,this.curStepProgress=0,this.SetState(y.SCENE_TRANSITION);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.init=function(){e.prototype.init.call(this);var n=window.ScannedQRCode,a=window.TimeQRCode,r=O.getLocalDataKey(Ie);a&&""!=a&&a!=r&&n&&(b.ScannedQRCode=n,l("Splash","QRCode",b.ScannedQRCode,"TimeCode",a),O.setUserDataKey(Ie,a)),t.InvitedCode=window.InvitedCode,l("Splash","InvitedCode",t.InvitedCode),window.InvitedCode="",x.Init=!0},c.onDestroy=function(){e.prototype.onDestroy.call(this),t.instance=null},c.loadPopup=function(e){var t=this;return new Promise((function(n){g.load(e,(function(a,r){a?l("Load Popup Error",e):(l("Loaded Popup",e),t._popups[e]={prefab:r,instance:null}),n()}))}))},c.showPopup=function(e,t){var n=this._popups[e];if(!n&&!n.prefab)return null;if(!n.instance){n.instance=w(n.prefab),n.instance.active=!0,n.instance.setParent(t);var a=n.instance.getComponent(f);a&&a.clips.length>0&&a.play("popup_show")}return n.instance},c.hidePopup=function(e){var t=this._popups[e];t&&t.instance&&(t.instance.active=!1)},c.initSignin=function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!N.isNewUser()&&!N.isLocalLan()){e.next=5;break}l("CASE 1 : NEW USER"),e.next=25;break;case 5:if(N.signInMethod!=C.Anonymous){e.next=14;break}return l("CASE 2 : ANONYMOUS REPLAY"),e.next=9,N.init();case 9:return e.next=11,N.RefreshAnonAccessToken();case 11:t=e.sent,e.next=25;break;case 14:if(N.signInMethod!=C.Facebook&&N.signInMethod!=C.Google){e.next=25;break}if(!N.isTokenExpired()){e.next=19;break}l("CASE 4 : GG/FB TOKEN EXPIRED"),e.next=25;break;case 19:return l("CASE 3 : GG/FB REPLAY"),e.next=22,N.init();case 22:return e.next=24,N.RefreshCognitoAccessToken();case 24:t=e.sent;case 25:return this.SetState(y.TOUCH),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.getClientProfileNGameServer=function(){var e=o(i().mark((function e(){var t,n,a,r,s,o,c,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.GetClientProfile();case 2:if(!(t=e.sent)){e.next=10;break}return e.next=6,L.Instance.processError(t);case 6:e.sent&&N.logout(),e.next=58;break;case 10:return n=N.gameSave,a=N.inventory,e.next=14,O.Instance.loadLocalInventories();case 14:if(r=e.sent,N.signInMethod!=C.Facebook&&N.signInMethod!=C.Google){e.next=49;break}if(s=!1,!r){e.next=38;break}return s=!0,o=JSON.parse(r[A.UserData]),e.next=22,O.getLocalConflictData(r);case 22:return c=e.sent,console.log("local conflict data",c),e.next=26,O.getCloudConflictData(N.gameSave,N.inventory);case 26:return u=e.sent,console.log("cloud conflict data",u),e.next=30,this.loadPopup(ge);case 30:return p=this.showPopup(ge,this.node),e.next=33,p.getComponent(Q).processDataSave(u,c);case 33:(s=e.sent)?(n=o,a=r):(n=N.gameSave,a=N.inventory),console.log(s?"Use Local":"Use Cloud"),V.Instance.show(),this.hidePopup(ge);case 38:if(O.Instance.loadUserData(n),O.Instance.loadInventory(a),!s){e.next=45;break}return e.next=43,O.Instance.saveUserData();case 43:return e.next=45,O.Instance.saveAllInventory();case 45:O.setUserDataKey(A.LOCAL_DATA_SAVE,""),V.Instance.node.active&&V.Instance.hide(),e.next=51;break;case 49:O.Instance.loadUserData(N.gameSave),O.Instance.loadInventory(N.inventory);case 51:return e.next=53,N.GetGameServer();case 53:return t=e.sent,e.next=56,L.Instance.processError(t);case 56:e.sent&&N.logout();case 58:return e.abrupt("return",t);case 59:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.checkExistLanguage=function(e){var t=!1;return _.forEach((function(n){n===e&&(t=!0)})),t},c.findBestMatch=function(e){if(this.checkExistLanguage(e))return e;var t=e.split("-")[0];return this.checkExistLanguage(t)?t:null},c.loadLanguage=function(){var e=we;try{var t=O.getLocalDataKey(A.LANGUAGE),n=t?JSON.parse(t):null;e=n,null!=n?e=this.findBestMatch(e)||we:(e=this.getBrowserLanguage(),e=this.findBestMatch(e)||we,O.setUserDataKey(A.LANGUAGE,JSON.stringify(e)))}catch(e){console.error(e)}I.setLanguage(e,T)},c.getBrowserLanguage=function(){return navigator.language||navigator.userLanguage},c.getSnTypeBySignInMethod=function(e){""!=e&&null!=e||console.log("no sn method found!");var t=W.GUEST;switch(e){case C.Anonymous:t=W.GUEST;break;case C.Facebook:t=W.FACEBOOK;break;case C.Google:t=W.GOOGLE}return t},c.update=function(t){e.prototype.update.call(this,t),window.gTotalTimeSpent>0&&(window.gTotalTimeSpent+=t)},s(t,null,[{key:"isNewUser",get:function(){return this._isNewUser},set:function(e){this._isNewUser=e}}]),t}(G)).instance=null,ae.InvitedCode="",ae._isNewUser=!0,ee=t(($=ae).prototype,"labelVersion",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t($.prototype,"labelTouch",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"continueLabelContainer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));c._RF.pop()}}}));

System.register("chunks:///_virtual/SplashCreateUsername.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./BaseLoading.ts","./EventManager.ts","./SoundManager.ts","./OnlineMgr.ts","./ErrorPopup.ts","./Loading.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,c,u,l,h,p,f,d,g,m,_,b,C,E,y,x,L,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.EditBox,l=e.Label,h=e.Button,p=e.Sprite,f=e.Component,d=e.director},function(e){g=e.language},function(e){m=e.default,_=e.AudioSrc},function(e){b=e.SplashEventName,C=e.ActionAgeGate},function(e){E=e.default,y=e.MyEvent},function(e){x=e.SoundManager},function(e){L=e.default},function(e){v=e.ErrorPopup},function(e){S=e.Loading}],execute:function(){var k,A,B,I,M,U,w,N,T;s._RF.push({},"2829a6SeFpMypCypcLK1WDv","SplashCreateUsername",void 0);var z=c.ccclass,D=c.property;e("SplashCreateUsername",(k=z("SplashCreateUsername"),A=D(u),B=D(l),I=D(h),k((w=t((U=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"usernameEditbox",w,a(t)),r(t,"errorLabel",N,a(t)),r(t,"checkButton",T,a(t)),t._nameCreated=!1,t._nameCreating=!1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.usernameEditbox.placeholder=g.t("str_select_name"),this.onTextChanged()},s.onCreateButtonClicked=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=x.Instance)||t.playOneShot(_.UI_CLICK),this.onTextChanged()){e.next=3;break}return e.abrupt("return");case 3:if(!this._nameCreating&&!this._nameCreated){e.next=5;break}return e.abrupt("return");case 5:return this._nameCreating=!0,this._nameCreated=!1,S.Instance.show(),e.next=10,L.UpdateUsername(this.usernameEditbox.string);case 10:if(!(n=e.sent)){e.next=19;break}return S.Instance.hide(),e.next=15,v.Instance.processError(n);case 15:e.sent&&(L.logout(),d.loadScene(m.SCENE_SPLASH)),e.next=22;break;case 19:this._nameCreated=!0,S.Instance.hide(),E.GetInstance().dispatchEvent(new y(b.AGE_GATE,{action:C.CREATE_NAME}));case 22:this._nameCreating=!1;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onTextChanged=function(){var e=this.checkUserName(this.usernameEditbox.string);return this.errorLabel.string=""==this.usernameEditbox.string?"":e,this.checkButton.interactable=""==e,this.checkButton.getComponent(p).grayscale=""!=e,""==e},s.checkUserName=function(e){if(m.CHEAT_DISABLE_CHECK_NAME)return"";var t=this.onlyLetters(e);return t?(t=this.countNumber(e))?(t=this.checkLength(e))?"":g.t("str_select_name_error4"):g.t("str_select_name_error3"):g.t("str_select_name_error1")},s.checkLength=function(e){return e.length>=4&&e.length<=12},s.countNumber=function(e){return e.slice().replace(/[^0-9]/g,"").length<=7},s.onlyLetters=function(e){return/^[a-zA-Z0-9\s._]+$/.test(e)},t}(f)).prototype,"usernameEditbox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"errorLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(U.prototype,"checkButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=U))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/SplashDataConflict.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./SplashDataConflictSaveItem.ts"],(function(t){"use strict";var n,i,e,o,a,l,r,c,u,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.color,c=t.Component},function(t){u=t.language},function(t){s=t.SplashDataConflictSaveItem}],execute:function(){var p,f,h,m,v,D,S;a._RF.push({},"eb873ouzFtNioo76QLkURtQ","SplashDataConflict",void 0);var d=l.ccclass,g=l.property;t("SplashDataConflict",(p=d("SplashDataConflict"),f=g(s),h=g(s),p((D=n((v=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a))||this,e(n,"itemCloud",D,o(n)),e(n,"itemLocal",S,o(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){this.processDataSave(null,null)},a.processDataSave=function(t,n){var i=this;return new Promise((function(e){i.itemCloud.init(u.t("str_login_conflict_cloud"),t,r(0,171,237,255),(function(){e(!1)})),i.itemLocal.init(u.t("str_login_conflict_local"),n,r(171,76,118,255),(function(){e(!0)}))}))},n}(c)).prototype,"itemCloud",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(v.prototype,"itemLocal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/SplashDataConflictSaveItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(t){"use strict";var e,i,l,n,r,o,c,a,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.Label,a=t.color,s=t.Component},function(t){u=t.language}],execute:function(){var b,h,p,g,f,y,_,m,v,C,S,w,z,d,A,E,H,k,D,I,T;r._RF.push({},"840b3CSNZdEt57Dw+wB/nIl","SplashDataConflictSaveItem",void 0);var B=o.ccclass,L=o.property;t("SplashDataConflictSaveItem",(b=B("SplashDataConflictSaveItem"),h=L(c),p=L(c),g=L(c),f=L(c),y=L(c),_=L(c),m=L(c),v=L(c),C=L(c),b((z=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,l(e,"labelTitle",z,n(e)),l(e,"titleHighScore",d,n(e)),l(e,"titleCoin",A,n(e)),l(e,"titleAccessory",E,n(e)),l(e,"titleEnvironment",H,n(e)),l(e,"labelHighScore",k,n(e)),l(e,"labelCoin",D,n(e)),l(e,"labelAccessory",I,n(e)),l(e,"labelEnvironment",T,n(e)),e._titleColor=a(114,62,9,255),e._callback=null,e}i(e,t);var r=e.prototype;return r.init=function(t,e,i,l){this.labelTitle.string=t,this.labelTitle.color=i,this.titleHighScore.string=u.t("str_login_conflict_highscore").replace("{}",""),this.titleHighScore.color=this._titleColor,this.labelHighScore.string=e?e.highscore:"0",this.labelHighScore.color=i,this.titleCoin.string=u.t("str_login_conflict_coins").replace("{}",""),this.titleCoin.color=this._titleColor,this.labelCoin.string=e?e.coin:"0",this.labelCoin.color=i,this.titleAccessory.string=u.t("str_login_conflict_accessories").replace("{}",""),this.titleAccessory.color=this._titleColor,this.labelAccessory.string=e?e.accessoriesUnlocked:"0",this.labelAccessory.color=i,this.titleEnvironment.string=u.t("str_login_conflict_env").replace("{}",""),this.titleEnvironment.color=this._titleColor,this.labelEnvironment.string=e?e.environmentUnlocked+1:"1",this.labelEnvironment.color=i,this._callback=l},r.onUseButtonClicked=function(){this._callback&&this._callback()},e}(s)).prototype,"labelTitle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(w.prototype,"titleHighScore",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"titleCoin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"titleAccessory",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"titleEnvironment",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"labelHighScore",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"labelCoin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"labelAccessory",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"labelEnvironment",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SplashLogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./BaseLoading.ts","./EventManager.ts","./MainMenuManager.ts","./SoundManager.ts","./OnlineMgr.ts","./TrackingEvents.ts","./TrackingMgr.ts","./ErrorPopup.ts","./Loading.ts"],(function(n){"use strict";var e,t,o,i,s,a,c,r,u,g,p,d,l,_,h,I,E,S,f,L,w,m,N,A,b,M,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,s=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,r=n._decorator,u=n.EditBox,g=n.Node,p=n.director,d=n.Component},function(n){l=n.default,_=n.AudioSrc,h=n.SIGNIN_METHOD_NAMES},function(n){I=n.SplashEventName,E=n.ActionAgeGate},function(n){S=n.default,f=n.MyEvent},function(n){L=n.MainMenuManager},function(n){w=n.SoundManager},function(n){m=n.default},function(n){N=n.default},function(n){A=n.SnType,b=n.Result},function(n){M=n.ErrorPopup},function(n){v=n.Loading}],execute:function(){var C,G,y,T,O,k,x;c._RF.push({},"eff1achEO9Cwq7WAs2/Euk/","SplashLogin",void 0);var U=r.ccclass,F=r.property;n("SplashLogin",(C=U("SplashLogin"),G=F(u),y=F(g),C((k=e((O=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,o(e,"m_boxCode",k,i(e)),o(e,"bg",x,i(e)),e._popupWindow=null,e._isLoggedIn=!1,e._isLoggingIn=!1,e._tempLoginMedthod="",e}t(e,n);var c=e.prototype;return c.onEnable=function(){p.getScene().name==l.SCENE_SPLASH?this.bg.active=!1:this.bg.active=!0,window.sn_type=A.GUEST,window.sn_time_spent=0},c.start=function(){var n=this;this.m_boxCode.node.active=window.location.host.includes("localhost"),window.addEventListener("message",(function(e){e&&e.data&&"sns-login-code"==e.data.command&&""!=e.data.code&&n._popupWindow&&(n._popupWindow.close(),n.onSnsLogin(e.data.code))}))},c.update=function(n){this._isLoggingIn&&!this._isLoggedIn&&(window.sn_time_spent+=n)},c.onSnsLogin=function(){var n=s(a().mark((function n(e){var t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.init();case 2:return n.next=4,m.RequestAccessToken(!0,e);case 4:if(t=n.sent){n.next=13;break}m.signInMethod=this._tempLoginMedthod,v.Instance.hide(),S.GetInstance().dispatchEvent(new f(I.AGE_GATE,{action:E.LOGIN})),p.getScene().name==l.SCENE_MAINMENU&&L.Instance.backToSplash(),this._isLoggedIn=!0,n.next=19;break;case 13:return n.next=15,M.Instance.processError(t);case 15:n.sent,o="N/A",t&&t.error&&(o=t.error),N.Send_CONNECT_TO_SOCIAL_NETWORK(b.FAIL,window.sn_type,window.sn_time_spent,o);case 19:this._isLoggingIn=!1;case 20:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),c.onFacebookSignin=function(){var n;null==(n=w.Instance)||n.playOneShot(_.UI_CLICK),this._tempLoginMedthod=h.Facebook,this._popupWindow=m.goSignIn(h.Facebook,this.m_boxCode.string),this._isLoggingIn=!0,window.sn_type=A.FACEBOOK},c.onGoogleSignin=function(){var n;null==(n=w.Instance)||n.playOneShot(_.UI_CLICK),this._tempLoginMedthod=h.Google,this._popupWindow=m.goSignIn(h.Google,this.m_boxCode.string),this._isLoggingIn=!0,window.sn_type=A.GOOGLE},c.onGuestSignin=function(){var n=s(a().mark((function n(){var e,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(e=w.Instance)||e.playOneShot(_.UI_CLICK),window.sn_type=A.GUEST,!m.isLocalLan()){n.next=9;break}return console.log("is local lan"),v.Instance.hide(),S.GetInstance().dispatchEvent(new f(I.AGE_GATE,{action:E.LOGIN})),p.getScene().name==l.SCENE_MAINMENU&&L.Instance.backToSplash(),this._isLoggedIn=!0,n.abrupt("return");case 9:return this._isLoggingIn=!0,v.Instance.show(),n.next=13,m.init();case 13:if(!n.sent){n.next=21;break}return n.next=17,m.RequestAccessToken(!1);case 17:(t=n.sent)?(M.Instance.show(t.message,!0,(function(){M.Instance.hide()})),o="N/A",t&&t.message&&(o=t.message),N.Send_CONNECT_TO_SOCIAL_NETWORK(b.FAIL,window.sn_type,window.sn_time_spent,o)):(m.signInMethod=h.Anonymous,v.Instance.hide(),S.GetInstance().dispatchEvent(new f(I.AGE_GATE,{action:E.LOGIN})),p.getScene().name==l.SCENE_SPLASH||p.getScene().name==l.SCENE_MAINMENU&&L.Instance.backToSplash(),this._isLoggedIn=!0),n.next=22;break;case 21:m.isLocalLan()&&(v.Instance.hide(),S.GetInstance().dispatchEvent(new f(I.AGE_GATE,{action:E.LOGIN})),p.getScene().name==l.SCENE_SPLASH||p.getScene().name==l.SCENE_MAINMENU&&L.Instance.backToSplash(),this._isLoggedIn=!0);case 22:this._isLoggingIn=!1;case 23:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e}(d)).prototype,"m_boxCode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=O))||T));c._RF.pop()}}}));

System.register("chunks:///_virtual/SplashMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,s,o,a,c,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Sprite,c=t.size,p=t.UITransform,l=t.Component}],execute:function(){var u,f,h,y,d;s._RF.push({},"ef480nqcZVMqrssuiJNdTPL","SplashMask",void 0);var v=o.ccclass,z=o.property;t("SplashMask",(u=v("SplashMask"),f=z(a),u((d=e((y=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"spriteBG",d,n(e)),e._size=c(0,0),e}r(e,t);var s=e.prototype;return s.onLoad=function(){this._size=this.getComponent(p).contentSize},s.start=function(){},e}(l)).prototype,"spriteBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/SplashPrivacy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameHelper.ts","./BaseLoading.ts","./EventManager.ts","./SoundManager.ts"],(function(t){"use strict";var n,e,i,o,r,c,a,s,u,l,p,f,h,y,v,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.RichText,s=t.Component},function(t){u=t.language},function(t){l=t.AudioSrc},function(t){p=t.GameHelper},function(t){f=t.SplashEventName,h=t.ActionAgeGate},function(t){y=t.default,v=t.MyEvent},function(t){g=t.SoundManager}],execute:function(){var P,d,S,T,A,R,_;r._RF.push({},"3b8d05oGAhOGKMZe/NC1kzp","SplashPrivacy",void 0);var m=c.ccclass,b=c.property;t("SplashPrivacy",(P=m("SplashPrivacy"),d=b(a),S=b(a),P((R=n((A=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,i(n,"ToSRichText",R,o(n)),i(n,"PPRichText",_,o(n)),n}e(n,t);var r=n.prototype;return r.onAcceptButtonClicked=function(){g.Instance.playOneShot(l.UI_CLICK),y.GetInstance().dispatchEvent(new v(f.AGE_GATE,{action:h.PRIVACY}))},r.onLoad=function(){this.ToSRichText.string="<u><color=#01ADED>"+u.t("str_settings_term")+"</color><u>",this.PPRichText.string="<u><color=#01ADED>"+u.t("str_settings_privacy")+"</color><u>"},r.onTermofService=function(){p.OpenToU()},r.onPrivacyPolicy=function(){p.OpenPP()},n}(s)).prototype,"ToSRichText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(A.prototype,"PPRichText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=A))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SplashStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Splash.ts"],(function(t){"use strict";var r,n,e,a,i,o,c,l,s;return{setters:[function(t){r=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,c=t.Button,l=t.Component},function(t){s=t.Splash}],execute:function(){var u,p,S,h,f;i._RF.push({},"ca28aIFiDJHSpIoDaWxPXhP","SplashStart",void 0);var y=o.ccclass,b=o.property;t("SplashStart",(u=y("SplashStart"),p=b(c),u((f=r((h=function(t){function r(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,e(r,"buttonStart",f,a(r)),r}return n(r,t),r.prototype.onStartButtonClicked=function(){this.buttonStart.interactable=!1,s.instance.OnStartButtonClicked()},r}(l)).prototype,"buttonStart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=h))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteAspectRatio.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o,p,c,s,a,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,p=e._decorator,c=e.Enum,s=e.Sprite,a=e.UITransform,h=e.Size,u=e.Component}],execute:function(){var l,f,y,g,T;o._RF.push({},"b28a8s5b65IH7f4X7jPZPmT","SpriteAspectRatio",void 0);var d=p.ccclass,m=p.property,w=e("AspectType",c({WIDTH:0,HEIGHT:1}));e("SpriteAspectRatio",(l=d("SpriteAspectRatio"),f=m({type:w}),l((T=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),p=0;p<i;p++)o[p]=arguments[p];return t=e.call.apply(e,[this].concat(o))||this,r(t,"aspectType",T,n(t)),t}return i(t,e),t.prototype.Resize=function(){var e=this.getComponent(s),t=this.getComponent(a),i=new h(e.spriteFrame.rect.width,e.spriteFrame.rect.height),r=t.contentSize;if(this.aspectType==w.WIDTH){var n=r.width/i.width,o=i.height*n;t.contentSize=new h(r.width,o)}else{var p=r.height/i.height,c=i.width*p;t.contentSize=new h(c,r.height)}},t}(u)).prototype,"aspectType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.WIDTH}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Stamper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VFXPool.ts","./Powerup.ts"],(function(t){"use strict";var e,o,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){n=t.VFX_PLAYER},function(t){c=t.Powerup}],execute:function(){var u;o._RF.push({},"8f4bc/GupFFsaYWEN+4BqYG","Stamper",void 0);var s=r.ccclass;r.property,t("Stamper",s("Stamper")(u=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.onLoad=function(){this.collectVFXType=n.STAMPER_COLLECT},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OnlineMgr.ts"],(function(n){"use strict";var o,e,t,i,r,a,s,c,l,u,d,p,g,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createForOfIteratorHelperLoose,a=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){c=n.cclegacy,l=n._decorator,u=n.EditBox,d=n.Node,p=n.Component},function(n){g=n.SIGNIN_METHOD_NAMES},function(n){f=n.default}],execute:function(){var h,w,m,b,S,v,_;c._RF.push({},"6d7a9j8Qz9Oz4Jp5435TSbX","Start",void 0);var x=l.ccclass,k=l.property,y="sns-login-code";n("Start",(h=x("Start"),w=k(u),m=k(d),h((v=o((S=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(o=n.call.apply(n,[this].concat(r))||this)._popupWindow=null,t(o,"m_boxCode",v,i(o)),t(o,"m_loading",_,i(o)),o._tempLoginMedthod="",o}e(o,n);var c=o.prototype;return c.onLoad=function(){},c.checkSignIn=function(){var n=a(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!f.isNewUser()){n.next=5;break}console.log("CASE 1 : NEW USER"),this.m_loading.active=!1,n.next=21;break;case 5:if(f.signInMethod!=g.Anonymous){n.next=11;break}return console.log("CASE 2 : ANONYMOUS REPLAY"),n.next=9,this.onGuestSignin();case 9:n.next=21;break;case 11:if(f.signInMethod!=g.Facebook&&f.signInMethod!=g.Google){n.next=21;break}if(!f.isTokenExpired()){n.next=17;break}console.log("CASE 4 : GG/FB TOKEN EXPIRED"),this.m_loading.active=!1,n.next=21;break;case 17:return console.log("CASE 3 : GG/FB REPLAY"),this.m_loading.active=!0,n.next=21,f.init();case 21:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.start=function(){var n=this;this.checkSignIn();var o=window.location.origin,e=window.location.host;(e.includes("alpha")||e.startsWith("beta"))&&(o="*"),console.log("targetOrigin",o),console.log("host",e),this.m_boxCode.node.active=window.location.host.includes("localhost");var t=window.location.href.includes("?code="),i=window.location.href.split("?")[1];if(t&&i)for(var a,s=new URLSearchParams(i),c=r(s.entries());!(a=c()).done;){var l=a.value;console.log("Key is: "+l[0]),console.log("Value is: "+l[1]),"code"==l[0]&&(window.opener?window.opener.postMessage({command:y,code:l[1]},o):console.log("window.opener null"))}window.addEventListener("message",(function(o){o&&o.data&&o.data.command==y&&(n._popupWindow&&n._popupWindow.close(),n.onSnsLogin(o.data.code))}))},c.onSnsLogin=function(){var n=a(s().mark((function n(o){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(o){return n.apply(this,arguments)}}(),c.onFacebookSignin=function(){this._tempLoginMedthod=g.Facebook,this._popupWindow=f.goSignIn(g.Facebook,this.m_boxCode.string)},c.onGoogleSignin=function(){this._tempLoginMedthod=g.Google,this._popupWindow=f.goSignIn(g.Google,this.m_boxCode.string)},c.onGuestSignin=function(){var n=a(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o}(p)).prototype,"m_boxCode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=o(S.prototype,"m_loading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/Sticker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts","./PopupGameOver.ts","./SpriteAspectRatio.ts"],(function(t){"use strict";var e,n,i,o,r,a,c,s,l,u,p,h,d,f,b,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Sprite,s=t.Node,l=t.Button,u=t.UITransform,p=t.Component},function(t){h=t.ActionPhoto,d=t.AudioSrc},function(t){f=t.SoundManager},function(t){b=t.PopupGameOver},function(t){S=t.SpriteAspectRatio}],execute:function(){var m,g,y,v,I,D,x,C,R,k,A;r._RF.push({},"8f6f4MjbGhO6a3xiMlvnODS","Sticker",void 0);var O=a.ccclass,z=a.property;t("Sticker",(m=O("Sticker"),g=z(c),y=z(s),v=z(s),I=z(s),m((C=e((x=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"icon",C,o(e)),i(e,"border",R,o(e)),i(e,"buttonScale",k,o(e)),i(e,"buttonRotate",A,o(e)),e.index=0,e.textId=0,e.isDecoration=void 0,e.sticker_name="",e}n(e,t);var r=e.prototype;return r.start=function(){this.icon.node.getComponent(S).Resize()},r.SetInformation=function(t,e,n,i){this.textId=t,this.index=e,this.isDecoration=i,this.sticker_name=n.name,this.icon.spriteFrame=n,this.isDecoration&&(this.getComponent(l).enabled=!1)},r.SetSelect=function(t){this.border.active=t},r.GetControlType=function(t){return console.log(t),this.buttonScale.getComponent(u).isHit(t)?0:this.buttonRotate.getComponent(u).isHit(t)?1:this.icon.node.getComponent(u).isHit(t)?2:-1},r.OnDelete=function(){b.Instance.onPhotoAction({action:h.REMOVE,data:{index:this.index}})},r.OnClick=function(){this.isDecoration||(f.Instance.playOneShot(d.UI_STICKER),b.Instance.onPhotoAction({action:h.ADD,data:{textId:this.textId}}))},e}(p)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(x.prototype,"border",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(x.prototype,"buttonScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(x.prototype,"buttonRotate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=x))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/StickerSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,c,a,l,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Layout,l=e.Node,u=e.UITransform,s=e.Vec3,p=e.Component}],execute:function(){var h,f,d,y,g,b,m,v,S;o._RF.push({},"11b48zQ0GJJH5QExim6N2jN","StickerSelector",void 0);var w=c.ccclass,z=c.property;e("StickerSelector",(h=w("StickerSelector"),f=z(a),d=z(l),y=z(l),h((m=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"layout",m,r(t)),n(t,"BG",v,r(t)),n(t,"container",S,r(t)),t.menuHeight=void 0,t.isOpen=!1,t}i(t,e);var o=t.prototype;return o.start=function(){this.menuHeight=this.container.getComponent(u).height,this.container.position=new s(0,-this.menuHeight,0),this.scheduleOnce((function(){}),.01)},o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},o.AddPage=function(e){this.layout.node.addChild(e)},t}(p)).prototype,"layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"BG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(b.prototype,"container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/SweepSense.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Powerup.ts"],(function(e){"use strict";var t,n,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator},function(e){s=e.Powerup}],execute:function(){var u;n._RF.push({},"dd543ZSGydIxJI32MIuS3BA","SweepSense",void 0);var c=r.ccclass;r.property,e("SweepSense",c("SweepSense")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Test_Modify_Effect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,o,s,n,u,c,_;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,o=e.Sprite,s=e.input,n=e.Input,u=e.KeyCode,c=e.v2,_=e.Component}],execute:function(){var a;r._RF.push({},"1a787PaoPBKxZIuIwtTTkV3","Test_Modify_Effect",void 0);var p=i.ccclass;i.property,e("Test_Modify_Effect",p("Test_Modify_Effect")(a=function(e){function r(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._sprite=null,t._currTextureSize=50,t}t(r,e);var i=r.prototype;return i.onLoad=function(){this._sprite=this.getComponent(o),s.on(n.EventType.KEY_DOWN,this.onKeyDown,this)},i.onKeyDown=function(e){switch(e.keyCode){case u.ARROW_LEFT:this._currTextureSize-=50,this._sprite.getMaterial(0).setProperty("textureSize",c(this._currTextureSize,this._currTextureSize));break;case u.ARROW_RIGHT:this._currTextureSize+=50,this._sprite.getMaterial(0).setProperty("textureSize",c(this._currTextureSize,this._currTextureSize))}},i.start=function(){},r}(_))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/TestBlackScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterAccessoryCtrl.ts","./Constants.ts","./GameResourceManager.ts","./BackpackAnimCtrl.ts","./CharacterAnimCtrl.ts"],(function(e){"use strict";var n,t,r,a,i,c,o,s,u,l,p,f,d,h,k,v,m,C,y,x,b,A,_;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,l=e.director,p=e.SkeletalAnimation,f=e.Component,d=e.instantiate,h=e.Button},function(e){k=e.CharacterAccessoryCtrl},function(e){v=e.CHARACTER_RIG_NAMES,m=e.PLAYER_CHARACTER,C=e.AccessoryKey},function(e){y=e.GameResourceManager},function(e){x=e.BackpackAnimCtrl},function(e){b=e.CHARACTER_ANIMS,A=e.CHARACTER_ANIM,_=e.CHARACTER_ANIM_CONTEXT}],execute:function(){var w,g,S,T,I,B,R,E,M,H,O;o._RF.push({},"20d6ajeSB1Aza9cz7jxFeO/","TestBlackScene",void 0);var z=s.ccclass,N=s.property;e("TestBlackScene",(w=z("TestBlackScene"),g=N(u),S=N(u),T=N(u),I=N(u),w((E=n((R=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,r(n,"cameraNode",E,a(n)),r(n,"envi1Container",M,a(n)),r(n,"envi2Container",H,a(n)),r(n,"envi3Container",O,a(n)),n._milky=null,n._schoki=null,n}t(n,e);var o=n.prototype;return o.onLoad=function(){},o.loadMilky=function(){var e=i(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Instance.loadCharacterRig(v[m.MILKY]);case 2:n=e.sent,(t=d(n))&&(this.envi1Container.addChild(t),t.setPosition(4,0,0),this._milky=t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadSchoki=function(){var e=i(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Instance.loadCharacterRig(v[m.SCHOKI]);case 2:n=e.sent,(t=d(n))&&(this.envi1Container.addChild(t),t.setPosition(-4,0,0),this._schoki=t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadMilkyAccessory=function(){var e=i(c().mark((function e(){var n,t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={head:C.M_Head_01,body:C.M_Scarf_01,leg:C.M_Shoe_01},(r=null==(n=this._milky)?void 0:n.getComponent(k))&&(r.loadAccessories(t),r.updateAccessories(t));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadSchokiAccessory=function(){var e=i(c().mark((function e(){var n,t,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={head:C.S_Head_04,body:C.S_Scarf_01,leg:C.S_Pant_01},!(r=null==(n=this._schoki)?void 0:n.getComponent(k))){e.next=12;break}e.t0=c().keys(t);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(a=e.t1.value,!r){e.next=9;break}return e.next=9,r.loadAcessory(t[a]);case 9:e.next=4;break;case 11:r.updateAccessories(t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadMilkyBackpack=function(){var e=i(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=null==(n=this._milky)?void 0:n.getComponent(x))){e.next=9;break}return e.next=4,t.loadBackpacks(m.MILKY);case 4:return e.next=6,t.loadQTE();case 6:t.show(!0),t.updateBackpack({parameters:{size:1}}),t.updateQTE({parameters:{qtes:[1,2,3]}});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadSchokiBackpack=function(){var e=i(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=null==(n=this._schoki)?void 0:n.getComponent(x))){e.next=9;break}return e.next=4,t.loadBackpacks(m.SCHOKI);case 4:return e.next=6,t.loadQTE();case 6:t.show(!0),t.updateBackpack({parameters:{size:1}}),t.updateQTE({parameters:{qtes:[1,2,3]}});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadEnvironmentButton=function(){var e=i(c().mark((function e(n,t){var r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Number.parseInt(t),a=1;case 2:if(!(a<=3)){e.next=15;break}i=0;case 4:if(!(i<=2)){e.next=12;break}return e.next=7,y.Instance.loadTile(r,a,i);case 7:n.target.getComponent(h).interactable=!1;case 9:i++,e.next=4;break;case 12:a++,e.next=2;break;case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),o.onEnvironment1Button=function(){var e=i(c().mark((function e(n,t){var r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Number.parseInt(t),a=1;case 2:if(!(a<=3)){e.next=16;break}i=0;case 4:if(!(i<=2)){e.next=13;break}return e.next=7,y.Instance.loadTile(r,a,i);case 7:o=e.sent,(s=d(o))&&(this.envi1Container.addChild(s),s.setPosition(0,0,0));case 10:i++,e.next=4;break;case 13:a++,e.next=2;break;case 16:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),o.onEnvi1ClearButton=function(){this.envi1Container.destroyAllChildren(),y.Instance.reset()},o.reloadScene=function(){l.loadScene("Envi01_2")},o.loadMilkyAnimation=function(){var e=i(c().mark((function e(){var n,t,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_.BLOCKOUT,t=Object.entries(b).filter((function(e){e[0];var t=e[1];return!!(t&&t.context&&t.context.includes(n))})),r=this._milky.getComponent(p),a=c().mark((function e(n){var a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[n][1],e.next=3,y.Instance.loadCharacterAnimation(m.MILKY,a);case 3:i=e.sent,r.clips.find((function(e){return e.name==a.anim}))||r.addClip(i),r.play(a.anim);case 7:case"end":return e.stop()}}),e)})),i=0;case 5:if(!(i<t.length)){e.next=10;break}return e.delegateYield(a(i),"t0",7);case 7:i++,e.next=5;break;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.loadSchokiAnimation=function(){var e=i(c().mark((function e(){var n,t,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_.BLOCKOUT,t=Object.entries(b).filter((function(e){e[0];var t=e[1];return!!(t&&t.context&&t.context.includes(n))})),r=this._schoki.getComponent(p),a=c().mark((function e(n){var a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[n][1],e.next=3,y.Instance.loadCharacterAnimation(m.SCHOKI,a);case 3:i=e.sent,r.addClip(i),r.clips.find((function(e){return e.name==a}))||r.addClip(i),r.play(a.anim);case 8:case"end":return e.stop()}}),e)})),i=0;case 5:if(!(i<t.length)){e.next=10;break}return e.delegateYield(a(i),"t0",7);case 7:i++,e.next=5;break;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.playSchokiAnimation=function(){var e=b[A.FIDGET];this._milky.getComponent(p).play(e.anim)},n}(f)).prototype,"cameraNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(R.prototype,"envi1Container",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(R.prototype,"envi2Container",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(R.prototype,"envi3Container",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestSpeedScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainMenuDebug.ts","./EventManager.ts","./ProfileTile.ts"],(function(e){"use strict";var n,t,i,r,o,c,a,u,s,l,p,f,d,y,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Prefab,u=e.Node,s=e.input,l=e.Input,p=e.KeyCode,f=e.Component},function(e){d=e.MainMenuDebug},function(e){y=e.default,h=e.MyEvent},function(e){v=e.PROFILE_UPDATE}],execute:function(){var T,S,b,P,g,D,E;o._RF.push({},"f3a4czx6GZPH641hl1zdrWj","TestSpeedScene",void 0);var w=c.ccclass,M=c.property;e("TestSpeedScene",(T=w("TestSpeedScene"),S=M(a),b=M(u),T((D=n((g=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,i(n,"prefabs",D,r(n)),i(n,"container",E,r(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){s.on(l.EventType.KEY_DOWN,this.onKeyDown,this),s.on(l.EventType.TOUCH_START,this.onTouchStart,this)},o.onKeyDown=function(e){switch(e.keyCode){case p.BACKSPACE:}},o.onTouchStart=function(e){d.deviceProfile=1-d.deviceProfile,y.GetInstance().dispatchEvent(new h(v,{}))},n}(f)).prototype,"prefabs",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(g.prototype,"container",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/TileObjectRandom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameHelper.ts"],(function(e){"use strict";var t,n,r,o,i,a,c,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Node,s=e.randomRangeInt,l=e.Component},function(e){u=e.GameHelper}],execute:function(){var p,f,d,b,h,m,v;i._RF.push({},"25c41Y2U4lEo6yksOH5xdhA","TileObjectRandom",void 0);var O=a.ccclass,j=a.property;e("TileObjectRandom",(p=O("TileObjectRandom"),f=j(c),d=j(c),p((m=t((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"randomObjects",m,o(t)),r(t,"randomChoose1Objects",v,o(t)),t}return n(t,e),t.prototype.onEnable=function(){var e=this;this.scheduleOnce((function(){e.randomObjects.forEach((function(e){e&&(e.active=0==s(0,2))}));var t=u.shuffle(e.randomChoose1Objects);if(t.length>0){t[0]&&(t[0].active=!0);for(var n=1;n<t.length;n++)t[n]&&(t[n].active=!1)}}),.25)},t}(l)).prototype,"randomObjects",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(h.prototype,"randomChoose1Objects",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=h))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/TipLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./GameHelper.ts"],(function(t){"use strict";var e,i,r,n,a,o,s,l,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,l=t.Component},function(t){p=t.language},function(t){c=t.GameHelper}],execute:function(){var u,f,d,h,L;a._RF.push({},"e67a6dWQq1G/L2oHd63El/Z","TipLoader",void 0);var g=o.ccclass,v=o.property;t("TipLoader",(u=g("TipLoader"),f=v(s),u((L=e((h=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).tipsList=[],r(e,"labelTips",L,n(e)),e}i(e,t);var a=e.prototype;return a.onLoad=function(){for(var t=0;t<22;t++){var e="fact_"+(""+t);this.tipsList.push(e)}},a.onEnable=function(){var t=c.getRndInteger(0,this.tipsList.length),e=p.t(this.tipsList[t]);this.labelTips.string=e},e}(l)).prototype,"labelTips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/TrackingConfig.ts",["cc"],(function(c){"use strict";var i;return{setters:[function(c){i=c.cclegacy}],execute:function(){var n;c("TrackingAction",void 0),i._RF.push({},"8de027kZctI/bg1YDhiTL6L","TrackingConfig",void 0),n||(n=c("TrackingAction",{})),i._RF.pop()}}}));

System.register("chunks:///_virtual/TrackingData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"eec0cjB5tlKD5jQBO+xA2QX","TrackingData",void 0);t("GetTimeSpend",(function(){return void 0===window.GLOBAL_TRACKING_TIME_START&&(window.GLOBAL_TRACKING_TIME_START=Date.now()),null}));e._RF.pop()}}}));

System.register("chunks:///_virtual/TrackingEvents.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrackingMgr.ts"],(function(t){"use strict";var e,n,i,a,o,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.log,o=t.Component},function(t){r=t.default,s=t.TrackingFormat}],execute:function(){var S;n._RF.push({},"a8723obEMtBV4oW/LMRFa/+","TrackingEvents",void 0);var _=i.ccclass,c=(i.property,t("TrackingEvents",_("TrackingEvents")(S=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).time_between_session=0,e.time_spent_visit_screen=-1,e.time_spent_qa_action=-1,e.timeOutScanner=11,e.statusScanner=0,e.isSentFailed=!1,e.timeFailed=0,e.time_spent_mig=-1,e.timeMigSession=30,e.isSentMigSession=!1,e.isSentMigConfirmEngagement=!1,e.time_spent_ar_mode=0,e.numPhotoTaken=0,e.numPhotoSaved=0,e.numPhotoTakenWithMask=0,e.numPhotoSavedWithMask=0,e.connect_error_code="",e.connect_result="",e.connect_type="",e.connect_time_spent=0,e.scan_reference="",e.scan_result="",e.scan_time_spent=0,e.achievement_name="",e.feature="",e.feature_time_spent=0,e.character="",e.map_used="",e.match_type="",e.play_mode="",e.error_code="",e.result="",e.matching_time=0,e.distance=0,e.mission_time_spent=0,e.tutorial_progress="",e.tutorial_action="",e.tutorial_time_spent=0,e.qte_action="",e.qte_name="",e.qte_failed_amount=0,e.qte_success_amount=0,e.qte_time_spent=0,e.item_amount=0,e.item_name="",e.screen="",e.income_source="",e.coin_earned=0,e.coin_spent=0,e.coin_balance=0,e}e(n,t);var i=n.prototype;return i.Init=function(){window.gTotalTimeSpent=0;(new Date).getTime();console.log("==== current time = "+(new Date).getTime()+" ===="),this.time_spent_visit_screen=((new Date).getTime()-window.start_time_loading-window.total_time_interrupt)/1e3,this.time_spent_visit_screen<0&&(this.time_spent_visit_screen=3),console.log("==== time_spent_visit_screen = "+this.time_spent_visit_screen+" ===="),this.SetPackName(window.game_name)},i.SetPackName=function(t){r.SetPackName(t)},i.StartTimeSpentQaAction=function(){this.time_spent_qa_action=0},i.StartTimeSpentMig=function(){this.time_spent_mig=0},i.StartTimeSpentArMode=function(){this.time_spent_ar_mode=0},i.SetARModePhotoTaken=function(){this.numPhotoTaken++},i.SetARModePhotoSaved=function(){this.numPhotoSaved++},i.SetARModePhotoTakenWithMask=function(){this.numPhotoTakenWithMask++},i.SetARModePhotoSavedWithMask=function(){this.numPhotoSavedWithMask++},i.update=function(t){window.gTotalTimeSpent+=t,this.time_spent_visit_screen,this.time_spent_qa_action,this.isSentFailed&&(this.timeFailed>=this.timeOutScanner?(console.log("Sending... QR_ACTION isSentFailed = FALSE"),this.isSentFailed=!1):this.timeFailed+=t),-1!=this.time_spent_mig&&(this.time_spent_mig+=t),-1!=this.time_spent_ar_mode&&(this.time_spent_ar_mode+=t)},i.getDeviceType=function(){var t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"mobile":"desktop"},i.getDeviceName=function(){var t=function(){return navigator.userAgent.match(/Windows/i)},e=function(){return navigator.userAgent.match(/Android/i)},n=function(){return navigator.userAgent.match(/iPhone/i)},i=function(){return navigator.userAgent.match(/iPad/i)};return function(){return navigator.userAgent.match(/Macintosh/i)}()?"MacOS":t()?"Windows":e()?"Android":n()?"Iphone":i()?"Ipad":""},i.getDeviceCountry=function(){return window.country?window.country:Intl.DateTimeFormat().resolvedOptions().locale.split("-")[1]},i.Send_LAUNCH_RESUME=function(){r.SetFormat(s.LAUNCH_RESUME),r.SendEventTracking("","","","")},i.Send_CONNECT_TO_SOCIAL_NETWORK=function(t,e,n,i){a("Sending... CONNECT_TO_SOCIAL_NETWORK"),r.SetFormat(s.CONNECT_TO_SOCIAL_NETWORK),r.SetSocialNetworkParams(t,e,n,i),r.SendEventTracking("","","","")},i.Send_QR_SCAN=function(t,e,n){a("Sending... QR_SCAN"),r.SetFormat(s.QR_SCAN),r.SetQrScanParams(t,e,n),r.SendEventTracking("","","","")},i.Send_ACHIEVEMENT_FINISHED=function(t){a("Sending... ACHIEVEMENT_FINISHED"),r.SetFormat(s.ACHIEVEMENT_FINISHED),r.SetAchievementParams(t),r.SendEventTracking("","","","")},i.Send_FEATURE_FINISHED=function(t,e){a("Sending... FEATURE_FINISHED"),r.SetFormat(s.FEATURE_FINISHED),r.SetFeatureParams(t,e),r.SendEventTracking("","","","")},i.Send_MATCHMAKING_STARTED=function(t,e,n,i){a("Sending... MATCHMAKING_STARTED"),r.SetFormat(s.MATCHMAKING_STARTED),r.SetMatchmakingParams(t,e,n,i),r.SendEventTracking("","","","")},i.Send_MATCHMAKING_FINISHED=function(t,e,n,i,o,S,_){a("Sending... MATCHMAKING_FINISHED"),r.SetFormat(s.MATCHMAKING_FINISHED),r.SetMatchmakingParams(t,e,n,i),r.SetMatchmakingFinishedParams(o,S,_),r.SendEventTracking("","","","")},i.Send_MISSION_STARTED=function(t,e,n,i,o,S,_){a("Sending... MISSION_STARTED"),r.SetFormat(s.MISSION_STARTED),r.SetMatchmakingParams(t,e,n,i),r.SetMissionParams(o,S,_),r.SendEventTracking("","","","")},i.Send_MISSION_FINISHED=function(t,e,n,i,o,S,_,c,m,d,T,u,E,g,I){a("Sending... MISSION_FINISHED"),r.SetFormat(s.MISSION_FINISHED),r.SetMatchmakingParams(t,e,n,i),r.SetMissionParams(m,d,T),r.SetMissionFinishedParams(o,S,_,c,u,E,g,I),r.SendEventTracking("","","","")},i.Send_TUTORIAL_INTERACTION=function(t,e,n){a("Sending... TUTORIAL_INTERACTION"),r.SetFormat(s.TUTORIAL_INTERACTION),r.SetTutorialParams(t,e,n),r.SendEventTracking("","","","")},i.Send_QTE_INTERACTION=function(t,e,n,i,o){a("Sending... QTE_INTERACTION"),r.SetFormat(s.QTE_INTERACTION),r.SetQteParams(t,e,n,i,o),r.SendEventTracking("","","","")},i.Send_CURRENCY_SPENT=function(t,e,n,i,o){a("Sending... CURRENCY_SPENT"),r.SetFormat(s.CURRENCY_SPENT),r.SetCurrencyParams(e,t,n,0,i,o),r.SendEventTracking("","","","")},i.Send_CURRENCY_INCOMES=function(t,e,n,i,o,S){a("Sending... CURRENCY_INCOMES"),r.SetFormat(s.CURRENCY_INCOMES),r.SetCurrencyParams(n,e,i,o,0,S),r.SetIncomeSourceParams(t),r.SendEventTracking("","","","")},i.Send_SELFIE_FINISHED=function(t,e,n){a("Sending... SELFIE_FINISHED"),r.SetFormat(s.SELFIE_FINISHED),r.SetSelfieParams(t,e,n),r.SendEventTracking("","","","")},i.GetPackageName=function(t){return"T4"==t?"std-t4-flowpack":"T6"==t?"std-t6-flowpack":"T10"==t?"std-t10-mastello":"T10TM"==t?"std-t10-mastello-travelmkt":"T10DM"==t?"d&m-t10-mastello":"T11"==t?"std-t11-mastello":"T18"==t?"std-t18-mastello":"T18DM"==t?"d&m-t18-mastello":"T18TM"==t?"std-t18-crd-travelmkt":"T20"==t?"std-t20-mastello":"KM001"==t?"test-qr":null},n}(o))||S));t("default",new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TrackingManager.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"e895a/NyrZGPI3pE/lws3OJ","TrackingManager",void 0);e("LoadSessionID",(function(){}));n._RF.pop()}}}));

System.register("chunks:///_virtual/TrackingMgr.ts",["cc","./TrackingEvents.ts","./sha1.mjs_cjs=&original=.js","./GameHelper.ts","./sha1.js"],(function(_){"use strict";var e,E,n,t,i,o;return{setters:[function(_){e=_.cclegacy,E=_.log,n=_.sys},function(_){t=_.default},null,function(_){i=_.GameHelper},function(_){o=_.default}],execute:function(){var A,a,N,I,s,T,r,d,C,S,c,O,m,R,M,w,u,H,D,L,P,U;_({AchievementName:void 0,ActionName:void 0,Booster:void 0,Character:void 0,FeatureName:void 0,GameScreen:void 0,IncomeSource:void 0,ItemName:void 0,MapUsed:void 0,MatchType:void 0,MissionDifficulty:void 0,PlayMode:void 0,QRAction:void 0,QteName:void 0,Result:void 0,SessionName:void 0,SnType:void 0,TrackingAction:void 0,TrackingFormat:void 0,TrackingParameter:void 0,TutorialAction:void 0,TutorialProgress:void 0}),e._RF.push({},"6a4d1GVvipDnKAakpLoKZ9i","TrackingMgr",void 0),function(_){_[_.PID=9999]="PID",_[_.GGI=84931]="GGI",_.PROTO_VER="0.2.3",_.ENTITY_ID="4532:84043:0.2.3:HTML5:Ads",_.CAMPAIGN_ID="1001",_.CREATIVE_ID="2001",_.CAMPAIGN_ID_GOLD="9001",_.CREATIVE_ID_GOLD="8001"}(A||(A=_("TrackingParameter",{}))),function(_){_[_.IMPRESSIONS=210628]="IMPRESSIONS",_[_.TYPE_PLAYER_EXPAND=224025]="TYPE_PLAYER_EXPAND",_[_.TYPE_PLAYER_COLLAPSE=224026]="TYPE_PLAYER_COLLAPSE",_[_.ADS_EXPAND=211307]="ADS_EXPAND",_[_.ADS_COLLAPSE=218749]="ADS_COLLAPSE",_[_.ENGAGEMENTS=218009]="ENGAGEMENTS",_[_.ENDGAMENTS_LOADING_COMPLETE=238558]="ENDGAMENTS_LOADING_COMPLETE",_[_.CONFIRMED_ENGAGEMENTS=191963]="CONFIRMED_ENGAGEMENTS",_[_.TYPE_FIRST_QUARTILE=224028]="TYPE_FIRST_QUARTILE",_[_.TYPE_MIDPOINT=224029]="TYPE_MIDPOINT",_[_.TYPE_THIRD_QUARTILE=224030]="TYPE_THIRD_QUARTILE",_[_.TYPE_END_QUARTILE=234554]="TYPE_END_QUARTILE",_[_.COMPLETE_ENGAGEMENTS=191968]="COMPLETE_ENGAGEMENTS",_[_.FIRST_COMPLETE_ENGAGEMENTS=289812]="FIRST_COMPLETE_ENGAGEMENTS",_[_.REPLAY=191964]="REPLAY",_[_.TYPE_REPLAY_VIDEO=234555]="TYPE_REPLAY_VIDEO",_[_.TYPE_VIDEO_STARTED=228364]="TYPE_VIDEO_STARTED",_[_.CLICK_THROUGHTS=191967]="CLICK_THROUGHTS",_[_.CLICK_THROUGHTS_START=328898]="CLICK_THROUGHTS_START",_[_.CLOSE=191969]="CLOSE",_[_.CLICK_ON_SHARE=201586]="CLICK_ON_SHARE",_[_.CLICK_TO_CALL=216624]="CLICK_TO_CALL",_[_.FORM_IMPRESSION=237213]="FORM_IMPRESSION",_[_.FORM_LEAD=221840]="FORM_LEAD",_[_.FACEBOOK_CLICK_SHARE=235566]="FACEBOOK_CLICK_SHARE",_[_.FACEBOOK_SHARE_FAIL=235568]="FACEBOOK_SHARE_FAIL",_[_.FACEBOOK_SHARE_SUCCESS=235567]="FACEBOOK_SHARE_SUCCESS",_[_.VK_CLICK_SHARE=280857]="VK_CLICK_SHARE",_[_.VK_SHARE_FAIL=280869]="VK_SHARE_FAIL",_[_.VK_SHARE_SUCCESS=280858]="VK_SHARE_SUCCESS",_[_.VK_CLICK_LOGOUT=280870]="VK_CLICK_LOGOUT",_[_.AD_LOADED=276761]="AD_LOADED",_[_.AD_PAUSED=276762]="AD_PAUSED",_[_.AD_PLAYING=276763]="AD_PLAYING",_[_.LEADERBOARD_IMPRESSION=310924]="LEADERBOARD_IMPRESSION",_[_.TYPE_QTE_SUCCESSFUL=253201]="TYPE_QTE_SUCCESSFUL",_[_.TYPE_QTE_FAILED=253202]="TYPE_QTE_FAILED",_[_.AGREED_VIEW=241229]="AGREED_VIEW",_[_.TYPE_PAGE_VISITED=223611]="TYPE_PAGE_VISITED",_[_.SAVE_SCREENSHOT=286351]="SAVE_SCREENSHOT",_[_.TYPE_TWITTER_CLICK_SHARE=280159]="TYPE_TWITTER_CLICK_SHARE",_[_.CLICK_INFO=343224]="CLICK_INFO",_[_.DECLINE_CALL=285722]="DECLINE_CALL",_[_.END_CALL=285723]="END_CALL",_[_.AD_VIEWABLE=362818]="AD_VIEWABLE",_[_.TYPE_PAGE_IMPRESSION=381397]="TYPE_PAGE_IMPRESSION",_[_.CLICK_ON_BUTTON=384856]="CLICK_ON_BUTTON",_[_.REWARD_RECEIVED=361338]="REWARD_RECEIVED",_[_.FACEBOOK_LOGIN=332475]="FACEBOOK_LOGIN",_[_.FACEBOOK_LOGIN_SUCCESS=332476]="FACEBOOK_LOGIN_SUCCESS",_[_.UNLOCK=332477]="UNLOCK",_[_.UNLOCK_SUCCESS=332478]="UNLOCK_SUCCESS",_[_.TUTORIAL_INTERACTION=382835]="TUTORIAL_INTERACTION"}(a||(a=_("TrackingAction",{}))),function(_){_[_.LAUNCH_TO_MAIN_MENU=411053]="LAUNCH_TO_MAIN_MENU",_[_.MAIN_MENU_TO_AR_SCREEN=411054]="MAIN_MENU_TO_AR_SCREEN"}(N||(N=_("ActionName",{}))),function(_){_[_.NONE=0]="NONE",_[_.QR_SCANNING=1]="QR_SCANNING",_[_.QR_SUCCESS=411049]="QR_SUCCESS",_[_.QR_FAILED_INVALID=411050]="QR_FAILED_INVALID",_[_.QR_FAILED_NO_SCAN=411051]="QR_FAILED_NO_SCAN"}(I||(I=_("QRAction",{}))),function(_){_[_.STARTED=47235]="STARTED",_[_.COMPLETED=47237]="COMPLETED",_[_.NEXT=42664]="NEXT"}(s||(s=_("TutorialAction",{}))),function(_){_[_.WELCOME=425982]="WELCOME",_[_.PUBLIC=425983]="PUBLIC",_[_.DAILY_REWARD=425984]="DAILY_REWARD",_[_.DAILY_MISSION=425985]="DAILY_MISSION",_[_.STORE_1=425986]="STORE_1",_[_.FINISHED=425987]="FINISHED",_[_.ACTION_PHASE1=425988]="ACTION_PHASE1",_[_.ACTION_PHASE2=425989]="ACTION_PHASE2",_[_.ACHIEVEMENT=434567]="ACHIEVEMENT",_[_.SELECT_BOOSTER=434564]="SELECT_BOOSTER",_[_.PRIVATE=434566]="PRIVATE",_[_.STORE_2=999996]="STORE_2",_[_.NEW_MAP=434565]="NEW_MAP"}(T||(T=_("TutorialProgress",{}))),function(_){_[_.ACHIEVEMENT_ACC_1=426052]="ACHIEVEMENT_ACC_1",_[_.ACHIEVEMENT_ACC_2=426053]="ACHIEVEMENT_ACC_2",_[_.ACHIEVEMENT_ACC_3=426054]="ACHIEVEMENT_ACC_3",_[_.ACHIEVEMENT_AP_1=426064]="ACHIEVEMENT_AP_1",_[_.ACHIEVEMENT_AP_2=426065]="ACHIEVEMENT_AP_2",_[_.ACHIEVEMENT_AP_3=426066]="ACHIEVEMENT_AP_3",_[_.ACHIEVEMENT_DL_1=426067]="ACHIEVEMENT_DL_1",_[_.ACHIEVEMENT_DL_2=426068]="ACHIEVEMENT_DL_2",_[_.ACHIEVEMENT_DL_3=426069]="ACHIEVEMENT_DL_3",_[_.ACHIEVEMENT_MILKY_1=426072]="ACHIEVEMENT_MILKY_1",_[_.ACHIEVEMENT_MILKY_2=426073]="ACHIEVEMENT_MILKY_2",_[_.ACHIEVEMENT_MILKY_3=426074]="ACHIEVEMENT_MILKY_3",_[_.ACHIEVEMENT_MOUNTAIN_1=426084]="ACHIEVEMENT_MOUNTAIN_1",_[_.ACHIEVEMENT_MOUNTAIN_2=426085]="ACHIEVEMENT_MOUNTAIN_2",_[_.ACHIEVEMENT_MOUNTAIN_3=426086]="ACHIEVEMENT_MOUNTAIN_3",_[_.ACHIEVEMENT_PASS_1=426061]="ACHIEVEMENT_PASS_1",_[_.ACHIEVEMENT_PASS_2=426062]="ACHIEVEMENT_PASS_2",_[_.ACHIEVEMENT_PASS_3=426063]="ACHIEVEMENT_PASS_3",_[_.ACHIEVEMENT_PLAY_1=426055]="ACHIEVEMENT_PLAY_1",_[_.ACHIEVEMENT_PLAY_2=426056]="ACHIEVEMENT_PLAY_2",_[_.ACHIEVEMENT_PLAY_3=426057]="ACHIEVEMENT_PLAY_3",_[_.ACHIEVEMENT_POWER_1=426058]="ACHIEVEMENT_POWER_1",_[_.ACHIEVEMENT_POWER_2=426059]="ACHIEVEMENT_POWER_2",_[_.ACHIEVEMENT_POWER_3=426060]="ACHIEVEMENT_POWER_3",_[_.ACHIEVEMENT_SCHOKI_1=426075]="ACHIEVEMENT_SCHOKI_1",_[_.ACHIEVEMENT_SCHOKI_2=426076]="ACHIEVEMENT_SCHOKI_2",_[_.ACHIEVEMENT_SCHOKI_3=426077]="ACHIEVEMENT_SCHOKI_3",_[_.ACHIEVEMENT_SF_1=426070]="ACHIEVEMENT_SF_1",_[_.ACHIEVEMENT_SF_2=426071]="ACHIEVEMENT_SF_2",_[_.ACHIEVEMENT_BEACH_1=426078]="ACHIEVEMENT_BEACH_1",_[_.ACHIEVEMENT_BEACH_2=426079]="ACHIEVEMENT_BEACH_2",_[_.ACHIEVEMENT_BEACH_3=426080]="ACHIEVEMENT_BEACH_3",_[_.ACHIEVEMENT_CITY_1=426081]="ACHIEVEMENT_CITY_1",_[_.ACHIEVEMENT_CITY_2=426082]="ACHIEVEMENT_CITY_2",_[_.ACHIEVEMENT_CITY_3=426083]="ACHIEVEMENT_CITY_3"}(r||(r=_("AchievementName",{}))),function(_){_[_.DAILY_REWARD=426009]="DAILY_REWARD",_[_.ACHIEVEMENT=426010]="ACHIEVEMENT",_[_.LEADERBOARD=426011]="LEADERBOARD",_[_.SHOP=426012]="SHOP",_[_.DAILY_MISSION=426013]="DAILY_MISSION",_[_.QR_SCAN=426014]="QR_SCAN",_[_.MAIN_MENU=441625]="MAIN_MENU",_[_.CHOOSE_BOOSTER=441626]="CHOOSE_BOOSTER",_[_.SETTINGS=441627]="SETTINGS",_[_.ACTION_PHASE=441628]="ACTION_PHASE",_[_.SHARE=441856]="SHARE"}(d||(d=_("FeatureName",{}))),function(_){_[_.MILKY=426004]="MILKY",_[_.SCHOKI=426005]="SCHOKI"}(C||(C=_("Character",{}))),function(_){_[_.PLAYER=426006]="PLAYER",_[_.BOT=426007]="BOT"}(S||(S=_("MatchType",{}))),function(_){_[_.ISLAND=426001]="ISLAND",_[_.CITY=426002]="CITY",_[_.MOUNTAIN=426003]="MOUNTAIN"}(c||(c=_("MapUsed",{}))),function(_){_[_.SINGLE=425998]="SINGLE",_[_.MULTI_PUBLIC=425999]="MULTI_PUBLIC",_[_.MULTI_PRIVATE=426e3]="MULTI_PRIVATE"}(O||(O=_("PlayMode",{}))),function(_){_[_.SUCCESS=425994]="SUCCESS",_[_.FAIL=425995]="FAIL",_[_.CANCEL=425996]="CANCEL",_[_.MISSION_FINISHED=383492]="MISSION_FINISHED",_[_.MISSION_INTERRUPT_DUE_TO_INTERNET_LOSING_CONNECTION=435247]="MISSION_INTERRUPT_DUE_TO_INTERNET_LOSING_CONNECTION",_[_.MISSION_INTERRUPT_DUE_TO_SERVER_DISCONNECTION=435248]="MISSION_INTERRUPT_DUE_TO_SERVER_DISCONNECTION",_[_.MISSIONS_INTERRUPT_DUE_TO_LEAVING_OF_PARTNER=435246]="MISSIONS_INTERRUPT_DUE_TO_LEAVING_OF_PARTNER",_[_.QUIT_TO_MAIN_MENU=394684]="QUIT_TO_MAIN_MENU"}(m||(m=_("Result",{}))),function(_){_[_.EASY=426022]="EASY",_[_.NORMAL=426023]="NORMAL",_[_.HARD=426024]="HARD"}(R||(R=_("MissionDifficulty",{}))),function(_){_[_.BADMINTON=426016]="BADMINTON",_[_.MUSIC_GAME=426017]="MUSIC_GAME",_[_.COLLECT_THEM_ALL=426018]="COLLECT_THEM_ALL"}(M||(M=_("QteName",{}))),function(_){_[_.NONE=999e3]="NONE",_[_.COINS=435245]="COINS",_[_.HEAD1=426122]="HEAD1",_[_.HEAD2=426123]="HEAD2",_[_.HEAD3=426124]="HEAD3",_[_.BOOST1=426125]="BOOST1",_[_.BOOST2=426126]="BOOST2",_[_.BOOST3=426127]="BOOST3",_[_.QTE1=426128]="QTE1",_[_.QTE2=426129]="QTE2",_[_.REVIVAL=426130]="REVIVAL",_[_.SHIELD1=426131]="SHIELD1",_[_.SHIELD2=426132]="SHIELD2",_[_.SHIELD3=426133]="SHIELD3",_[_.SHIELD4=426134]="SHIELD4",_[_.SHIELD5=426135]="SHIELD5",_[_.MAGNET1=426136]="MAGNET1",_[_.MAGNET2=426137]="MAGNET2",_[_.MAGNET3=426138]="MAGNET3",_[_.MAGNET4=426139]="MAGNET4",_[_.MAGNET5=426140]="MAGNET5",_[_.STAMPER1=426141]="STAMPER1",_[_.STAMPER2=426142]="STAMPER2",_[_.STAMPER3=426143]="STAMPER3",_[_.STAMPER4=426144]="STAMPER4",_[_.STAMPER5=426145]="STAMPER5",_[_.COIN_DUPER1=426146]="COIN_DUPER1",_[_.COIN_DUPER2=426147]="COIN_DUPER2",_[_.COIN_DUPER3=426148]="COIN_DUPER3",_[_.COIN_DUPER4=426149]="COIN_DUPER4",_[_.COIN_DUPER5=426150]="COIN_DUPER5",_[_.MEGA_HOP1=426151]="MEGA_HOP1",_[_.MEGA_HOP2=426152]="MEGA_HOP2",_[_.MEGA_HOP3=426153]="MEGA_HOP3",_[_.MEGA_HOP4=426154]="MEGA_HOP4",_[_.MEGA_HOP5=426155]="MEGA_HOP5",_[_.HEADWEAR_01=426156]="HEADWEAR_01",_[_.HEADWEAR_02=426157]="HEADWEAR_02",_[_.HEADWEAR_03=426158]="HEADWEAR_03",_[_.HEADWEAR_04_MILKY=426159]="HEADWEAR_04_MILKY",_[_.HEADWEAR_04_SCHOKI=435239]="HEADWEAR_04_SCHOKI",_[_.HEADWEAR_05_MILKY=426160]="HEADWEAR_05_MILKY",_[_.HEADWEAR_05_SCHOKI=435240]="HEADWEAR_05_SCHOKI",_[_.HEADWEAR_06_MILKY=426161]="HEADWEAR_06_MILKY",_[_.HEADWEAR_06_SCHOKI=435241]="HEADWEAR_06_SCHOKI",_[_.HEADWEAR_07=426162]="HEADWEAR_07",_[_.HEADWEAR_08=426163]="HEADWEAR_08",_[_.HEADWEAR_09=426164]="HEADWEAR_09",_[_.HEADWEAR_10=426165]="HEADWEAR_10",_[_.SCARF_01_MILKY=426166]="SCARF_01_MILKY",_[_.SCARF_01_SCHOKI=435242]="SCARF_01_SCHOKI",_[_.SCARF_02_MILKY=426167]="SCARF_02_MILKY",_[_.SCARF_02_SCHOKI=435243]="SCARF_02_SCHOKI",_[_.SCARF_03_MILKY=426168]="SCARF_03_MILKY",_[_.SCARF_03_SCHOKI=435244]="SCARF_03_SCHOKI",_[_.SCARF_04=426169]="SCARF_04",_[_.SCARF_05=426170]="SCARF_05",_[_.SCARF_06=426171]="SCARF_06",_[_.SCARF_07=426172]="SCARF_07",_[_.SCARF_08=426173]="SCARF_08",_[_.SCARF_09=426174]="SCARF_09",_[_.SCARF_10=426175]="SCARF_10",_[_.FOOTWEAR_01=426176]="FOOTWEAR_01",_[_.FOOTWEAR_02=426177]="FOOTWEAR_02",_[_.FOOTWEAR_04=426178]="FOOTWEAR_04",_[_.FOOTWEAR_05=426179]="FOOTWEAR_05",_[_.FOOTWEAR_06=426180]="FOOTWEAR_06",_[_.PANT_01=426181]="PANT_01",_[_.PANT_02=426182]="PANT_02",_[_.PANT_03=426183]="PANT_03",_[_.PANT_04=426184]="PANT_04",_[_.PANT_05=426185]="PANT_05",_[_.PANT_06=426186]="PANT_06",_[_.PANT_07=426187]="PANT_07",_[_.PANT_08=426188]="PANT_08"}(w||(w=_("ItemName",{}))),function(_){_[_.DAILY_REWARD=426192]="DAILY_REWARD",_[_.DAILY_MISSION=426193]="DAILY_MISSION",_[_.QR_SCAN=426194]="QR_SCAN",_[_.ACHIEVEMENT_ACC_1=434529]="ACHIEVEMENT_ACC_1",_[_.ACHIEVEMENT_ACC_2=434530]="ACHIEVEMENT_ACC_2",_[_.ACHIEVEMENT_ACC_3=434531]="ACHIEVEMENT_ACC_3",_[_.ACHIEVEMENT_AP_1=434541]="ACHIEVEMENT_AP_1",_[_.ACHIEVEMENT_AP_2=434542]="ACHIEVEMENT_AP_2",_[_.ACHIEVEMENT_AP_3=434543]="ACHIEVEMENT_AP_3",_[_.ACHIEVEMENT_DL_1=434544]="ACHIEVEMENT_DL_1",_[_.ACHIEVEMENT_DL_2=434545]="ACHIEVEMENT_DL_2",_[_.ACHIEVEMENT_DL_3=434546]="ACHIEVEMENT_DL_3",_[_.ACHIEVEMENT_MILKY_1=434549]="ACHIEVEMENT_MILKY_1",_[_.ACHIEVEMENT_MILKY_2=434550]="ACHIEVEMENT_MILKY_2",_[_.ACHIEVEMENT_MILKY_3=434551]="ACHIEVEMENT_MILKY_3",_[_.ACHIEVEMENT_MOUNTAIN_1=434561]="ACHIEVEMENT_MOUNTAIN_1",_[_.ACHIEVEMENT_MOUNTAIN_2=434562]="ACHIEVEMENT_MOUNTAIN_2",_[_.ACHIEVEMENT_MOUNTAIN_3=434563]="ACHIEVEMENT_MOUNTAIN_3",_[_.ACHIEVEMENT_PASS_1=434538]="ACHIEVEMENT_PASS_1",_[_.ACHIEVEMENT_PASS_2=434539]="ACHIEVEMENT_PASS_2",_[_.ACHIEVEMENT_PASS_3=434540]="ACHIEVEMENT_PASS_3",_[_.ACHIEVEMENT_PLAY_1=434532]="ACHIEVEMENT_PLAY_1",_[_.ACHIEVEMENT_PLAY_2=434533]="ACHIEVEMENT_PLAY_2",_[_.ACHIEVEMENT_PLAY_3=434534]="ACHIEVEMENT_PLAY_3",_[_.ACHIEVEMENT_POWER_1=434535]="ACHIEVEMENT_POWER_1",_[_.ACHIEVEMENT_POWER_2=434536]="ACHIEVEMENT_POWER_2",_[_.ACHIEVEMENT_POWER_3=434537]="ACHIEVEMENT_POWER_3",_[_.ACHIEVEMENT_SCHOKI_1=434552]="ACHIEVEMENT_SCHOKI_1",_[_.ACHIEVEMENT_SCHOKI_2=434553]="ACHIEVEMENT_SCHOKI_2",_[_.ACHIEVEMENT_SCHOKI_3=434554]="ACHIEVEMENT_SCHOKI_3",_[_.ACHIEVEMENT_SF_1=434547]="ACHIEVEMENT_SF_1",_[_.ACHIEVEMENT_SF_2=434548]="ACHIEVEMENT_SF_2",_[_.ACHIEVEMENT_BEACH_1=434555]="ACHIEVEMENT_BEACH_1",_[_.ACHIEVEMENT_BEACH_2=434556]="ACHIEVEMENT_BEACH_2",_[_.ACHIEVEMENT_BEACH_3=434557]="ACHIEVEMENT_BEACH_3",_[_.ACHIEVEMENT_CITY_1=434558]="ACHIEVEMENT_CITY_1",_[_.ACHIEVEMENT_CITY_2=434559]="ACHIEVEMENT_CITY_2",_[_.ACHIEVEMENT_CITY_3=434560]="ACHIEVEMENT_CITY_3",_[_.ACCESSORY_RUN=434523]="ACCESSORY_RUN",_[_.BOOSTER_ACTIVE=434518]="BOOSTER_ACTIVE",_[_.BOOSTER_BUY=434522]="BOOSTER_BUY",_[_.BUY_ACESSORIES=434525]="BUY_ACESSORIES",_[_.COLLECT_COINS=434508]="COLLECT_COINS",_[_.COLLECT_COINS_ONE_RUN=434519]="COLLECT_COINS_ONE_RUN",_[_.DASH=434509]="DASH",_[_.DASH_ONE_RUN=434520]="DASH_ONE_RUN",_[_.DOUBLE_JUMP=434507]="DOUBLE_JUMP",_[_.DOUBLE_JUMP_ONE_RUN=434515]="DOUBLE_JUMP_ONE_RUN",_[_.EXTRA_LIFE=434513]="EXTRA_LIFE",_[_.MID_COIN=434521]="MID_COIN",_[_.PASS_BACKPACK=434511]="PASS_BACKPACK",_[_.PASS_BACKPACK_ONE_RUN=434524]="PASS_BACKPACK_ONE_RUN",_[_.PLAY_MUL=434505]="PLAY_MUL",_[_.POWER_UP=434512]="POWER_UP",_[_.REQUEST_BACKPACK=434510]="REQUEST_BACKPACK",_[_.RUN_DISTANCE=434506]="RUN_DISTANCE",_[_.RUN_DISTANCE_ONE_RUN=434516]="RUN_DISTANCE_ONE_RUN",_[_.SNOW_MOUNTAIN=434523]="SNOW_MOUNTAIN",_[_.SUC_QTE=434523]="SUC_QTE",_[_.TROPICAL_ISLAND=434523]="TROPICAL_ISLAND",_[_.UPGRADE_POWER_UP=434523]="UPGRADE_POWER_UP",_[_.URBAN_CITY=434523]="URBAN_CITY",_[_.SHARE=441980]="SHARE"}(u||(u=_("IncomeSource",{}))),function(_){_[_.DAILY_REWARD=426189]="DAILY_REWARD",_[_.DAILY_MISSION=434504]="DAILY_MISSION",_[_.SHOP=426190]="SHOP",_[_.ACHIEVEMENT=435238]="ACHIEVEMENT",_[_.QR_SCAN=441624]="QR_SCAN"}(H||(H=_("GameScreen",{}))),function(_){_[_.GOOGLE=425991]="GOOGLE",_[_.FACEBOOK=425992]="FACEBOOK",_[_.GUEST=425993]="GUEST",_[_.YOUTUBE=444171]="YOUTUBE"}(D||(D=_("SnType",{}))),function(_){_[_.NONE=435237]="NONE",_[_.BOOST1=435231]="BOOST1",_[_.BOOST2=435232]="BOOST2",_[_.BOOST3=435233]="BOOST3",_[_.HEAD1=435228]="HEAD1",_[_.HEAD2=435229]="HEAD2",_[_.HEAD3=435230]="HEAD3",_[_.QTE1=435234]="QTE1",_[_.QTE2=435235]="QTE2",_[_.REVIVAL=435236]="REVIVAL"}(L||(L=_("Booster",{}))),function(_){_[_.BEGIN_001=426043]="BEGIN_001",_[_.BEGIN_002=426038]="BEGIN_002",_[_.BEGIN_003=426042]="BEGIN_003",_[_.SEMI_001=426029]="SEMI_001",_[_.SEMI_002=426040]="SEMI_002",_[_.SEMI_003=426027]="SEMI_003",_[_.PRO_001=426045]="PRO_001",_[_.PRO_002=426028]="PRO_002",_[_.PRO_003=426039]="PRO_003"}(P||(P=_("SessionName",{}))),function(_){_[_.MIG=200116]="MIG",_[_.HYBRID=234553]="HYBRID",_[_.MINT_MIG=226759]="MINT_MIG",_[_.BLS=363611]="BLS",_[_.VIDEO_FORM=316786]="VIDEO_FORM",_[_.VHERO=5]="VHERO",_[_.VINT=226760]="VINT",_[_.SITE=222996]="SITE",_[_.VBAN=8]="VBAN",_[_.VSCORE=327869]="VSCORE",_[_.FAKE_CALL=285721]="FAKE_CALL",_[_.VSTORY=327870]="VSTORY",_[_.FAKE_CALL_VIDEO=363616]="FAKE_CALL_VIDEO",_[_.FORM_INTERACTIONS=226757]="FORM_INTERACTIONS",_[_.WELCOME_SCREEN=301759]="WELCOME_SCREEN",_[_.STANDALONE_WEBSITE=15]="STANDALONE_WEBSITE",_[_.VINTER_MULTI=234548]="VINTER_MULTI",_[_.INTERACTIVE_VIDEO_SWITCH=363608]="INTERACTIVE_VIDEO_SWITCH",_[_.USER_DEVICE=393582]="USER_DEVICE",_[_.VISIT_SCREEN=411035]="VISIT_SCREEN",_[_.QR_ACTION=411048]="QR_ACTION",_[_.LOADING_TIMES=411052]="LOADING_TIMES",_[_.PERMISSIONS=411060]="PERMISSIONS",_[_.AR_MODE_FINISHED=411063]="AR_MODE_FINISHED",_[_.PARENT_AGE_POPUP=411734]="PARENT_AGE_POPUP",_[_.LAUNCH_RESUME=411034]="LAUNCH_RESUME",_[_.CONNECT_TO_SOCIAL_NETWORK=425990]="CONNECT_TO_SOCIAL_NETWORK",_[_.QR_SCAN=426050]="QR_SCAN",_[_.ACHIEVEMENT_FINISHED=426051]="ACHIEVEMENT_FINISHED",_[_.FEATURE_FINISHED=426008]="FEATURE_FINISHED",_[_.MATCHMAKING_STARTED=426019]="MATCHMAKING_STARTED",_[_.MATCHMAKING_FINISHED=425997]="MATCHMAKING_FINISHED",_[_.MISSION_STARTED=426021]="MISSION_STARTED",_[_.MISSION_FINISHED=426049]="MISSION_FINISHED",_[_.TUTORIAL_INTERACTION=411055]="TUTORIAL_INTERACTION",_[_.QTE_INTERACTION=426015]="QTE_INTERACTION",_[_.CURRENCY_SPENT=426121]="CURRENCY_SPENT",_[_.CURRENCY_INCOMES=426191]="CURRENCY_INCOMES",_[_.SELFIE_FINISHED=426087]="SELFIE_FINISHED"}(U||(U=_("TrackingFormat",{})));_("default",new(function(){function _(){var _;this.apiUrl="",this.token=window.token,this.score=0,this.page=1,this.timeSpentOnPage=0,this.startLoadingTime=0,this.format=U.STANDALONE_WEBSITE,this.session_id=1,this.pack_name="",this.action_name=N.LAUNCH_TO_MAIN_MENU,this.qr_action=I.QR_FAILED_NO_SCAN,this.screen_from=H.DAILY_REWARD,this.screen_to=H.DAILY_REWARD,this.scan_reference="",this.scan_result=m.SUCCESS,this.scan_time_spent=0,this.tutorial_action=s.STARTED,this.tutorial_progress=T.WELCOME,this.tutorial_time_spent=0,this.photos_saved=0,this.photos_taken=0,this.photos_with_mask_saved=0,this.photos_with_mask_taken=0,this.achievement_name=r.ACHIEVEMENT_ACC_1,this.feature_name=d.ACHIEVEMENT,this.feature_time_spent=0,this.character="N/A",this.map_used=c.ISLAND,this.match_type=S.BOT,this.play_mode=O.MULTI_PUBLIC,this.mission_difficulty=R.EASY,this.session_name=P.BEGIN_001,this.mm_result=m.SUCCESS,this.mm_time_spent=0,this.mm_error_code="",this.game_distance=0,this.game_time_spent=0,this.mission_result=m.MISSION_FINISHED,this.booster_chosen=L.NONE,this.fpsAvg=0,this.fpsMin=0,this.fpsMax=0,this.qte_action=s.STARTED,this.qte_name=M.BADMINTON,this.qte_failed_amount=0,this.qte_successed_amount=0,this.qte_time_spent=0,this.item_amount=0,this.item_name=w.BOOST1,this.screen=H.DAILY_REWARD,this.coin_earned=0,this.coin_spent=0,this.coin_balance=0,this.income_source=u.DAILY_MISSION,this.sn_result=m.SUCCESS,this.sn_type=D.FACEBOOK,this.sn_time_spent=0,this.sn_error_code="",this.pictures_taken=0,this.sticker_name="",this.selfie_time_spent=0,this.user_id="",this.evTrack=((_={})[U.LAUNCH_RESUME]={send_one:!1,count:0},_[U.CONNECT_TO_SOCIAL_NETWORK]={send_one:!1,count:0},_[U.QR_SCAN]={send_one:!1,count:0},_[U.ACHIEVEMENT_FINISHED]={send_one:!1,count:0},_[U.FEATURE_FINISHED]={send_one:!1,count:0},_[U.MATCHMAKING_STARTED]={send_one:!1,count:0},_[U.MATCHMAKING_FINISHED]={send_one:!1,count:0},_[U.MISSION_STARTED]={send_one:!1,count:0},_[U.MISSION_FINISHED]={send_one:!1,count:0},_[U.TUTORIAL_INTERACTION]={send_one:!1,count:0},_[U.QTE_INTERACTION]={send_one:!1,count:0},_[U.CURRENCY_SPENT]={send_one:!1,count:0},_[U.CURRENCY_INCOMES]={send_one:!1,count:0},_[U.SELFIE_FINISHED]={send_one:!1,count:0},_[332475]={send_one:!0,count:0},_[332476]={send_one:!0,count:0},_),this.SaveStatsOld(),window.anonymous="ANONYMOUS_ACCOUNT"==window.anonymous?"":window.anonymous,void 0!==window.anonymous&&null!=window.anonymous&&-1==window.anonymous.indexOf("anonymous")&&-1==window.anonymous.indexOf("iphone")&&-1==window.anonymous.indexOf("android")&&-1==window.anonymous.indexOf("google")&&(window.anonymous="anonymous:"+window.anonymous),this.apiUrl=window.apiUrl,E("========== apiUrl = "+this.apiUrl),console.log("========== cmsPhase "+window.cmsPhase)}var e=_.prototype;return e.IsTrackingBeta=function(){return"BETA"==window.cmsPhase},e.IsIVPointcut=function(){return"1"==window.iv_location_type},e.SaveStatsOld=function(){var _=this;if(!window.saveStatsOld){var e=window.saveStats;window.saveStats=function(E,n){if(!n)return e(E,n);var t={track:window.strStatsUrl+E,redir:n.replace(/link:/i,""),ets:""};window.ets_redirect_data&&(t.ets=window.ets_redirect_data);var i="https://game-portal.gameloft.com/2093/redirect.php?track_redir=base64";_.IsTrackingBeta()&&(i="https://game-portal.gameloft.com/2093/redirect_beta.php?track_redir=base64");var o=(void 0===window.mraid?"link:":"")+i+window.btoa(JSON.stringify(t));window.redirect?window.redirect(o):window.REVIEW&&window.open(o.replace("link:",""),"_blank")}}},e.SetFormat=function(_){this.format=_},e.SetScoreParam=function(_){this.score=_},e.SetPageInfo=function(_,e){this.page=_,this.timeSpentOnPage=e},e.SetPixelTracking=function(_,e){this.evTrack[_]&&(this.evTrack[_].pixel_tracking=e)},e.SetPackName=function(_){this.pack_name=_},e.SetSocialNetworkParams=function(_,e,E,n){this.sn_result=_,this.sn_type=e,this.sn_time_spent=E,this.sn_error_code=n},e.SetQrScanParams=function(_,e,E){this.scan_reference=_,this.scan_result=e,this.scan_time_spent=E},e.SetAchievementParams=function(_){this.achievement_name=_},e.SetFeatureParams=function(_,e){this.feature_name=_,this.feature_time_spent=e},e.SetMatchmakingParams=function(_,e,E,n){this.character=_,this.match_type=E,this.map_used=e,this.play_mode=n},e.SetMatchmakingFinishedParams=function(_,e,E){this.mm_result=_,this.mm_time_spent=e,this.mm_error_code=E},e.SetMissionParams=function(_,e,E){this.mission_difficulty=_,this.session_name=e,this.booster_chosen=E},e.SetMissionFinishedParams=function(_,e,E,n,t,i,o,A){this.game_distance=_,this.game_time_spent=e,this.coin_earned=E,this.coin_balance=n,this.mission_result=t,this.fpsAvg=i,this.fpsMin=o,this.fpsMax=A},e.SetTutorialParams=function(_,e,E){this.tutorial_action=_,this.tutorial_progress=e,this.tutorial_time_spent=E},e.SetQteParams=function(_,e,E,n,t){this.qte_action=_,this.qte_name=e,this.qte_failed_amount=E,this.qte_successed_amount=n,this.qte_time_spent=t},e.SetCurrencyParams=function(_,e,E,n,t,i){this.item_name=_,this.item_amount=e,this.screen=E,this.coin_earned=n,this.coin_spent=t,this.coin_balance=i},e.SetIncomeSourceParams=function(_){this.income_source=_},e.SetSelfieParams=function(_,e,E){this.pictures_taken=_,this.sticker_name=e,this.selfie_time_spent=E},e.GetSourceGameGGI=function(){},e.SendEventTracking=function(_,e,i,A){var N=this;i=void 0===i?"N/A":""+i,_ instanceof Array||(_=[_]);var I={ggi:window.ggi,entity_type:"GOLD"==window.cmsPhase?"GAMELOFT_MINIGAME_GOLD":"GAMELOFT_MINIGAME_BETA",entity_id:"3402:"+window.ggi+":"+window.omsVersion+":HTML5:Ads",proto_ver:""+window.omsVersion,ts:0,uuid:"",events:[]};if(_.forEach((function(_){if(N.evTrack[_]){if(N.evTrack[_].send_one&&N.evTrack[_].count>0)return e&&e(!1),!1;N.evTrack[_].count++}switch(_==a.CLOSE&&"N/A"==i&&(N.format==U.MIG||N.format==U.VHERO||N.format==U.FAKE_CALL||N.format==U.FAKE_CALL_VIDEO||N.format==U.HYBRID||N.format==U.WELCOME_SCREEN||N.format==U.INTERACTIVE_VIDEO_SWITCH?0==N.evTrack[a.COMPLETE_ENGAGEMENTS].count&&(i="before_completed_engagement"):N.format==U.VIDEO_FORM?0==N.evTrack[a.TYPE_END_QUARTILE].count&&(i="before_ad_video_complete"):N.format==U.SITE&&0==N.evTrack[a.TYPE_END_QUARTILE].count&&(i="before_completed_engagement")),N.format){case U.LAUNCH_RESUME:break;case U.CONNECT_TO_SOCIAL_NETWORK:E("TrackingFormat = CONNECT_TO_SOCIAL_NETWORK"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",error_code:N.sn_error_code||"N/A",result:N.sn_result,sn_type:N.sn_type,time_spent:Math.ceil(N.sn_time_spent)||0}});break;case U.QR_SCAN:E("TrackingFormat = QR_SCAN, time_spent_qa_action = "+(t.time_spent_qa_action>0?t.time_spent_qa_action:0)),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",reference:N.scan_reference,result:N.scan_result,time_spent:Math.ceil(N.scan_time_spent)}});break;case U.ACHIEVEMENT_FINISHED:E("TrackingFormat = ACHIEVEMENT_FINISHED, achievement_name = "+N.achievement_name),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",achievement_name:N.achievement_name}});break;case U.FEATURE_FINISHED:E("TrackingFormat = FEATURE_FINISHED, feature_name = "+N.feature_name+" time_spent = "+Math.ceil(N.feature_time_spent)),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",feature_name:N.feature_name,time_spent:Math.ceil(N.feature_time_spent)}});break;case U.MATCHMAKING_STARTED:E("TrackingFormat = MATCHMAKING_STARTED"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",character:N.character,map_used:N.map_used,match_type:N.match_type,play_mode:N.play_mode}});break;case U.MATCHMAKING_FINISHED:E("TrackingFormat = MATCHMAKING_FINISHED"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",character:N.character,map_used:N.map_used,match_type:N.match_type,play_mode:N.play_mode,result:N.mm_result,time_spent:Math.ceil(N.mm_time_spent),error_code:N.mm_error_code||"N/A"}});break;case U.MISSION_STARTED:E("TrackingFormat = MISSION_STARTED"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",character:N.character,map_used:N.map_used,match_type:N.match_type,play_mode:N.play_mode,mission_difficulty:N.mission_difficulty,mission_name:N.session_name,booster:N.booster_chosen}});break;case U.MISSION_FINISHED:E("TrackingFormat = MISSION_FINISHED"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",character:N.character,map_used:N.map_used,match_type:N.match_type,play_mode:N.play_mode,mission_difficulty:N.mission_difficulty,mission_name:N.session_name,distance:N.game_distance,time_spent:Math.ceil(N.game_time_spent),coin_earned:N.coin_earned,coin_balance:N.coin_balance,result:N.mission_result,booster:N.booster_chosen,fps_avg:N.fpsAvg||"N/A",fps_min:N.fpsMin||"N/A",fps_max:N.fpsMax||"N/A"}});break;case U.TUTORIAL_INTERACTION:E("TrackingFormat = TUTORIAL_INTERACTION, tutorial_action = "+N.tutorial_action),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",tutorial_action:N.tutorial_action,tutorial_progress:N.tutorial_progress,time_spent:Math.ceil(N.tutorial_time_spent)}});break;case U.QTE_INTERACTION:E("TrackingFormat = QTE_INTERACTION"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",qte_action:N.qte_action,qte_name:N.qte_name,qte_failed_amount:N.qte_failed_amount,qte_successed_amount:N.qte_successed_amount,time_spent:Math.ceil(N.qte_time_spent)}});break;case U.CURRENCY_SPENT:E("TrackingFormat = CURRENCY_SPENT"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",item_amount01:N.item_amount,item_name01:N.item_name,screen:N.screen,coin_spent:N.coin_spent,coin_balance:N.coin_balance}});break;case U.CURRENCY_INCOMES:E("TrackingFormat = CURRENCY_INCOMES"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",income_source:N.income_source,item_amount01:N.item_amount,item_name01:N.item_name,screen:N.screen,coin_earned:N.coin_earned,coin_balance:N.coin_balance}});break;case U.SELFIE_FINISHED:E("TrackingFormat = SELFIE_FINISHED"),I.events.push({gdid:0,type:N.format,token:N.token++,data:{anon_id:decodeURIComponent(window.uuid)||"N/A",account_id:N.user_id||"N/A",pack_name:N.pack_name||"direct_url",ses_id:window.session_id,ses_t:Math.ceil(window.gTotalTimeSpent||0),d_browser:window.UAbrowsername||window.browserName||"N/A",ip_country:t.getDeviceCountry()||"N/A",d_manufacturer:window.UAdevicevendor||window.manufacturer||"N/A",d_name:window.UAdevicemodel||t.getDeviceName()||"N/A",d_os:n.os||"N/A",d_firmware:window.USosVersion||n.osVersion||"N/A",picture_taken:N.pictures_taken,sticker_name:N.sticker_name||"N/A",time_spent:Math.ceil(N.selfie_time_spent)}})}})),this.IsTrackingBeta()&&I.events.forEach((function(_){_.anon_id=decodeURIComponent(window.uuid)||""})),!A){if(I.events.length>0){var s=Math.floor(Date.now()/1e3);I.ts=s+60*(new Date).getTimezoneOffset(),I.uuid=this.GetUDID(),I.events.forEach((function(_){var e=_.data;_.ts=s,""==e.ip_country&&(e.ip_country="N/A")}));var T=o(JSON.stringify(I)),r="?x-ets-ggi="+window.ggi+"&x-ets-sha1="+T,d=this.apiUrl+r;return this.SendPayload(d,_,I,e,!1)}return!1}window.call_client?void 0!==window.mraid?(window.ets_redirect_data=I,window.call_client(window.creative_id,"click",A)):(window.ets_redirect_data=I,window.call_client(window.creative_id,"GLADS_CLICK_INTERSTITIAL","click",0,0,"","link:"+A),e&&e(!0)):window.redirect?window.redirect(A):window.open(A,"_blank")},e.SendPayload=function(_,e,E,n,t){var o=this;if(i.isLocalLan())return null;var A=new XMLHttpRequest;return t?(A.onload=function(_){e.forEach((function(_){o.evTrack[_]&&o.evTrack[_].count++}))},A.onerror=function(t){setTimeout((function(){o.SendPayload(_,e,E,n,!0)}),1e3)}):(A.onload=function(_){n&&(n(!0),n=null)},A.onerror=function(t){n&&(n(!1),n=null),e.forEach((function(_){o.evTrack[_]&&o.evTrack[_].count--})),o.SendPayload(_,e,E,n,!0)}),n&&setTimeout((function(){n&&(n(!1),n=null)}),2e3),A.open("POST",_,!0),A.setRequestHeader("Content-type","application/json"),A.send(JSON.stringify(E)),A},e.FormatNum=function(_,e){void 0===e&&(e=4);var E=_.toString(16);return""+"0".repeat(e-E.length)+E},e.RandInRange=function(_,e){return Math.floor(Math.random()*(e-_+1))+_},e.GetUDID=function(){return("\n\t\t\t"+this.FormatNum(this.RandInRange(0,65535))+this.FormatNum(this.RandInRange(0,65535))+"-\n\t\t\t"+this.FormatNum(this.RandInRange(0,65535))+"-\n\t\t\t"+this.FormatNum(16384|this.RandInRange(0,65535))+"-\n\t\t\t"+this.FormatNum(32768|this.RandInRange(0,65535))+"-\n\t\t\t"+this.FormatNum(this.RandInRange(0,65535))+this.FormatNum(this.RandInRange(0,65535))+this.FormatNum(this.RandInRange(0,65535))+"\n        ").replace(/[\t\n\r]/gm,"").trim()},e.GLADSSendTracking=function(_){switch(_){case a.ADS_EXPAND:window.notifyAdExpand&&window.notifyAdExpand();break;case a.ADS_COLLAPSE:window.notifyAdCollapse&&window.notifyAdCollapse();break;case a.ENGAGEMENTS:window.notifyEngagement&&window.notifyEngagement();break;case a.CONFIRMED_ENGAGEMENTS:window.notifyConfirmedEngagement&&window.notifyConfirmedEngagement();break;case a.REPLAY:window.notifyReplay&&window.notifyReplay();break;case a.CLOSE:window.notifyClose&&window.notifyClose();break;case a.TYPE_PLAYER_EXPAND:window.notifyPlayerExpand&&window.notifyPlayerExpand();break;case a.TYPE_PLAYER_COLLAPSE:window.notifyPlayerCollapse&&window.notifyPlayerCollapse()}},e.setUserId=function(_){this.user_id=_},_}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/Transition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts","./PersistPopup.ts","./Splash.ts"],(function(n){"use strict";var e,t,i,a,o,r,c,s,u,l,d,f,p,h,v,m,g,y,w,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,u=n.Node,l=n.Animation,d=n.PageView,f=n.director,p=n.sys,h=n.screen,v=n.Component},function(n){m=n.AudioSrc,g=n.POPUP_INDEX},function(n){y=n.SoundManager},function(n){w=n.PersistPopup},function(n){b=n.Splash}],execute:function(){var P,S,_,C,I,T,N,x,k,O,z,R,E,A,D,L;c._RF.push({},"79e5aD3p4ZHTYyR2G1smNKj","Transition",void 0);var F=s.ccclass,M=s.property,V=["cloud_cover","cloud_reveal"];n("Transition",(P=F("Transition"),S=M(u),_=M(u),C=M(l),I=M(u),T=M(d),N=M(u),P(((L=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o))||this,i(e,"cloudNode",O,a(e)),i(e,"loadingNode",z,a(e)),i(e,"animationIdle",R,a(e)),i(e,"staticTutorial",E,a(e)),i(e,"tutorialPageView",A,a(e)),i(e,"planeContainer",D,a(e)),e._animation=null,e._idlePlayed=!1,e._pageChangeCallback=null,e}t(e,n);var c=e.prototype;return c.onLoad=function(){e.instance=this,this.node.active=!1,this.loadingNode.active=!1,this._animation=this.cloudNode.getComponent(l),this.staticTutorial.active=!1},e.show=function(){var n=o(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===e&&(e=!0),w.Instance.node.setSiblingIndex(g.PERSIST_POPUP),this.instance.node.active){n.next=7;break}return this.instance.node.active=!0,y.Instance.playLoadingBgm(!0),n.next=7,this.coverCloud(!0);case 7:if(this.instance.loadingNode.active||!e){n.next=13;break}return this.instance.loadingNode.active=!0,this.instance._idlePlayed?this.instance.animationIdle.resume():this.instance.animationIdle.play(),b.CheckInviteCode()?(this.instance.showStaticTutorial(!0),this.instance.planeContainer.active=!1):this.instance.planeContainer.active=!0,n.next=13,this.revealCloud();case 13:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),c.showStaticTutorial=function(n){this.staticTutorial.active=n,n&&this.tutorialPageView.setCurrentPageIndex(0)},e.hide=function(){var n=o(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y.Instance.stopLoadingBgm(),!this.instance.loadingNode.active){n.next=6;break}return n.next=4,this.coverCloud(!0);case 4:this.instance.loadingNode.active=!1,this.instance.showStaticTutorial(!1);case 6:if(!this.instance.node.active){n.next=10;break}return n.next=9,this.revealCloud();case 9:this.instance.node.active=!1;case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e.loadScene=function(){var n=o(r().mark((function n(e,t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=!1),n.next=3,this.show(t);case 3:return n.next=5,this.load(e);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),e.load=function(n){return new Promise((function(e){f.loadScene(n,(function(){e()}))}))},e.coverCloud=function(n){return void 0===n&&(n=!1),new Promise((function(t,i){var a=e.instance,o=!1;if(setTimeout((function(){y.Instance.playOneShot(m.TRANSITION_SCENE)}),500),a){if(n&&a._animation){var r=a._animation.clips.find((function(n){return n.name==V[0]}));if(r){var c=r.duration+.1;a._animation.play(r.name),a.scheduleOnce((function(){a._animation.stop(),t()}),c),o=!0}}o||t()}else t()}))},e.revealCloud=function(){return new Promise((function(n,t){var i=e.instance;if(y.Instance.playOneShot(m.TRANSITION_SCENE),i){var a=!1;if(i._animation){var o=i._animation.clips.find((function(n){return n.name==V[1]}));if(o){var r=o.duration+.1;i._animation.play(o.name),i.scheduleOnce((function(){n()}),r),a=!0}}a||n()}else n()}))},e.requestFullscreen=function(){if(p.isMobile&&p.os!==p.OS.IOS){h.requestFullScreen(null,(function(){console.log("fullscreen")}));var n=window.screen.orientation;n&&n.lock&&(n.lock("portrait"),console.log("lock portrait"))}},e}(v)).instance=null,O=e((k=L).prototype,"cloudNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"loadingNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"animationIdle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(k.prototype,"staticTutorial",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"tutorialPageView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(k.prototype,"planeContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=k))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TutorialManager.ts","./EventManager.ts","./MainMenuManager.ts"],(function(t){"use strict";var i,e,o,n,a,r,l,u,s,h,c,T,d,v,_,g,p,f,L,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,u=t.Label,s=t.v3,h=t.Input,c=t.Animation,T=t.director,d=t.Component},function(t){v=t.PLAYER_CHARACTER},function(t){_=t.TUTORIAL_EVENT_NAME,g=t.TUTORIAL_GESTURE,p=t.TUTORIAL_STATE,f=t.TutorialManager},function(t){L=t.default},function(t){E=t.MainMenuManager}],execute:function(){var I,R,m,U,S,y,P,b,w,A,C,H,D;a._RF.push({},"d6849LllbRGl5OtSs27X1Wp","TutorialCanvas",void 0);var O=r.ccclass,N=r.property;t("TutorialCanvas",(I=O("TutorialCanvas"),R=N(l),m=N(u),U=N(l),S=N(l),y=N(l),I((w=i((b=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,o(i,"tutorialDialog",w,n(i)),o(i,"tutorialDialogText",A,n(i)),o(i,"tutorialTouch",C,n(i)),o(i,"tutorialRight",H,n(i)),o(i,"tutorialLeft",D,n(i)),i.animationTouch=null,i.animationLeft=null,i.animationRight=null,i._eventShowTutorial=void 0,i._eventHideTutorial=void 0,i._eventUpdateTutorial=void 0,i._targetPos=s(),i._handFollowNode=null,i._tutorialState=void 0,i._handWorldPos=s(0,0,0),i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.animationTouch=this.tutorialTouch.getComponent(c),this.animationRight=this.tutorialRight.getComponent(c),this.animationLeft=this.tutorialLeft.getComponent(c),this._eventShowTutorial=this.onTutorialShow.bind(this),L.GetInstance().addEventListener(_.SHOW_TUTORIAL,this._eventShowTutorial),this._eventHideTutorial=this.onTutorialHide.bind(this),L.GetInstance().addEventListener(_.HIDE_TUTORIAL,this._eventHideTutorial),this._eventUpdateTutorial=this.onTutorialState.bind(this),L.GetInstance().addEventListener(_.UPDATE_TUTORIAL,this._eventUpdateTutorial),this.onTutorialHide(null)},a.onDestroy=function(){L.GetInstance().removeEventListener(_.SHOW_TUTORIAL,this._eventShowTutorial),this._eventShowTutorial=null,L.GetInstance().removeEventListener(_.HIDE_TUTORIAL,this._eventHideTutorial),this._eventHideTutorial=null,L.GetInstance().removeEventListener(_.UPDATE_TUTORIAL,this._eventUpdateTutorial),this._eventUpdateTutorial=null},a.onTutorialShow=function(t){this.node.active=!0,this.reset()},a.onTutorialHide=function(t){this.node.active=!1,this.reset()},a.reset=function(){this._handFollowNode=null,this.tutorialTouch.active=!1,this.tutorialLeft.active=!1,this.tutorialRight.active=!1},a.update=function(t){this._handFollowNode&&(this._handFollowNode.getWorldPosition(this._handWorldPos),this.tutorialTouch.setWorldPosition(this._handWorldPos))},a.onTutorialState=function(t){var i=t.parameters.state,e=t.parameters.tutorialGesture,o=t.parameters.targetPath,n=t.parameters.dialogText,a=t.parameters.dialogPos;switch(e!=g.NONE?e==g.TOUCH?(this.tutorialLeft.active=!1,this.tutorialRight.active=!1,this._handFollowNode=""!=o?T.getScene().getChildByPath(o):null,this._handFollowNode?(this.tutorialTouch.active=!0,this.animationTouch.play()):this.tutorialTouch.active=!1):e==g.SWIPE_LEFT?(this.tutorialTouch.active=!1,this.tutorialRight.active=!1,this.tutorialLeft.active=!0,this.animationLeft.play()):e==g.SWIPE_RIGHT&&(this.tutorialTouch.active=!1,this.tutorialLeft.active=!1,this.tutorialRight.active=!0,this.animationRight.play()):(this.tutorialTouch.active=!1,this.tutorialLeft.active=!1,this.tutorialRight.active=!1),""!=n?(this.tutorialDialog.active=!0,this.tutorialDialogText.string=n,this.tutorialDialog.setPosition(a)):this.tutorialDialog.active=!1,i){case p.AP_STEP_1:E.Instance.onSwitchCharacter(v.MILKY);break;case p.AP_STEP_2:}},a.onTouchStart=function(t){f.Instance.onTouchStart(t.getUILocation().x,t.getUILocation().y)},a.onTouchEnd=function(t){var i=t.getUILocation().x,e=t.getUILocation().y,o=i-this._handWorldPos.x,n=e-this._handWorldPos.y,a=Math.sqrt(o*o+n*n),r=!0;this._handFollowNode&&(r=a<150),f.Instance.onTouchEnd(t.getUILocation().x,t.getUILocation().y,r)},a.onTouchCancel=function(t){},i}(d)).prototype,"tutorialDialog",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(b.prototype,"tutorialDialogText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"tutorialTouch",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(b.prototype,"tutorialRight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(b.prototype,"tutorialLeft",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialHideObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RunningGameManager.ts"],(function(t){"use strict";var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Component},function(t){r=t.RunningGameManager}],execute:function(){var c;n._RF.push({},"ab60fILU0NOypYAuVdNdOJN","TutorialHideObject",void 0);var a=i.ccclass;i.property,t("TutorialHideObject",a("TutorialHideObject")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onEnable=function(){r.Instance&&r.Instance.isInTutorial?this.node.active=!1:this.node.active=!0},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./EventManager.ts","./UserDataManager.ts","./TrackingEvents.ts","./TrackingMgr.ts"],(function(t){"use strict";var _,e,a,i,s,o,r,T,S,u,E,P,n,l;return{setters:[function(t){_=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.v3,s=t.Component},function(t){o=t.language},function(t){r=t.PLAYER_CHARACTER,T=t.PopupUnlockState},function(t){S=t.default,u=t.MyEvent},function(t){E=t.UserDataManager},function(t){P=t.default},function(t){n=t.TutorialProgress,l=t.TutorialAction}],execute:function(){var C,c;t({TUTORIAL_ACTION:void 0,TUTORIAL_EVENT_NAME:void 0,TUTORIAL_GESTURE:void 0,TUTORIAL_STATE:void 0,TUTORIAL_TYPE:void 0}),e._RF.push({},"dd9acwwb3tPJLNwNU4Fv7mB","TutorialManager",void 0);var O,h,p,I,A,R=a.ccclass;a.property;!function(t){t[t.NONE=0]="NONE",t[t.AP_STEP_1=1]="AP_STEP_1",t[t.AP_STEP_2=2]="AP_STEP_2",t[t.DM_STEP_1=3]="DM_STEP_1",t[t.DM_STEP_2=4]="DM_STEP_2",t[t.DM_STEP_3=5]="DM_STEP_3",t[t.DM_STEP_4=6]="DM_STEP_4",t[t.DM_STEP_5=7]="DM_STEP_5",t[t.DM_STEP_6=8]="DM_STEP_6",t[t.DM_STEP_7=9]="DM_STEP_7",t[t.DR_STEP_1=10]="DR_STEP_1",t[t.DR_STEP_2=11]="DR_STEP_2",t[t.SHOP_STEP_1_1=12]="SHOP_STEP_1_1",t[t.SHOP_STEP_1_2=13]="SHOP_STEP_1_2",t[t.SHOP_STEP_1_3=14]="SHOP_STEP_1_3",t[t.SHOP_STEP_1_4=15]="SHOP_STEP_1_4",t[t.SHOP_STEP_1_5=16]="SHOP_STEP_1_5",t[t.SHOP_STEP_1_6=17]="SHOP_STEP_1_6",t[t.SHOP_STEP_1_7=18]="SHOP_STEP_1_7",t[t.SHOP_STEP_2_1=19]="SHOP_STEP_2_1",t[t.SHOP_STEP_2_2=20]="SHOP_STEP_2_2",t[t.SHOP_STEP_2_3=21]="SHOP_STEP_2_3",t[t.SHOP_STEP_2_4=22]="SHOP_STEP_2_4",t[t.SHOP_STEP_2_5=23]="SHOP_STEP_2_5",t[t.BSTR_STEP_1=24]="BSTR_STEP_1",t[t.BSTR_STEP_2=25]="BSTR_STEP_2",t[t.BSTR_STEP_3=26]="BSTR_STEP_3",t[t.BSTR_STEP_4=27]="BSTR_STEP_4",t[t.BSTR_STEP_5=28]="BSTR_STEP_5",t[t.FRND_STEP_1=29]="FRND_STEP_1",t[t.FRND_STEP_2=30]="FRND_STEP_2",t[t.FRND_STEP_3=31]="FRND_STEP_3",t[t.FRND_STEP_4=32]="FRND_STEP_4",t[t.FRND_STEP_5=33]="FRND_STEP_5",t[t.FRND_STEP_6=34]="FRND_STEP_6",t[t.ACHI_STEP_1=35]="ACHI_STEP_1",t[t.ACHI_STEP_2=36]="ACHI_STEP_2",t[t.ACHI_STEP_3=37]="ACHI_STEP_3",t[t.SELECT_MAP_1=38]="SELECT_MAP_1",t[t.SELECT_MAP_2=39]="SELECT_MAP_2",t[t.SELECT_MAP_3=40]="SELECT_MAP_3"}(O||(O=t("TUTORIAL_STATE",{}))),function(t){t[t.NONE=-1]="NONE",t[t.DAILY_MISSION=0]="DAILY_MISSION",t[t.DAILY_REWARD=1]="DAILY_REWARD",t[t.ACHIEVEMENT=2]="ACHIEVEMENT",t[t.BUY_BOOSTER=3]="BUY_BOOSTER",t[t.BUY_ACCESSORIES=4]="BUY_ACCESSORIES",t[t.EQUIP_BOOSTER=5]="EQUIP_BOOSTER",t[t.ACTION_PHASE=6]="ACTION_PHASE",t[t.PLAY_WITH_FRIEND=7]="PLAY_WITH_FRIEND",t[t.SELECT_MAP=8]="SELECT_MAP"}(h||(h=t("TUTORIAL_TYPE",{}))),function(t){t.COMPLETED="Tutorial Completed",t.NEXT="Tutorial Next",t.STARTED="Tutorial Started"}(p||(p=t("TUTORIAL_ACTION",{}))),function(t){t[t.NONE=0]="NONE",t[t.TOUCH=1]="TOUCH",t[t.SWIPE_LEFT=2]="SWIPE_LEFT",t[t.SWIPE_RIGHT=3]="SWIPE_RIGHT"}(I||(I=t("TUTORIAL_GESTURE",{}))),function(t){t.UPDATE_TUTORIAL="tutorial_update",t.SHOW_TUTORIAL="tutorial_show",t.HIDE_TUTORIAL="tutorial_hide"}(A||(A=t("TUTORIAL_EVENT_NAME",{})));t("TutorialManager",R("TutorialManger")(((c=function(t){function e(){for(var _,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(_=t.call.apply(t,[this].concat(a))||this).clickTargetPos=null,_.isTutorial=!1,_.tutorialState=O.NONE,_.tutorialTimeSpent=0,_.tutorialStep=n.ACHIEVEMENT,_.tutorialGesture=void 0,_.dialogText="",_._tutorialCallback=void 0,_._touchStartLoc=i(),_}_(e,t);var a=e.prototype;return a.onLoad=function(){e.Instance=this},a.update=function(t){this.isTutorial&&(this.tutorialTimeSpent+=t)},a.setState=function(t,_){if(void 0===_&&(_=""),this.tutorialState!=t){this.tutorialState=t;var e=_,a=!1,s="",r=null;switch(this.tutorialState){case O.NONE:this.tutorialGesture=I.NONE,e="",s="";break;case O.AP_STEP_1:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_Schoki",s=o.t("tutorials_lobby_1"),r=i(0,900,0);break;case O.AP_STEP_2:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_Public",s=o.t("tutorials_lobby_2"),r=i(0,900,0),a=!0;break;case O.DM_STEP_1:this.tutorialGesture=I.SWIPE_LEFT,s=o.t("tutorials_swipe_1"),r=i(0,0,0);break;case O.DM_STEP_2:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_DailyMission",s=o.t("tutorials_mission_1"),r=i(0,0,0),a=!0;break;case O.DM_STEP_3:""!=e&&(this.tutorialGesture=I.TOUCH),s=o.t("tutorials_mission_1"),r=i(0,0,0),a=!0;break;case O.DM_STEP_4:""!=e&&(this.tutorialGesture=I.TOUCH),s=o.t("tutorials_mission_2"),r=i(0,0,0),a=!0;break;case O.DM_STEP_5:""!=e&&(this.tutorialGesture=I.TOUCH),e="Canvas/2D UI/Center/Tut_Public",a=!0;break;case O.DM_STEP_6:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_ap_1"),r=i(0,0,0),a=!0;break;case O.DM_STEP_7:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_ap_2"),r=i(0,0,0),a=!0;break;case O.DR_STEP_1:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_dr_1"),r=i(0,0,0);break;case O.DR_STEP_2:this.tutorialGesture=I.TOUCH,a=!0;break;case O.SHOP_STEP_1_1:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_Shop",s=o.t("tutorials_store_1"),r=i(0,0,0);break;case O.SHOP_STEP_1_2:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_store_4"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_1_3:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Shop/Container/Footer/Layout Buttons/ButtonBooster",a=!0;break;case O.SHOP_STEP_1_4:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_store_6"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_1_5:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Shop/Container/Body/ScrollView/view/content/BoosterListItem/BG",s=o.t("tutorials_store_7"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_1_6:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Shop/Container/Body/ScrollView/view/content/BoosterListItem/BG",s=o.t("tutorials_store_8"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_1_7:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Shop/Container/Body/ScrollView/view/content/BoosterListItem/Button Buy",s=o.t("tutorials_store_9"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_2_1:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Shop/Container/Footer/Layout Buttons/ButtonAccessory",s=o.t("tutorials_store_5"),r=i(0,900,0);break;case O.SHOP_STEP_2_2:this.tutorialGesture=I.TOUCH,e="Canvas/Popups//Popup Shop/Container/Characters/SchokiSpotlight/Select",s=o.t("tutorials_store_5"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_2_3:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_store_11"),r=i(0,0,0),a=!0;break;case O.SHOP_STEP_2_4:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_store_2"),r=i(0,900,0),a=!0;break;case O.SHOP_STEP_2_5:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_store_3"),r=i(0,900,0),a=!0;break;case O.BSTR_STEP_1:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_Booster",s=o.t("tutorials_store_12"),r=i(0,900,0);break;case O.BSTR_STEP_2:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Boosters/Container/Popup Booster Selection/Panel/Booster Grid/Booster_01",s=o.t("tutorials_booster_1"),r=i(0,0,0),a=!0;break;case O.BSTR_STEP_3:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Boosters/Container/Popup Booster Selection/Panel/Button OK",s=o.t("tutorials_booster_2"),r=i(0,900,0),a=!0;break;case O.BSTR_STEP_4:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_mission_3"),r=i(0,0,0),a=!0;break;case O.BSTR_STEP_5:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_mission_4"),r=i(0,0,0),a=!0;break;case O.ACHI_STEP_1:this.tutorialGesture=I.SWIPE_RIGHT;break;case O.ACHI_STEP_2:this.tutorialGesture=I.TOUCH,e="Canvas/2D UI/Center/Tut_Achievement",a=!0;break;case O.ACHI_STEP_3:a=!0;break;case O.FRND_STEP_1:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Private/Container/Multi-Private/Button Create",s=o.t("tutorials_private_1"),r=i(0,0,0);break;case O.FRND_STEP_2:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Private/Container/Multi-Private/Create/Room Code",s=o.t("tutorials_private_2"),r=i(0,0,0),a=!0;break;case O.FRND_STEP_3:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Private/Container/Multi-Private/Create/Button Invite",s=o.t("tutorials_private_3"),r=i(0,0,0),a=!0;break;case O.FRND_STEP_4:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Private/Container/Multi-Private/Join/EditBox",s=o.t("tutorials_private_4"),r=i(0,0,0),a=!0;break;case O.FRND_STEP_5:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Private/Container/Multi-Private/Join/Button Join",s=o.t("tutorials_private_5"),r=i(0,0,0),a=!0;break;case O.FRND_STEP_6:this.tutorialGesture=I.TOUCH,s=o.t("tutorials_private_6"),r=i(0,0,0),a=!0;break;case O.SELECT_MAP_1:this.tutorialGesture=I.TOUCH,e="Canvas/Popups/Popup Unlock Env/Container/Popup Booster Selection/Panel/Button OK";break;case O.SELECT_MAP_2:this.tutorialGesture=I.TOUCH,r=i(0,0,0),s=o.t("tutorials_map_1"),a=!0;break;case O.SELECT_MAP_3:this.tutorialGesture=I.TOUCH,r=i(0,0,0),e="Canvas/2D UI/Center/Tut_SelectMap",s=o.t("tutorials_map_2"),a=!0}this.dialogText=s,S.GetInstance().dispatchEvent(new u(A.UPDATE_TUTORIAL,{state:this.tutorialState,tutorialGesture:this.tutorialGesture,targetPath:e,dialogText:s,dialogPos:r})),a&&P.Send_TUTORIAL_INTERACTION(l.NEXT,this.tutorialStep,this.tutorialTimeSpent)}},a.active=function(t,_,e){if(void 0===_&&(_=h.NONE),void 0===e&&(e=null),this._tutorialCallback=e,t){switch(this.isTutorial=!0,this.tutorialTimeSpent=0,S.GetInstance().dispatchEvent(new u(A.SHOW_TUTORIAL,{})),_){case h.DAILY_MISSION:this.tutorialStep=n.DAILY_MISSION,this.setState(O.DM_STEP_1);break;case h.DAILY_REWARD:this.tutorialStep=n.DAILY_REWARD,this.setState(O.DR_STEP_1);break;case h.ACHIEVEMENT:this.tutorialStep=n.ACHIEVEMENT,this.setState(O.ACHI_STEP_1);break;case h.BUY_BOOSTER:this.tutorialStep=n.STORE_1,this.setState(O.SHOP_STEP_1_1);break;case h.BUY_ACCESSORIES:this.tutorialStep=n.STORE_1,this.setState(O.SHOP_STEP_2_1);break;case h.EQUIP_BOOSTER:this.tutorialStep=n.SELECT_BOOSTER,this.setState(O.BSTR_STEP_1);break;case h.ACTION_PHASE:this.tutorialStep=n.PUBLIC,this.setState(O.AP_STEP_1);break;case h.PLAY_WITH_FRIEND:this.tutorialStep=n.PRIVATE,this.setState(O.FRND_STEP_1);break;case h.SELECT_MAP:this.tutorialStep=n.NEW_MAP,this.setState(O.SELECT_MAP_1)}if(_>=0&&_<=h.SELECT_MAP){if(_==h.BUY_ACCESSORIES)return;P.Send_TUTORIAL_INTERACTION(l.STARTED,this.tutorialStep,this.tutorialTimeSpent)}}else this.isTutorial=!1,S.GetInstance().dispatchEvent(new u(A.HIDE_TUTORIAL,{})),_>=0&&_<=h.SELECT_MAP&&(_!=h.BUY_BOOSTER&&_!=h.BUY_ACCESSORIES&&_!=h.SELECT_MAP&&P.Send_TUTORIAL_INTERACTION(l.COMPLETED,this.tutorialStep,this.tutorialTimeSpent),_==h.BUY_ACCESSORIES&&(P.Send_TUTORIAL_INTERACTION(l.COMPLETED,n.STORE_1,this.tutorialTimeSpent),P.Send_TUTORIAL_INTERACTION(l.COMPLETED,n.FINISHED,this.tutorialTimeSpent)),_==h.ACTION_PHASE&&(E.Instance.lobbyData.character=r.SCHOKI,E.Instance.saveLobbyData()),_==h.SELECT_MAP&&(E.Instance.tutorialData.unlockEnv2=T.UNLOCKED,E.Instance.saveTutorialData(),P.Send_TUTORIAL_INTERACTION(l.COMPLETED,n.NEW_MAP,this.tutorialTimeSpent))),this.setState(O.NONE)},a.updateClickTarget=function(t){this.clickTargetPos=t},a.onTutorialSwipeLeft=function(){this.tutorialGesture==I.SWIPE_LEFT&&this._tutorialCallback(this.tutorialState)},a.onTutorialSwipeRight=function(){this.tutorialGesture==I.SWIPE_RIGHT&&this._tutorialCallback(this.tutorialState)},a.onTutorialClick=function(){this.tutorialGesture==I.TOUCH&&this._tutorialCallback(this.tutorialState)},a.onTouchStart=function(t,_){this._touchStartLoc.x=t,this._touchStartLoc.y=_},a.onTouchEnd=function(t,_,e){void 0===e&&(e=!0);var a=t-this._touchStartLoc.x;Math.abs(a)<=50?e&&this.onTutorialClick():a>0?this.onTutorialSwipeRight():this.onTutorialSwipeLeft(),this._touchStartLoc.x=0,this._touchStartLoc.y=0},a.onTouchCancel=function(t,_){},e}(s)).Instance=null,C=c))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialObs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./Dialogue.ts","./VolleyballNet.ts","./PlayerManager.ts","./UIManager.ts"],(function(e){"use strict";var t,a,i,s,n,o,c,r,l,p,u,h,d,k,y,T,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Enum,r=e.Component},function(e){l=e.SWIPEType,p=e.default,u=e.SKILL,h=e.PLAYER_CHARACTER},function(e){d=e.RunningGameManager},function(e){k=e.Dialogue,y=e.DIALOGUE_TYPE},function(e){T=e.VolleyballNet},function(e){w=e.PlayerManager},function(e){I=e.UIManager}],execute:function(){var P,_,S,f,g,b,m,F,z,A,v,R;n._RF.push({},"f28338e7oBKgIvrvvaE/ikQ","TutorialObs",void 0);var B=o.ccclass,X=o.property;e("TutorialObs",(P=B("TutorialObs"),_=X({type:c(l)}),P((g=t((f=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"distanceToPlayerSlowMotion",g,s(t)),i(t,"distanceToPlayerAction",b,s(t)),i(t,"distanceToPlayerAction2",m,s(t)),i(t,"distanceToThrowBackpack",F,s(t)),i(t,"distanceToReceiveBackpack",z,s(t)),i(t,"swipeType",A,s(t)),i(t,"distanceToShowDialogue",v,s(t)),i(t,"dialogueType",R,s(t)),t.isPassed=!1,t.backpackThrew=!1,t.backpackReceive=!1,t._hasSlowed=!1,t.isReached=!1,t.isShownDialogue=!1,t}return a(t,e),t.prototype.update=function(e){if(!d.IsPause){var t=w.Instance.thisPlayer.node.getWorldPosition(),a=this.node.getWorldPosition(),i=d.Instance.speed/p.DEFAULT_RUNNING_SPEED;if(!this.isPassed)if(this.distanceToShowDialogue>0&&this.dialogueType&&""!=this.dialogueType&&!this.isShownDialogue&&t.z<a.z+this.distanceToShowDialogue*i&&(this.isShownDialogue=!0,d.IsPause=!0,w.Instance.PauseAnim(),d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),k.instance.Show(this.dialogueType,(function(){d.IsPause=!1,w.Instance.ResumeAnim(),d.Instance.milkyFootstepSFX.play(),d.Instance.schokiFootstepSFX.play()}),!0)),this.distanceToPlayerAction>0&&0==this.distanceToPlayerAction2&&!I.Instance.m_handTutorial.isHandShown()&&t.z<a.z+this.distanceToPlayerAction*i){this.isPassed=!0;var s=[y.swipe_to_jump,y.swipe_to_ask,y.swipe_to_pass,y.swipe_to_jump,y.swipe_to_slide,y.swipe_to_jump_higher,y.swipe_to_jump_down][this.swipeType];if(s==y.swipe_to_pass&&!w.Instance.thisPlayer.hasBackpack)return;d.IsPause=!0,w.Instance.PauseAnim(),d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),this.swipeType==l.UP&&w.Instance.thisPlayer.skill==u.JUMP&&(s=y.swipe_to_jump_higher),k.instance.Show(s),d.Instance.showHandTutorial(this.swipeType)}else if(this.distanceToPlayerSlowMotion>0&&t.z<a.z+this.distanceToPlayerSlowMotion*i&&d.Instance.timeScale>.5&&0==this._hasSlowed)d.Instance.timeScale=.5,this._hasSlowed=!0;else if(this.distanceToThrowBackpack>0&&!this.backpackThrew&&w.Instance.thisPlayer.hasBackpack){var n=this.getComponent(T);0==this.backpackThrew&&(t.z<a.z+this.distanceToThrowBackpack*i?(d.IsPause=!0,d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),w.Instance.PauseAnim(),this.backpackThrew=!0,d.Instance.showHandTutorial(l.RIGHT),k.instance.Show(y.swipe_to_pass)):t.z<a.z+this.distanceToThrowBackpack*i+10*i&&w.Instance.thisPlayer.hasBackpack&&!w.Instance.isThrowing&&!k.instance.node.active&&n&&(d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),k.instance.Show(y.parner_need_backpack_to_slide)))}else if(this.distanceToReceiveBackpack>0)0==this.backpackReceive&&(t.z<a.z+this.distanceToReceiveBackpack*i?(this.backpackReceive=!0,w.Instance.setBackpackSide(h.MILKY),k.instance.Close()):t.z<a.z+this.distanceToReceiveBackpack*i+10*i&&(w.Instance.thisPlayer.hasBackpack||k.instance.node.active||(d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),k.instance.Show(y.you_need_backpack_to_slide))));else if(this.distanceToPlayerAction>0&&this.distanceToPlayerAction2<0&&t.z<a.z+this.distanceToPlayerAction*i&&!this.isReached){this.isReached=!0,d.IsPause=!0,d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),w.Instance.PauseAnim();var o=y.swipe_to_jump;k.instance.Show(o),d.Instance.showHandTutorial(l.UP)}else if(this.distanceToPlayerAction>0&&this.distanceToPlayerAction2<0&&t.z<a.z+this.distanceToPlayerAction2*i&&this.isReached){this.isPassed=!0,d.IsPause=!0,d.Instance.milkyFootstepSFX.pause(),d.Instance.schokiFootstepSFX.pause(),w.Instance.PauseAnim();var c=y.swipe_to_jump_down;k.instance.Show(c),d.Instance.showHandTutorial(this.swipeType)}}},t}(r)).prototype,"distanceToPlayerSlowMotion",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),b=t(f.prototype,"distanceToPlayerAction",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=t(f.prototype,"distanceToPlayerAction2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(f.prototype,"distanceToThrowBackpack",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(f.prototype,"distanceToReceiveBackpack",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(f.prototype,"swipeType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.UP}}),v=t(f.prototype,"distanceToShowDialogue",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(f.prototype,"dialogueType",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=f))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialRockFail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./SoundManager.ts","./PlayerManager.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,l,u,p,d,y,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Component},function(t){c=t.GameActions,l=t.ItemType,u=t.AudioSrc,p=t.VFX_CHARACTER},function(t){d=t.RunningGameManager},function(t){y=t.SoundManager},function(t){f=t.PlayerManager}],execute:function(){var h,g,P,I,v;a._RF.push({},"fa941auv3NBBJ66J33INiQA","TutorialRockFail",void 0);var F=r.ccclass,S=r.property;t("TutorialRockFail",(h=F("TutorialRockFail"),g=S(Number),h((v=n((I=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._isPass=!1,i(n,"checkDistance",v,o(n)),n}e(n,t);var a=n.prototype;return a.update=function(t){if(!this._isPass){var n=f.Instance.thisPlayer.node.getWorldPosition(),e=this.node.getWorldPosition();if(n.z-e.z<=0)return this._isPass=!0,void this.onHit()}},a.onHit=function(){d.Instance.sendAction({action:c.Collision,group:l.SMALL_OBSTACLE,player:!0}),y.Instance.playOneShot(u.HIT_OBSTACLE),d.Instance.milkyFootstepSFX.stop(),d.Instance.schokiFootstepSFX.stop(),y.Instance.playDizzySound(),f.Instance.thisPlayer.vfxCtrl.playVFX(p.HIT,!0,!1);var t=f.Instance.thisPlayer.node.getWorldPosition().z,n=this.node.getWorldPosition();this.node.setWorldPosition(n.x,n.y,t-5)},n}(s)).prototype,"checkDistance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=I))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./GameResourceManager.ts","./NetworkManager.ts","./RunningGameManager.ts","./SoundManager.ts","./OnlineMgr.ts","./QTE1Manager.ts","./QTE2Manager.ts","./QTE3Manager.ts","./Transition.ts","./LevelManager.ts","./PlayerManager.ts","./HandTutorial.ts","./UserDataManager.ts","./UIQTE.ts"],(function(e){"use strict";var t,n,i,a,r,s,o,l,c,p,u,h,m,d,g,k,P,b,_,f,y,I,T,v,U,C,w,R,E,N,S,B,L,M,O,A,q,z,H,Y,D,x,F,W,Q,K,G,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,p=e.Camera,u=e.Node,h=e.Label,m=e.ProgressBar,d=e.Sprite,g=e.SpriteFrame,k=e.v3,P=e.Vec3,b=e.UIOpacity,_=e.Animation,f=e.tween,y=e.director,I=e.Component,T=e.instantiate},function(e){v=e.language},function(e){U=e.SessionInfo,C=e.EnvironmentType,w=e.EnvUnlockCondition,R=e.PLAYER_CHARACTER,E=e.PLAYER_TYPE,N=e.SWIPEType,S=e.AudioSrc,B=e.default,L=e.ROOM_STATE,M=e.QTE_TYPE},function(e){O=e.GameResourceManager},function(e){A=e.NetworkManager},function(e){q=e.RunningGameManager},function(e){z=e.SoundManager},function(e){H=e.default},function(e){Y=e.QTE1Manager},function(e){D=e.QTE2Manager},function(e){x=e.QTE3Manager},function(e){F=e.Transition},function(e){W=e.LevelManager},function(e){Q=e.PlayerManager},function(e){K=e.HandTutorial},function(e){G=e.UserDataManager},function(e){j=e.UIQTE}],execute:function(){var X,V,J,Z,$,ee,te,ne,ie,ae,re,se,oe,le,ce,pe,ue,he,me,de,ge,ke,Pe,be,_e,fe,ye,Ie,Te,ve,Ue,Ce,we,Re,Ee,Ne,Se,Be,Le,Me,Oe,Ae,qe,ze,He,Ye,De,xe,Fe,We,Qe,Ke,Ge,je,Xe,Ve,Je,Ze,$e,et;l._RF.push({},"bde31xQRBFNbpjlEJX+Xl6L","UIManager",void 0);var tt=c.ccclass,nt=c.property;e("UIManager",(X=tt("UIManager"),V=nt(p),J=nt(u),Z=nt(u),$=nt(u),ee=nt(u),te=nt(h),ne=nt(h),ie=nt(h),ae=nt(h),re=nt(u),se=nt(u),oe=nt(K),le=nt(h),ce=nt(u),pe=nt(m),ue=nt(u),he=nt(d),me=nt(d),de=nt(h),ge=nt(h),ke=nt(h),Pe=nt(g),be=nt(g),_e=nt(u),fe=nt(h),ye=nt(h),Ie=nt(d),Te=nt(j),X(((et=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"uiCamera",Ce,a(t)),i(t,"uiContainer",we,a(t)),i(t,"qteContainer",Re,a(t)),i(t,"popupContainer",Ee,a(t)),i(t,"qteTransition",Ne,a(t)),i(t,"m_coinCollectLabel",Se,a(t)),i(t,"m_distanceLabel",Be,a(t)),i(t,"m_labelPlayer",Le,a(t)),i(t,"m_labelAI",Me,a(t)),i(t,"m_nodeThisRequestBackpack",Oe,a(t)),i(t,"m_nodeRequestBackpack",Ae,a(t)),i(t,"m_handTutorial",qe,a(t)),i(t,"m_labelPing",ze,a(t)),i(t,"mapProgression",He,a(t)),i(t,"mpProgressHL",Ye,a(t)),i(t,"mpPointer",De,a(t)),i(t,"mpStartIcon",xe,a(t)),i(t,"mpEndIcon",Fe,a(t)),i(t,"mpStartLabel",We,a(t)),i(t,"mpEndlabel",Qe,a(t)),i(t,"mpTargetDistance",Ke,a(t)),i(t,"envUnlockSprite",Ge,a(t)),i(t,"powerupUnlockSprite",je,a(t)),i(t,"popupUnlock",Xe,a(t)),i(t,"labelCongrats",Ve,a(t)),i(t,"labelUnlock",Je,a(t)),i(t,"iconUnlock",Ze,a(t)),i(t,"uiQTE",$e,a(t)),t._needThisBackpackTimer=0,t._needBackpackTimer=0,t._displayNameTimer=0,t._isHiding=!1,t._lastPlayerPosY=-1e3,t._lastOtherPlayerPosY=-1e3,t.isMapProgressionActive=!1,t.targetProgression=null,t.currentProgress=0,t.progressCheckpoint=[1/4,.5,3/4,1],t.isMapUnlockShown=!1,t.isFinalCheckpoint=!1,t.popupUnlockTimer=0,t.UNLOCK_DURATION=2,t.tweenOpacity=null,t}n(t,e);var l=t.prototype;return l.initQTECanvas=function(){var e=s(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=M.Badminton||!Y.Instance){e.next=2;break}return e.abrupt("return");case 2:if(t!=M.Music||!D.Instance){e.next=4;break}return e.abrupt("return");case 4:if(t!=M.Crab||!x.Instance){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,O.Instance.loadQTECanvas(t);case 8:n=e.sent,i=T(n),this.qteContainer.addChild(i);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.onLoad=function(){t.Instance=this,this.displayName(!1)},l.start=function(){this.resetGame()},l.updatePing=function(e){this.m_labelPing&&(this.m_labelPing.string=e+"ms"),console.log("Ping",e)},l.resetGame=function(){if(this.updateUILabel(U.COIN,0),this.updateUILabel(U.DISTANCE,0),this.updateUILabel(U.CLUSTER,"NONE"),this.updateUILabel(U.SPEED,0),this.updateUILabel(U.PASSRATE,1),this.m_labelPlayer.string=H.userName?H.userName:"You",this.m_labelAI.string=A.Instance.otherPlayerInfo.userName,this.showHandTutorial(!1),this.m_labelPlayer.node.setPosition(k(-9999,-9999)),this.m_labelAI.node.setPosition(k(-9999,-9999)),this.m_nodeRequestBackpack&&(this.m_nodeThisRequestBackpack.setPosition(k(-9999,-9999)),this.m_nodeRequestBackpack.setPosition(k(-9999,-9999))),this.isMapProgressionActive=!1,this.isFinalCheckpoint=!1,this.targetProgression=null,G.Instance.userData.unlockedEnvironment<C.URBAN?(this.isMapProgressionActive=!0,this.targetProgression=w[C.URBAN]):G.Instance.userData.unlockedEnvironment<C.SNOW&&(this.isMapProgressionActive=!0,this.targetProgression=w[C.SNOW]),this.isMapProgressionActive){var e=this.mpPointer.getPosition();e=new P(-this.mpProgressHL.totalLength/2+0,e.y,e.z),this.mpPointer.setPosition(e),this.currentProgress=0,this.updateProgressionSpriteFrames()}this.progressCheckpoint=[1/4,.5,3/4,1],this.mpProgressHL.progress=0,this.mapProgression.active=!1,this.popupUnlock.active=!1,this.mapProgression.getComponent(b).opacity=0,this.popupUnlock.getComponent(b).opacity=0,this.tweenOpacity&&this.tweenOpacity.stop()},l.updateProgressionSpriteFrames=function(){switch(this.mpTargetDistance.string=this.targetProgression.value+"m",this.mpStartLabel.string=v.t(this.targetProgression.prequisite_name),this.mpEndlabel.string=v.t(this.targetProgression.name),this.targetProgression.type){case C.URBAN:this.mpStartIcon.spriteFrame=this.envUnlockSprite[C.TROPICAL],this.mpEndIcon.spriteFrame=this.envUnlockSprite[C.URBAN];break;case C.SNOW:this.mpStartIcon.spriteFrame=this.envUnlockSprite[C.URBAN],this.mpEndIcon.spriteFrame=this.envUnlockSprite[C.SNOW]}},l.displayName=function(e){void 0===e&&(e=!0),e?(this._displayNameTimer=3,this.m_labelPlayer.node.active=!0,this.m_labelAI.node.active=!0):(this._displayNameTimer=0,this.m_labelPlayer.node.active=!1,this.m_labelAI.node.active=!1)},l.displayNeedBackpack=function(e,t){Q.Instance.thisPlayer.character==e?t?this.m_nodeThisRequestBackpack&&!this.m_nodeThisRequestBackpack.active&&(this._needThisBackpackTimer=3,q.Instance.isInTutorial||W.Instance.m_Editor||q.Instance.requestBackpackTime++,this.m_nodeThisRequestBackpack.active=!0):(this._displayNameTimer=0,this.m_nodeThisRequestBackpack&&(this.m_nodeThisRequestBackpack.active=!1)):t?this.m_nodeRequestBackpack&&!this.m_nodeThisRequestBackpack.active&&(this._needBackpackTimer=3,this.m_nodeRequestBackpack.active=!0):(this._displayNameTimer=0,this.m_nodeRequestBackpack&&(this.m_nodeRequestBackpack.active=!1))},l.updateThisNeedBackpack=function(e){if(this._needThisBackpackTimer-=e,this._needThisBackpackTimer<=0)this.m_nodeThisRequestBackpack&&(this.m_nodeThisRequestBackpack.active=!1);else if(this.m_nodeThisRequestBackpack&&(this._lastPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.thisPlayer.node.getWorldPosition(),this.m_nodeThisRequestBackpack.parent).y,this.m_nodeThisRequestBackpack.active)){this._lastPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.thisPlayer.node.getWorldPosition(),this.m_nodeThisRequestBackpack.parent).y;var t=q.Instance.playerCamera.convertToUINode(Q.Instance.thisPlayer.node.getWorldPosition(),this.m_nodeThisRequestBackpack.parent),n=Q.Instance.thisPlayer.character==R.SCHOKI?-150:150,i=Q.Instance.thisPlayer.character==R.SCHOKI?.6:-.6,a=this.m_nodeThisRequestBackpack.getPosition();if(a.x<=-9e3||a.y<=-9e3)this.m_nodeThisRequestBackpack.setPosition(k(t.x,this._lastPlayerPosY).add(k(n,350)));else{this.m_nodeThisRequestBackpack.setScale(i,.6,1);var r=k(t.x,this._lastPlayerPosY).add(k(n,350)),s=k(0,0,0);P.lerp(s,a,r,.25),this.m_nodeThisRequestBackpack.setPosition(s)}}},l.updateNeedBackpack=function(e){if(this._needBackpackTimer-=e,this._needBackpackTimer<=0)this.m_nodeRequestBackpack&&(this.m_nodeRequestBackpack.active=!1);else if(this.m_nodeRequestBackpack&&(this._lastPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.otherPlayer.node.getWorldPosition(),this.m_nodeRequestBackpack.parent).y,this.m_nodeRequestBackpack.active)){this._lastPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.otherPlayer.node.getWorldPosition(),this.m_nodeRequestBackpack.parent).y;var t=q.Instance.playerCamera.convertToUINode(Q.Instance.otherPlayer.node.getWorldPosition(),this.m_nodeRequestBackpack.parent),n=Q.Instance.otherPlayer.character==R.SCHOKI?-150:150,i=Q.Instance.otherPlayer.character==R.SCHOKI?1:-1,a=this.m_nodeRequestBackpack.getPosition();if(a.x<=-9e3||a.y<=-9e3)this.m_nodeRequestBackpack.setPosition(k(t.x,this._lastPlayerPosY).add(k(n,350)));else{this.m_nodeRequestBackpack.setScale(i,1,1);var r=k(t.x,this._lastPlayerPosY).add(k(n,350)),s=k(0,0,0);P.lerp(s,a,r,.25),this.m_nodeRequestBackpack.setPosition(s)}}},l.updateDisplayName=function(e){if(this._displayNameTimer-=e,this._displayNameTimer<=0)return this.m_labelPlayer.node.active&&(this.m_labelPlayer.node.active=!1),void(this.m_labelAI.node.active&&(this.m_labelAI.node.active=!1));if(this.m_labelPlayer.node.active){this._lastPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.thisPlayer.node.getWorldPosition(),this.m_labelPlayer.node.parent).y;var t=q.Instance.playerCamera.convertToUINode(Q.Instance.thisPlayer.node.getWorldPosition(),this.m_labelPlayer.node.parent),n=Q.Instance.thisPlayer.character==R.SCHOKI?-0:0,i=this.m_labelPlayer.node.getPosition();if(i.x<=-9e3||i.y<=-9e3)this.m_labelPlayer.node.setPosition(k(t.x,this._lastPlayerPosY).add(k(n,400)));else{var a=k(t.x,this._lastPlayerPosY).add(k(n,400)),r=k(0,0,0);P.lerp(r,i,a,.25),this.m_labelPlayer.node.setPosition(r)}}if(this.m_labelAI.node.active){this._lastOtherPlayerPosY=q.Instance.playerCamera.convertToUINode(Q.Instance.otherPlayer.node.getWorldPosition(),this.m_labelPlayer.node.parent).y;var s=q.Instance.playerCamera.convertToUINode(Q.Instance.otherPlayer.node.getWorldPosition(),this.m_labelAI.node.parent),o=Q.Instance.otherPlayer.character==R.SCHOKI?-0:0,l=this.m_labelAI.node.getPosition();if(l.x<=-9e3||l.y<=-9e3)this.m_labelAI.node.setPosition(k(s.x,this._lastPlayerPosY).add(k(o,400)));else{var c=k(s.x,this._lastPlayerPosY).add(k(o,400)),p=k(0,0,0);P.lerp(p,l,c,.25),this.m_labelAI.node.setPosition(p)}}},l.startCounting=function(){return new Promise((function(e){e()}))},l.showReadyLabel=function(e){},l.update=function(e){q.IsPause||(this.updateDisplayName(e),this.updateThisNeedBackpack(e),this.updateNeedBackpack(e),this.updateMapProgression(e))},l.showRollingRockIndicator=function(e,t,n){t==E.AI||E.PLAYER},l.showHandTutorial=function(e,t){if(e){this.showBackpackHint(!1),this.m_handTutorial.node.active=!0,this.m_handTutorial.hide();var n=null;switch(t){case N.DOWN:n=this.m_handTutorial.m_dash;break;case N.UP:case N.UP_X2:n=this.m_handTutorial.m_jump;break;case N.RIGHT:n=this.m_handTutorial.m_throw;break;case N.LEFT:n=this.m_handTutorial.m_request}if(n)n.active=!0,n.getComponent(_).play()}else this.m_handTutorial.node.active=!1},l.showBackpackHint=function(e,t){if(void 0===t&&(t=N.NONE),!e||!(t==N.LEFT&&Q.Instance.thisPlayer.hasBackpack&&!Q.Instance.isThrowing||t==N.RIGHT&&Q.Instance.otherPlayer.hasBackpack&&!Q.Instance.isThrowing))if(e&&q.Instance.isInTutorial){this.m_handTutorial.node.active=!0,this.m_handTutorial.hide();var n=this.m_handTutorial.m_blink,i=t==N.LEFT?-200:200;if(n.setPosition(k(i,n.position.y)),n)n.active=!0,n.getComponent(_).play()}else this.m_handTutorial.m_blink.active=!1},l.updateUILabel=function(e,t){switch(e){case U.COIN:this.m_coinCollectLabel&&(this.m_coinCollectLabel.string=t+"");break;case U.DISTANCE:this.m_distanceLabel&&(this.m_distanceLabel.string=Math.floor(t)+"m");break;case U.CLUSTER:case U.SPEED:case U.PASSRATE:}},l.updateMapProgression=function(e){if(this.isMapProgressionActive){this.mpProgressHL.progress=this.currentProgress/this.targetProgression.value;var t=this.mpPointer.getPosition(),n=this.mpProgressHL.totalLength*this.mpProgressHL.progress;if(t=new P(-this.mpProgressHL.totalLength/2+n,t.y,t.z),this.mpPointer.setPosition(t),this.progressCheckpoint.length>0&&!this.isMapUnlockShown&&this.currentProgress>this.targetProgression.value*this.progressCheckpoint[0])if(this.isMapUnlockShown=!0,this.popupUnlockTimer=0,1==this.progressCheckpoint.length){this.isFinalCheckpoint=!0,z.Instance.playOneShot(S.UNLOCK_ENVIRONMENT_MM);var i=G.Instance.unlockNextEnvironment();i!=C.URBAN||q.Instance.isEnv2Unlocked?(i!=C.SNOW||q.Instance.isEnv3Unlocked||(q.Instance.isEnv3Unlocked=!0,this.showPopupUnlockEnvironment(!0)),this.progressCheckpoint.shift()):(q.Instance.isEnv2Unlocked=!0,this.showPopupUnlockEnvironment(!0),this.progressCheckpoint.shift(),this.isMapProgressionActive=!0,this.targetProgression=w[C.SNOW],this.progressCheckpoint=[1/4,.5,3/4,1],this.updateProgressionSpriteFrames())}else this.showMapProgression(!0),this.progressCheckpoint.shift()}},l.showMapProgression=function(e){var t=this,n=e?255:0;e&&(this.mapProgression.active=!0),this.tweenOpacity=f(this.mapProgression.getComponent(b)).to(.5,{opacity:n}).call((function(){1==e?t.scheduleOnce((function(){t.showMapProgression(!1),t.isMapUnlockShown=!1}),t.UNLOCK_DURATION):t.mapProgression.active=!1})).start()},l.showPopupUnlockEnvironment=function(e){var t=this;1==e&&(z.Instance.playOneShot(S.UI_SELECT),this.iconUnlock.spriteFrame=this.envUnlockSprite[this.targetProgression.type],this.labelCongrats.string=v.t("str_login_conflict_env"),this.labelCongrats.string=this.labelCongrats.string.replace("{}",""),this.labelUnlock.string=v.t(this.targetProgression.name));var n=e?255:0;e&&(this.popupUnlock.active=!0),this.tweenOpacity=f(this.popupUnlock.getComponent(b)).to(.5,{opacity:n}).call((function(){1==e?t.scheduleOnce((function(){t.showPopupUnlockEnvironment(!1),t.isMapUnlockShown=!1}),t.UNLOCK_DURATION):(t.isMapUnlockShown=!1,t.popupUnlock.active=!1)})).start()},l.showPopupUnlockPowerup=function(e){var t=this;1==e&&(this.iconUnlock.spriteFrame=this.powerupUnlockSprite[0],this.labelCongrats.string="New power-up unlocked!",this.labelUnlock.string=v.t("powerup_stamper_name"));var n=e?255:0;this.tweenOpacity=f(this.popupUnlock.getComponent(b)).to(.5,{opacity:n}).call((function(){1==e&&t.scheduleOnce((function(){t.showPopupUnlockPowerup(!1),t.isMapUnlockShown=!1}),t.UNLOCK_DURATION)})).start()},l.onButtonImmortalClicked=function(){Q.Instance.passObstacle=!Q.Instance.passObstacle},l.onButtonSkipClicked=function(){z.Instance.playOneShot(S.UI_CLICK),q.IsPause=!0,F.loadScene(B.SCENE_RUNNING,!0)},l.onRestartGame=function(){z.Instance.playOneShot(S.UI_CLICK),W.Instance.m_Editor?y.loadScene(B.SCENE_SEGMENT_EDITOR):A.Instance.sendRoomState({state:L.REPLAY})},l.getCurrentQTEIcon=function(){return this.uiQTE.getCurrentQTEIcon()},r(t,[{key:"isHiding",get:function(){return this._isHiding}}]),t}(I)).Instance=null,Ce=t((Ue=et).prototype,"uiCamera",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Ue.prototype,"uiContainer",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Ue.prototype,"qteContainer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Ue.prototype,"popupContainer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Ue.prototype,"qteTransition",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(Ue.prototype,"m_coinCollectLabel",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Ue.prototype,"m_distanceLabel",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Ue.prototype,"m_labelPlayer",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Ue.prototype,"m_labelAI",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Ue.prototype,"m_nodeThisRequestBackpack",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Ue.prototype,"m_nodeRequestBackpack",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Ue.prototype,"m_handTutorial",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Ue.prototype,"m_labelPing",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ue.prototype,"mapProgression",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ue.prototype,"mpProgressHL",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Ue.prototype,"mpPointer",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Ue.prototype,"mpStartIcon",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ue.prototype,"mpEndIcon",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Ue.prototype,"mpStartLabel",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Ue.prototype,"mpEndlabel",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Ue.prototype,"mpTargetDistance",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ue.prototype,"envUnlockSprite",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=t(Ue.prototype,"powerupUnlockSprite",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=t(Ue.prototype,"popupUnlock",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Ue.prototype,"labelCongrats",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Ue.prototype,"labelUnlock",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Ue.prototype,"iconUnlock",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ue.prototype,"uiQTE",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Ue))||ve));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIQTE.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventManager.ts"],(function(t){"use strict";var e,i,n,r,s,o,a,l,c,u,p,h,m,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Node,l=t.SpriteFrame,c=t.instantiate,u=t.Sprite,p=t.tween,h=t.UIOpacity,m=t.Component},function(t){d=t.EventName},function(t){f=t.default}],execute:function(){var _,T,E,g,I,Q,b,y,q,L,v,C,w,z,P,S,U;s._RF.push({},"59fb669GhVOzKhfxEzwrf6d","UIQTE",void 0);var D=o.ccclass,O=o.property;t("UIQTE",(_=D("UIQTE"),T=O(a),E=O(a),g=O(l),I=O(a),Q=O(a),b=O(a),y=O(a),_((v=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"QTEList",v,r(e)),n(e,"QTEListText",C,r(e)),n(e,"qteSprite",w,r(e)),n(e,"iconContainer",z,r(e)),n(e,"titleNode",P,r(e)),n(e,"iconTemplate",S,r(e)),n(e,"container",U,r(e)),e._qteItems=[],e._qtes=[],e._updateQTEListener=void 0,e._tweenContainer=null,e._tweens=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){this._updateQTEListener=this.updateQTE.bind(this),f.GetInstance().addEventListener(d.UPDATE_QTE,this._updateQTEListener),this.updateQTEList([])},s.onDestroy=function(){f.GetInstance().removeEventListener(d.UPDATE_QTE,this._updateQTEListener)},s.updateQTE=function(t){this.updateQTEList(t.parameters.qtes)},s.updateQTEList=function(t){this._qtes=t.map((function(t){return t}));for(var e=0;e<3;e++){var i=e+1,n=t.indexOf(i);if(-1!=n)if(this._qteItems[i]){this._tweens[i]&&this._tweens[i].stop();var r=this.QTEList.children[n].getWorldPosition(),s=this.QTEList.children[n].getScale();this._tweens[i]=p(this._qteItems[i]).parallel(p().to(.5,{worldPosition:r},{easing:"sineOut"}),p().to(.5,{scale:s},{easing:"sineOut"})).start()}else{this._qteItems[i]=c(this.iconTemplate),this._qteItems[i].getComponentInChildren(u).spriteFrame=this.qteSprite[e],this._qteItems[i].active=!0,this.iconContainer.addChild(this._qteItems[i]);var o=this.QTEList.children[n].getWorldPosition(),a=this.QTEList.children[n].getScale();this._qteItems[i].setWorldPosition(o),this._qteItems[i].setScale(0,0,0),p(this._qteItems[i]).to(.5,{scale:a},{easing:"backOut"}).start()}else this._qteItems[i]&&this._qteItems[i].removeFromParent(),this._qteItems[i]=null;e<t.length?this.QTEList.children[e].getComponent(h).opacity=255:this.QTEList.children[e].getComponent(h).opacity=0}t.length>0?(this.container.getComponent(h).opacity=255,this._tweenContainer&&this._tweenContainer.stop(),this._tweenContainer=p(this.container.getComponent(h)).to(.5,{opacity:255}).delay(2).to(.5,{opacity:100}).start()):this.container.getComponent(h).opacity=0},s.getCurrentQTEIcon=function(){if(this._qtes.length>0){var t=this._qtes[0];if(this._qteItems[t])return this._qteItems[t].getComponentInChildren(u)}return null},e}(m)).prototype,"QTEList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"QTEListText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(L.prototype,"qteSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(L.prototype,"iconContainer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"titleNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"iconTemplate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=L))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,n,r,o,a,c,l,s,u,h,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Enum,l=e.Size,s=e.view,u=e.UITransform,h=e.v3,p=e.Component}],execute:function(){var S,f,d,g,_,y,v;o._RF.push({},"6c8bb49c7hEU5/Avsjd8scl","UIScale",void 0);var b,m=a.ccclass,z=a.property;!function(e){e[e.SMALL_ONLY=0]="SMALL_ONLY",e[e.BOTH=1]="BOTH"}(b||(b={}));e("UIScale",(S=m("UIScale"),f=z({type:c(b)}),d=z(),S((y=i((_=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"m_scaleMode",y,r(i)),n(i,"scaleChilren",v,r(i)),i._originalSize=new l(0,0),i._originalScale=1,i}return t(i,e),i.prototype.onLoad=function(){var e=s.getDesignResolutionSize(),i=s.getVisibleSize();this._originalScale=this.node.scale.x,this._originalSize=this.node.getComponent(u).contentSize;var t=e.x/e.y,n=i.width/i.height,r=this._originalScale*n/t;r=r>1440/1080?1440/1080:r,(n<t||this.m_scaleMode==b.BOTH)&&(this.node.setScale(h(r,r,r)),this.scaleChilren||this.node.children.forEach((function(e){var i=e.scale;e.setScale(i.x/r,i.y/r)})))},i}(p)).prototype,"m_scaleMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.BOTH}}),v=i(_.prototype,"scaleChilren",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=_))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Umbrella.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./RunningGameManager.ts","./Obstacle.ts","./PlayerManager.ts"],(function(t){"use strict";var e,i,n,s,a,o,c,r,l,h,u,p,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.SWIPEType,a=t.PLAYER_CHARACTER,o=t.default,c=t.GameActions,r=t.SKILL},function(t){l=t.RunningGameManager},function(t){h=t.RANGE_NOTIFY_BACKPACK_TUTORIAL,u=t.RANGE_THROW_BACKPACK,p=t.Obstacle},function(t){d=t.PlayerManager}],execute:function(){var _;i._RF.push({},"a4c5cJm2WpObJGWLP5ihtzB","Umbrella",void 0);var f=n.ccclass;n.property,t("Umbrella",f("Umbrella")(_=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).jumped=!1,e.jumped2=!1,e}e(i,t);var n=i.prototype;return n.reset=function(){this._notifyType=s.NONE,this._aiProcessing=!1,t.prototype.reset.call(this)},n.checkWillNotify=function(){this.node.parent.getPosition().x<0?this._notifyType=s.RIGHT:this.node.parent.getPosition().x>0&&(this._notifyType=s.LEFT)},n.checkWillActivateAI=function(){this._willActivateAI=!1,this._aiProcessing=!1,this.jumped=!1,this.jumped2=!1;var t=this.getPlayerSide();(t==a.MILKY&&this.node.parent.getPosition().x>0||t==a.SCHOKI&&this.node.parent.getPosition().x<0)&&(this._willActivateAI=!0)},n.updateNotify=function(t){if(this._notifyType!=s.NONE){var e=d.Instance.node.getWorldPosition(),i=this.node.getWorldPosition();e.z<i.z+h&&(0==this._notified?this._notified=!0:(this._notifyType==s.RIGHT&&this._AIJustHasBackpack,this._notifyType==s.LEFT&&this._playerJustHasBackpack))}},n.updateAI=function(t){var e=this;if(this._willActivateAI){var i=d.Instance.node.getWorldPosition(),n=this.node.getWorldPosition(),s=l.Instance.speed/o.DEFAULT_RUNNING_SPEED,a=15*s,h=7*s;i.z<n.z+a&&0==this.jumped&&this._willPassObject&&(this.jumped=!0,l.Instance.sendAction({action:c.AIControl,skill:r.JUMP})),i.z<n.z+h&&0==this.jumped2&&this._willPassObject&&(this.jumped2=!0,l.Instance.sendAction({action:c.AIControl,skill:r.DOUBLE_JUMP})),i.z<n.z+u*s&&d.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){e._anticipatingSuccess&&(l.Instance.sendAction({action:c.SetBackpackSide,dest:d.Instance.thisPlayer.character,force:!1}),e._aiProcessing=!1)}),1)):l.Instance.sendAction({action:c.SetBackpackSide,dest:d.Instance.thisPlayer.character,force:!1}))}},i}(p))||_);i._RF.pop()}}}));

System.register("chunks:///_virtual/UserDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameHelper.ts","./Crypto.ts","./OnlineMgr.ts","./LevelManager.ts","./TrackingEvents.ts","./ErrorPopup.ts","./Loading.ts","./EventManager.ts","./MainMenuManager.ts"],(function(t){"use strict";var a,e,n,i,s,r,o,c,u,l,h,D,d,v,y,f,p,m,_,g,A,S,b,L,E,O,w,I,C,N,k;return{setters:[function(t){a=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,o=t.game,c=t.log,u=t.sys,l=t.Component,h=t.director},function(t){D=t.SaveDataNames,d=t.SLUSTER_DIFFICULTY,v=t.EnvironmentType,y=t.BoosterId,f=t.ACCESSORY_ITEMS,p=t.PowerupType,m=t.AchievementDefine,_=t.PopupUnlockState,g=t.PLAYER_CHARACTER,A=t.default},function(t){S=t.GameHelper},function(t){b=t.onlineDec,L=t.onlineEnc},function(t){E=t.default},function(t){O=t.LevelManager},function(t){w=t.default},function(t){I=t.ErrorPopup},function(t){C=t.Loading},function(t){N=t.default},function(t){k=t.MainMenuEvent}],execute:function(){var T,R;s._RF.push({},"dd669KZNMVKAJHrRQrGVQiN","UserDataManager",void 0);var U=r.ccclass;t("UserDataManager",U("UserDataManager")(((R=function(t){function s(){for(var a,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(a=t.call.apply(t,[this].concat(n))||this)._version=0,a._userData=null,a._boosterData=null,a._powerupData=null,a._achievementData=null,a._missionData=null,a._dlRewardData=null,a._accessoryData=null,a._qrScanData=null,a._thisBoosterId=-1,a._otherBoosterId=-1,a._coinWallet=0,a._lobbyData=null,a._tutorialData=null,a._progressionData=null,a._a2hData=null,a}a(s,t);var r=s.prototype;return r.onLoad=function(){o.isPersistRootNode(this.node)||o.addPersistRootNode(this.node),s.Instance=this,this.loadUserData(null)},r.loadUserData=function(t){var a=!1;try{null!=t&&null!=t.version&&t.version>=2&&(this._userData=t,a=!0),c("loadUserData",this._userData)}catch(t){c("loadUserData",t)}a||(this.createUserData(),this.saveUserData())},r.loadInventory=function(t){this.loadVersion(t?t[D.VERSION]:null);var a=this._version<2;a&&(t=null,this._version=2,c("DATA VERSION",2)),this.loadAchievementData(t?t[D.AchievementData]:null),this.loadBoosterData(t?t[D.BoosterData]:null),this.loadCoinAmount(t?t[D.CoinData]:null),this.loadMissionData(t?t[D.MissionData]:null),this.loadPowerupData(t?t[D.PowerupData]:null),this.loadAchievementData(t?t[D.AchievementData]:null),this.loadDailyRewardData(t?t[D.DailyRewardData]:null),this.loadAccessoryData(t?t[D.AccessoryData]:null),this.loadQRScanData(t?t[D.QRScanData]:null),this.loadLobbyData(t?t[D.LobbyData]:null),this.loadTutorialData(t?t[D.TutorialData]:null),this.loadProgressionData(t?t[D.ProgressionData]:null),this.loadA2HData(t?t[D.AddToHomeScreen]:null),a&&this.saveAllInventory()},r.loadLocalInventories=function(){var t=n(i().mark((function t(){var a,e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(a=s.getLocalDataKey(D.LOCAL_DATA_SAVE))&&""!=a){t.next=3;break}return t.abrupt("return",null);case 3:return t.prev=3,t.next=6,b(a);case 6:return e=t.sent,n=JSON.parse(e),console.log("data",n),t.abrupt("return",n);case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}(),s.getCloudConflictData=function(){var t=n(i().mark((function t(a,e){var n,s,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={highscore:0,coin:0,accessoriesUnlocked:0,environmentUnlocked:0};try{s=JSON.parse(e[D.CoinData]),r=JSON.parse(e[D.AccessoryData]),o=Object.entries(r.accessoryList).filter((function(t){t[0];return t[1].isOwned})).length,Object.assign(n,{highscore:a.highscore,coin:s,accessoriesUnlocked:o,environmentUnlocked:a.unlockedEnvironment})}catch(t){console.error(t)}return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(a,e){return t.apply(this,arguments)}}(),s.getLocalConflictData=function(){var t=n(i().mark((function t(a){var e,n,s,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={highscore:0,coin:0,accessoriesUnlocked:0,environmentUnlocked:1};try{n=JSON.parse(a[D.UserData]),s=JSON.parse(a[D.CoinData]),r=JSON.parse(a[D.AccessoryData]),Object.assign(e,{highscore:n.highscore,coin:s,accessoriesUnlocked:Object.entries(r.accessoryList).filter((function(t){t[0];return t[1].isOwned})).length,environmentUnlocked:n.unlockedEnvironment}),console.log(e)}catch(t){console.error(t)}return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}(),r.saveLocalInventories=function(){var t=n(i().mark((function t(){var a,e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=this.getInventoryData())[D.UserData]=JSON.stringify(this.userData),t.next=5,L(JSON.stringify(a));case 5:return e=t.sent,console.log(e),s.setUserDataKey(D.LOCAL_DATA_SAVE,e),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),r.getInventoryData=function(){var t={};return t[D.VERSION]=JSON.stringify(this.version),t[D.AchievementData]=JSON.stringify(this.achievementData),t[D.BoosterData]=JSON.stringify(this.boosterData),t[D.CoinData]=JSON.stringify(this.coinWallet),t[D.MissionData]=JSON.stringify(this.missionData),t[D.PowerupData]=JSON.stringify(this.powerupData),t[D.DailyRewardData]=JSON.stringify(this.dailyRewardData),t[D.AccessoryData]=JSON.stringify(this.accessoryData),t[D.QRScanData]=JSON.stringify(this.qrScanData),t[D.LobbyData]=JSON.stringify(this.lobbyData),t[D.TutorialData]=JSON.stringify(this.tutorialData),t[D.ProgressionData]=JSON.stringify(this.progressionData),t[D.AddToHomeScreen]=JSON.stringify(this.a2hData),t},r.saveAllInventory=function(){var t=n(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.isLogin()){t.next=2;break}return t.abrupt("return");case 2:return a=this.getInventoryData(),t.next=5,E.UpdateMultipleInventories(a);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.saveMultipleInventories=function(){var t=n(i().mark((function t(a){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.isLogin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,E.UpdateMultipleInventories(a);case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}(),r.createUserData=function(){this._userData={version:2,difficultyCluster:d.BEGINNER,badPerformanceCount:0,exceedDifficultyCount:0,unlockedEnvironment:v.TROPICAL,highscore:0,lastLevelDesign:-1}},r.saveUserData=function(){var t=n(i().mark((function t(a){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a&&(a=!1),E.isLogin()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,E.UpdateGameSave(this.userData);case 5:if(!(e=t.sent)){t.next=13;break}return t.next=9,I.Instance.processError(e);case 9:t.sent&&a&&(E.logout(),C.Instance.show(),h.loadScene(A.SCENE_SPLASH,(function(){C.Instance.hide()}))),t.next=14;break;case 13:c("UserDataManager","update game save");case 14:case"end":return t.stop()}}),t,this)})));return function(a){return t.apply(this,arguments)}}(),s.getLocalDataKey=function(t){var a=!1;try{var e=JSON.parse(u.localStorage.getItem(t));null!=e&&(a=e)}catch(t){return null}return a},s.setUserDataKey=function(t,a){u.localStorage.setItem(t,JSON.stringify(a))},r.loadBoosterData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._boosterData=e,a=!0)}catch(t){}if(0==a){this._boosterData={boosterList:[{id:y.HEADSTART_01,quantity:1},{id:y.HEADSTART_02,quantity:1},{id:y.HEADSTART_03,quantity:1},{id:y.COIN_BOOST_01,quantity:1},{id:y.COIN_BOOST_02,quantity:1},{id:y.COIN_BOOST_03,quantity:1},{id:y.QTE_HEADSTART_01,quantity:1},{id:y.QTE_HEADSTART_02,quantity:0},{id:y.REVIVAL,quantity:1}]}}},r.ownAccessory=function(t,a){void 0===a&&(a=!0),c("ownAccessory",t),this.accessoryData.accessoryList[t]||(this.accessoryData.accessoryList[t]={isOwned:!1,isNew:!1}),this.accessoryData.accessoryList[t].isOwned=a,this.accessoryData.accessoryList[t].isNew=a},r.isOwnedAccessory=function(t){var a=this.getAccessoryData(t);return!!a&&a.isOwned},r.isNewAccessory=function(t){var a=this.getAccessoryData(t);return!!a&&a.isNew},r.updateNewAccessory=function(t){c("setNewAccessory",t),this.accessoryData.accessoryList[t]&&(this.accessoryData.accessoryList[t].isNew=!1)},r.isAnyNewAccessory=function(){var t=this.getAvailableAccessories();if(t.length>0)for(var a=0;a<t.length;a++){if(this.getAccessoryData(t[a]).isNew)return!0}return!1},r.getAccessoryData=function(t){return this.accessoryData.accessoryList[t]},r.getAvailableAccessories=function(){var t=[];s.Instance.accessoryData.accessoryList;return Object.entries(f).forEach((function(a){var e=a[0];a[1];s.Instance.isOwnedAccessory(e)&&t.push(e)})),t},r.saveAccessoryData=function(){this.updateInventory(D.AccessoryData,this.accessoryData)},r.updateInventory=function(){var t=n(i().mark((function t(a,e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.UpdateInventory(a,JSON.stringify(e));case 2:if(!(n=t.sent)){t.next=10;break}return t.next=6,I.Instance.processError(n);case 6:t.sent&&(E.logout(),C.Instance.show(),h.loadScene(A.SCENE_SPLASH,(function(){C.Instance.hide()}))),t.next=11;break;case 10:c("UserDataManager","update inventory",a,"completed");case 11:case"end":return t.stop()}}),t)})));return function(a,e){return t.apply(this,arguments)}}(),r.updateShopInventory=function(){var t=n(i().mark((function t(a,e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.UpdateInventory(a,JSON.stringify(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(a,e){return t.apply(this,arguments)}}(),r.unlockBoosters=function(){this._boosterData={boosterList:[{id:y.HEADSTART_01,quantity:20},{id:y.HEADSTART_02,quantity:20},{id:y.HEADSTART_03,quantity:10},{id:y.COIN_BOOST_01,quantity:99},{id:y.COIN_BOOST_02,quantity:100},{id:y.COIN_BOOST_03,quantity:5},{id:y.QTE_HEADSTART_01,quantity:6},{id:y.QTE_HEADSTART_02,quantity:20},{id:y.REVIVAL,quantity:20}]}},r.saveBoosterSelection=function(t,a){this._thisBoosterId=t,this._otherBoosterId=a,-1!=t&&(this._boosterData.boosterList[t].quantity-=1,this._boosterData.boosterList[t].quantity<0&&(this._boosterData.boosterList[t].quantity=0),this.saveBoosterData())},r.loadPowerupData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._powerupData=e,a=!0)}catch(t){}0==a&&(this._powerupData={powerupList:[{type:p.SHIELD,upgrade:0},{type:p.MAGNET,upgrade:0},{type:p.STAMPER,upgrade:0},{type:p.COIN_DUPER,upgrade:0},{type:p.MEGA_HOP,upgrade:0}]})},r.updatePowerupData=function(t,a){for(var e=0;e<this._powerupData.powerupList.length;e++)if(t==this._powerupData.powerupList[e].type){this._powerupData.powerupList[e].upgrade=a;break}},r.savePowerupData=function(){return this.updateInventory(D.PowerupData,this.powerupData)},r.loadVersion=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._version=e,a=!0)}catch(t){c("can't load version")}0==a&&(this._version=0)},r.loadCoinAmount=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._coinWallet=e,a=!0)}catch(t){c("can't load coin amount")}0==a&&(this._coinWallet=0)},r.updateCoinAmount=function(t,a){void 0===a&&(a=!0),this._coinWallet=t,N.GetInstance().dispatchEvent(new Event(k.UPDATE_COIN)),a&&this.saveCoinAmount()},r.saveCoinAmount=function(){this.updateInventory(D.CoinData,this.coinWallet)},r.loadAchievementData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._achievementData=e,a=!0)}catch(t){c("can't load achievement data")}if(0==a){for(var n=[],i=Object.keys(m).length,s=0;s<i;s++){var r={id:Number(Object.keys(m)[s]),counter:0,isClaimed:!1,isCompleted:!1};n.push(r)}this._achievementData={achievementList:n,isEnv1_Area1_Snapped:!1,isEnv1_Area2_Snapped:!1,isEnv1_Area3_Snapped:!1,isEnv2_Area1_Snapped:!1,isEnv2_Area2_Snapped:!1,isEnv2_Area3_Snapped:!1,isEnv3_Area1_Snapped:!1,isEnv3_Area2_Snapped:!1,isEnv3_Area3_Snapped:!1}}},r.getAchievement=function(t){for(var a=0;a<this.achievementData.achievementList.length;a++){var e=this.achievementData.achievementList[a];if(e.id==t)return e}return null},r.updateAchievementProgress=function(t,a){void 0===a&&(a=!0);for(var e=0;e<this.achievementData.achievementList.length;e++)if(t.id==this.achievementData.achievementList[e].id){var n=m[t.id];t.counter>n.value&&(t.counter=n.value,t.isCompleted||(t.isCompleted=!0,a&&(this.sendTrackingAchievementFinished(n.trackingName),this.saveAchievementData()))),this.achievementData.achievementList[e]=t}return t},r.sendTrackingAchievementFinished=function(t){w.Send_ACHIEVEMENT_FINISHED(t)},r.isAchievementCompleted=function(t){for(var a=0;a<this.achievementData.achievementList.length;a++){var e=this.achievementData.achievementList[a];if(e.id==t)return e.isCompleted}return!1},r.setAchievementClaimed=function(t,a){void 0===a&&(a=!0);for(var e=0;e<this.achievementData.achievementList.length;e++){var n=this.achievementData.achievementList[e];n.id==t&&(n.isClaimed=a,this.achievementData.achievementList[e]=n)}},r.isAnyAchievementUnclaimed=function(){for(var t=0;t<this.achievementData.achievementList.length;t++){var a=this.achievementData.achievementList[t];if(a.isCompleted&&!a.isClaimed)return!0}return!1},r.isAnyAchievementCompleted=function(){for(var t=[].concat(this.achievementData.achievementList),a=Object.keys(m).length,e=0;e<t.length;e++)for(var n=t[e],i=0;i<a;i++){var s=m[n.id];if(n.id==Number(Object.keys(m)[i])){n.counter>=s.value&&!n.isCompleted&&(n.isCompleted=!0,w.Send_ACHIEVEMENT_FINISHED(s.trackingName),this.achievementData.achievementList[e]=n,this.saveAchievementData());break}}for(var r=0;r<t.length;r++){var o=t[r];if(o.isCompleted&&!o.isClaimed)return!0}return!1},r.saveAchievementData=function(){this.updateInventory(D.AchievementData,this.achievementData)},r.loadMissionData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._missionData=e,a=!0)}catch(t){c("can't load mission data")}0==a&&(this._missionData={loginDay:0,resetDailyTime:0,missionList:[],availMissionList:[]})},r.resetMissionData=function(){this._missionData={loginDay:0,resetDailyTime:0,missionList:[],availMissionList:[]},this.saveMissionData()},r.saveMissionData=function(){this.updateInventory(D.MissionData,this.missionData)},r.loadDailyRewardData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._dlRewardData=e,a=!0)}catch(t){c("can't load daily reward data")}0==a&&(this._dlRewardData={loginDay:0,isFirstWeek:!0,isClaimed:!1,resetDailyTime:0})},r.saveDailyRewardData=function(){this.updateInventory(D.DailyRewardData,this.dailyRewardData)},r.loadTutorialData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._tutorialData=e,a=!0)}catch(t){c("cant load tutorial data")}0==a&&(this._tutorialData={welcomeTutorial:!1,actionPhaseTutorial:!1,dailyMission:!1,qteTutorials:[!1,!1,!1,!1],dailyReward:!1,achievement:!1,buyBooster:!1,buyAccessories:!1,equipBooster:!1,newMap:!1,playWithFriend:!1,completeGameCount:0,unlockEnv2:_.LOCKED,unlockEnv3:_.LOCKED})},r.unlockAllTutorial=function(){this._tutorialData={welcomeTutorial:!0,actionPhaseTutorial:!0,dailyMission:!0,qteTutorials:[!0,!0,!0,!0],dailyReward:!0,achievement:!0,buyBooster:!0,buyAccessories:!0,equipBooster:!0,newMap:!0,playWithFriend:!0,completeGameCount:2,unlockEnv2:_.UNLOCKED,unlockEnv3:_.UNLOCKED}},r.saveTutorialData=function(){this.updateInventory(D.TutorialData,this.tutorialData)},r.loadA2HData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._a2hData=e,a=!0)}catch(t){c("can't load a2h data")}0==a&&(this._a2hData={showCount:0,run2000:!1,claimDailyMissionCount:0,claimAchievementCount:0,shopBuyCount:0,lastTimeShow:0})},r.loadProgressionData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._progressionData=e,a=!0)}catch(t){c("cant load progression data")}0==a&&(this._progressionData={isQte2Unlocked:!1,isQte3Unlocked:!1,isCoinDuperUnlocked:!1,isStamperUnlocked:!1,isMegaHopUnlocked:!1,totalRunMeters:0})},r.unlockAllProgressionData=function(){this._progressionData={isQte2Unlocked:!0,isQte3Unlocked:!0,isCoinDuperUnlocked:!0,isStamperUnlocked:!0,isMegaHopUnlocked:!0,totalRunMeters:0}},r.saveProgressionData=function(){this.updateInventory(D.ProgressionData,this.progressionData)},r.saveA2HData=function(){this.updateInventory(D.AddToHomeScreen,this.a2hData)},r.loadLobbyData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._lobbyData=e,a=!0)}catch(t){c("can't load lobby data")}0==a&&(this._lobbyData={environment:v.TROPICAL,character:g.MILKY,booster:-1,selectedLevel:0,maxEnvironment:v.TROPICAL})},r.loadQRScanData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._qrScanData=e,a=!0)}catch(t){c("can't load qr scan data")}0==a&&(this._qrScanData={days:{},resetDailyTime:0})},r.saveQRScanData=function(){this.updateInventory(D.QRScanData,this.qrScanData)},r.saveLobbyData=function(){this.updateInventory(D.LobbyData,this.lobbyData)},r.setEnvironment=function(t){this.lobbyData.environment=t,this.saveLobbyData()},r.hasNewEnvironment=function(){return this.lobbyData.maxEnvironment<this.userData.unlockedEnvironment},r.loadAccessoryData=function(t){var a=!1;try{var e=JSON.parse(t);null!=e&&(this._accessoryData=e,a=!0)}catch(t){c("can't load accessory data")}if(0==a){var n={};for(var i in f){f[i];n[i]={isOwned:!1,isNew:!1}}this._accessoryData={wornAccessory:{milky:{head:"",body:"",leg:""},schoki:{head:"",body:"",leg:""}},accessoryList:n}}},r.consumeBooster=function(t){t>=0&&this.boosterData.boosterList&&this.boosterData.boosterList[t].quantity>0&&(this.boosterData.boosterList[t].quantity-=1)},r.getBoosterQuantity=function(t){return t>=0&&this.boosterData.boosterList&&this.boosterData.boosterList[t]?this.boosterData.boosterList[t].quantity:0},r.updateBoosterQuantity=function(t,a){-1!=t&&null!=t&&this.boosterData.boosterList&&this.boosterData.boosterList[t]&&(this.boosterData.boosterList[t].quantity=a)},r.saveBoosterData=function(){this.updateInventory(D.BoosterData,this.boosterData)},r.increaseBoosterQuantity=function(t){-1!=t&&null!=t&&this.boosterData.boosterList&&this.boosterData.boosterList[t]&&(this.boosterData.boosterList[t].quantity+=1)},r.getCurrentDifficulty=function(){return this._userData.difficultyCluster},r.setScore=function(t){var a=!1;this._userData.difficultyCluster==d.BEGINNER?t>=O.Instance.BeginnerScoreLimit&&(a=!0):this._userData.difficultyCluster==d.SEMI_PRO?t>=O.Instance.SemiProScoreLimit&&(a=!0):this._userData.difficultyCluster==d.PROFESSIONAL&&t>=O.Instance.ProScoreLimit&&(a=!0),a?(this._userData.badPerformanceCount=0,this._userData.exceedDifficultyCount++,this._userData.exceedDifficultyCount>=3&&(this._userData.difficultyCluster=this._userData.difficultyCluster>=d.PROFESSIONAL?d.PROFESSIONAL:this._userData.difficultyCluster+1,this._userData.exceedDifficultyCount=0)):(this._userData.exceedDifficultyCount=0,this._userData.badPerformanceCount++,this._userData.badPerformanceCount>=3&&(this._userData.difficultyCluster=this._userData.difficultyCluster<=d.BEGINNER?d.BEGINNER:this._userData.difficultyCluster-1,this._userData.badPerformanceCount=0)),c("UserDataManager","data",this._userData)},r.checkEnvironmentUnlocked=function(t){return t<=this._userData.unlockedEnvironment&&t>=0},r.unlockNextEnvironment=function(){var t=s.Instance.userData.unlockedEnvironment+1;return t=S.ClampInRange(t,0,2),s.Instance.userData.unlockedEnvironment=t,s.Instance.saveUserData(!1),t},e(s,[{key:"version",get:function(){return this._version}},{key:"userData",get:function(){return this._userData||this.createUserData(),this._userData}},{key:"boosterData",get:function(){return this._boosterData||this.loadBoosterData(null),this._boosterData}},{key:"powerupData",get:function(){return this._powerupData||this.loadPowerupData(null),this._powerupData}},{key:"achievementData",get:function(){return this._achievementData||this.loadAchievementData(null),this._achievementData}},{key:"missionData",get:function(){return this._missionData||this.loadMissionData(null),this._missionData}},{key:"dailyRewardData",get:function(){return this._dlRewardData||this.loadDailyRewardData(null),this._dlRewardData}},{key:"accessoryData",get:function(){return this._accessoryData||this.loadAccessoryData(null),this._accessoryData}},{key:"qrScanData",get:function(){return this._qrScanData||this.loadQRScanData(null),this._qrScanData}},{key:"thisBoosterId",get:function(){return this._thisBoosterId}},{key:"otherBoosterId",get:function(){return this._otherBoosterId}},{key:"coinWallet",get:function(){return this._coinWallet}},{key:"lobbyData",get:function(){return this._lobbyData||this.loadLobbyData(null),this._lobbyData}},{key:"tutorialData",get:function(){return this._tutorialData||this.loadTutorialData(null),this._tutorialData}},{key:"progressionData",get:function(){return this._progressionData||this.loadProgressionData(null),this._progressionData}},{key:"a2hData",get:function(){return this._a2hData||this.loadA2HData(null),this._a2hData}}]),s}(l)).Instance=null,T=R))||T);s._RF.pop()}}}));

System.register("chunks:///_virtual/VFXCharacterText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,r,o,a,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.tween,l=t.v3,u=t.Component}],execute:function(){var p,h,T,x,_;o._RF.push({},"f5da3CoplNHYr+4uETA6+Xo","VFXCharacterText",void 0);var b=a.ccclass,f=a.property;t("VFXText",(p=b("VFXText"),h=f(s),p((_=e((x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"m_lbText",_,r(e)),e._tweenText=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.m_lbText.node.active=!1},o.show=function(t){var e=this;this.m_lbText.string=t,this.m_lbText.fontSize=60,this._tweenText&&this._tweenText.stop(),this.m_lbText.node.active=!0,this._tweenText=c(this.m_lbText.node).set({scale:l(.1,.1)}).to(.5,{scale:l(1,1)},{easing:"backOut"}).delay(2).to(.5,{scale:l(.1,.1)},{easing:"backIn"}).call((function(){e.m_lbText.node.active=!1})).start()},e}(u)).prototype,"m_lbText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/VFXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameHelper.ts","./Coin.ts"],(function(e){"use strict";var t,n,o,r,i,a,l,c,s,u,f,p,v,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.Node,s=e.NodePool,u=e.instantiate,f=e.Sprite,p=e.Component,v=e.v3},function(e){g=e.GameHelper},function(e){d=e.Coin}],execute:function(){var h,m,b,x,C,F,P,y,X,z;e("VFX_TYPE",void 0),i._RF.push({},"718b0QVM4RLjpRUrKc91BGK","VFXManager",void 0);var V,I=a.ccclass,M=a.property;!function(e){e[e.COIN=0]="COIN"}(V||(V=e("VFX_TYPE",{})));e("VFXManager",(h=I("VFXManager"),m=M(l),b=M(c),x=M(c),h(((z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"frames",P,r(t)),o(t,"vfxTemplate",y,r(t)),o(t,"vfxContainer",X,r(t)),t.vfxPool=null,t.bezierControlX=200,t.bezierControlY=200,t}n(t,e);var i=t.prototype;return i.onLoad=function(){t.Instance=this,this.vfxPool=new s;for(var e=0;e<5;e++){var n=u(this.vfxTemplate);this.vfxPool.put(n)}},i.onDestroy=function(){this.vfxPool.clear(),this.vfxPool=null},i.getVFX=function(e){var t=null;return(t=this.vfxPool.size()>0?this.vfxPool.get():u(this.vfxTemplate)).active=!0,t.getComponent(f).spriteFrame=this.frames[e],this.vfxContainer.addChild(t),t},i.putVFX=function(e){this.vfxPool.put(e)},i.playVFX=function(e,n,o,r){var i=this;t.Instance.node.active||(t.Instance.node.active=!0);for(var a=n.getWorldPosition(),l=o.getWorldPosition(),c=function(t){var r=g.getRndIntegerInclusive(0,50),c=g.getRndIntegerInclusive(0,50),s=Math.random()<.5?-1:1,u=Math.random()<.5?-1:1,f=i.getVFX(e).getComponent(d),p=v(a.x+r*s,a.y+c*u,0);f.bezierControlX=i.bezierControlX,f.bezierControlY=i.bezierControlY;var h=!1;0==t&&(h=!0),f.moveTo(0+.02*t,p,a,l,n.getWorldScale(),o.getWorldScale(),!1,h,(function(){i.putVFX(f.node)}))},s=0;s<r;s++)c(s)},t}(p)).Instance=null,P=t((F=z).prototype,"frames",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(F.prototype,"vfxTemplate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"vfxContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=F))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/VFXPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(o){"use strict";var t,n,e,i,C,c,r,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.NodePool,C=o.instantiate,c=o.ParticleSystem,r=o.Component},function(o){s=o.default}],execute:function(){var E,L;o("VFX_PLAYER",void 0),n._RF.push({},"c6f1e+WZCxHtrRGWOvhdudi","VFXPool",void 0);var a,u=e.ccclass;e.property;!function(o){o[o.NONE=-1]="NONE",o[o.COIN_COLLECT=0]="COIN_COLLECT",o[o.COIN_DUPER_COLLECT=1]="COIN_DUPER_COLLECT",o[o.INVISIBLE_COLLECT=2]="INVISIBLE_COLLECT",o[o.MAGNET_COLLECT=3]="MAGNET_COLLECT",o[o.MEGA_HOP_COLLECT=4]="MEGA_HOP_COLLECT",o[o.QTE_1_COLLECT=5]="QTE_1_COLLECT",o[o.QTE_2_COLLECT=6]="QTE_2_COLLECT",o[o.QTE_3_COLLECT=7]="QTE_3_COLLECT",o[o.STAMPER_COLLECT=8]="STAMPER_COLLECT",o[o.COUNT=9]="COUNT"}(a||(a=o("VFX_PLAYER",{})));o("VFXPool",u("VFXPool")(((L=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._pools=[],t}t(n,o);var e=n.prototype;return e.onLoad=function(){n.Instance=this;for(var o=0;o<a.COUNT;o++)this._pools.push(new i)},e.onDestroy=function(){this._pools.forEach((function(o){return o.clear()}))},e.get=function(o,t){var n=null;if(o>=0&&o<a.COUNT){var e=this._pools[o];e&&e.size()>0?n=e.get():t&&(n=C(t)),n&&(this.node.addChild(n),n.active=!0)}return n},e.playVFX=function(o,t,n,e){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===e&&(e=0),s.CHEAT_ENABLE_VFX_POOL){var C=this.get(o,t);C&&(C.setWorldPosition(n),C.getComponents(c).forEach((function(o){o.node.active&&o.play()})),C.getComponentsInChildren(c).forEach((function(o){o.node.active&&o.play()})),e>0&&this.scheduleOnce((function(){C.getComponents(c).forEach((function(o){o.node.active&&o.stop()})),C.getComponentsInChildren(c).forEach((function(o){o.node.active&&o.stop()})),i.put(o,C)}),e))}},e.put=function(o,t){var n=this._pools[o];n&&n.put(t)},n}(r)).Instance=null,E=L))||E);n._RF.pop()}}}));

System.register("chunks:///_virtual/VideoCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupGameOver.ts"],(function(e){"use strict";var t,i,n,a,s;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.view},function(e){s=e.PopupGameOver}],execute:function(){n._RF.push({},"167a24E0jFA/IvKk2klGCON","VideoCamera",void 0);e("default",function(){function e(){this.video=void 0,this.stream=void 0,this.faceMode=void 0}var n=e.prototype;return n.Setup=function(){var e=t(i().mark((function e(t,n){var a,o,r,d,c,l,u,h,m=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t="user"),this.faceMode=t,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=4;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 4:return(a=document.getElementById("video"))||((a=document.createElement("video")).setAttribute("id","video"),document.body.appendChild(a),a.style.objectFit="cover",a.style.position="absolute",a.style.left="0"),a.style.display="",n&&((c=document.getElementById("GameCanvas")).width,l=c.height,u=l/1920,o=document.getElementById("btnSelfie"),r=document.getElementById("btnClose"),d=document.getElementById("circleFrame"),o||(o=document.createElement("img"),r=document.createElement("img"),d=document.createElement("img"),o.setAttribute("id","btnSelfie"),r.setAttribute("id","btnClose"),d.setAttribute("id","circleFrame"),document.body.appendChild(o),document.body.appendChild(r),document.body.appendChild(d)),o.src="./img/camera_btn_selfie.png",o.style.width=178*u+"px",o.style.height=178*u+"px",r.src="./img/camera_btn_close.png",r.style.width=50*u+"px",r.style.height=50*u+"px",d.src="./img/dotted_circle.png",d.style.height="50%",d.style.aspectRatio="5/7",s.Instance&&!s.Instance.btnSelfie&&(s.Instance.btnSelfie=o,s.Instance.btnClose=r,s.Instance.circleFrameHTML=d)),h={audio:!1,video:{facingMode:t,width:{ideal:640},height:{ideal:480}}},this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()})),e.next=12,navigator.mediaDevices.getUserMedia(h);case 12:return this.stream=e.sent,a.srcObject=null,a.srcObject=this.stream,a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline","playsinline"),a.setAttribute("muted",""),a.style.width="640px",a.style.height="480px",a.style.display="none",a.style.transform="user"==t?"scale(-1, 1)":"scale(1, 1)",e.abrupt("return",new Promise((function(e,t){m.video=a,m.Play(!1),a.onloadedmetadata=function(){console.log("onloadedmetadata"),m.Resize(a),e(a)},a.onloadeddata=function(e){console.log("onloadeddata")}})));case 23:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),n.Play=function(e){void 0===e&&(e=!1),null!=this.video&&(this.video.srcObject=this.stream,this.video.play(),this.video.style.display=e?"none":"block")},n.Stop=function(e){(null!=this.video&&(this.video.pause(),this.video.style.display="none"),e)&&(this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()})))},n.Resize=function(e){var t=window.innerWidth,i=window.innerHeight,n=!1,s=!1;if("Samsung"!==window.UAdevicevendor&&"Samsung"!==window.manufacturer||(n=!0),"Opera"!==window.UAbrowsername&&"Opera"!==window.browserName||(s=!0),n&&s){var o=document.getElementById("GameCanvas");t=o.width/2,i=o.height/2}var r=e.videoWidth/e.videoHeight,d=t/i;a.getVisibleSize();if(d<r){var c=0,l=0;c=(l=-1!=navigator.userAgent.search(/(iPad|iPhone|iphone|iPod)/)?screen.height:window.innerHeight)*r,e.style.height=l+"px",e.style.marginTop="0px",e.style.width=c+"px",e.style.marginLeft=-(c-t)/2+"px"}else{c=0,l=0;l=(c=-1!=navigator.userAgent.search(/(iPad|iPhone|iphone|iPod)/)?screen.width:window.innerWidth)/r,e.style.height=l+"px",e.style.marginLeft="0px",e.style.width=c+"px",e.style.marginTop=-(l-i)/2+"px"}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/VolleyballNet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./NetworkManager.ts","./RunningGameManager.ts","./SelectMode.ts","./AIManager.ts","./Obstacle.ts","./PlayerManager.ts","./UIManager.ts"],(function(t){"use strict";var e,i,n,a,s,c,o,r,l,h,_,I,d,u,A,p,y,k,f,g,P,T,M,N,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,o=t.Enum,r=t.v3,l=t.randomRange},function(t){h=t.PLAYER_CHARACTER,_=t.SWIPEType,I=t.default,d=t.EnvironmentType,u=t.GAME_MODE,A=t.GameActions,p=t.SKILL},function(t){y=t.NetworkManager},function(t){k=t.RunningGameManager},function(t){f=t.SelectMode},function(t){g=t.AIManager},function(t){P=t.RANGE_DASH,T=t.RANGE_NOTIFY_BACKPACK_TUTORIAL,M=t.Obstacle},function(t){N=t.PlayerManager},function(t){R=t.UIManager}],execute:function(){var v,m,w,E,S;s._RF.push({},"3369aj3M6lPgogV3mCjImHu","VolleyballNet",void 0);var L=c.ccclass,B=c.property;t("VolleyballNet",(v=L("VolleyballNet"),m=B({type:o(h)}),v((S=e((E=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,n(e,"side",S,a(e)),e._activated=!1,e._willThrow=!1,e._willAIRequestBackpack=!1,e._AIBackpackRequested=!1,e}i(e,t);var s=e.prototype;return s.reset=function(){this._notifyType=_.NONE,this._willAIRequestBackpack=!1,this._AIBackpackRequested=!1;var e=this.node.getPosition();this.side==h.MILKY?e.x=-I.MAP_LANE_PADDING*I.MAP_SCALE_X:e.x=I.MAP_LANE_PADDING*I.MAP_SCALE_X,this.node.setPosition(e),y.Instance.lobbyInfo.environment==d.SNOW?(this._idleAnimationRange=128,this.animationContainer&&this.animationContainer.setScale(this.side==h.MILKY?r(-1,1,1):r(1,1,1))):this.animationContainer&&this.animationContainer.setScale(r(1,1,1)),t.prototype.reset.call(this)},s.checkWillNotify=function(){this._notifyType=this.side==h.MILKY?_.LEFT:_.RIGHT;var t=this.getPlayerSide();f.mode==u.PRIVATE&&(t==h.SCHOKI&&this.side==h.SCHOKI||t==h.MILKY&&this.side==h.MILKY)&&Math.random()<.5&&(this._willAIRequestBackpack=!0)},s.checkWillActivateAI=function(){this._willActivateAI=!1,this._activated=!1,this._willThrow=!1,this._aiProcessing=!1;var t=this.getPlayerSide();(t==h.SCHOKI&&this.side==h.MILKY||t==h.MILKY&&this.side==h.SCHOKI)&&(this._willActivateAI=!0,this._rangeToActivate=P),t==this.side&&(this._willThrow=!0)},s.updateAI=function(t){var e=this,i=N.Instance.node.getWorldPosition(),n=this.node.getWorldPosition(),a=k.Instance.speed/I.DEFAULT_RUNNING_SPEED;this._willActivateAI&&0==this._activated&&i.z<n.z+this._rangeToActivate*a&&this._willPassObject&&0==this._aiProcessing&&(this._activated=!0,k.Instance.sendAction({action:A.AIControl,skill:p.DASH})),this._willThrow&&0==this._aiProcessing&&i.z<n.z+30*a&&N.Instance.otherPlayer.canThrow()&&0==this._aiProcessing&&(this._AIJustHasBackpack?(this._aiProcessing=!0,this.scheduleOnce((function(){k.Instance.sendAction({action:A.SetBackpackSide,dest:N.Instance.thisPlayer.character,force:!1}),e._aiProcessing=!1}),l(g.Instance.m_minThinkingTime,g.Instance.m_maxThinkingTime))):k.Instance.sendAction({action:A.SetBackpackSide,dest:N.Instance.thisPlayer.character,force:!1}))},s.updateNotify=function(t){var e=N.Instance.node.getWorldPosition(),i=this.node.getWorldPosition(),n=k.Instance.speed/I.DEFAULT_RUNNING_SPEED;this._willAIRequestBackpack&&!this._AIBackpackRequested&&e.z<i.z+T*n&&N.Instance.otherPlayer.canRequestBackpack()&&k.Instance.sendAction({action:A.RequestBackpack,character:N.Instance.otherPlayer.character}),this._notifyType!=_.NONE&&e.z<i.z+T*n&&(0==this._notified?(this._notified=!0,R.Instance.showBackpackHint(!0,this._notifyType)):(this._notifyType==_.RIGHT&&this._AIJustHasBackpack&&R.Instance.showBackpackHint(!1,this._notifyType),this._notifyType==_.LEFT&&this._playerJustHasBackpack&&R.Instance.showBackpackHint(!1,this._notifyType)))},e}(M)).prototype,"side",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.MILKY}}),w=E))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/WaitingRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts","./Constants.ts","./MainmenuAccessory.ts","./MainMenuManager.ts","./NetworkManager.ts","./SoundManager.ts","./Splash.ts","./UserDataManager.ts","./OnlineMgr.ts","./TutorialManager.ts","./TrackingEvents.ts","./TrackingMgr.ts","./Loading.ts"],(function(t){"use strict";var e,n,a,i,r,s,o,c,u,l,h,I,b,p,f,g,d,m,y,C,N,v,_,M,O,A,D,R,S,T,k,L,P,B,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,u=t.Label,l=t.Node,h=t.Sprite,I=t.Component},function(t){b=t.language},function(t){p=t.AudioSrc,f=t.PLAYER_CHARACTER,g=t.BoosterDefine,d=t.BoosterType,m=t.RoomMessages,y=t.ROOM_STATE,C=t.default},function(t){N=t.MainmenuAccessory,v=t.CAMERA_STATES},function(t){_=t.MainMenuManager},function(t){M=t.NetworkManager,O=t.LOBBY_INFO_PROPS},function(t){A=t.SoundManager},function(t){D=t.Splash},function(t){R=t.UserDataManager},function(t){S=t.default},function(t){T=t.TutorialManager},function(t){k=t.default},function(t){L=t.MatchType,P=t.PlayMode,B=t.Result},function(t){E=t.Loading}],execute:function(){var w,U,W,H,x,Y,G,z,F,K,Q,V,j,q,J,X,Z,$,tt;t("WaitingRoomState",void 0),o._RF.push({},"75caeghguBCmadSl3AbmIhQ","WaitingRoom",void 0);var et,nt=c.ccclass,at=c.property;!function(t){t[t.NONE=0]="NONE",t[t.HOST=1]="HOST",t[t.MATCHED=2]="MATCHED",t[t.LOADING=3]="LOADING",t[t.LOADED=4]="LOADED"}(et||(et=t("WaitingRoomState",{})));t("WaitingRoom",(w=nt("WaitingRoom"),U=at(u),W=at(u),H=at(l),x=at(l),Y=at(l),G=at(u),z=at(u),F=at(l),w((V=e((Q=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"boosterDescription",V,i(e)),a(e,"status",j,i(e)),a(e,"exitNode",q,i(e)),a(e,"otherWaitingNode",J,i(e)),a(e,"thisWaitingNode",X,i(e)),a(e,"otherPlayerName",Z,i(e)),a(e,"thisPlayerName",$,i(e)),a(e,"closeButton",tt,i(e)),e.state=null,e._setOnboardCallback=null,e._setReadyCallback=null,e}n(e,t);var o=e.prototype;return o.show=function(){},o.onLoad=function(){this.reset()},o.onEnable=function(){var t;_.Instance.matchBG.active=!0;var e=R.Instance.lobbyData.environment;e=Math.abs(e)%3,_.Instance.matchBG.getComponent(h).spriteFrame=_.Instance.matchBGFrames[e],null==(t=E.Instance)||t.hide()},o.onDisable=function(){_.Instance.matchBG.active=!1,this.reset(),this._setReadyCallback&&(this.unschedule(this._setReadyCallback),this._setReadyCallback=null),this._setOnboardCallback&&(this.unschedule(this._setOnboardCallback),this._setOnboardCallback=null)},o.reset=function(){this.otherWaitingNode.active=!0,this.thisWaitingNode.active=!0,this.otherPlayerName.string="",this.thisPlayerName.string="",N.Instance.showCharacter(!0,!1),N.Instance.showCharacter(!1,!1),this.exitNode.active=!1,this.closeButton.active=!0},o.hideHomeButton=function(){this.closeButton.active=!1},o.onPlayerConnect=function(){var t=r(s().mark((function t(e){var n,a,i,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=M.Instance.selectedCharacter==f.MILKY,a=-1,M.Instance.isPublic?(M.Instance.playerCount>0&&N.Instance.changeCameraState(v.ON_BOARD,n),N.Instance.chooseCharacter(n),N.Instance.updateCharacterAccessory(!0),e?(N.Instance.showCharacter(n,!0),this.thisWaitingNode.active=!1,this.thisPlayerName.string=M.Instance.thisPlayerInfo.userName?M.Instance.thisPlayerInfo.userName:"You",a=R.Instance.lobbyData.booster,i=R.Instance.getBoosterQuantity(a),a>=0&&a<g.length&&i>0?(this.boosterDescription.string=""+b.t(g[a].desc),r=g[a].effect_value,g[a].type==d.COIN_BOOST&&(r*=100),this.boosterDescription.string=this.boosterDescription.string.replace("%{number}",""+r),this.boosterDescription.string=this.boosterDescription.string.replace("{number}",""+r)):this.boosterDescription.string=b.t("fact_8")):(N.Instance.showCharacter(!n,!0),this.otherWaitingNode.active=!1,this.otherPlayerName.string=M.Instance.otherPlayerInfo&&M.Instance.otherPlayerInfo.userName?M.Instance.otherPlayerInfo.userName:"Your friend",this.sendMatchmakingTracking(B.SUCCESS))):(N.Instance.chooseCharacter(n),N.Instance.updateCharacterAccessory(!0),e?(N.Instance.showCharacter(n,!0),this.thisWaitingNode.active=!1,this.thisPlayerName.string=M.Instance.thisPlayerInfo.userName?M.Instance.thisPlayerInfo.userName:"You",(a=R.Instance.lobbyData.booster)>=0&&a<g.length?(this.boosterDescription.string=""+b.t(g[a].desc),o=g[a].effect_value,g[a].type==d.COIN_BOOST&&(o*=100),this.boosterDescription.string=this.boosterDescription.string.replace("%{number}",""+o),this.boosterDescription.string=this.boosterDescription.string.replace("{number}",""+o)):this.boosterDescription.string="Choose booster to help you run longer."):(N.Instance.showCharacter(!n,!0),this.otherWaitingNode.active=!1,this.otherPlayerName.string=M.Instance.otherPlayerInfo&&M.Instance.otherPlayerInfo.userName?M.Instance.otherPlayerInfo.userName:"Your friend",this.sendMatchmakingTracking(B.SUCCESS)),M.Instance.playerCount>=2&&(T.Instance.isTutorial&&T.Instance.active(!1),N.Instance.changeCameraState(v.ON_BOARD,n)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.onWaitingTimeOut=function(){},o.setState=function(){var t=r(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=M.Instance.selectedCharacter==f.MILKY,t.t0=e,t.next=t.t0===et.NONE?4:t.t0===et.HOST?5:t.t0===et.MATCHED?7:t.t0===et.LOADING?10:t.t0===et.LOADED?16:18;break;case 4:return t.abrupt("break",18);case 5:return this.status.string=b.t("str_mm_matching"),t.abrupt("break",18);case 7:return _.Instance.preloadEnvironment(M.Instance.lobbyInfo.environment),this.setState(et.LOADING),t.abrupt("break",18);case 10:return this.status.string=b.t("str_mm_matchfound"),N.Instance.changeCameraState(v.ON_BOARD,n),this._setOnboardCallback=function(){M.Instance.sendMessage(m.State,{state:y.ONBOARD})},this.scheduleOnce(this._setOnboardCallback,1),(D.isNewUser||S.isLocalLan()||C.CHEAT_ALWAYS_AI)&&(this._setReadyCallback=function(){M.Instance.sendRoomState({state:y.READY})},this.scheduleOnce(this._setReadyCallback,1)),t.abrupt("break",18);case 16:return this.status.string=b.t("str_private_taking_off"),t.abrupt("break",18);case 18:this.state=e;case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.onRoomMessageReceived=function(t){},o.onRoomLobbyConnected=function(){var t=M.Instance.lobbyInfo;this.onRoomLobbyUpdated({field:O.clientBooster,value:t.clientBooster}),this.onRoomLobbyUpdated({field:O.hostBooster,value:t.hostBooster}),this.onRoomLobbyUpdated({field:O.hostCharacter,value:t.hostCharacter}),this.onRoomLobbyUpdated({field:O.selectedMap,value:t.selectedMap}),this.onRoomLobbyUpdated({field:O.environment,value:t.environment})},o.onRoomLobbyUpdated=function(t){},o.onHomeButtonClicked=function(){A.Instance.playOneShot(p.UI_BACK),this.exitNode.active=!0},o.onExitPopupYes=function(){var t=r(s().mark((function t(){var e,n,a,i,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=M.Instance.getCharacterTrackingId(),"",n=_.Instance.getMapName(),a=M.Instance.isAI?L.BOT:L.PLAYER,i=M.Instance.isPublic?P.MULTI_PUBLIC:P.MULTI_PRIVATE,r=B.CANCEL,o=_.Instance.matchmakingTimeSpent,k.Send_MATCHMAKING_FINISHED(e,n,a,i,r,o,""),_.Instance.matchBG.active=!1,A.Instance.playOneShot(p.UI_CLICK),this.reset(),M.Instance.exitRoom();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onExitPopupNo=function(){A.Instance.playOneShot(p.UI_CLICK),this.exitNode.active=!1},o.sendMatchmakingTracking=function(t){var e=M.Instance.getCharacterTrackingId(),n=_.Instance.getMapName(),a=M.Instance.isAI?L.BOT:L.PLAYER,i=M.Instance.isPublic?P.MULTI_PUBLIC:P.MULTI_PRIVATE,r=t,s=M.Instance.isAI?10:_.Instance.matchmakingTimeSpent;k.Send_MATCHMAKING_FINISHED(e,n,a,i,r,s,"")},e}(I)).prototype,"boosterDescription",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(Q.prototype,"status",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(Q.prototype,"exitNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Q.prototype,"otherWaitingNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(Q.prototype,"thisWaitingNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(Q.prototype,"otherPlayerName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(Q.prototype,"thisPlayerName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(Q.prototype,"closeButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});